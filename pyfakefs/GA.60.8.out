Random testing using config=Config(swarmSwitch=None, verbose=False, reducePool=False, failedLogging=None, exploitBestHint=1, greedyStutter=False, internal=False, exploit=0.8, seed=None, generalize=False, useHints=False, localize=False, total=False, speed='FAST', probs=None, normalize=False, verboseExploit=False, highLowSwarm=None, replayable=False, essentials=False, noCoverageExploit=False, quickTests=False, relax=False, enumerateEnabled=False, uniqueValuesAnalysis=False, swarm=False, noReassign=False, html=None, fastQuickAnalysis=False, progress=False, swarmLength=None, noSwarmDependencies=False, profile=False, LOCBaseline=0.2, noEnumerateEnabled=False, full=True, multiple=True, timedProgress=30, silentFail=True, stopWhenStatements=None, swarmP=0.5, stopWhenBranches=None, noAlphaConvert=False, coverFile='coverage.out', readQuick=False, verboseActions=False, running=False, computeFeatureStats=False, compareFails=False, swarmProbs=None, output='failure.4103.test', genDepth=None, Pcrossover=0.2, quickAnalysis=False, keepLast=False, exploitCeiling=0.1, logging=None, LOCProbs=False, noCheck=False, maxTests=-1, noExceptionMatch=False, Pmutate=0.8, depth=100, showActions=False, throughput=False, noCover=False, timeout=60, stutter=None, uncaught=False, markov=None, startExploit=0)
UNCAUGHT EXCEPTION
ERROR: (<type 'exceptions.OSError'>, OSError(9, 'File is not open for reading.'), <traceback object at 0x107272320>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 28468, in act566
    result = self.p_file[0].read(self.p_bytes[2])
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4284, in read_error
    self._raise('File is not open for reading.')
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4112, in _raise
    raise OSError(errno.EBADF, message)
Original test has 118 steps

SAVING TEST AS failure.4103.test.0
FINAL VERSION OF TEST, WITH LOGGED REPLAY:
component3 = "b"                                                         # STEP 0
component0 = "epsilon"                                                   # STEP 1
component2 = "phi"                                                       # STEP 2
component4 = "c"                                                         # STEP 3
bytes2 = 0                                                               # STEP 4
os0 = newFakeOS()                                                        # STEP 5
path2 = "/Volumes/ramdisk/test"                                          # STEP 6
str1 = ""                                                                # STEP 7
path3 = "/Volumes/ramdisk/test"                                          # STEP 8
str1 += 'j'                                                              # STEP 9
component1 = "phi"                                                      # STEP 10
bytes0 = 0                                                              # STEP 11
bytes0 += 1                                                             # STEP 12
result = os0.path.isfile(path2)                                         # STEP 13
str1 += 'e'                                                             # STEP 14
result = os0.path.isdir(path3)                                          # STEP 15
str1 += 'k'                                                             # STEP 16
str1 += 'w'                                                             # STEP 17
str1 += 'f'                                                             # STEP 18
str1 += 'w'                                                             # STEP 19
os0.symlink(path3,path3)                                                # STEP 20
str1 += 'c'                                                             # STEP 21
bytes4 = 0                                                              # STEP 22
str1 += 'h'                                                             # STEP 23
result = os0.path.dirname(path2)                                        # STEP 24
str1 += 'z'                                                             # STEP 25
str1 += " "                                                             # STEP 26
path2 += "/" + component2                                               # STEP 27
result = os0.path.isdir(path2)                                          # STEP 28
result = os0.path.dirname(path2)                                        # STEP 29
component2 = "h"                                                        # STEP 30
stat1 = os0.lstat(path2)                                                # STEP 31
result = os0.path.exists(path3)                                         # STEP 32
bytes1 = 0                                                              # STEP 33
path3 += "/" + component0                                               # STEP 34
os0.path.getsize(path3)                                                 # STEP 35
fd0 = os0.open(path3, os.O_CREAT | os.O_WRONLY | os.O_EXCL)             # STEP 36
os0.link(path2,path3)                                                   # STEP 37
result = os0.path.exists(path2)                                         # STEP 38
bytes2 += 1                                                             # STEP 39
component0 = "epsilon"                                                  # STEP 40
result = os0.path.isabs(path3)                                          # STEP 41
stat0 = os0.stat(path2)                                                 # STEP 42
result = os0.path.exists(path2)                                         # STEP 43
os0.rmdir(path2)                                                        # STEP 44
str1 += 'm'                                                             # STEP 45
result = os0.path.isdir(path2)                                          # STEP 46
bytes4 += 1                                                             # STEP 47
result = os0.path.isabs(path3)                                          # STEP 48
str1 += 'r'                                                             # STEP 49
result = os0.path.exists(path3)                                         # STEP 50
str1 += 'n'                                                             # STEP 51
str1 += 'l'                                                             # STEP 52
str1 += 'l'                                                             # STEP 53
path2 += "/" + component0                                               # STEP 54
str1 += 'r'                                                             # STEP 55
result = os0.path.abspath(path2)                                        # STEP 56
component0 = "epsilon"                                                  # STEP 57
stat1 = os0.fstat(fd0)                                                  # STEP 58
stat4 = os0.fstat(fd0)                                                  # STEP 59
result = os0.path.lexists(path2)                                        # STEP 60
result = stat4.st_nlink                                                 # STEP 61
result = stat1.st_size                                                  # STEP 62
str1 += 'a'                                                             # STEP 63
stat1 = os0.fstat(fd0)                                                  # STEP 64
os0.close(fd0)                                                          # STEP 65
fd0 = os0.open(path2, os.O_CREAT | os.O_EXCL)                           # STEP 66
stat3 = os0.stat(path2)                                                 # STEP 67
result = os0.read(fd0,bytes0)                                           # STEP 68
os0.symlink(path2,path2)                                                # STEP 69
bytes1 += 1                                                             # STEP 70
result = stat4.st_size                                                  # STEP 71
result = os0.path.isabs(path3)                                          # STEP 72
os0.rename(path3,path2)                                                 # STEP 73
stat4 = os0.lstat(path2)                                                # STEP 74
opener0 = newFakeOpener(os0)                                            # STEP 75
path2 += "/" + component3                                               # STEP 76
str3 = ""                                                               # STEP 77
result = os0.path.abspath(path3)                                        # STEP 78
str1 += 'i'                                                             # STEP 79
str3 += " "                                                             # STEP 80
os0.symlink(path3,path3)                                                # STEP 81
str3 += 'd'                                                             # STEP 82
os0.path.getsize(path2)                                                 # STEP 83
str1 += 'v'                                                             # STEP 84
str3 += 'b'                                                             # STEP 85
stat0 = os0.stat(path3)                                                 # STEP 86
file0 = opener0(path3,'w')                                              # STEP 87
file0.seek(bytes2)                                                      # STEP 88
stat3 = os0.fstat(fd0)                                                  # STEP 89
path3 += "/" + component2                                               # STEP 90
result = file0.readline()                                               # STEP 91
result = os0.path.isdir(path2)                                          # STEP 92
str0 = ""                                                               # STEP 93
str1 += 'j'                                                             # STEP 94
result = file0.readline()                                               # STEP 95
str0 += 'z'                                                             # STEP 96
str3 = ""                                                               # STEP 97
str3 += 'l'                                                             # STEP 98
bytes4 += 1                                                             # STEP 99
os0.symlink(path3,path3)                                               # STEP 100
str3 += 'v'                                                            # STEP 101
component3 = "e"                                                       # STEP 102
str3 += 'u'                                                            # STEP 103
str0 += 'l'                                                            # STEP 104
result = file0.readlines()                                             # STEP 105
str1 += 'h'                                                            # STEP 106
str0 += 'g'                                                            # STEP 107
str0 += 'f'                                                            # STEP 108
result = os0.read(fd0,bytes1)                                          # STEP 109
result = stat3.st_nlink                                                # STEP 110
result = stat1.st_nlink                                                # STEP 111
stat1 = os0.stat(path3)                                                # STEP 112
result = stat0.st_nlink                                                # STEP 113
str0 += 'z'                                                            # STEP 114
file0.seek(bytes1)                                                     # STEP 115
result = os0.path.isdir(path2)                                         # STEP 116
result = file0.read(bytes2)                                            # STEP 117
ERROR: (<type 'exceptions.OSError'>, OSError(9, 'File is not open for reading.'), <traceback object at 0x1075d2638>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 28468, in act566
    result = self.p_file[0].read(self.p_bytes[2])
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4284, in read_error
    self._raise('File is not open for reading.')
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4112, in _raise
    raise OSError(errno.EBADF, message)
FAILURE IS NEW, STORING; NOW 1 DISTINCT FAILURES
UNCAUGHT EXCEPTION
ERROR: (<type 'exceptions.OSError'>, OSError(9, 'File is not open for reading.'), <traceback object at 0x107dc64d0>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 28293, in act563
    result = self.p_file[0].read()
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4284, in read_error
    self._raise('File is not open for reading.')
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4112, in _raise
    raise OSError(errno.EBADF, message)
Original test has 207 steps

SAVING TEST AS failure.4103.test.1
FINAL VERSION OF TEST, WITH LOGGED REPLAY:
component3 = "b"                                                         # STEP 0
component0 = "epsilon"                                                   # STEP 1
component2 = "phi"                                                       # STEP 2
component4 = "c"                                                         # STEP 3
bytes2 = 0                                                               # STEP 4
os0 = newFakeOS()                                                        # STEP 5
path2 = "/Volumes/ramdisk/test"                                          # STEP 6
str1 = ""                                                                # STEP 7
path3 = "/Volumes/ramdisk/test"                                          # STEP 8
str1 += 'j'                                                              # STEP 9
component1 = "phi"                                                      # STEP 10
bytes0 = 0                                                              # STEP 11
bytes0 += 1                                                             # STEP 12
result = os0.path.isfile(path2)                                         # STEP 13
str1 += 'e'                                                             # STEP 14
result = os0.path.isdir(path3)                                          # STEP 15
str1 += 'k'                                                             # STEP 16
str1 += 'w'                                                             # STEP 17
str1 += 'f'                                                             # STEP 18
str1 += 'w'                                                             # STEP 19
os0.symlink(path3,path3)                                                # STEP 20
str1 += 'c'                                                             # STEP 21
bytes4 = 0                                                              # STEP 22
str1 += 'h'                                                             # STEP 23
result = os0.path.dirname(path2)                                        # STEP 24
str1 += 'z'                                                             # STEP 25
str1 += " "                                                             # STEP 26
path2 += "/" + component2                                               # STEP 27
result = os0.path.isdir(path2)                                          # STEP 28
result = os0.path.dirname(path2)                                        # STEP 29
component2 = "h"                                                        # STEP 30
stat1 = os0.lstat(path2)                                                # STEP 31
result = os0.path.exists(path3)                                         # STEP 32
bytes1 = 0                                                              # STEP 33
path3 += "/" + component0                                               # STEP 34
os0.path.getsize(path3)                                                 # STEP 35
fd0 = os0.open(path3, os.O_CREAT | os.O_WRONLY | os.O_EXCL)             # STEP 36
os0.link(path2,path3)                                                   # STEP 37
result = os0.path.exists(path2)                                         # STEP 38
bytes2 += 1                                                             # STEP 39
component0 = "epsilon"                                                  # STEP 40
result = os0.path.isabs(path3)                                          # STEP 41
stat0 = os0.stat(path2)                                                 # STEP 42
result = os0.path.exists(path2)                                         # STEP 43
os0.rmdir(path2)                                                        # STEP 44
str1 += 'm'                                                             # STEP 45
result = os0.path.isdir(path2)                                          # STEP 46
bytes4 += 1                                                             # STEP 47
result = os0.path.isabs(path3)                                          # STEP 48
str1 += 'r'                                                             # STEP 49
result = os0.path.exists(path3)                                         # STEP 50
str1 += 'n'                                                             # STEP 51
str1 += 'l'                                                             # STEP 52
str1 += 'l'                                                             # STEP 53
path2 += "/" + component0                                               # STEP 54
str1 += 'r'                                                             # STEP 55
result = os0.path.abspath(path2)                                        # STEP 56
component0 = "epsilon"                                                  # STEP 57
stat1 = os0.fstat(fd0)                                                  # STEP 58
stat4 = os0.fstat(fd0)                                                  # STEP 59
result = os0.path.lexists(path2)                                        # STEP 60
result = stat4.st_nlink                                                 # STEP 61
result = stat1.st_size                                                  # STEP 62
str1 += 'a'                                                             # STEP 63
stat1 = os0.fstat(fd0)                                                  # STEP 64
os0.close(fd0)                                                          # STEP 65
fd0 = os0.open(path2, os.O_CREAT | os.O_EXCL)                           # STEP 66
stat3 = os0.stat(path2)                                                 # STEP 67
result = os0.read(fd0,bytes0)                                           # STEP 68
os0.symlink(path2,path2)                                                # STEP 69
bytes1 += 1                                                             # STEP 70
result = stat4.st_size                                                  # STEP 71
result = os0.path.isabs(path3)                                          # STEP 72
os0.rename(path3,path2)                                                 # STEP 73
stat4 = os0.lstat(path2)                                                # STEP 74
opener0 = newFakeOpener(os0)                                            # STEP 75
path2 += "/" + component3                                               # STEP 76
str3 = ""                                                               # STEP 77
result = os0.path.abspath(path3)                                        # STEP 78
str1 += 'i'                                                             # STEP 79
str3 += " "                                                             # STEP 80
os0.symlink(path3,path3)                                                # STEP 81
str3 += 'd'                                                             # STEP 82
os0.path.getsize(path2)                                                 # STEP 83
str1 += 'v'                                                             # STEP 84
stat2 = os0.fstat(fd0)                                                  # STEP 85
str3 += 'b'                                                             # STEP 86
stat0 = os0.stat(path3)                                                 # STEP 87
file0 = opener0(path3,'w')                                              # STEP 88
str0 = ""                                                               # STEP 89
file0.next()                                                            # STEP 90
result = os0.path.isdir(path3)                                          # STEP 91
result = os0.path.isdir(path3)                                          # STEP 92
str1 += 'i'                                                             # STEP 93
str3 += 'b'                                                             # STEP 94
component3 = "a"                                                        # STEP 95
result = stat4.st_size                                                  # STEP 96
str3 += 'y'                                                             # STEP 97
str0 += 'x'                                                             # STEP 98
str1 += 'c'                                                             # STEP 99
result = os0.path.exists(path3)                                        # STEP 100
result = stat4.st_size                                                 # STEP 101
str0 += 'h'                                                            # STEP 102
path0 = "/Volumes/ramdisk/test"                                        # STEP 103
str3 += 'o'                                                            # STEP 104
os0.symlink(path0,path2)                                               # STEP 105
stat3 = os0.fstat(fd0)                                                 # STEP 106
str1 += " "                                                            # STEP 107
path4 = "/Volumes/ramdisk/test"                                        # STEP 108
path0 += "/" + component2                                              # STEP 109
result = os0.path.exists(path3)                                        # STEP 110
str3 += 'x'                                                            # STEP 111
os0.link(path2,path3)                                                  # STEP 112
result = stat4.st_size                                                 # STEP 113
path4 += "/" + component4                                              # STEP 114
result = stat0.st_size                                                 # STEP 115
component4 = "beta"                                                    # STEP 116
stat2 = os0.lstat(path2)                                               # STEP 117
result = file0.read(bytes0)                                            # STEP 118
os0.symlink(path4,path0)                                               # STEP 119
os0.remove(path3)                                                      # STEP 120
result = os0.path.islink(path0)                                        # STEP 121
stat0 = os0.lstat(path3)                                               # STEP 122
stat4 = os0.lstat(path4)                                               # STEP 123
str1 += 'n'                                                            # STEP 124
result = os0.path.exists(path2)                                        # STEP 125
result = os0.path.exists(path4)                                        # STEP 126
component2 = "epsilon"                                                 # STEP 127
os0.link(path4,path2)                                                  # STEP 128
result = os0.path.isfile(path3)                                        # STEP 129
file0.truncate()                                                       # STEP 130
bytes0 = 0                                                             # STEP 131
file0.flush()                                                          # STEP 132
str1 += 'm'                                                            # STEP 133
result = stat4.st_nlink                                                # STEP 134
path1 = "/Volumes/ramdisk/test"                                        # STEP 135
result = os0.path.exists(path4)                                        # STEP 136
result = os0.path.isabs(path2)                                         # STEP 137
os0.symlink(path0,path3)                                               # STEP 138
os0.link(path0,path1)                                                  # STEP 139
str1 += 'g'                                                            # STEP 140
result = file0.readlines()                                             # STEP 141
result = file0.readlines()                                             # STEP 142
path1 += "/" + component3                                              # STEP 143
path3 += "/" + component4                                              # STEP 144
result = os0.path.isdir(path3)                                         # STEP 145
component4 = "epsilon"                                                 # STEP 146
path2 += "/" + component1                                              # STEP 147
os0.removedirs(path2)                                                  # STEP 148
component3 = "alpha"                                                   # STEP 149
os0.symlink(path0,path4)                                               # STEP 150
str0 += 'o'                                                            # STEP 151
str0 += 'd'                                                            # STEP 152
os0.rename(path4,path0)                                                # STEP 153
os0.remove(path4)                                                      # STEP 154
str0 += 'n'                                                            # STEP 155
str0 += 'c'                                                            # STEP 156
result = file0.readline(bytes0)                                        # STEP 157
result = stat0.st_size                                                 # STEP 158
os0.link(path2,path0)                                                  # STEP 159
path2 += "/" + component1                                              # STEP 160
os0.link(path3,path3)                                                  # STEP 161
path0 += "/" + component3                                              # STEP 162
os0.rename(path2,path1)                                                # STEP 163
result = os0.path.dirname(path0)                                       # STEP 164
str0 += 'l'                                                            # STEP 165
os0.path.getsize(path2)                                                # STEP 166
path0 += "/" + component3                                              # STEP 167
file0.write(str0)                                                      # STEP 168
component1 = "f"                                                       # STEP 169
result = file0.readline(bytes1)                                        # STEP 170
path0 += "/" + component4                                              # STEP 171
os0.mkdir(path4)                                                       # STEP 172
os0.write(fd0,str0)                                                    # STEP 173
str0 = ""                                                              # STEP 174
result = stat3.st_size                                                 # STEP 175
component3 = "beta"                                                    # STEP 176
os0.rename(path3,path2)                                                # STEP 177
result = os0.read(fd0,bytes2)                                          # STEP 178
os0.symlink(path1,path4)                                               # STEP 179
str0 += 'b'                                                            # STEP 180
file0.write(str3)                                                      # STEP 181
component4 = "a"                                                       # STEP 182
os0.rename(path1,path3)                                                # STEP 183
result = os0.path.abspath(path0)                                       # STEP 184
os0.link(path0,path0)                                                  # STEP 185
result = sorted(os0.listdir(path2))                                    # STEP 186
result = os0.path.islink(path1)                                        # STEP 187
stat3 = os0.lstat(path2)                                               # STEP 188
path1 += "/" + component0                                              # STEP 189
str1 += 'i'                                                            # STEP 190
os0.rename(path3,path0)                                                # STEP 191
str0 += 'w'                                                            # STEP 192
str3 += 'n'                                                            # STEP 193
result = os0.path.isfile(path1)                                        # STEP 194
os0.link(path0,path1)                                                  # STEP 195
str1 += 'q'                                                            # STEP 196
str3 += 'x'                                                            # STEP 197
str0 += 'v'                                                            # STEP 198
file0.write(str0)                                                      # STEP 199
os0.rename(path0,path4)                                                # STEP 200
stat2 = os0.stat(path0)                                                # STEP 201
file0.next()                                                           # STEP 202
os0.link(path0,path3)                                                  # STEP 203
component0 = "phi"                                                     # STEP 204
stat2 = os0.lstat(path2)                                               # STEP 205
result = file0.read()                                                  # STEP 206
ERROR: (<type 'exceptions.OSError'>, OSError(9, 'File is not open for reading.'), <traceback object at 0x107ddb8c0>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 28293, in act563
    result = self.p_file[0].read()
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4284, in read_error
    self._raise('File is not open for reading.')
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4112, in _raise
    raise OSError(errno.EBADF, message)
FAILURE IS NEW, STORING; NOW 2 DISTINCT FAILURES
UNCAUGHT EXCEPTION
ERROR: (<type 'exceptions.AssertionError'>, AssertionError(' (0) == (3) ',), <traceback object at 0x108c6fcf8>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 21826, in act458
    try: assert result == result_REF, " (%s) == (%s) " % (result, result_REF)
Original test has 102 steps

SAVING TEST AS failure.4103.test.2
FINAL VERSION OF TEST, WITH LOGGED REPLAY:
path1 = "/Volumes/ramdisk/test"                                          # STEP 0
component2 = "gamma"                                                     # STEP 1
component0 = "lambda"                                                    # STEP 2
component4 = "delta"                                                     # STEP 3
component1 = "delta"                                                     # STEP 4
bytes3 = 0                                                               # STEP 5
component3 = "d"                                                         # STEP 6
bytes3 += 1                                                              # STEP 7
path0 = "/Volumes/ramdisk/test"                                          # STEP 8
os0 = newFakeOS()                                                        # STEP 9
result = os0.path.isabs(path0)                                          # STEP 10
result = os0.path.isfile(path0)                                         # STEP 11
os0.makedirs(path0)                                                     # STEP 12
bytes1 = 0                                                              # STEP 13
result = os0.path.isabs(path1)                                          # STEP 14
result = os0.path.dirname(path0)                                        # STEP 15
result = os0.path.exists(path1)                                         # STEP 16
os0.makedirs(path0)                                                     # STEP 17
str3 = ""                                                               # STEP 18
result = os0.path.isdir(path0)                                          # STEP 19
str3 += 'w'                                                             # STEP 20
result = os0.path.abspath(path0)                                        # STEP 21
path1 += "/" + component1                                               # STEP 22
str3 += 'w'                                                             # STEP 23
bytes0 = 0                                                              # STEP 24
path1 += "/" + component2                                               # STEP 25
os0.symlink(path1,path1)                                                # STEP 26
opener0 = newFakeOpener(os0)                                            # STEP 27
component1 = "beta"                                                     # STEP 28
path1 += "/" + component2                                               # STEP 29
fd0 = os0.open(path1, os.O_CREAT | os.O_WRONLY)                         # STEP 30
component2 = "e"                                                        # STEP 31
file0 = opener0(path1,'a')                                              # STEP 32
os0.remove(path0)                                                       # STEP 33
stat2 = os0.lstat(path1)                                                # STEP 34
os0.link(path0,path0)                                                   # STEP 35
file0 = opener0(path0,'a')                                              # STEP 36
str3 += 'e'                                                             # STEP 37
result = sorted(os0.listdir(path1))                                     # STEP 38
path0 += "/" + component1                                               # STEP 39
stat2 = os0.lstat(path0)                                                # STEP 40
fd0 = os0.open(path0, os.O_CREAT | os.O_WRONLY | os.O_EXCL)             # STEP 41
file0 = opener0(path0,'w')                                              # STEP 42
stat4 = os0.lstat(path1)                                                # STEP 43
stat0 = os0.fstat(fd0)                                                  # STEP 44
stat3 = os0.lstat(path1)                                                # STEP 45
component1 = "gamma"                                                    # STEP 46
result = os0.path.islink(path1)                                         # STEP 47
os0.makedirs(path1)                                                     # STEP 48
os0.rename(path1,path0)                                                 # STEP 49
result = os0.path.abspath(path1)                                        # STEP 50
result = os0.path.dirname(path1)                                        # STEP 51
result = file0.readline(bytes3)                                         # STEP 52
path0 += "/" + component3                                               # STEP 53
result = file0.readline()                                               # STEP 54
component3 = "h"                                                        # STEP 55
os0.remove(path1)                                                       # STEP 56
os0.removedirs(path1)                                                   # STEP 57
result = stat0.st_nlink                                                 # STEP 58
path1 += "/" + component0                                               # STEP 59
file0.write(str3)                                                       # STEP 60
file0.seek(bytes3)                                                      # STEP 61
os0.rename(path1,path0)                                                 # STEP 62
result = os0.path.abspath(path1)                                        # STEP 63
component0 = "h"                                                        # STEP 64
result = os0.path.exists(path1)                                         # STEP 65
stat4 = os0.stat(path1)                                                 # STEP 66
str2 = ""                                                               # STEP 67
str2 += 'j'                                                             # STEP 68
str4 = ""                                                               # STEP 69
str4 += 'x'                                                             # STEP 70
str4 += 'k'                                                             # STEP 71
path4 = "/Volumes/ramdisk/test"                                         # STEP 72
str2 += 'h'                                                             # STEP 73
path4 += "/" + component1                                               # STEP 74
os0.rename(path0,path4)                                                 # STEP 75
path2 = "/Volumes/ramdisk/test"                                         # STEP 76
str4 += 'k'                                                             # STEP 77
str2 += 't'                                                             # STEP 78
stat0 = os0.stat(path4)                                                 # STEP 79
str3 += 'z'                                                             # STEP 80
str3 += 'v'                                                             # STEP 81
component1 = "d"                                                        # STEP 82
str3 += 'n'                                                             # STEP 83
stat2 = os0.stat(path0)                                                 # STEP 84
str4 += 's'                                                             # STEP 85
result = os0.readlink(path2)                                            # STEP 86
str2 += 'w'                                                             # STEP 87
result = os0.readlink(path2)                                            # STEP 88
str2 += 'j'                                                             # STEP 89
stat1 = os0.fstat(fd0)                                                  # STEP 90
result = os0.path.isabs(path4)                                          # STEP 91
file0.seek(bytes0)                                                      # STEP 92
str2 += 'e'                                                             # STEP 93
os0.link(path4,path0)                                                   # STEP 94
result = os0.path.dirname(path0)                                        # STEP 95
os0.link(path4,path2)                                                   # STEP 96
stat3 = os0.lstat(path4)                                                # STEP 97
result = os0.path.isdir(path0)                                          # STEP 98
stat3 = os0.stat(path1)                                                 # STEP 99
result = file0.readline(bytes3)                                        # STEP 100
result = stat1.st_size                                                 # STEP 101
ERROR: (<type 'exceptions.AssertionError'>, AssertionError(' (0) == (3) ',), <traceback object at 0x108d8a5a8>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 21826, in act458
    try: assert result == result_REF, " (%s) == (%s) " % (result, result_REF)
FAILURE IS NEW, STORING; NOW 3 DISTINCT FAILURES
UNCAUGHT EXCEPTION
ERROR: (<type 'exceptions.OSError'>, OSError(9, 'File is not open for reading.'), <traceback object at 0x1048becb0>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 28821, in act572
    result = self.p_file[0].readline(self.p_bytes[2])
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4284, in read_error
    self._raise('File is not open for reading.')
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4112, in _raise
    raise OSError(errno.EBADF, message)
Original test has 175 steps

SAVING TEST AS failure.4103.test.3
FINAL VERSION OF TEST, WITH LOGGED REPLAY:
component3 = "b"                                                         # STEP 0
component0 = "epsilon"                                                   # STEP 1
component2 = "phi"                                                       # STEP 2
component4 = "c"                                                         # STEP 3
bytes2 = 0                                                               # STEP 4
os0 = newFakeOS()                                                        # STEP 5
path2 = "/Volumes/ramdisk/test"                                          # STEP 6
str1 = ""                                                                # STEP 7
path3 = "/Volumes/ramdisk/test"                                          # STEP 8
str1 += 'j'                                                              # STEP 9
component1 = "phi"                                                      # STEP 10
bytes0 = 0                                                              # STEP 11
bytes0 += 1                                                             # STEP 12
result = os0.path.isfile(path2)                                         # STEP 13
str1 += 'e'                                                             # STEP 14
result = os0.path.isdir(path3)                                          # STEP 15
str1 += 'k'                                                             # STEP 16
str1 += 'w'                                                             # STEP 17
str1 += 'f'                                                             # STEP 18
str1 += 'w'                                                             # STEP 19
os0.symlink(path3,path3)                                                # STEP 20
str1 += 'c'                                                             # STEP 21
bytes4 = 0                                                              # STEP 22
str1 += 'h'                                                             # STEP 23
result = os0.path.dirname(path2)                                        # STEP 24
str1 += 'z'                                                             # STEP 25
str1 += " "                                                             # STEP 26
path2 += "/" + component2                                               # STEP 27
result = os0.path.isdir(path2)                                          # STEP 28
result = os0.path.dirname(path2)                                        # STEP 29
component2 = "h"                                                        # STEP 30
stat1 = os0.lstat(path2)                                                # STEP 31
result = os0.path.exists(path3)                                         # STEP 32
bytes1 = 0                                                              # STEP 33
path3 += "/" + component0                                               # STEP 34
os0.path.getsize(path3)                                                 # STEP 35
fd0 = os0.open(path3, os.O_CREAT | os.O_WRONLY | os.O_EXCL)             # STEP 36
os0.link(path2,path3)                                                   # STEP 37
result = os0.path.exists(path2)                                         # STEP 38
bytes2 += 1                                                             # STEP 39
component0 = "epsilon"                                                  # STEP 40
result = os0.path.isabs(path3)                                          # STEP 41
stat0 = os0.stat(path2)                                                 # STEP 42
result = os0.path.exists(path2)                                         # STEP 43
os0.rmdir(path2)                                                        # STEP 44
str1 += 'm'                                                             # STEP 45
result = os0.path.isdir(path2)                                          # STEP 46
bytes4 += 1                                                             # STEP 47
result = os0.path.isabs(path3)                                          # STEP 48
str1 += 'r'                                                             # STEP 49
result = os0.path.exists(path3)                                         # STEP 50
str1 += 'n'                                                             # STEP 51
str1 += 'l'                                                             # STEP 52
str1 += 'l'                                                             # STEP 53
path2 += "/" + component0                                               # STEP 54
str1 += 'r'                                                             # STEP 55
result = os0.path.abspath(path2)                                        # STEP 56
component0 = "epsilon"                                                  # STEP 57
stat1 = os0.fstat(fd0)                                                  # STEP 58
stat4 = os0.fstat(fd0)                                                  # STEP 59
result = os0.path.lexists(path2)                                        # STEP 60
result = stat4.st_nlink                                                 # STEP 61
result = stat1.st_size                                                  # STEP 62
str1 += 'a'                                                             # STEP 63
stat1 = os0.fstat(fd0)                                                  # STEP 64
os0.close(fd0)                                                          # STEP 65
fd0 = os0.open(path2, os.O_CREAT | os.O_EXCL)                           # STEP 66
stat3 = os0.stat(path2)                                                 # STEP 67
result = os0.read(fd0,bytes0)                                           # STEP 68
os0.symlink(path2,path2)                                                # STEP 69
bytes1 += 1                                                             # STEP 70
result = stat4.st_size                                                  # STEP 71
result = os0.path.isabs(path3)                                          # STEP 72
os0.rename(path3,path2)                                                 # STEP 73
stat4 = os0.lstat(path2)                                                # STEP 74
opener0 = newFakeOpener(os0)                                            # STEP 75
path2 += "/" + component3                                               # STEP 76
str3 = ""                                                               # STEP 77
result = os0.path.abspath(path3)                                        # STEP 78
str1 += 'i'                                                             # STEP 79
str3 += " "                                                             # STEP 80
os0.symlink(path3,path3)                                                # STEP 81
str3 += 'd'                                                             # STEP 82
os0.path.getsize(path2)                                                 # STEP 83
str1 += 'v'                                                             # STEP 84
stat2 = os0.fstat(fd0)                                                  # STEP 85
str3 += 'b'                                                             # STEP 86
stat0 = os0.stat(path3)                                                 # STEP 87
file0 = opener0(path3,'w')                                              # STEP 88
str0 = ""                                                               # STEP 89
file0.next()                                                            # STEP 90
result = os0.path.isdir(path3)                                          # STEP 91
result = os0.path.isdir(path3)                                          # STEP 92
str1 += 'i'                                                             # STEP 93
str3 += 'b'                                                             # STEP 94
component3 = "a"                                                        # STEP 95
result = stat4.st_size                                                  # STEP 96
str3 += 'y'                                                             # STEP 97
str0 += 'x'                                                             # STEP 98
str1 += 'c'                                                             # STEP 99
result = os0.path.exists(path3)                                        # STEP 100
result = stat4.st_size                                                 # STEP 101
str0 += 'h'                                                            # STEP 102
path0 = "/Volumes/ramdisk/test"                                        # STEP 103
str3 += 'o'                                                            # STEP 104
os0.symlink(path0,path2)                                               # STEP 105
stat3 = os0.fstat(fd0)                                                 # STEP 106
str1 += " "                                                            # STEP 107
path4 = "/Volumes/ramdisk/test"                                        # STEP 108
path0 += "/" + component2                                              # STEP 109
result = os0.path.exists(path3)                                        # STEP 110
str3 += 'x'                                                            # STEP 111
os0.link(path2,path3)                                                  # STEP 112
result = stat4.st_size                                                 # STEP 113
path4 += "/" + component4                                              # STEP 114
result = stat0.st_size                                                 # STEP 115
component4 = "beta"                                                    # STEP 116
stat2 = os0.lstat(path2)                                               # STEP 117
result = file0.read(bytes0)                                            # STEP 118
os0.symlink(path4,path0)                                               # STEP 119
os0.remove(path3)                                                      # STEP 120
result = os0.path.islink(path0)                                        # STEP 121
stat0 = os0.lstat(path3)                                               # STEP 122
stat4 = os0.lstat(path4)                                               # STEP 123
str1 += 'n'                                                            # STEP 124
result = os0.path.exists(path2)                                        # STEP 125
result = os0.path.exists(path4)                                        # STEP 126
component2 = "epsilon"                                                 # STEP 127
os0.link(path4,path2)                                                  # STEP 128
result = os0.path.isfile(path3)                                        # STEP 129
file0.truncate()                                                       # STEP 130
bytes0 = 0                                                             # STEP 131
file0.flush()                                                          # STEP 132
str1 += 'm'                                                            # STEP 133
result = stat4.st_nlink                                                # STEP 134
path1 = "/Volumes/ramdisk/test"                                        # STEP 135
result = os0.path.exists(path4)                                        # STEP 136
result = os0.path.isabs(path2)                                         # STEP 137
os0.symlink(path0,path3)                                               # STEP 138
os0.link(path0,path1)                                                  # STEP 139
str1 += 'g'                                                            # STEP 140
result = file0.readlines()                                             # STEP 141
result = file0.readlines()                                             # STEP 142
path1 += "/" + component3                                              # STEP 143
path3 += "/" + component4                                              # STEP 144
result = os0.path.isdir(path3)                                         # STEP 145
component4 = "epsilon"                                                 # STEP 146
path2 += "/" + component1                                              # STEP 147
os0.removedirs(path2)                                                  # STEP 148
component3 = "alpha"                                                   # STEP 149
os0.symlink(path0,path4)                                               # STEP 150
str0 += 'o'                                                            # STEP 151
str0 += 'd'                                                            # STEP 152
os0.rename(path4,path0)                                                # STEP 153
str1 += 'm'                                                            # STEP 154
stat2 = os0.lstat(path3)                                               # STEP 155
result = os0.path.islink(path3)                                        # STEP 156
str3 += 'n'                                                            # STEP 157
str0 += 'h'                                                            # STEP 158
os0.path.getsize(path2)                                                # STEP 159
str0 += " "                                                            # STEP 160
result = file0.readline(bytes1)                                        # STEP 161
component1 = "d"                                                       # STEP 162
result = sorted(os0.listdir(path4))                                    # STEP 163
stat4 = os0.lstat(path2)                                               # STEP 164
result = os0.read(fd0,bytes1)                                          # STEP 165
os0.link(path2,path2)                                                  # STEP 166
os0.rmdir(path2)                                                       # STEP 167
os0.rename(path1,path2)                                                # STEP 168
str3 += 'a'                                                            # STEP 169
os0.path.getsize(path0)                                                # STEP 170
result = os0.path.isfile(path3)                                        # STEP 171
os0.symlink(path2,path2)                                               # STEP 172
str3 += 'd'                                                            # STEP 173
result = file0.readline(bytes2)                                        # STEP 174
ERROR: (<type 'exceptions.OSError'>, OSError(9, 'File is not open for reading.'), <traceback object at 0x104887098>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 28821, in act572
    result = self.p_file[0].readline(self.p_bytes[2])
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4284, in read_error
    self._raise('File is not open for reading.')
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4112, in _raise
    raise OSError(errno.EBADF, message)
FAILURE IS NEW, STORING; NOW 4 DISTINCT FAILURES
UNCAUGHT EXCEPTION
ERROR: (<type 'exceptions.OSError'>, OSError(9, 'File is not open for reading.'), <traceback object at 0x109edaf38>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 28468, in act566
    result = self.p_file[0].read(self.p_bytes[2])
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4284, in read_error
    self._raise('File is not open for reading.')
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4112, in _raise
    raise OSError(errno.EBADF, message)
Original test has 181 steps

SAVING TEST AS failure.4103.test.4
FINAL VERSION OF TEST, WITH LOGGED REPLAY:
component3 = "b"                                                         # STEP 0
component0 = "epsilon"                                                   # STEP 1
component2 = "phi"                                                       # STEP 2
component4 = "c"                                                         # STEP 3
bytes2 = 0                                                               # STEP 4
os0 = newFakeOS()                                                        # STEP 5
path2 = "/Volumes/ramdisk/test"                                          # STEP 6
str1 = ""                                                                # STEP 7
path3 = "/Volumes/ramdisk/test"                                          # STEP 8
str1 += 'j'                                                              # STEP 9
component1 = "phi"                                                      # STEP 10
bytes0 = 0                                                              # STEP 11
bytes0 += 1                                                             # STEP 12
result = os0.path.isfile(path2)                                         # STEP 13
str1 += 'e'                                                             # STEP 14
result = os0.path.isdir(path3)                                          # STEP 15
str1 += 'k'                                                             # STEP 16
str1 += 'w'                                                             # STEP 17
str1 += 'f'                                                             # STEP 18
str1 += 'w'                                                             # STEP 19
os0.symlink(path3,path3)                                                # STEP 20
str1 += 'c'                                                             # STEP 21
bytes4 = 0                                                              # STEP 22
str1 += 'h'                                                             # STEP 23
result = os0.path.dirname(path2)                                        # STEP 24
str1 += 'z'                                                             # STEP 25
str1 += " "                                                             # STEP 26
path2 += "/" + component2                                               # STEP 27
result = os0.path.isdir(path2)                                          # STEP 28
result = os0.path.dirname(path2)                                        # STEP 29
component2 = "h"                                                        # STEP 30
stat1 = os0.lstat(path2)                                                # STEP 31
result = os0.path.exists(path3)                                         # STEP 32
bytes1 = 0                                                              # STEP 33
path3 += "/" + component0                                               # STEP 34
os0.path.getsize(path3)                                                 # STEP 35
fd0 = os0.open(path3, os.O_CREAT | os.O_WRONLY | os.O_EXCL)             # STEP 36
os0.link(path2,path3)                                                   # STEP 37
result = os0.path.exists(path2)                                         # STEP 38
bytes2 += 1                                                             # STEP 39
component0 = "epsilon"                                                  # STEP 40
result = os0.path.isabs(path3)                                          # STEP 41
stat0 = os0.stat(path2)                                                 # STEP 42
result = os0.path.exists(path2)                                         # STEP 43
os0.rmdir(path2)                                                        # STEP 44
str1 += 'm'                                                             # STEP 45
result = os0.path.isdir(path2)                                          # STEP 46
bytes4 += 1                                                             # STEP 47
result = os0.path.isabs(path3)                                          # STEP 48
str1 += 'r'                                                             # STEP 49
result = os0.path.exists(path3)                                         # STEP 50
str1 += 'n'                                                             # STEP 51
str1 += 'l'                                                             # STEP 52
str1 += 'l'                                                             # STEP 53
path2 += "/" + component0                                               # STEP 54
str1 += 'r'                                                             # STEP 55
result = os0.path.abspath(path2)                                        # STEP 56
component0 = "epsilon"                                                  # STEP 57
stat1 = os0.fstat(fd0)                                                  # STEP 58
stat4 = os0.fstat(fd0)                                                  # STEP 59
result = os0.path.lexists(path2)                                        # STEP 60
result = stat4.st_nlink                                                 # STEP 61
result = stat1.st_size                                                  # STEP 62
str1 += 'a'                                                             # STEP 63
stat1 = os0.fstat(fd0)                                                  # STEP 64
os0.close(fd0)                                                          # STEP 65
fd0 = os0.open(path2, os.O_CREAT | os.O_EXCL)                           # STEP 66
stat3 = os0.stat(path2)                                                 # STEP 67
result = os0.read(fd0,bytes0)                                           # STEP 68
os0.symlink(path2,path2)                                                # STEP 69
bytes1 += 1                                                             # STEP 70
result = stat4.st_size                                                  # STEP 71
result = os0.path.isabs(path3)                                          # STEP 72
os0.rename(path3,path2)                                                 # STEP 73
stat4 = os0.lstat(path2)                                                # STEP 74
opener0 = newFakeOpener(os0)                                            # STEP 75
path2 += "/" + component3                                               # STEP 76
str3 = ""                                                               # STEP 77
result = os0.path.abspath(path3)                                        # STEP 78
str1 += 'i'                                                             # STEP 79
str3 += " "                                                             # STEP 80
os0.symlink(path3,path3)                                                # STEP 81
str3 += 'd'                                                             # STEP 82
os0.path.getsize(path2)                                                 # STEP 83
str1 += 'v'                                                             # STEP 84
stat2 = os0.fstat(fd0)                                                  # STEP 85
str3 += 'b'                                                             # STEP 86
stat0 = os0.stat(path3)                                                 # STEP 87
file0 = opener0(path3,'w')                                              # STEP 88
str0 = ""                                                               # STEP 89
file0.next()                                                            # STEP 90
result = os0.path.isdir(path3)                                          # STEP 91
result = os0.path.isdir(path3)                                          # STEP 92
str1 += 'i'                                                             # STEP 93
str3 = ""                                                               # STEP 94
path4 = "/Volumes/ramdisk/test"                                         # STEP 95
result = os0.path.isabs(path4)                                          # STEP 96
bytes0 = 0                                                              # STEP 97
path4 += "/" + component3                                               # STEP 98
str2 = ""                                                               # STEP 99
os0.rmdir(path4)                                                       # STEP 100
path4 += "/" + component3                                              # STEP 101
str3 += 'n'                                                            # STEP 102
component3 = "beta"                                                    # STEP 103
path4 += "/" + component1                                              # STEP 104
component1 = "d"                                                       # STEP 105
result = os0.path.isdir(path4)                                         # STEP 106
result = os0.path.exists(path4)                                        # STEP 107
os0.write(fd0,str3)                                                    # STEP 108
str2 += 'o'                                                            # STEP 109
os0.mkdir(path4)                                                       # STEP 110
path4 += "/" + component0                                              # STEP 111
str2 += 'b'                                                            # STEP 112
str2 += 'z'                                                            # STEP 113
str3 += 'g'                                                            # STEP 114
os0.write(fd0,str3)                                                    # STEP 115
str2 += 'z'                                                            # STEP 116
os0.symlink(path3,path2)                                               # STEP 117
stat3 = os0.stat(path4)                                                # STEP 118
str1 += 'v'                                                            # STEP 119
os0.mkdir(path2)                                                       # STEP 120
result = os0.path.exists(path3)                                        # STEP 121
str1 += 'z'                                                            # STEP 122
str1 += 'z'                                                            # STEP 123
os0.rename(path3,path4)                                                # STEP 124
path3 += "/" + component0                                              # STEP 125
os0.symlink(path2,path2)                                               # STEP 126
bytes1 += 1                                                            # STEP 127
bytes1 = 0                                                             # STEP 128
str3 += 'l'                                                            # STEP 129
str2 += 'l'                                                            # STEP 130
str3 += 'f'                                                            # STEP 131
os0.rename(path3,path2)                                                # STEP 132
result = sorted(os0.listdir(path2))                                    # STEP 133
result = stat1.st_nlink                                                # STEP 134
str3 += 'w'                                                            # STEP 135
path4 += "/" + component1                                              # STEP 136
path3 += "/" + component2                                              # STEP 137
str2 += 'j'                                                            # STEP 138
str2 += 'o'                                                            # STEP 139
path3 += "/" + component3                                              # STEP 140
result = stat4.st_size                                                 # STEP 141
stat2 = os0.fstat(fd0)                                                 # STEP 142
component1 = "e"                                                       # STEP 143
component2 = "b"                                                       # STEP 144
component3 = "lambda"                                                  # STEP 145
str3 += 'p'                                                            # STEP 146
str1 += 's'                                                            # STEP 147
component0 = "d"                                                       # STEP 148
os0.rename(path3,path2)                                                # STEP 149
str3 += 'c'                                                            # STEP 150
result = os0.read(fd0,bytes2)                                          # STEP 151
str2 += 'u'                                                            # STEP 152
file0.truncate()                                                       # STEP 153
bytes2 = 0                                                             # STEP 154
str0 += 'y'                                                            # STEP 155
result = os0.path.islink(path4)                                        # STEP 156
os0.link(path4,path2)                                                  # STEP 157
stat3 = os0.lstat(path3)                                               # STEP 158
path4 += "/" + component1                                              # STEP 159
str2 += 'e'                                                            # STEP 160
str3 += 'd'                                                            # STEP 161
result = stat0.st_nlink                                                # STEP 162
str1 += 'a'                                                            # STEP 163
str1 += 's'                                                            # STEP 164
file0.write(str1)                                                      # STEP 165
stat1 = os0.stat(path3)                                                # STEP 166
str1 += 'b'                                                            # STEP 167
str0 += 'x'                                                            # STEP 168
component1 = "omega"                                                   # STEP 169
str1 += 's'                                                            # STEP 170
str0 += 'r'                                                            # STEP 171
path2 += "/" + component0                                              # STEP 172
stat4 = os0.stat(path3)                                                # STEP 173
str2 += 'c'                                                            # STEP 174
str3 += 'p'                                                            # STEP 175
path3 += "/" + component4                                              # STEP 176
component4 = "f"                                                       # STEP 177
os0.mkdir(path2)                                                       # STEP 178
stat3 = os0.lstat(path2)                                               # STEP 179
result = file0.read(bytes2)                                            # STEP 180
ERROR: (<type 'exceptions.OSError'>, OSError(9, 'File is not open for reading.'), <traceback object at 0x107fdee18>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 28468, in act566
    result = self.p_file[0].read(self.p_bytes[2])
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4284, in read_error
    self._raise('File is not open for reading.')
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4112, in _raise
    raise OSError(errno.EBADF, message)
FAILURE IS NEW, STORING; NOW 5 DISTINCT FAILURES
TEST #120 STEP #0 (0:00:30.201817) Fri Jul 21 22:58:45 2017 [ 897 stmts 1170 branches ] 11614 TOTAL ACTIONS (384.546399519/s)
UNCAUGHT EXCEPTION
ERROR: (<type 'exceptions.AssertionError'>, AssertionError(' (5) == (0) ',), <traceback object at 0x10330f6c8>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 21771, in act457
    try: assert result == result_REF, " (%s) == (%s) " % (result, result_REF)
Original test has 80 steps

SAVING TEST AS failure.4103.test.5
FINAL VERSION OF TEST, WITH LOGGED REPLAY:
path4 = "/Volumes/ramdisk/test"                                          # STEP 0
component4 = "gamma"                                                     # STEP 1
component3 = "omega"                                                     # STEP 2
component0 = "g"                                                         # STEP 3
component1 = "g"                                                         # STEP 4
component2 = "gamma"                                                     # STEP 5
path1 = "/Volumes/ramdisk/test"                                          # STEP 6
path4 += "/" + component4                                                # STEP 7
str1 = ""                                                                # STEP 8
str1 += 'k'                                                              # STEP 9
str1 += 'd'                                                             # STEP 10
component4 = "h"                                                        # STEP 11
path1 += "/" + component1                                               # STEP 12
component1 = "epsilon"                                                  # STEP 13
path1 += "/" + component2                                               # STEP 14
str1 += 'p'                                                             # STEP 15
component2 = "g"                                                        # STEP 16
str1 += 'u'                                                             # STEP 17
str1 += 'h'                                                             # STEP 18
str1 = ""                                                               # STEP 19
os0 = newFakeOS()                                                       # STEP 20
os0.path.getsize(path4)                                                 # STEP 21
result = os0.path.isabs(path1)                                          # STEP 22
result = os0.path.isfile(path4)                                         # STEP 23
str1 += 'b'                                                             # STEP 24
opener0 = newFakeOpener(os0)                                            # STEP 25
path4 = "/Volumes/ramdisk/test"                                         # STEP 26
path4 += "/" + component0                                               # STEP 27
os0.rename(path1,path4)                                                 # STEP 28
stat2 = os0.stat(path4)                                                 # STEP 29
str1 += 'n'                                                             # STEP 30
result = os0.path.abspath(path1)                                        # STEP 31
file0 = opener0(path4,'a')                                              # STEP 32
result = sorted(os0.listdir(path4))                                     # STEP 33
fd0 = os0.open(path4, os.O_RDONLY)                                      # STEP 34
bytes4 = 0                                                              # STEP 35
str1 += 'q'                                                             # STEP 36
result = os0.path.exists(path4)                                         # STEP 37
result = os0.path.lexists(path1)                                        # STEP 38
bytes3 = 0                                                              # STEP 39
os0.makedirs(path4)                                                     # STEP 40
component0 = "e"                                                        # STEP 41
str1 += 'd'                                                             # STEP 42
str1 += 'o'                                                             # STEP 43
file0.flush()                                                           # STEP 44
path4 += "/" + component1                                               # STEP 45
file0.write(str1)                                                       # STEP 46
str1 += 'e'                                                             # STEP 47
component1 = "phi"                                                      # STEP 48
os0.remove(path1)                                                       # STEP 49
str1 += " "                                                             # STEP 50
path4 += "/" + component3                                               # STEP 51
stat0 = os0.fstat(fd0)                                                  # STEP 52
component3 = "gamma"                                                    # STEP 53
result = os0.path.exists(path4)                                         # STEP 54
result = file0.readline(bytes4)                                         # STEP 55
result = os0.path.lexists(path4)                                        # STEP 56
path4 = "/Volumes/ramdisk/test"                                         # STEP 57
result = file0.read()                                                   # STEP 58
str1 += 'u'                                                             # STEP 59
str1 += 'l'                                                             # STEP 60
bytes3 += 1                                                             # STEP 61
str1 += 'r'                                                             # STEP 62
bytes4 = 0                                                              # STEP 63
path1 = "/Volumes/ramdisk/test"                                         # STEP 64
str1 += 'x'                                                             # STEP 65
str2 = ""                                                               # STEP 66
str1 += 'b'                                                             # STEP 67
result = os0.path.lexists(path1)                                        # STEP 68
result = os0.path.lexists(path4)                                        # STEP 69
str2 += 'a'                                                             # STEP 70
bytes2 = 0                                                              # STEP 71
str1 += 'b'                                                             # STEP 72
os0.close(fd0)                                                          # STEP 73
os0.mkdir(path1)                                                        # STEP 74
os0.write(fd0,str2)                                                     # STEP 75
os0.symlink(path4,path4)                                                # STEP 76
stat3 = os0.fstat(fd0)                                                  # STEP 77
result = file0.readline()                                               # STEP 78
result = stat0.st_size                                                  # STEP 79
ERROR: (<type 'exceptions.AssertionError'>, AssertionError(' (5) == (0) ',), <traceback object at 0x103c6dea8>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 21771, in act457
    try: assert result == result_REF, " (%s) == (%s) " % (result, result_REF)
FAILURE IS NEW, STORING; NOW 6 DISTINCT FAILURES
UNCAUGHT EXCEPTION
ERROR: (<type 'exceptions.AssertionError'>, AssertionError(" (['gtgslaxaibvvmrqr duraoxaspxgb ifdbntbexhixzmkesybyiovwfuq']) == ([]) ",), <traceback object at 0x10304bf80>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 29028, in act575
    try: assert result == result_REF, " (%s) == (%s) " % (result, result_REF)
Original test has 353 steps

SAVING TEST AS failure.4103.test.6
FINAL VERSION OF TEST, WITH LOGGED REPLAY:
component0 = "phi"                                                       # STEP 0
component4 = "h"                                                         # STEP 1
component2 = "lambda"                                                    # STEP 2
component3 = "delta"                                                     # STEP 3
os0 = newFakeOS()                                                        # STEP 4
component1 = "phi"                                                       # STEP 5
path3 = "/Volumes/ramdisk/test"                                          # STEP 6
str1 = ""                                                                # STEP 7
path3 += "/" + component1                                                # STEP 8
str1 += 'g'                                                              # STEP 9
str1 += 't'                                                             # STEP 10
os0.rmdir(path3)                                                        # STEP 11
str1 += 'g'                                                             # STEP 12
str1 += 's'                                                             # STEP 13
os0.link(path3,path3)                                                   # STEP 14
component1 = "delta"                                                    # STEP 15
str1 += 'l'                                                             # STEP 16
str1 += 'a'                                                             # STEP 17
str1 += 'x'                                                             # STEP 18
str2 = ""                                                               # STEP 19
path1 = "/Volumes/ramdisk/test"                                         # STEP 20
str2 += 'r'                                                             # STEP 21
path1 += "/" + component3                                               # STEP 22
path1 += "/" + component4                                               # STEP 23
bytes0 = 0                                                              # STEP 24
bytes2 = 0                                                              # STEP 25
component3 = "c"                                                        # STEP 26
component4 = "e"                                                        # STEP 27
path0 = "/Volumes/ramdisk/test"                                         # STEP 28
fd0 = os0.open(path1, os.O_WRONLY | os.O_APPEND)                        # STEP 29
str4 = ""                                                               # STEP 30
str2 += " "                                                             # STEP 31
str4 += 'g'                                                             # STEP 32
str4 += 'x'                                                             # STEP 33
str4 = ""                                                               # STEP 34
os0.makedirs(path0)                                                     # STEP 35
result = sorted(os0.listdir(path0))                                     # STEP 36
result = os0.path.dirname(path1)                                        # STEP 37
str2 += 'd'                                                             # STEP 38
os0.symlink(path0,path0)                                                # STEP 39
result = os0.path.lexists(path1)                                        # STEP 40
str4 += 'w'                                                             # STEP 41
bytes3 = 0                                                              # STEP 42
os0.symlink(path1,path0)                                                # STEP 43
str4 += 'k'                                                             # STEP 44
os0.rmdir(path1)                                                        # STEP 45
str2 += 'u'                                                             # STEP 46
str2 += 'r'                                                             # STEP 47
stat0 = os0.stat(path1)                                                 # STEP 48
fd0 = os0.open(path1, os.O_RDONLY)                                      # STEP 49
str4 += 'r'                                                             # STEP 50
str2 += 'a'                                                             # STEP 51
fd0 = os0.open(path1, os.O_RDWR)                                        # STEP 52
str2 += 'o'                                                             # STEP 53
str4 += 'c'                                                             # STEP 54
str2 += 'x'                                                             # STEP 55
str4 += 'y'                                                             # STEP 56
fd0 = os0.open(path1, os.O_CREAT | os.O_WRONLY | os.O_TRUNC)            # STEP 57
str4 += 'a'                                                             # STEP 58
opener0 = newFakeOpener(os0)                                            # STEP 59
file0 = opener0(path1,'w')                                              # STEP 60
path4 = "/Volumes/ramdisk/test"                                         # STEP 61
os0.makedirs(path0)                                                     # STEP 62
path4 += "/" + component2                                               # STEP 63
bytes0 += 1                                                             # STEP 64
os0.rmdir(path1)                                                        # STEP 65
fd0 = os0.open(path1, os.O_CREAT | os.O_WRONLY)                         # STEP 66
path4 += "/" + component1                                               # STEP 67
str4 += 'k'                                                             # STEP 68
result = os0.path.dirname(path1)                                        # STEP 69
str2 += 'a'                                                             # STEP 70
str4 += 's'                                                             # STEP 71
fd0 = os0.open(path1, os.O_RDONLY)                                      # STEP 72
result = os0.path.lexists(path0)                                        # STEP 73
fd0 = os0.open(path1, os.O_CREAT | os.O_WRONLY | os.O_EXCL)             # STEP 74
path0 += "/" + component0                                               # STEP 75
result = os0.path.exists(path1)                                         # STEP 76
os0.remove(path0)                                                       # STEP 77
str4 += 'e'                                                             # STEP 78
stat0 = os0.lstat(path4)                                                # STEP 79
path2 = "/Volumes/ramdisk/test"                                         # STEP 80
result = os0.readlink(path4)                                            # STEP 81
result = os0.path.dirname(path1)                                        # STEP 82
result = os0.path.dirname(path0)                                        # STEP 83
component0 = "lambda"                                                   # STEP 84
os0.symlink(path4,path4)                                                # STEP 85
str4 += 'f'                                                             # STEP 86
fd0 = os0.open(path1, os.O_CREAT | os.O_WRONLY | os.O_EXCL)             # STEP 87
bytes4 = 0                                                              # STEP 88
component1 = "h"                                                        # STEP 89
stat1 = os0.lstat(path1)                                                # STEP 90
str4 += 'f'                                                             # STEP 91
str2 += 's'                                                             # STEP 92
file0 = opener0(path4,'a')                                              # STEP 93
stat2 = os0.lstat(path1)                                                # STEP 94
os0.path.getsize(path4)                                                 # STEP 95
os0.symlink(path2,path0)                                                # STEP 96
result = os0.path.exists(path1)                                         # STEP 97
bytes0 += 1                                                             # STEP 98
path4 += "/" + component1                                               # STEP 99
os0.mkdir(path0)                                                       # STEP 100
component2 = "beta"                                                    # STEP 101
stat1 = os0.lstat(path4)                                               # STEP 102
str4 += 'z'                                                            # STEP 103
stat1 = os0.lstat(path0)                                               # STEP 104
stat3 = os0.lstat(path1)                                               # STEP 105
file0 = opener0(path0,'w')                                             # STEP 106
str2 += 'p'                                                            # STEP 107
stat0 = os0.stat(path1)                                                # STEP 108
file0 = opener0(path3,'w')                                             # STEP 109
str4 += " "                                                            # STEP 110
path3 = "/Volumes/ramdisk/test"                                        # STEP 111
stat0 = os0.lstat(path1)                                               # STEP 112
result = os0.readlink(path3)                                           # STEP 113
stat2 = os0.lstat(path0)                                               # STEP 114
file0 = opener0(path1,'a')                                             # STEP 115
os0.link(path1,path4)                                                  # STEP 116
path1 += "/" + component0                                              # STEP 117
str2 += 'x'                                                            # STEP 118
str4 += 'k'                                                            # STEP 119
stat4 = os0.stat(path0)                                                # STEP 120
path1 += "/" + component1                                              # STEP 121
component1 = "delta"                                                   # STEP 122
str4 += 'e'                                                            # STEP 123
file0 = opener0(path1)                                                 # STEP 124
result = os0.path.dirname(path1)                                       # STEP 125
str4 += 'q'                                                            # STEP 126
str1 += 'a'                                                            # STEP 127
str2 += 'g'                                                            # STEP 128
path0 += "/" + component2                                              # STEP 129
os0.rename(path4,path3)                                                # STEP 130
file0 = opener0(path2)                                                 # STEP 131
bytes3 += 1                                                            # STEP 132
os0.link(path1,path1)                                                  # STEP 133
component2 = "g"                                                       # STEP 134
file0 = opener0(path2,'w')                                             # STEP 135
component0 = "d"                                                       # STEP 136
str4 += 'u'                                                            # STEP 137
result = os0.path.isdir(path4)                                         # STEP 138
str4 += 't'                                                            # STEP 139
fd0 = os0.open(path1, os.O_CREAT)                                      # STEP 140
fd0 = os0.open(path0, os.O_CREAT | os.O_WRONLY)                        # STEP 141
str4 += 'k'                                                            # STEP 142
os0.rename(path1,path3)                                                # STEP 143
str2 += 'b'                                                            # STEP 144
bytes3 = 0                                                             # STEP 145
str4 += 'm'                                                            # STEP 146
os0.rmdir(path0)                                                       # STEP 147
path2 = "/Volumes/ramdisk/test"                                        # STEP 148
os0.link(path2,path3)                                                  # STEP 149
str2 += " "                                                            # STEP 150
os0.write(fd0,str2)                                                    # STEP 151
os0.link(path0,path1)                                                  # STEP 152
file0 = opener0(path4,'w')                                             # STEP 153
os0.symlink(path4,path4)                                               # STEP 154
os0.makedirs(path1)                                                    # STEP 155
os0.rename(path1,path3)                                                # STEP 156
os0.mkdir(path1)                                                       # STEP 157
str2 += 'i'                                                            # STEP 158
str2 += 'f'                                                            # STEP 159
str2 += 'd'                                                            # STEP 160
path3 += "/" + component3                                              # STEP 161
str2 += 'b'                                                            # STEP 162
component3 = "h"                                                       # STEP 163
os0.symlink(path3,path3)                                               # STEP 164
result = os0.path.lexists(path3)                                       # STEP 165
str2 += 'n'                                                            # STEP 166
str2 += 't'                                                            # STEP 167
str2 += 'b'                                                            # STEP 168
str2 += 'e'                                                            # STEP 169
str2 += 'x'                                                            # STEP 170
bytes4 += 1                                                            # STEP 171
str2 += 'h'                                                            # STEP 172
stat0 = os0.lstat(path3)                                               # STEP 173
path1 = "/Volumes/ramdisk/test"                                        # STEP 174
result = os0.path.lexists(path3)                                       # STEP 175
str2 += 'i'                                                            # STEP 176
os0.link(path1,path3)                                                  # STEP 177
result = os0.path.isabs(path3)                                         # STEP 178
str3 = ""                                                              # STEP 179
str2 += 'x'                                                            # STEP 180
str2 += 'z'                                                            # STEP 181
str3 += 'm'                                                            # STEP 182
stat3 = os0.lstat(path3)                                               # STEP 183
path1 = "/Volumes/ramdisk/test"                                        # STEP 184
os0.path.getsize(path3)                                                # STEP 185
str3 += 'm'                                                            # STEP 186
result = os0.path.isabs(path3)                                         # STEP 187
result = stat3.st_nlink                                                # STEP 188
stat3 = os0.stat(path3)                                                # STEP 189
os0.rename(path3,path1)                                                # STEP 190
os0.link(path2,path2)                                                  # STEP 191
path2 += "/" + component1                                              # STEP 192
result = stat2.st_nlink                                                # STEP 193
os0.symlink(path3,path2)                                               # STEP 194
file0 = opener0(path1,'w')                                             # STEP 195
str4 += 'u'                                                            # STEP 196
os0.rmdir(path0)                                                       # STEP 197
result = os0.path.islink(path3)                                        # STEP 198
result = os0.path.abspath(path2)                                       # STEP 199
os0.symlink(path0,path1)                                               # STEP 200
str3 += 'e'                                                            # STEP 201
str2 += 'm'                                                            # STEP 202
component1 = "d"                                                       # STEP 203
str1 += 'i'                                                            # STEP 204
os0.symlink(path2,path0)                                               # STEP 205
str1 += 'b'                                                            # STEP 206
str4 += 'x'                                                            # STEP 207
path4 = "/Volumes/ramdisk/test"                                        # STEP 208
str1 += 'v'                                                            # STEP 209
path1 += "/" + component1                                              # STEP 210
str3 += 'a'                                                            # STEP 211
result = stat2.st_nlink                                                # STEP 212
component1 = "d"                                                       # STEP 213
file0 = opener0(path2,'r')                                             # STEP 214
os0.link(path0,path3)                                                  # STEP 215
result = os0.path.isdir(path4)                                         # STEP 216
str4 += 'v'                                                            # STEP 217
os0.mkdir(path2)                                                       # STEP 218
str2 += 'k'                                                            # STEP 219
str3 += 'a'                                                            # STEP 220
bytes0 = 0                                                             # STEP 221
file0 = opener0(path4,'r')                                             # STEP 222
str4 += 's'                                                            # STEP 223
str2 += 'e'                                                            # STEP 224
file0 = opener0(path0,'r')                                             # STEP 225
file0.seek(bytes2)                                                     # STEP 226
os0.symlink(path2,path0)                                               # STEP 227
os0.link(path4,path1)                                                  # STEP 228
os0.link(path1,path4)                                                  # STEP 229
str3 += 'n'                                                            # STEP 230
result = sorted(os0.listdir(path1))                                    # STEP 231
os0.rename(path0,path4)                                                # STEP 232
str1 += 'v'                                                            # STEP 233
str2 += 's'                                                            # STEP 234
result = file0.readlines()                                             # STEP 235
path0 += "/" + component0                                              # STEP 236
str3 += 'd'                                                            # STEP 237
os0.rename(path0,path2)                                                # STEP 238
result = os0.read(fd0,bytes0)                                          # STEP 239
str4 += 'm'                                                            # STEP 240
component0 = "a"                                                       # STEP 241
result = file0.readline(bytes0)                                        # STEP 242
str3 += 'x'                                                            # STEP 243
str1 += 'm'                                                            # STEP 244
result = os0.read(fd0,bytes2)                                          # STEP 245
str3 += 'g'                                                            # STEP 246
os0.removedirs(path1)                                                  # STEP 247
result = file0.readline(bytes3)                                        # STEP 248
str2 += 'y'                                                            # STEP 249
stat2 = os0.stat(path3)                                                # STEP 250
path4 = "/Volumes/ramdisk/test"                                        # STEP 251
str1 += 'r'                                                            # STEP 252
result = stat2.st_nlink                                                # STEP 253
result = os0.readlink(path4)                                           # STEP 254
str2 += 'b'                                                            # STEP 255
str4 += 'j'                                                            # STEP 256
stat2 = os0.lstat(path0)                                               # STEP 257
str3 += 'l'                                                            # STEP 258
result = os0.path.isfile(path4)                                        # STEP 259
str2 += 'y'                                                            # STEP 260
str4 += 'g'                                                            # STEP 261
result = os0.path.isdir(path0)                                         # STEP 262
os0.mkdir(path4)                                                       # STEP 263
os0.rename(path3,path4)                                                # STEP 264
str2 += 'i'                                                            # STEP 265
result = os0.path.isabs(path2)                                         # STEP 266
os0.symlink(path0,path4)                                               # STEP 267
os0.rmdir(path0)                                                       # STEP 268
os0.symlink(path3,path0)                                               # STEP 269
str3 += 'r'                                                            # STEP 270
str4 += 'g'                                                            # STEP 271
path4 += "/" + component1                                              # STEP 272
result = os0.path.abspath(path0)                                       # STEP 273
str3 += 'd'                                                            # STEP 274
str4 += 'v'                                                            # STEP 275
str4 += 'h'                                                            # STEP 276
os0.makedirs(path0)                                                    # STEP 277
str1 += 'q'                                                            # STEP 278
result = file0.readline(bytes2)                                        # STEP 279
result = file0.read()                                                  # STEP 280
str2 += 'o'                                                            # STEP 281
result = file0.read(bytes0)                                            # STEP 282
os0.rmdir(path0)                                                       # STEP 283
os0.symlink(path4,path4)                                               # STEP 284
str2 += 'v'                                                            # STEP 285
result = os0.path.dirname(path2)                                       # STEP 286
os0.makedirs(path1)                                                    # STEP 287
str3 = ""                                                              # STEP 288
os0.write(fd0,str1)                                                    # STEP 289
str3 += 'u'                                                            # STEP 290
os0.symlink(path4,path4)                                               # STEP 291
file0.write(str3)                                                      # STEP 292
str1 += 'q'                                                            # STEP 293
result = os0.path.lexists(path3)                                       # STEP 294
os0.rename(path2,path0)                                                # STEP 295
bytes4 = 0                                                             # STEP 296
str2 += 'w'                                                            # STEP 297
str4 += 's'                                                            # STEP 298
result = os0.path.isabs(path3)                                         # STEP 299
str2 += 'f'                                                            # STEP 300
str3 += " "                                                            # STEP 301
str2 += 'u'                                                            # STEP 302
str2 += 'q'                                                            # STEP 303
str4 += 'v'                                                            # STEP 304
str3 += 's'                                                            # STEP 305
os0.mkdir(path0)                                                       # STEP 306
str4 += 'f'                                                            # STEP 307
os0.rename(path1,path3)                                                # STEP 308
file0.flush()                                                          # STEP 309
str3 = ""                                                              # STEP 310
os0.write(fd0,str2)                                                    # STEP 311
os0.link(path1,path2)                                                  # STEP 312
result = os0.path.isabs(path3)                                         # STEP 313
os0.link(path1,path3)                                                  # STEP 314
result = file0.read(bytes2)                                            # STEP 315
str4 += 'u'                                                            # STEP 316
str2 += 'e'                                                            # STEP 317
str2 += 'j'                                                            # STEP 318
result = os0.path.isabs(path2)                                         # STEP 319
result = os0.path.dirname(path0)                                       # STEP 320
result = os0.path.abspath(path4)                                       # STEP 321
str2 += 'm'                                                            # STEP 322
os0.rename(path4,path0)                                                # STEP 323
str4 = ""                                                              # STEP 324
os0.symlink(path3,path0)                                               # STEP 325
str4 += 'h'                                                            # STEP 326
result = os0.path.exists(path3)                                        # STEP 327
result = os0.path.isabs(path1)                                         # STEP 328
component1 = "epsilon"                                                 # STEP 329
os0.makedirs(path2)                                                    # STEP 330
os0.symlink(path0,path2)                                               # STEP 331
os0.rename(path2,path3)                                                # STEP 332
str1 += 'v'                                                            # STEP 333
str3 += " "                                                            # STEP 334
path0 += "/" + component3                                              # STEP 335
os0.symlink(path2,path4)                                               # STEP 336
os0.symlink(path4,path0)                                               # STEP 337
str4 += 'u'                                                            # STEP 338
result = sorted(os0.listdir(path3))                                    # STEP 339
path4 += "/" + component3                                              # STEP 340
result = os0.path.isfile(path1)                                        # STEP 341
path0 += "/" + component2                                              # STEP 342
os0.rename(path4,path3)                                                # STEP 343
str4 += 'z'                                                            # STEP 344
str1 += 'w'                                                            # STEP 345
os0.link(path2,path0)                                                  # STEP 346
os0.makedirs(path1)                                                    # STEP 347
str2 += 'l'                                                            # STEP 348
path3 += "/" + component3                                              # STEP 349
os0.removedirs(path1)                                                  # STEP 350
path3 += "/" + component4                                              # STEP 351
result = file0.readlines()                                             # STEP 352
ERROR: (<type 'exceptions.AssertionError'>, AssertionError(" (['gtgslaxaibvvmrqr duraoxaspxgb ifdbntbexhixzmkesybyiovwfuq']) == ([]) ",), <traceback object at 0x106c52e60>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 29028, in act575
    try: assert result == result_REF, " (%s) == (%s) " % (result, result_REF)
FAILURE IS NEW, STORING; NOW 7 DISTINCT FAILURES
UNCAUGHT EXCEPTION
ERROR: (<type 'exceptions.AssertionError'>, AssertionError(' (gtgslxaibvvmrq) == () ',), <traceback object at 0x106fbdd88>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 28322, in act563
    try: assert result == result_REF, " (%s) == (%s) " % (result, result_REF)
Original test has 373 steps

SAVING TEST AS failure.4103.test.7
FINAL VERSION OF TEST, WITH LOGGED REPLAY:
component0 = "phi"                                                       # STEP 0
component4 = "h"                                                         # STEP 1
component2 = "lambda"                                                    # STEP 2
component3 = "delta"                                                     # STEP 3
os0 = newFakeOS()                                                        # STEP 4
component1 = "phi"                                                       # STEP 5
path3 = "/Volumes/ramdisk/test"                                          # STEP 6
str1 = ""                                                                # STEP 7
path3 += "/" + component1                                                # STEP 8
str1 += 'g'                                                              # STEP 9
str1 += 't'                                                             # STEP 10
os0.rmdir(path3)                                                        # STEP 11
str1 += 'g'                                                             # STEP 12
str1 += 's'                                                             # STEP 13
os0.link(path3,path3)                                                   # STEP 14
component1 = "delta"                                                    # STEP 15
str1 += 'l'                                                             # STEP 16
os0.path.getsize(path3)                                                 # STEP 17
str1 += 'x'                                                             # STEP 18
str2 = ""                                                               # STEP 19
path1 = "/Volumes/ramdisk/test"                                         # STEP 20
str2 += 'r'                                                             # STEP 21
path1 += "/" + component3                                               # STEP 22
path1 += "/" + component4                                               # STEP 23
bytes0 = 0                                                              # STEP 24
bytes2 = 0                                                              # STEP 25
component3 = "c"                                                        # STEP 26
component4 = "e"                                                        # STEP 27
path0 = "/Volumes/ramdisk/test"                                         # STEP 28
fd0 = os0.open(path1, os.O_WRONLY | os.O_APPEND)                        # STEP 29
str4 = ""                                                               # STEP 30
str2 += " "                                                             # STEP 31
str4 += 'g'                                                             # STEP 32
str4 += 'x'                                                             # STEP 33
str4 = ""                                                               # STEP 34
os0.makedirs(path0)                                                     # STEP 35
result = sorted(os0.listdir(path0))                                     # STEP 36
result = os0.path.dirname(path1)                                        # STEP 37
str2 += 'd'                                                             # STEP 38
os0.symlink(path0,path0)                                                # STEP 39
result = os0.path.lexists(path1)                                        # STEP 40
str4 += 'w'                                                             # STEP 41
bytes3 = 0                                                              # STEP 42
os0.symlink(path1,path0)                                                # STEP 43
str4 += 'k'                                                             # STEP 44
os0.rmdir(path1)                                                        # STEP 45
str2 += 'u'                                                             # STEP 46
str2 += 'r'                                                             # STEP 47
stat0 = os0.stat(path1)                                                 # STEP 48
fd0 = os0.open(path1, os.O_RDONLY)                                      # STEP 49
str4 += 'r'                                                             # STEP 50
str2 += 'a'                                                             # STEP 51
fd0 = os0.open(path1, os.O_RDWR)                                        # STEP 52
str2 += 'o'                                                             # STEP 53
str4 += 'c'                                                             # STEP 54
str2 += 'x'                                                             # STEP 55
str4 += 'y'                                                             # STEP 56
fd0 = os0.open(path1, os.O_CREAT | os.O_WRONLY | os.O_TRUNC)            # STEP 57
str4 += 'a'                                                             # STEP 58
opener0 = newFakeOpener(os0)                                            # STEP 59
file0 = opener0(path1,'w')                                              # STEP 60
path4 = "/Volumes/ramdisk/test"                                         # STEP 61
os0.makedirs(path0)                                                     # STEP 62
path4 += "/" + component2                                               # STEP 63
bytes0 += 1                                                             # STEP 64
os0.rmdir(path1)                                                        # STEP 65
fd0 = os0.open(path1, os.O_CREAT | os.O_WRONLY)                         # STEP 66
path4 += "/" + component1                                               # STEP 67
str4 += 'k'                                                             # STEP 68
result = os0.path.dirname(path1)                                        # STEP 69
str2 += 'a'                                                             # STEP 70
str4 += 's'                                                             # STEP 71
fd0 = os0.open(path1, os.O_RDONLY)                                      # STEP 72
result = os0.path.lexists(path0)                                        # STEP 73
fd0 = os0.open(path1, os.O_CREAT | os.O_WRONLY | os.O_EXCL)             # STEP 74
path0 += "/" + component0                                               # STEP 75
result = os0.path.exists(path1)                                         # STEP 76
os0.remove(path0)                                                       # STEP 77
str4 += 'e'                                                             # STEP 78
stat0 = os0.lstat(path4)                                                # STEP 79
path2 = "/Volumes/ramdisk/test"                                         # STEP 80
result = os0.readlink(path4)                                            # STEP 81
result = os0.path.dirname(path1)                                        # STEP 82
result = os0.path.dirname(path0)                                        # STEP 83
component0 = "lambda"                                                   # STEP 84
os0.symlink(path4,path4)                                                # STEP 85
str4 += 'f'                                                             # STEP 86
fd0 = os0.open(path1, os.O_CREAT | os.O_WRONLY | os.O_EXCL)             # STEP 87
bytes4 = 0                                                              # STEP 88
component1 = "h"                                                        # STEP 89
stat1 = os0.lstat(path1)                                                # STEP 90
str4 += 'f'                                                             # STEP 91
str2 += 's'                                                             # STEP 92
file0 = opener0(path4,'a')                                              # STEP 93
stat2 = os0.lstat(path1)                                                # STEP 94
os0.path.getsize(path4)                                                 # STEP 95
os0.symlink(path2,path0)                                                # STEP 96
result = os0.path.exists(path1)                                         # STEP 97
bytes0 += 1                                                             # STEP 98
path4 += "/" + component1                                               # STEP 99
os0.mkdir(path0)                                                       # STEP 100
component2 = "beta"                                                    # STEP 101
stat1 = os0.lstat(path4)                                               # STEP 102
str4 += 'z'                                                            # STEP 103
stat1 = os0.lstat(path0)                                               # STEP 104
stat3 = os0.lstat(path1)                                               # STEP 105
file0 = opener0(path0,'w')                                             # STEP 106
str2 += 'p'                                                            # STEP 107
stat0 = os0.stat(path1)                                                # STEP 108
file0 = opener0(path3,'w')                                             # STEP 109
str4 += " "                                                            # STEP 110
path3 = "/Volumes/ramdisk/test"                                        # STEP 111
stat0 = os0.lstat(path1)                                               # STEP 112
result = os0.readlink(path3)                                           # STEP 113
stat2 = os0.lstat(path0)                                               # STEP 114
file0 = opener0(path1,'a')                                             # STEP 115
os0.link(path1,path4)                                                  # STEP 116
path1 += "/" + component0                                              # STEP 117
str2 += 'x'                                                            # STEP 118
str4 += 'k'                                                            # STEP 119
stat4 = os0.stat(path0)                                                # STEP 120
path1 += "/" + component1                                              # STEP 121
component1 = "delta"                                                   # STEP 122
str4 += 'e'                                                            # STEP 123
file0 = opener0(path1)                                                 # STEP 124
result = os0.path.dirname(path1)                                       # STEP 125
str4 += 'q'                                                            # STEP 126
str1 += 'a'                                                            # STEP 127
str2 += 'g'                                                            # STEP 128
path0 += "/" + component2                                              # STEP 129
os0.rename(path4,path3)                                                # STEP 130
file0 = opener0(path2)                                                 # STEP 131
bytes3 += 1                                                            # STEP 132
os0.link(path1,path1)                                                  # STEP 133
component2 = "g"                                                       # STEP 134
file0 = opener0(path2,'w')                                             # STEP 135
component0 = "d"                                                       # STEP 136
str4 += 'u'                                                            # STEP 137
result = os0.path.isdir(path4)                                         # STEP 138
str4 += 't'                                                            # STEP 139
fd0 = os0.open(path1, os.O_CREAT)                                      # STEP 140
fd0 = os0.open(path0, os.O_CREAT | os.O_WRONLY)                        # STEP 141
str4 += 'k'                                                            # STEP 142
os0.rename(path1,path3)                                                # STEP 143
str2 += 'b'                                                            # STEP 144
bytes3 = 0                                                             # STEP 145
str4 += 'm'                                                            # STEP 146
os0.rmdir(path0)                                                       # STEP 147
path2 = "/Volumes/ramdisk/test"                                        # STEP 148
os0.link(path2,path3)                                                  # STEP 149
str2 += " "                                                            # STEP 150
os0.write(fd0,str2)                                                    # STEP 151
os0.link(path0,path1)                                                  # STEP 152
file0 = opener0(path4,'w')                                             # STEP 153
os0.symlink(path4,path4)                                               # STEP 154
os0.makedirs(path1)                                                    # STEP 155
os0.rename(path1,path3)                                                # STEP 156
os0.mkdir(path1)                                                       # STEP 157
str2 += 'i'                                                            # STEP 158
str2 += 'f'                                                            # STEP 159
str2 += 'd'                                                            # STEP 160
path3 += "/" + component3                                              # STEP 161
str2 += 'b'                                                            # STEP 162
component3 = "h"                                                       # STEP 163
os0.symlink(path3,path3)                                               # STEP 164
result = os0.path.lexists(path3)                                       # STEP 165
str2 += 'n'                                                            # STEP 166
str2 += 't'                                                            # STEP 167
str2 += 'b'                                                            # STEP 168
str2 += 'e'                                                            # STEP 169
str2 += 'x'                                                            # STEP 170
bytes4 += 1                                                            # STEP 171
str2 += 'h'                                                            # STEP 172
stat0 = os0.lstat(path3)                                               # STEP 173
path1 = "/Volumes/ramdisk/test"                                        # STEP 174
result = os0.path.lexists(path3)                                       # STEP 175
str2 += 'i'                                                            # STEP 176
os0.link(path1,path3)                                                  # STEP 177
result = os0.path.isabs(path3)                                         # STEP 178
str3 = ""                                                              # STEP 179
str2 += 'x'                                                            # STEP 180
str2 += 'z'                                                            # STEP 181
str3 += 'm'                                                            # STEP 182
stat3 = os0.lstat(path3)                                               # STEP 183
path1 = "/Volumes/ramdisk/test"                                        # STEP 184
os0.path.getsize(path3)                                                # STEP 185
str3 += 'm'                                                            # STEP 186
result = os0.path.isabs(path3)                                         # STEP 187
result = stat3.st_nlink                                                # STEP 188
stat3 = os0.stat(path3)                                                # STEP 189
os0.rename(path3,path1)                                                # STEP 190
os0.link(path2,path2)                                                  # STEP 191
path2 += "/" + component1                                              # STEP 192
result = stat2.st_nlink                                                # STEP 193
os0.symlink(path3,path2)                                               # STEP 194
file0 = opener0(path1,'w')                                             # STEP 195
str4 += 'u'                                                            # STEP 196
os0.rmdir(path0)                                                       # STEP 197
result = os0.path.islink(path3)                                        # STEP 198
result = os0.path.abspath(path2)                                       # STEP 199
os0.symlink(path0,path1)                                               # STEP 200
str3 += 'e'                                                            # STEP 201
str2 += 'm'                                                            # STEP 202
component1 = "d"                                                       # STEP 203
str1 += 'i'                                                            # STEP 204
os0.symlink(path2,path0)                                               # STEP 205
str1 += 'b'                                                            # STEP 206
str4 += 'x'                                                            # STEP 207
path4 = "/Volumes/ramdisk/test"                                        # STEP 208
str1 += 'v'                                                            # STEP 209
path1 += "/" + component1                                              # STEP 210
str3 += 'a'                                                            # STEP 211
result = stat2.st_nlink                                                # STEP 212
component1 = "d"                                                       # STEP 213
file0 = opener0(path2,'r')                                             # STEP 214
os0.link(path0,path3)                                                  # STEP 215
result = os0.path.isdir(path4)                                         # STEP 216
str4 += 'v'                                                            # STEP 217
os0.mkdir(path2)                                                       # STEP 218
str2 += 'k'                                                            # STEP 219
str3 += 'a'                                                            # STEP 220
bytes0 = 0                                                             # STEP 221
file0 = opener0(path4,'r')                                             # STEP 222
str4 += 's'                                                            # STEP 223
str2 += 'e'                                                            # STEP 224
file0 = opener0(path0,'r')                                             # STEP 225
file0.seek(bytes2)                                                     # STEP 226
os0.symlink(path2,path0)                                               # STEP 227
os0.link(path4,path1)                                                  # STEP 228
str3 += 'g'                                                            # STEP 229
str3 += 'n'                                                            # STEP 230
result = sorted(os0.listdir(path1))                                    # STEP 231
os0.rename(path0,path4)                                                # STEP 232
str1 += 'v'                                                            # STEP 233
str2 += 's'                                                            # STEP 234
result = file0.readlines()                                             # STEP 235
path0 += "/" + component0                                              # STEP 236
str3 += 'd'                                                            # STEP 237
os0.rename(path0,path2)                                                # STEP 238
result = os0.read(fd0,bytes0)                                          # STEP 239
str4 += 'm'                                                            # STEP 240
component0 = "a"                                                       # STEP 241
result = file0.readline(bytes0)                                        # STEP 242
str3 += 'x'                                                            # STEP 243
str1 += 'm'                                                            # STEP 244
result = os0.read(fd0,bytes2)                                          # STEP 245
str3 += 'g'                                                            # STEP 246
os0.removedirs(path1)                                                  # STEP 247
result = file0.readline(bytes3)                                        # STEP 248
str2 += 'y'                                                            # STEP 249
stat2 = os0.stat(path3)                                                # STEP 250
path4 = "/Volumes/ramdisk/test"                                        # STEP 251
str1 += 'r'                                                            # STEP 252
result = stat2.st_nlink                                                # STEP 253
result = os0.readlink(path4)                                           # STEP 254
str2 += 'b'                                                            # STEP 255
str4 += 'j'                                                            # STEP 256
stat2 = os0.lstat(path0)                                               # STEP 257
str3 += 'l'                                                            # STEP 258
result = os0.path.isfile(path4)                                        # STEP 259
str2 += 'y'                                                            # STEP 260
str4 += 'g'                                                            # STEP 261
result = os0.path.isdir(path0)                                         # STEP 262
os0.mkdir(path4)                                                       # STEP 263
os0.rename(path3,path4)                                                # STEP 264
str2 += 'i'                                                            # STEP 265
result = os0.path.isabs(path2)                                         # STEP 266
os0.symlink(path0,path4)                                               # STEP 267
os0.rmdir(path0)                                                       # STEP 268
os0.symlink(path3,path0)                                               # STEP 269
str3 += 'r'                                                            # STEP 270
str4 += 'g'                                                            # STEP 271
path4 += "/" + component1                                              # STEP 272
result = os0.path.abspath(path0)                                       # STEP 273
str3 += 'd'                                                            # STEP 274
str4 += 'v'                                                            # STEP 275
str4 += 'h'                                                            # STEP 276
os0.makedirs(path0)                                                    # STEP 277
str1 += 'q'                                                            # STEP 278
result = file0.readline(bytes2)                                        # STEP 279
result = file0.read()                                                  # STEP 280
str2 += 'o'                                                            # STEP 281
result = file0.read(bytes0)                                            # STEP 282
os0.rmdir(path0)                                                       # STEP 283
os0.symlink(path4,path4)                                               # STEP 284
str2 += 'v'                                                            # STEP 285
result = os0.path.dirname(path2)                                       # STEP 286
os0.makedirs(path1)                                                    # STEP 287
str3 = ""                                                              # STEP 288
os0.write(fd0,str1)                                                    # STEP 289
str3 += 'u'                                                            # STEP 290
os0.symlink(path4,path4)                                               # STEP 291
file0.write(str3)                                                      # STEP 292
str4 += 'n'                                                            # STEP 293
str1 += 'r'                                                            # STEP 294
str1 += 'o'                                                            # STEP 295
str4 += 'r'                                                            # STEP 296
os0.rename(path2,path1)                                                # STEP 297
path0 += "/" + component0                                              # STEP 298
str2 += 'd'                                                            # STEP 299
component1 = "d"                                                       # STEP 300
str2 += 's'                                                            # STEP 301
str4 += 'x'                                                            # STEP 302
path1 += "/" + component3                                              # STEP 303
str1 += 'w'                                                            # STEP 304
str4 += 'v'                                                            # STEP 305
path3 += "/" + component3                                              # STEP 306
str2 += 'p'                                                            # STEP 307
result = os0.path.isabs(path3)                                         # STEP 308
str1 += 'f'                                                            # STEP 309
os0.link(path4,path2)                                                  # STEP 310
result = os0.path.abspath(path1)                                       # STEP 311
result = os0.path.dirname(path2)                                       # STEP 312
result = os0.path.isabs(path4)                                         # STEP 313
str1 += 'd'                                                            # STEP 314
result = os0.path.abspath(path3)                                       # STEP 315
os0.symlink(path0,path0)                                               # STEP 316
result = os0.path.dirname(path1)                                       # STEP 317
str3 += 'l'                                                            # STEP 318
str1 += 'd'                                                            # STEP 319
os0.symlink(path3,path0)                                               # STEP 320
result = os0.path.dirname(path1)                                       # STEP 321
result = file0.read(bytes0)                                            # STEP 322
os0.rename(path3,path4)                                                # STEP 323
str1 += 'j'                                                            # STEP 324
os0.link(path4,path2)                                                  # STEP 325
str1 += 'p'                                                            # STEP 326
os0.mkdir(path2)                                                       # STEP 327
str2 += 'f'                                                            # STEP 328
result = os0.path.exists(path3)                                        # STEP 329
os0.removedirs(path0)                                                  # STEP 330
str1 += 'm'                                                            # STEP 331
os0.mkdir(path3)                                                       # STEP 332
str4 += 'b'                                                            # STEP 333
path0 = "/Volumes/ramdisk/test"                                        # STEP 334
result = os0.path.isdir(path0)                                         # STEP 335
path4 += "/" + component4                                              # STEP 336
component0 = "e"                                                       # STEP 337
str3 += 'p'                                                            # STEP 338
str4 += 'u'                                                            # STEP 339
os0.remove(path4)                                                      # STEP 340
os0.link(path3,path4)                                                  # STEP 341
os0.makedirs(path2)                                                    # STEP 342
str4 += 'w'                                                            # STEP 343
str1 += 'o'                                                            # STEP 344
component4 = "lambda"                                                  # STEP 345
result = os0.path.islink(path0)                                        # STEP 346
str4 += 'b'                                                            # STEP 347
bytes0 += 1                                                            # STEP 348
result = os0.path.isfile(path0)                                        # STEP 349
str1 += 'n'                                                            # STEP 350
bytes2 = 0                                                             # STEP 351
str1 += 'd'                                                            # STEP 352
os0.link(path2,path3)                                                  # STEP 353
os0.rmdir(path4)                                                       # STEP 354
os0.link(path2,path3)                                                  # STEP 355
str3 += 'y'                                                            # STEP 356
os0.rename(path2,path0)                                                # STEP 357
str2 += 'u'                                                            # STEP 358
os0.symlink(path3,path0)                                               # STEP 359
os0.mkdir(path3)                                                       # STEP 360
path2 += "/" + component4                                              # STEP 361
result = os0.path.isabs(path2)                                         # STEP 362
path2 += "/" + component1                                              # STEP 363
path3 += "/" + component1                                              # STEP 364
result = os0.path.islink(path2)                                        # STEP 365
component1 = "f"                                                       # STEP 366
result = os0.read(fd0,bytes2)                                          # STEP 367
os0.link(path4,path4)                                                  # STEP 368
file0.write(str3)                                                      # STEP 369
str2 += 'l'                                                            # STEP 370
str2 += 'z'                                                            # STEP 371
result = file0.read()                                                  # STEP 372
ERROR: (<type 'exceptions.AssertionError'>, AssertionError(' (gtgslxaibvvmrq) == () ',), <traceback object at 0x106d81368>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 28322, in act563
    try: assert result == result_REF, " (%s) == (%s) " % (result, result_REF)
FAILURE IS NEW, STORING; NOW 8 DISTINCT FAILURES
STOPPING TEST DUE TO TIMEOUT, TERMINATED AT LENGTH 433
STOPPING TESTING DUE TO TIMEOUT
42.474916388 PERCENT COVERED
60.3357050419 TOTAL RUNTIME
185 EXECUTED
18091 TOTAL TEST OPERATIONS
24.6490125656 TIME SPENT EXECUTING TEST OPERATIONS
0.629932880402 TIME SPENT EVALUATING GUARDS AND CHOOSING ACTIONS
0.0117697715759 TIME SPENT CHECKING PROPERTIES
24.6607823372 TOTAL TIME SPENT RUNNING SUT
0.545919656754 TIME SPENT RESTARTING
0.0 TIME SPENT REDUCING TEST CASES
8 FAILED
0 REPEATS OF FAILURES
8 ACTUAL DISTINCT FAILURES

FAILURE 0
component3 = "b"                                                         # STEP 0
component0 = "epsilon"                                                   # STEP 1
component2 = "phi"                                                       # STEP 2
component4 = "c"                                                         # STEP 3
bytes2 = 0                                                               # STEP 4
os0 = newFakeOS()                                                        # STEP 5
path2 = "/Volumes/ramdisk/test"                                          # STEP 6
str1 = ""                                                                # STEP 7
path3 = "/Volumes/ramdisk/test"                                          # STEP 8
str1 += 'j'                                                              # STEP 9
component1 = "phi"                                                      # STEP 10
bytes0 = 0                                                              # STEP 11
bytes0 += 1                                                             # STEP 12
result = os0.path.isfile(path2)                                         # STEP 13
str1 += 'e'                                                             # STEP 14
result = os0.path.isdir(path3)                                          # STEP 15
str1 += 'k'                                                             # STEP 16
str1 += 'w'                                                             # STEP 17
str1 += 'f'                                                             # STEP 18
str1 += 'w'                                                             # STEP 19
os0.symlink(path3,path3)                                                # STEP 20
str1 += 'c'                                                             # STEP 21
bytes4 = 0                                                              # STEP 22
str1 += 'h'                                                             # STEP 23
result = os0.path.dirname(path2)                                        # STEP 24
str1 += 'z'                                                             # STEP 25
str1 += " "                                                             # STEP 26
path2 += "/" + component2                                               # STEP 27
result = os0.path.isdir(path2)                                          # STEP 28
result = os0.path.dirname(path2)                                        # STEP 29
component2 = "h"                                                        # STEP 30
stat1 = os0.lstat(path2)                                                # STEP 31
result = os0.path.exists(path3)                                         # STEP 32
bytes1 = 0                                                              # STEP 33
path3 += "/" + component0                                               # STEP 34
os0.path.getsize(path3)                                                 # STEP 35
fd0 = os0.open(path3, os.O_CREAT | os.O_WRONLY | os.O_EXCL)             # STEP 36
os0.link(path2,path3)                                                   # STEP 37
result = os0.path.exists(path2)                                         # STEP 38
bytes2 += 1                                                             # STEP 39
component0 = "epsilon"                                                  # STEP 40
result = os0.path.isabs(path3)                                          # STEP 41
stat0 = os0.stat(path2)                                                 # STEP 42
result = os0.path.exists(path2)                                         # STEP 43
os0.rmdir(path2)                                                        # STEP 44
str1 += 'm'                                                             # STEP 45
result = os0.path.isdir(path2)                                          # STEP 46
bytes4 += 1                                                             # STEP 47
result = os0.path.isabs(path3)                                          # STEP 48
str1 += 'r'                                                             # STEP 49
result = os0.path.exists(path3)                                         # STEP 50
str1 += 'n'                                                             # STEP 51
str1 += 'l'                                                             # STEP 52
str1 += 'l'                                                             # STEP 53
path2 += "/" + component0                                               # STEP 54
str1 += 'r'                                                             # STEP 55
result = os0.path.abspath(path2)                                        # STEP 56
component0 = "epsilon"                                                  # STEP 57
stat1 = os0.fstat(fd0)                                                  # STEP 58
stat4 = os0.fstat(fd0)                                                  # STEP 59
result = os0.path.lexists(path2)                                        # STEP 60
result = stat4.st_nlink                                                 # STEP 61
result = stat1.st_size                                                  # STEP 62
str1 += 'a'                                                             # STEP 63
stat1 = os0.fstat(fd0)                                                  # STEP 64
os0.close(fd0)                                                          # STEP 65
fd0 = os0.open(path2, os.O_CREAT | os.O_EXCL)                           # STEP 66
stat3 = os0.stat(path2)                                                 # STEP 67
result = os0.read(fd0,bytes0)                                           # STEP 68
os0.symlink(path2,path2)                                                # STEP 69
bytes1 += 1                                                             # STEP 70
result = stat4.st_size                                                  # STEP 71
result = os0.path.isabs(path3)                                          # STEP 72
os0.rename(path3,path2)                                                 # STEP 73
stat4 = os0.lstat(path2)                                                # STEP 74
opener0 = newFakeOpener(os0)                                            # STEP 75
path2 += "/" + component3                                               # STEP 76
str3 = ""                                                               # STEP 77
result = os0.path.abspath(path3)                                        # STEP 78
str1 += 'i'                                                             # STEP 79
str3 += " "                                                             # STEP 80
os0.symlink(path3,path3)                                                # STEP 81
str3 += 'd'                                                             # STEP 82
os0.path.getsize(path2)                                                 # STEP 83
str1 += 'v'                                                             # STEP 84
str3 += 'b'                                                             # STEP 85
stat0 = os0.stat(path3)                                                 # STEP 86
file0 = opener0(path3,'w')                                              # STEP 87
file0.seek(bytes2)                                                      # STEP 88
stat3 = os0.fstat(fd0)                                                  # STEP 89
path3 += "/" + component2                                               # STEP 90
result = file0.readline()                                               # STEP 91
result = os0.path.isdir(path2)                                          # STEP 92
str0 = ""                                                               # STEP 93
str1 += 'j'                                                             # STEP 94
result = file0.readline()                                               # STEP 95
str0 += 'z'                                                             # STEP 96
str3 = ""                                                               # STEP 97
str3 += 'l'                                                             # STEP 98
bytes4 += 1                                                             # STEP 99
os0.symlink(path3,path3)                                               # STEP 100
str3 += 'v'                                                            # STEP 101
component3 = "e"                                                       # STEP 102
str3 += 'u'                                                            # STEP 103
str0 += 'l'                                                            # STEP 104
result = file0.readlines()                                             # STEP 105
str1 += 'h'                                                            # STEP 106
str0 += 'g'                                                            # STEP 107
str0 += 'f'                                                            # STEP 108
result = os0.read(fd0,bytes1)                                          # STEP 109
result = stat3.st_nlink                                                # STEP 110
result = stat1.st_nlink                                                # STEP 111
stat1 = os0.stat(path3)                                                # STEP 112
result = stat0.st_nlink                                                # STEP 113
str0 += 'z'                                                            # STEP 114
file0.seek(bytes1)                                                     # STEP 115
result = os0.path.isdir(path2)                                         # STEP 116
result = file0.read(bytes2)                                            # STEP 117
ERROR: (<type 'exceptions.OSError'>, OSError(9, 'File is not open for reading.'), <traceback object at 0x1075d2638>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 28468, in act566
    result = self.p_file[0].read(self.p_bytes[2])
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4284, in read_error
    self._raise('File is not open for reading.')
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4112, in _raise
    raise OSError(errno.EBADF, message)
FAILURE 1
component3 = "b"                                                         # STEP 0
component0 = "epsilon"                                                   # STEP 1
component2 = "phi"                                                       # STEP 2
component4 = "c"                                                         # STEP 3
bytes2 = 0                                                               # STEP 4
os0 = newFakeOS()                                                        # STEP 5
path2 = "/Volumes/ramdisk/test"                                          # STEP 6
str1 = ""                                                                # STEP 7
path3 = "/Volumes/ramdisk/test"                                          # STEP 8
str1 += 'j'                                                              # STEP 9
component1 = "phi"                                                      # STEP 10
bytes0 = 0                                                              # STEP 11
bytes0 += 1                                                             # STEP 12
result = os0.path.isfile(path2)                                         # STEP 13
str1 += 'e'                                                             # STEP 14
result = os0.path.isdir(path3)                                          # STEP 15
str1 += 'k'                                                             # STEP 16
str1 += 'w'                                                             # STEP 17
str1 += 'f'                                                             # STEP 18
str1 += 'w'                                                             # STEP 19
os0.symlink(path3,path3)                                                # STEP 20
str1 += 'c'                                                             # STEP 21
bytes4 = 0                                                              # STEP 22
str1 += 'h'                                                             # STEP 23
result = os0.path.dirname(path2)                                        # STEP 24
str1 += 'z'                                                             # STEP 25
str1 += " "                                                             # STEP 26
path2 += "/" + component2                                               # STEP 27
result = os0.path.isdir(path2)                                          # STEP 28
result = os0.path.dirname(path2)                                        # STEP 29
component2 = "h"                                                        # STEP 30
stat1 = os0.lstat(path2)                                                # STEP 31
result = os0.path.exists(path3)                                         # STEP 32
bytes1 = 0                                                              # STEP 33
path3 += "/" + component0                                               # STEP 34
os0.path.getsize(path3)                                                 # STEP 35
fd0 = os0.open(path3, os.O_CREAT | os.O_WRONLY | os.O_EXCL)             # STEP 36
os0.link(path2,path3)                                                   # STEP 37
result = os0.path.exists(path2)                                         # STEP 38
bytes2 += 1                                                             # STEP 39
component0 = "epsilon"                                                  # STEP 40
result = os0.path.isabs(path3)                                          # STEP 41
stat0 = os0.stat(path2)                                                 # STEP 42
result = os0.path.exists(path2)                                         # STEP 43
os0.rmdir(path2)                                                        # STEP 44
str1 += 'm'                                                             # STEP 45
result = os0.path.isdir(path2)                                          # STEP 46
bytes4 += 1                                                             # STEP 47
result = os0.path.isabs(path3)                                          # STEP 48
str1 += 'r'                                                             # STEP 49
result = os0.path.exists(path3)                                         # STEP 50
str1 += 'n'                                                             # STEP 51
str1 += 'l'                                                             # STEP 52
str1 += 'l'                                                             # STEP 53
path2 += "/" + component0                                               # STEP 54
str1 += 'r'                                                             # STEP 55
result = os0.path.abspath(path2)                                        # STEP 56
component0 = "epsilon"                                                  # STEP 57
stat1 = os0.fstat(fd0)                                                  # STEP 58
stat4 = os0.fstat(fd0)                                                  # STEP 59
result = os0.path.lexists(path2)                                        # STEP 60
result = stat4.st_nlink                                                 # STEP 61
result = stat1.st_size                                                  # STEP 62
str1 += 'a'                                                             # STEP 63
stat1 = os0.fstat(fd0)                                                  # STEP 64
os0.close(fd0)                                                          # STEP 65
fd0 = os0.open(path2, os.O_CREAT | os.O_EXCL)                           # STEP 66
stat3 = os0.stat(path2)                                                 # STEP 67
result = os0.read(fd0,bytes0)                                           # STEP 68
os0.symlink(path2,path2)                                                # STEP 69
bytes1 += 1                                                             # STEP 70
result = stat4.st_size                                                  # STEP 71
result = os0.path.isabs(path3)                                          # STEP 72
os0.rename(path3,path2)                                                 # STEP 73
stat4 = os0.lstat(path2)                                                # STEP 74
opener0 = newFakeOpener(os0)                                            # STEP 75
path2 += "/" + component3                                               # STEP 76
str3 = ""                                                               # STEP 77
result = os0.path.abspath(path3)                                        # STEP 78
str1 += 'i'                                                             # STEP 79
str3 += " "                                                             # STEP 80
os0.symlink(path3,path3)                                                # STEP 81
str3 += 'd'                                                             # STEP 82
os0.path.getsize(path2)                                                 # STEP 83
str1 += 'v'                                                             # STEP 84
stat2 = os0.fstat(fd0)                                                  # STEP 85
str3 += 'b'                                                             # STEP 86
stat0 = os0.stat(path3)                                                 # STEP 87
file0 = opener0(path3,'w')                                              # STEP 88
str0 = ""                                                               # STEP 89
file0.next()                                                            # STEP 90
result = os0.path.isdir(path3)                                          # STEP 91
result = os0.path.isdir(path3)                                          # STEP 92
str1 += 'i'                                                             # STEP 93
str3 += 'b'                                                             # STEP 94
component3 = "a"                                                        # STEP 95
result = stat4.st_size                                                  # STEP 96
str3 += 'y'                                                             # STEP 97
str0 += 'x'                                                             # STEP 98
str1 += 'c'                                                             # STEP 99
result = os0.path.exists(path3)                                        # STEP 100
result = stat4.st_size                                                 # STEP 101
str0 += 'h'                                                            # STEP 102
path0 = "/Volumes/ramdisk/test"                                        # STEP 103
str3 += 'o'                                                            # STEP 104
os0.symlink(path0,path2)                                               # STEP 105
stat3 = os0.fstat(fd0)                                                 # STEP 106
str1 += " "                                                            # STEP 107
path4 = "/Volumes/ramdisk/test"                                        # STEP 108
path0 += "/" + component2                                              # STEP 109
result = os0.path.exists(path3)                                        # STEP 110
str3 += 'x'                                                            # STEP 111
os0.link(path2,path3)                                                  # STEP 112
result = stat4.st_size                                                 # STEP 113
path4 += "/" + component4                                              # STEP 114
result = stat0.st_size                                                 # STEP 115
component4 = "beta"                                                    # STEP 116
stat2 = os0.lstat(path2)                                               # STEP 117
result = file0.read(bytes0)                                            # STEP 118
os0.symlink(path4,path0)                                               # STEP 119
os0.remove(path3)                                                      # STEP 120
result = os0.path.islink(path0)                                        # STEP 121
stat0 = os0.lstat(path3)                                               # STEP 122
stat4 = os0.lstat(path4)                                               # STEP 123
str1 += 'n'                                                            # STEP 124
result = os0.path.exists(path2)                                        # STEP 125
result = os0.path.exists(path4)                                        # STEP 126
component2 = "epsilon"                                                 # STEP 127
os0.link(path4,path2)                                                  # STEP 128
result = os0.path.isfile(path3)                                        # STEP 129
file0.truncate()                                                       # STEP 130
bytes0 = 0                                                             # STEP 131
file0.flush()                                                          # STEP 132
str1 += 'm'                                                            # STEP 133
result = stat4.st_nlink                                                # STEP 134
path1 = "/Volumes/ramdisk/test"                                        # STEP 135
result = os0.path.exists(path4)                                        # STEP 136
result = os0.path.isabs(path2)                                         # STEP 137
os0.symlink(path0,path3)                                               # STEP 138
os0.link(path0,path1)                                                  # STEP 139
str1 += 'g'                                                            # STEP 140
result = file0.readlines()                                             # STEP 141
result = file0.readlines()                                             # STEP 142
path1 += "/" + component3                                              # STEP 143
path3 += "/" + component4                                              # STEP 144
result = os0.path.isdir(path3)                                         # STEP 145
component4 = "epsilon"                                                 # STEP 146
path2 += "/" + component1                                              # STEP 147
os0.removedirs(path2)                                                  # STEP 148
component3 = "alpha"                                                   # STEP 149
os0.symlink(path0,path4)                                               # STEP 150
str0 += 'o'                                                            # STEP 151
str0 += 'd'                                                            # STEP 152
os0.rename(path4,path0)                                                # STEP 153
os0.remove(path4)                                                      # STEP 154
str0 += 'n'                                                            # STEP 155
str0 += 'c'                                                            # STEP 156
result = file0.readline(bytes0)                                        # STEP 157
result = stat0.st_size                                                 # STEP 158
os0.link(path2,path0)                                                  # STEP 159
path2 += "/" + component1                                              # STEP 160
os0.link(path3,path3)                                                  # STEP 161
path0 += "/" + component3                                              # STEP 162
os0.rename(path2,path1)                                                # STEP 163
result = os0.path.dirname(path0)                                       # STEP 164
str0 += 'l'                                                            # STEP 165
os0.path.getsize(path2)                                                # STEP 166
path0 += "/" + component3                                              # STEP 167
file0.write(str0)                                                      # STEP 168
component1 = "f"                                                       # STEP 169
result = file0.readline(bytes1)                                        # STEP 170
path0 += "/" + component4                                              # STEP 171
os0.mkdir(path4)                                                       # STEP 172
os0.write(fd0,str0)                                                    # STEP 173
str0 = ""                                                              # STEP 174
result = stat3.st_size                                                 # STEP 175
component3 = "beta"                                                    # STEP 176
os0.rename(path3,path2)                                                # STEP 177
result = os0.read(fd0,bytes2)                                          # STEP 178
os0.symlink(path1,path4)                                               # STEP 179
str0 += 'b'                                                            # STEP 180
file0.write(str3)                                                      # STEP 181
component4 = "a"                                                       # STEP 182
os0.rename(path1,path3)                                                # STEP 183
result = os0.path.abspath(path0)                                       # STEP 184
os0.link(path0,path0)                                                  # STEP 185
result = sorted(os0.listdir(path2))                                    # STEP 186
result = os0.path.islink(path1)                                        # STEP 187
stat3 = os0.lstat(path2)                                               # STEP 188
path1 += "/" + component0                                              # STEP 189
str1 += 'i'                                                            # STEP 190
os0.rename(path3,path0)                                                # STEP 191
str0 += 'w'                                                            # STEP 192
str3 += 'n'                                                            # STEP 193
result = os0.path.isfile(path1)                                        # STEP 194
os0.link(path0,path1)                                                  # STEP 195
str1 += 'q'                                                            # STEP 196
str3 += 'x'                                                            # STEP 197
str0 += 'v'                                                            # STEP 198
file0.write(str0)                                                      # STEP 199
os0.rename(path0,path4)                                                # STEP 200
stat2 = os0.stat(path0)                                                # STEP 201
file0.next()                                                           # STEP 202
os0.link(path0,path3)                                                  # STEP 203
component0 = "phi"                                                     # STEP 204
stat2 = os0.lstat(path2)                                               # STEP 205
result = file0.read()                                                  # STEP 206
ERROR: (<type 'exceptions.OSError'>, OSError(9, 'File is not open for reading.'), <traceback object at 0x107ddb8c0>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 28293, in act563
    result = self.p_file[0].read()
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4284, in read_error
    self._raise('File is not open for reading.')
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4112, in _raise
    raise OSError(errno.EBADF, message)
FAILURE 2
path1 = "/Volumes/ramdisk/test"                                          # STEP 0
component2 = "gamma"                                                     # STEP 1
component0 = "lambda"                                                    # STEP 2
component4 = "delta"                                                     # STEP 3
component1 = "delta"                                                     # STEP 4
bytes3 = 0                                                               # STEP 5
component3 = "d"                                                         # STEP 6
bytes3 += 1                                                              # STEP 7
path0 = "/Volumes/ramdisk/test"                                          # STEP 8
os0 = newFakeOS()                                                        # STEP 9
result = os0.path.isabs(path0)                                          # STEP 10
result = os0.path.isfile(path0)                                         # STEP 11
os0.makedirs(path0)                                                     # STEP 12
bytes1 = 0                                                              # STEP 13
result = os0.path.isabs(path1)                                          # STEP 14
result = os0.path.dirname(path0)                                        # STEP 15
result = os0.path.exists(path1)                                         # STEP 16
os0.makedirs(path0)                                                     # STEP 17
str3 = ""                                                               # STEP 18
result = os0.path.isdir(path0)                                          # STEP 19
str3 += 'w'                                                             # STEP 20
result = os0.path.abspath(path0)                                        # STEP 21
path1 += "/" + component1                                               # STEP 22
str3 += 'w'                                                             # STEP 23
bytes0 = 0                                                              # STEP 24
path1 += "/" + component2                                               # STEP 25
os0.symlink(path1,path1)                                                # STEP 26
opener0 = newFakeOpener(os0)                                            # STEP 27
component1 = "beta"                                                     # STEP 28
path1 += "/" + component2                                               # STEP 29
fd0 = os0.open(path1, os.O_CREAT | os.O_WRONLY)                         # STEP 30
component2 = "e"                                                        # STEP 31
file0 = opener0(path1,'a')                                              # STEP 32
os0.remove(path0)                                                       # STEP 33
stat2 = os0.lstat(path1)                                                # STEP 34
os0.link(path0,path0)                                                   # STEP 35
file0 = opener0(path0,'a')                                              # STEP 36
str3 += 'e'                                                             # STEP 37
result = sorted(os0.listdir(path1))                                     # STEP 38
path0 += "/" + component1                                               # STEP 39
stat2 = os0.lstat(path0)                                                # STEP 40
fd0 = os0.open(path0, os.O_CREAT | os.O_WRONLY | os.O_EXCL)             # STEP 41
file0 = opener0(path0,'w')                                              # STEP 42
stat4 = os0.lstat(path1)                                                # STEP 43
stat0 = os0.fstat(fd0)                                                  # STEP 44
stat3 = os0.lstat(path1)                                                # STEP 45
component1 = "gamma"                                                    # STEP 46
result = os0.path.islink(path1)                                         # STEP 47
os0.makedirs(path1)                                                     # STEP 48
os0.rename(path1,path0)                                                 # STEP 49
result = os0.path.abspath(path1)                                        # STEP 50
result = os0.path.dirname(path1)                                        # STEP 51
result = file0.readline(bytes3)                                         # STEP 52
path0 += "/" + component3                                               # STEP 53
result = file0.readline()                                               # STEP 54
component3 = "h"                                                        # STEP 55
os0.remove(path1)                                                       # STEP 56
os0.removedirs(path1)                                                   # STEP 57
result = stat0.st_nlink                                                 # STEP 58
path1 += "/" + component0                                               # STEP 59
file0.write(str3)                                                       # STEP 60
file0.seek(bytes3)                                                      # STEP 61
os0.rename(path1,path0)                                                 # STEP 62
result = os0.path.abspath(path1)                                        # STEP 63
component0 = "h"                                                        # STEP 64
result = os0.path.exists(path1)                                         # STEP 65
stat4 = os0.stat(path1)                                                 # STEP 66
str2 = ""                                                               # STEP 67
str2 += 'j'                                                             # STEP 68
str4 = ""                                                               # STEP 69
str4 += 'x'                                                             # STEP 70
str4 += 'k'                                                             # STEP 71
path4 = "/Volumes/ramdisk/test"                                         # STEP 72
str2 += 'h'                                                             # STEP 73
path4 += "/" + component1                                               # STEP 74
os0.rename(path0,path4)                                                 # STEP 75
path2 = "/Volumes/ramdisk/test"                                         # STEP 76
str4 += 'k'                                                             # STEP 77
str2 += 't'                                                             # STEP 78
stat0 = os0.stat(path4)                                                 # STEP 79
str3 += 'z'                                                             # STEP 80
str3 += 'v'                                                             # STEP 81
component1 = "d"                                                        # STEP 82
str3 += 'n'                                                             # STEP 83
stat2 = os0.stat(path0)                                                 # STEP 84
str4 += 's'                                                             # STEP 85
result = os0.readlink(path2)                                            # STEP 86
str2 += 'w'                                                             # STEP 87
result = os0.readlink(path2)                                            # STEP 88
str2 += 'j'                                                             # STEP 89
stat1 = os0.fstat(fd0)                                                  # STEP 90
result = os0.path.isabs(path4)                                          # STEP 91
file0.seek(bytes0)                                                      # STEP 92
str2 += 'e'                                                             # STEP 93
os0.link(path4,path0)                                                   # STEP 94
result = os0.path.dirname(path0)                                        # STEP 95
os0.link(path4,path2)                                                   # STEP 96
stat3 = os0.lstat(path4)                                                # STEP 97
result = os0.path.isdir(path0)                                          # STEP 98
stat3 = os0.stat(path1)                                                 # STEP 99
result = file0.readline(bytes3)                                        # STEP 100
result = stat1.st_size                                                 # STEP 101
ERROR: (<type 'exceptions.AssertionError'>, AssertionError(' (0) == (3) ',), <traceback object at 0x108d8a5a8>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 21826, in act458
    try: assert result == result_REF, " (%s) == (%s) " % (result, result_REF)
FAILURE 3
component3 = "b"                                                         # STEP 0
component0 = "epsilon"                                                   # STEP 1
component2 = "phi"                                                       # STEP 2
component4 = "c"                                                         # STEP 3
bytes2 = 0                                                               # STEP 4
os0 = newFakeOS()                                                        # STEP 5
path2 = "/Volumes/ramdisk/test"                                          # STEP 6
str1 = ""                                                                # STEP 7
path3 = "/Volumes/ramdisk/test"                                          # STEP 8
str1 += 'j'                                                              # STEP 9
component1 = "phi"                                                      # STEP 10
bytes0 = 0                                                              # STEP 11
bytes0 += 1                                                             # STEP 12
result = os0.path.isfile(path2)                                         # STEP 13
str1 += 'e'                                                             # STEP 14
result = os0.path.isdir(path3)                                          # STEP 15
str1 += 'k'                                                             # STEP 16
str1 += 'w'                                                             # STEP 17
str1 += 'f'                                                             # STEP 18
str1 += 'w'                                                             # STEP 19
os0.symlink(path3,path3)                                                # STEP 20
str1 += 'c'                                                             # STEP 21
bytes4 = 0                                                              # STEP 22
str1 += 'h'                                                             # STEP 23
result = os0.path.dirname(path2)                                        # STEP 24
str1 += 'z'                                                             # STEP 25
str1 += " "                                                             # STEP 26
path2 += "/" + component2                                               # STEP 27
result = os0.path.isdir(path2)                                          # STEP 28
result = os0.path.dirname(path2)                                        # STEP 29
component2 = "h"                                                        # STEP 30
stat1 = os0.lstat(path2)                                                # STEP 31
result = os0.path.exists(path3)                                         # STEP 32
bytes1 = 0                                                              # STEP 33
path3 += "/" + component0                                               # STEP 34
os0.path.getsize(path3)                                                 # STEP 35
fd0 = os0.open(path3, os.O_CREAT | os.O_WRONLY | os.O_EXCL)             # STEP 36
os0.link(path2,path3)                                                   # STEP 37
result = os0.path.exists(path2)                                         # STEP 38
bytes2 += 1                                                             # STEP 39
component0 = "epsilon"                                                  # STEP 40
result = os0.path.isabs(path3)                                          # STEP 41
stat0 = os0.stat(path2)                                                 # STEP 42
result = os0.path.exists(path2)                                         # STEP 43
os0.rmdir(path2)                                                        # STEP 44
str1 += 'm'                                                             # STEP 45
result = os0.path.isdir(path2)                                          # STEP 46
bytes4 += 1                                                             # STEP 47
result = os0.path.isabs(path3)                                          # STEP 48
str1 += 'r'                                                             # STEP 49
result = os0.path.exists(path3)                                         # STEP 50
str1 += 'n'                                                             # STEP 51
str1 += 'l'                                                             # STEP 52
str1 += 'l'                                                             # STEP 53
path2 += "/" + component0                                               # STEP 54
str1 += 'r'                                                             # STEP 55
result = os0.path.abspath(path2)                                        # STEP 56
component0 = "epsilon"                                                  # STEP 57
stat1 = os0.fstat(fd0)                                                  # STEP 58
stat4 = os0.fstat(fd0)                                                  # STEP 59
result = os0.path.lexists(path2)                                        # STEP 60
result = stat4.st_nlink                                                 # STEP 61
result = stat1.st_size                                                  # STEP 62
str1 += 'a'                                                             # STEP 63
stat1 = os0.fstat(fd0)                                                  # STEP 64
os0.close(fd0)                                                          # STEP 65
fd0 = os0.open(path2, os.O_CREAT | os.O_EXCL)                           # STEP 66
stat3 = os0.stat(path2)                                                 # STEP 67
result = os0.read(fd0,bytes0)                                           # STEP 68
os0.symlink(path2,path2)                                                # STEP 69
bytes1 += 1                                                             # STEP 70
result = stat4.st_size                                                  # STEP 71
result = os0.path.isabs(path3)                                          # STEP 72
os0.rename(path3,path2)                                                 # STEP 73
stat4 = os0.lstat(path2)                                                # STEP 74
opener0 = newFakeOpener(os0)                                            # STEP 75
path2 += "/" + component3                                               # STEP 76
str3 = ""                                                               # STEP 77
result = os0.path.abspath(path3)                                        # STEP 78
str1 += 'i'                                                             # STEP 79
str3 += " "                                                             # STEP 80
os0.symlink(path3,path3)                                                # STEP 81
str3 += 'd'                                                             # STEP 82
os0.path.getsize(path2)                                                 # STEP 83
str1 += 'v'                                                             # STEP 84
stat2 = os0.fstat(fd0)                                                  # STEP 85
str3 += 'b'                                                             # STEP 86
stat0 = os0.stat(path3)                                                 # STEP 87
file0 = opener0(path3,'w')                                              # STEP 88
str0 = ""                                                               # STEP 89
file0.next()                                                            # STEP 90
result = os0.path.isdir(path3)                                          # STEP 91
result = os0.path.isdir(path3)                                          # STEP 92
str1 += 'i'                                                             # STEP 93
str3 += 'b'                                                             # STEP 94
component3 = "a"                                                        # STEP 95
result = stat4.st_size                                                  # STEP 96
str3 += 'y'                                                             # STEP 97
str0 += 'x'                                                             # STEP 98
str1 += 'c'                                                             # STEP 99
result = os0.path.exists(path3)                                        # STEP 100
result = stat4.st_size                                                 # STEP 101
str0 += 'h'                                                            # STEP 102
path0 = "/Volumes/ramdisk/test"                                        # STEP 103
str3 += 'o'                                                            # STEP 104
os0.symlink(path0,path2)                                               # STEP 105
stat3 = os0.fstat(fd0)                                                 # STEP 106
str1 += " "                                                            # STEP 107
path4 = "/Volumes/ramdisk/test"                                        # STEP 108
path0 += "/" + component2                                              # STEP 109
result = os0.path.exists(path3)                                        # STEP 110
str3 += 'x'                                                            # STEP 111
os0.link(path2,path3)                                                  # STEP 112
result = stat4.st_size                                                 # STEP 113
path4 += "/" + component4                                              # STEP 114
result = stat0.st_size                                                 # STEP 115
component4 = "beta"                                                    # STEP 116
stat2 = os0.lstat(path2)                                               # STEP 117
result = file0.read(bytes0)                                            # STEP 118
os0.symlink(path4,path0)                                               # STEP 119
os0.remove(path3)                                                      # STEP 120
result = os0.path.islink(path0)                                        # STEP 121
stat0 = os0.lstat(path3)                                               # STEP 122
stat4 = os0.lstat(path4)                                               # STEP 123
str1 += 'n'                                                            # STEP 124
result = os0.path.exists(path2)                                        # STEP 125
result = os0.path.exists(path4)                                        # STEP 126
component2 = "epsilon"                                                 # STEP 127
os0.link(path4,path2)                                                  # STEP 128
result = os0.path.isfile(path3)                                        # STEP 129
file0.truncate()                                                       # STEP 130
bytes0 = 0                                                             # STEP 131
file0.flush()                                                          # STEP 132
str1 += 'm'                                                            # STEP 133
result = stat4.st_nlink                                                # STEP 134
path1 = "/Volumes/ramdisk/test"                                        # STEP 135
result = os0.path.exists(path4)                                        # STEP 136
result = os0.path.isabs(path2)                                         # STEP 137
os0.symlink(path0,path3)                                               # STEP 138
os0.link(path0,path1)                                                  # STEP 139
str1 += 'g'                                                            # STEP 140
result = file0.readlines()                                             # STEP 141
result = file0.readlines()                                             # STEP 142
path1 += "/" + component3                                              # STEP 143
path3 += "/" + component4                                              # STEP 144
result = os0.path.isdir(path3)                                         # STEP 145
component4 = "epsilon"                                                 # STEP 146
path2 += "/" + component1                                              # STEP 147
os0.removedirs(path2)                                                  # STEP 148
component3 = "alpha"                                                   # STEP 149
os0.symlink(path0,path4)                                               # STEP 150
str0 += 'o'                                                            # STEP 151
str0 += 'd'                                                            # STEP 152
os0.rename(path4,path0)                                                # STEP 153
str1 += 'm'                                                            # STEP 154
stat2 = os0.lstat(path3)                                               # STEP 155
result = os0.path.islink(path3)                                        # STEP 156
str3 += 'n'                                                            # STEP 157
str0 += 'h'                                                            # STEP 158
os0.path.getsize(path2)                                                # STEP 159
str0 += " "                                                            # STEP 160
result = file0.readline(bytes1)                                        # STEP 161
component1 = "d"                                                       # STEP 162
result = sorted(os0.listdir(path4))                                    # STEP 163
stat4 = os0.lstat(path2)                                               # STEP 164
result = os0.read(fd0,bytes1)                                          # STEP 165
os0.link(path2,path2)                                                  # STEP 166
os0.rmdir(path2)                                                       # STEP 167
os0.rename(path1,path2)                                                # STEP 168
str3 += 'a'                                                            # STEP 169
os0.path.getsize(path0)                                                # STEP 170
result = os0.path.isfile(path3)                                        # STEP 171
os0.symlink(path2,path2)                                               # STEP 172
str3 += 'd'                                                            # STEP 173
result = file0.readline(bytes2)                                        # STEP 174
ERROR: (<type 'exceptions.OSError'>, OSError(9, 'File is not open for reading.'), <traceback object at 0x104887098>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 28821, in act572
    result = self.p_file[0].readline(self.p_bytes[2])
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4284, in read_error
    self._raise('File is not open for reading.')
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4112, in _raise
    raise OSError(errno.EBADF, message)
FAILURE 4
component3 = "b"                                                         # STEP 0
component0 = "epsilon"                                                   # STEP 1
component2 = "phi"                                                       # STEP 2
component4 = "c"                                                         # STEP 3
bytes2 = 0                                                               # STEP 4
os0 = newFakeOS()                                                        # STEP 5
path2 = "/Volumes/ramdisk/test"                                          # STEP 6
str1 = ""                                                                # STEP 7
path3 = "/Volumes/ramdisk/test"                                          # STEP 8
str1 += 'j'                                                              # STEP 9
component1 = "phi"                                                      # STEP 10
bytes0 = 0                                                              # STEP 11
bytes0 += 1                                                             # STEP 12
result = os0.path.isfile(path2)                                         # STEP 13
str1 += 'e'                                                             # STEP 14
result = os0.path.isdir(path3)                                          # STEP 15
str1 += 'k'                                                             # STEP 16
str1 += 'w'                                                             # STEP 17
str1 += 'f'                                                             # STEP 18
str1 += 'w'                                                             # STEP 19
os0.symlink(path3,path3)                                                # STEP 20
str1 += 'c'                                                             # STEP 21
bytes4 = 0                                                              # STEP 22
str1 += 'h'                                                             # STEP 23
result = os0.path.dirname(path2)                                        # STEP 24
str1 += 'z'                                                             # STEP 25
str1 += " "                                                             # STEP 26
path2 += "/" + component2                                               # STEP 27
result = os0.path.isdir(path2)                                          # STEP 28
result = os0.path.dirname(path2)                                        # STEP 29
component2 = "h"                                                        # STEP 30
stat1 = os0.lstat(path2)                                                # STEP 31
result = os0.path.exists(path3)                                         # STEP 32
bytes1 = 0                                                              # STEP 33
path3 += "/" + component0                                               # STEP 34
os0.path.getsize(path3)                                                 # STEP 35
fd0 = os0.open(path3, os.O_CREAT | os.O_WRONLY | os.O_EXCL)             # STEP 36
os0.link(path2,path3)                                                   # STEP 37
result = os0.path.exists(path2)                                         # STEP 38
bytes2 += 1                                                             # STEP 39
component0 = "epsilon"                                                  # STEP 40
result = os0.path.isabs(path3)                                          # STEP 41
stat0 = os0.stat(path2)                                                 # STEP 42
result = os0.path.exists(path2)                                         # STEP 43
os0.rmdir(path2)                                                        # STEP 44
str1 += 'm'                                                             # STEP 45
result = os0.path.isdir(path2)                                          # STEP 46
bytes4 += 1                                                             # STEP 47
result = os0.path.isabs(path3)                                          # STEP 48
str1 += 'r'                                                             # STEP 49
result = os0.path.exists(path3)                                         # STEP 50
str1 += 'n'                                                             # STEP 51
str1 += 'l'                                                             # STEP 52
str1 += 'l'                                                             # STEP 53
path2 += "/" + component0                                               # STEP 54
str1 += 'r'                                                             # STEP 55
result = os0.path.abspath(path2)                                        # STEP 56
component0 = "epsilon"                                                  # STEP 57
stat1 = os0.fstat(fd0)                                                  # STEP 58
stat4 = os0.fstat(fd0)                                                  # STEP 59
result = os0.path.lexists(path2)                                        # STEP 60
result = stat4.st_nlink                                                 # STEP 61
result = stat1.st_size                                                  # STEP 62
str1 += 'a'                                                             # STEP 63
stat1 = os0.fstat(fd0)                                                  # STEP 64
os0.close(fd0)                                                          # STEP 65
fd0 = os0.open(path2, os.O_CREAT | os.O_EXCL)                           # STEP 66
stat3 = os0.stat(path2)                                                 # STEP 67
result = os0.read(fd0,bytes0)                                           # STEP 68
os0.symlink(path2,path2)                                                # STEP 69
bytes1 += 1                                                             # STEP 70
result = stat4.st_size                                                  # STEP 71
result = os0.path.isabs(path3)                                          # STEP 72
os0.rename(path3,path2)                                                 # STEP 73
stat4 = os0.lstat(path2)                                                # STEP 74
opener0 = newFakeOpener(os0)                                            # STEP 75
path2 += "/" + component3                                               # STEP 76
str3 = ""                                                               # STEP 77
result = os0.path.abspath(path3)                                        # STEP 78
str1 += 'i'                                                             # STEP 79
str3 += " "                                                             # STEP 80
os0.symlink(path3,path3)                                                # STEP 81
str3 += 'd'                                                             # STEP 82
os0.path.getsize(path2)                                                 # STEP 83
str1 += 'v'                                                             # STEP 84
stat2 = os0.fstat(fd0)                                                  # STEP 85
str3 += 'b'                                                             # STEP 86
stat0 = os0.stat(path3)                                                 # STEP 87
file0 = opener0(path3,'w')                                              # STEP 88
str0 = ""                                                               # STEP 89
file0.next()                                                            # STEP 90
result = os0.path.isdir(path3)                                          # STEP 91
result = os0.path.isdir(path3)                                          # STEP 92
str1 += 'i'                                                             # STEP 93
str3 = ""                                                               # STEP 94
path4 = "/Volumes/ramdisk/test"                                         # STEP 95
result = os0.path.isabs(path4)                                          # STEP 96
bytes0 = 0                                                              # STEP 97
path4 += "/" + component3                                               # STEP 98
str2 = ""                                                               # STEP 99
os0.rmdir(path4)                                                       # STEP 100
path4 += "/" + component3                                              # STEP 101
str3 += 'n'                                                            # STEP 102
component3 = "beta"                                                    # STEP 103
path4 += "/" + component1                                              # STEP 104
component1 = "d"                                                       # STEP 105
result = os0.path.isdir(path4)                                         # STEP 106
result = os0.path.exists(path4)                                        # STEP 107
os0.write(fd0,str3)                                                    # STEP 108
str2 += 'o'                                                            # STEP 109
os0.mkdir(path4)                                                       # STEP 110
path4 += "/" + component0                                              # STEP 111
str2 += 'b'                                                            # STEP 112
str2 += 'z'                                                            # STEP 113
str3 += 'g'                                                            # STEP 114
os0.write(fd0,str3)                                                    # STEP 115
str2 += 'z'                                                            # STEP 116
os0.symlink(path3,path2)                                               # STEP 117
stat3 = os0.stat(path4)                                                # STEP 118
str1 += 'v'                                                            # STEP 119
os0.mkdir(path2)                                                       # STEP 120
result = os0.path.exists(path3)                                        # STEP 121
str1 += 'z'                                                            # STEP 122
str1 += 'z'                                                            # STEP 123
os0.rename(path3,path4)                                                # STEP 124
path3 += "/" + component0                                              # STEP 125
os0.symlink(path2,path2)                                               # STEP 126
bytes1 += 1                                                            # STEP 127
bytes1 = 0                                                             # STEP 128
str3 += 'l'                                                            # STEP 129
str2 += 'l'                                                            # STEP 130
str3 += 'f'                                                            # STEP 131
os0.rename(path3,path2)                                                # STEP 132
result = sorted(os0.listdir(path2))                                    # STEP 133
result = stat1.st_nlink                                                # STEP 134
str3 += 'w'                                                            # STEP 135
path4 += "/" + component1                                              # STEP 136
path3 += "/" + component2                                              # STEP 137
str2 += 'j'                                                            # STEP 138
str2 += 'o'                                                            # STEP 139
path3 += "/" + component3                                              # STEP 140
result = stat4.st_size                                                 # STEP 141
stat2 = os0.fstat(fd0)                                                 # STEP 142
component1 = "e"                                                       # STEP 143
component2 = "b"                                                       # STEP 144
component3 = "lambda"                                                  # STEP 145
str3 += 'p'                                                            # STEP 146
str1 += 's'                                                            # STEP 147
component0 = "d"                                                       # STEP 148
os0.rename(path3,path2)                                                # STEP 149
str3 += 'c'                                                            # STEP 150
result = os0.read(fd0,bytes2)                                          # STEP 151
str2 += 'u'                                                            # STEP 152
file0.truncate()                                                       # STEP 153
bytes2 = 0                                                             # STEP 154
str0 += 'y'                                                            # STEP 155
result = os0.path.islink(path4)                                        # STEP 156
os0.link(path4,path2)                                                  # STEP 157
stat3 = os0.lstat(path3)                                               # STEP 158
path4 += "/" + component1                                              # STEP 159
str2 += 'e'                                                            # STEP 160
str3 += 'd'                                                            # STEP 161
result = stat0.st_nlink                                                # STEP 162
str1 += 'a'                                                            # STEP 163
str1 += 's'                                                            # STEP 164
file0.write(str1)                                                      # STEP 165
stat1 = os0.stat(path3)                                                # STEP 166
str1 += 'b'                                                            # STEP 167
str0 += 'x'                                                            # STEP 168
component1 = "omega"                                                   # STEP 169
str1 += 's'                                                            # STEP 170
str0 += 'r'                                                            # STEP 171
path2 += "/" + component0                                              # STEP 172
stat4 = os0.stat(path3)                                                # STEP 173
str2 += 'c'                                                            # STEP 174
str3 += 'p'                                                            # STEP 175
path3 += "/" + component4                                              # STEP 176
component4 = "f"                                                       # STEP 177
os0.mkdir(path2)                                                       # STEP 178
stat3 = os0.lstat(path2)                                               # STEP 179
result = file0.read(bytes2)                                            # STEP 180
ERROR: (<type 'exceptions.OSError'>, OSError(9, 'File is not open for reading.'), <traceback object at 0x107fdee18>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 28468, in act566
    result = self.p_file[0].read(self.p_bytes[2])
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4284, in read_error
    self._raise('File is not open for reading.')
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4112, in _raise
    raise OSError(errno.EBADF, message)
FAILURE 5
path4 = "/Volumes/ramdisk/test"                                          # STEP 0
component4 = "gamma"                                                     # STEP 1
component3 = "omega"                                                     # STEP 2
component0 = "g"                                                         # STEP 3
component1 = "g"                                                         # STEP 4
component2 = "gamma"                                                     # STEP 5
path1 = "/Volumes/ramdisk/test"                                          # STEP 6
path4 += "/" + component4                                                # STEP 7
str1 = ""                                                                # STEP 8
str1 += 'k'                                                              # STEP 9
str1 += 'd'                                                             # STEP 10
component4 = "h"                                                        # STEP 11
path1 += "/" + component1                                               # STEP 12
component1 = "epsilon"                                                  # STEP 13
path1 += "/" + component2                                               # STEP 14
str1 += 'p'                                                             # STEP 15
component2 = "g"                                                        # STEP 16
str1 += 'u'                                                             # STEP 17
str1 += 'h'                                                             # STEP 18
str1 = ""                                                               # STEP 19
os0 = newFakeOS()                                                       # STEP 20
os0.path.getsize(path4)                                                 # STEP 21
result = os0.path.isabs(path1)                                          # STEP 22
result = os0.path.isfile(path4)                                         # STEP 23
str1 += 'b'                                                             # STEP 24
opener0 = newFakeOpener(os0)                                            # STEP 25
path4 = "/Volumes/ramdisk/test"                                         # STEP 26
path4 += "/" + component0                                               # STEP 27
os0.rename(path1,path4)                                                 # STEP 28
stat2 = os0.stat(path4)                                                 # STEP 29
str1 += 'n'                                                             # STEP 30
result = os0.path.abspath(path1)                                        # STEP 31
file0 = opener0(path4,'a')                                              # STEP 32
result = sorted(os0.listdir(path4))                                     # STEP 33
fd0 = os0.open(path4, os.O_RDONLY)                                      # STEP 34
bytes4 = 0                                                              # STEP 35
str1 += 'q'                                                             # STEP 36
result = os0.path.exists(path4)                                         # STEP 37
result = os0.path.lexists(path1)                                        # STEP 38
bytes3 = 0                                                              # STEP 39
os0.makedirs(path4)                                                     # STEP 40
component0 = "e"                                                        # STEP 41
str1 += 'd'                                                             # STEP 42
str1 += 'o'                                                             # STEP 43
file0.flush()                                                           # STEP 44
path4 += "/" + component1                                               # STEP 45
file0.write(str1)                                                       # STEP 46
str1 += 'e'                                                             # STEP 47
component1 = "phi"                                                      # STEP 48
os0.remove(path1)                                                       # STEP 49
str1 += " "                                                             # STEP 50
path4 += "/" + component3                                               # STEP 51
stat0 = os0.fstat(fd0)                                                  # STEP 52
component3 = "gamma"                                                    # STEP 53
result = os0.path.exists(path4)                                         # STEP 54
result = file0.readline(bytes4)                                         # STEP 55
result = os0.path.lexists(path4)                                        # STEP 56
path4 = "/Volumes/ramdisk/test"                                         # STEP 57
result = file0.read()                                                   # STEP 58
str1 += 'u'                                                             # STEP 59
str1 += 'l'                                                             # STEP 60
bytes3 += 1                                                             # STEP 61
str1 += 'r'                                                             # STEP 62
bytes4 = 0                                                              # STEP 63
path1 = "/Volumes/ramdisk/test"                                         # STEP 64
str1 += 'x'                                                             # STEP 65
str2 = ""                                                               # STEP 66
str1 += 'b'                                                             # STEP 67
result = os0.path.lexists(path1)                                        # STEP 68
result = os0.path.lexists(path4)                                        # STEP 69
str2 += 'a'                                                             # STEP 70
bytes2 = 0                                                              # STEP 71
str1 += 'b'                                                             # STEP 72
os0.close(fd0)                                                          # STEP 73
os0.mkdir(path1)                                                        # STEP 74
os0.write(fd0,str2)                                                     # STEP 75
os0.symlink(path4,path4)                                                # STEP 76
stat3 = os0.fstat(fd0)                                                  # STEP 77
result = file0.readline()                                               # STEP 78
result = stat0.st_size                                                  # STEP 79
ERROR: (<type 'exceptions.AssertionError'>, AssertionError(' (5) == (0) ',), <traceback object at 0x103c6dea8>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 21771, in act457
    try: assert result == result_REF, " (%s) == (%s) " % (result, result_REF)
FAILURE 6
component0 = "phi"                                                       # STEP 0
component4 = "h"                                                         # STEP 1
component2 = "lambda"                                                    # STEP 2
component3 = "delta"                                                     # STEP 3
os0 = newFakeOS()                                                        # STEP 4
component1 = "phi"                                                       # STEP 5
path3 = "/Volumes/ramdisk/test"                                          # STEP 6
str1 = ""                                                                # STEP 7
path3 += "/" + component1                                                # STEP 8
str1 += 'g'                                                              # STEP 9
str1 += 't'                                                             # STEP 10
os0.rmdir(path3)                                                        # STEP 11
str1 += 'g'                                                             # STEP 12
str1 += 's'                                                             # STEP 13
os0.link(path3,path3)                                                   # STEP 14
component1 = "delta"                                                    # STEP 15
str1 += 'l'                                                             # STEP 16
str1 += 'a'                                                             # STEP 17
str1 += 'x'                                                             # STEP 18
str2 = ""                                                               # STEP 19
path1 = "/Volumes/ramdisk/test"                                         # STEP 20
str2 += 'r'                                                             # STEP 21
path1 += "/" + component3                                               # STEP 22
path1 += "/" + component4                                               # STEP 23
bytes0 = 0                                                              # STEP 24
bytes2 = 0                                                              # STEP 25
component3 = "c"                                                        # STEP 26
component4 = "e"                                                        # STEP 27
path0 = "/Volumes/ramdisk/test"                                         # STEP 28
fd0 = os0.open(path1, os.O_WRONLY | os.O_APPEND)                        # STEP 29
str4 = ""                                                               # STEP 30
str2 += " "                                                             # STEP 31
str4 += 'g'                                                             # STEP 32
str4 += 'x'                                                             # STEP 33
str4 = ""                                                               # STEP 34
os0.makedirs(path0)                                                     # STEP 35
result = sorted(os0.listdir(path0))                                     # STEP 36
result = os0.path.dirname(path1)                                        # STEP 37
str2 += 'd'                                                             # STEP 38
os0.symlink(path0,path0)                                                # STEP 39
result = os0.path.lexists(path1)                                        # STEP 40
str4 += 'w'                                                             # STEP 41
bytes3 = 0                                                              # STEP 42
os0.symlink(path1,path0)                                                # STEP 43
str4 += 'k'                                                             # STEP 44
os0.rmdir(path1)                                                        # STEP 45
str2 += 'u'                                                             # STEP 46
str2 += 'r'                                                             # STEP 47
stat0 = os0.stat(path1)                                                 # STEP 48
fd0 = os0.open(path1, os.O_RDONLY)                                      # STEP 49
str4 += 'r'                                                             # STEP 50
str2 += 'a'                                                             # STEP 51
fd0 = os0.open(path1, os.O_RDWR)                                        # STEP 52
str2 += 'o'                                                             # STEP 53
str4 += 'c'                                                             # STEP 54
str2 += 'x'                                                             # STEP 55
str4 += 'y'                                                             # STEP 56
fd0 = os0.open(path1, os.O_CREAT | os.O_WRONLY | os.O_TRUNC)            # STEP 57
str4 += 'a'                                                             # STEP 58
opener0 = newFakeOpener(os0)                                            # STEP 59
file0 = opener0(path1,'w')                                              # STEP 60
path4 = "/Volumes/ramdisk/test"                                         # STEP 61
os0.makedirs(path0)                                                     # STEP 62
path4 += "/" + component2                                               # STEP 63
bytes0 += 1                                                             # STEP 64
os0.rmdir(path1)                                                        # STEP 65
fd0 = os0.open(path1, os.O_CREAT | os.O_WRONLY)                         # STEP 66
path4 += "/" + component1                                               # STEP 67
str4 += 'k'                                                             # STEP 68
result = os0.path.dirname(path1)                                        # STEP 69
str2 += 'a'                                                             # STEP 70
str4 += 's'                                                             # STEP 71
fd0 = os0.open(path1, os.O_RDONLY)                                      # STEP 72
result = os0.path.lexists(path0)                                        # STEP 73
fd0 = os0.open(path1, os.O_CREAT | os.O_WRONLY | os.O_EXCL)             # STEP 74
path0 += "/" + component0                                               # STEP 75
result = os0.path.exists(path1)                                         # STEP 76
os0.remove(path0)                                                       # STEP 77
str4 += 'e'                                                             # STEP 78
stat0 = os0.lstat(path4)                                                # STEP 79
path2 = "/Volumes/ramdisk/test"                                         # STEP 80
result = os0.readlink(path4)                                            # STEP 81
result = os0.path.dirname(path1)                                        # STEP 82
result = os0.path.dirname(path0)                                        # STEP 83
component0 = "lambda"                                                   # STEP 84
os0.symlink(path4,path4)                                                # STEP 85
str4 += 'f'                                                             # STEP 86
fd0 = os0.open(path1, os.O_CREAT | os.O_WRONLY | os.O_EXCL)             # STEP 87
bytes4 = 0                                                              # STEP 88
component1 = "h"                                                        # STEP 89
stat1 = os0.lstat(path1)                                                # STEP 90
str4 += 'f'                                                             # STEP 91
str2 += 's'                                                             # STEP 92
file0 = opener0(path4,'a')                                              # STEP 93
stat2 = os0.lstat(path1)                                                # STEP 94
os0.path.getsize(path4)                                                 # STEP 95
os0.symlink(path2,path0)                                                # STEP 96
result = os0.path.exists(path1)                                         # STEP 97
bytes0 += 1                                                             # STEP 98
path4 += "/" + component1                                               # STEP 99
os0.mkdir(path0)                                                       # STEP 100
component2 = "beta"                                                    # STEP 101
stat1 = os0.lstat(path4)                                               # STEP 102
str4 += 'z'                                                            # STEP 103
stat1 = os0.lstat(path0)                                               # STEP 104
stat3 = os0.lstat(path1)                                               # STEP 105
file0 = opener0(path0,'w')                                             # STEP 106
str2 += 'p'                                                            # STEP 107
stat0 = os0.stat(path1)                                                # STEP 108
file0 = opener0(path3,'w')                                             # STEP 109
str4 += " "                                                            # STEP 110
path3 = "/Volumes/ramdisk/test"                                        # STEP 111
stat0 = os0.lstat(path1)                                               # STEP 112
result = os0.readlink(path3)                                           # STEP 113
stat2 = os0.lstat(path0)                                               # STEP 114
file0 = opener0(path1,'a')                                             # STEP 115
os0.link(path1,path4)                                                  # STEP 116
path1 += "/" + component0                                              # STEP 117
str2 += 'x'                                                            # STEP 118
str4 += 'k'                                                            # STEP 119
stat4 = os0.stat(path0)                                                # STEP 120
path1 += "/" + component1                                              # STEP 121
component1 = "delta"                                                   # STEP 122
str4 += 'e'                                                            # STEP 123
file0 = opener0(path1)                                                 # STEP 124
result = os0.path.dirname(path1)                                       # STEP 125
str4 += 'q'                                                            # STEP 126
str1 += 'a'                                                            # STEP 127
str2 += 'g'                                                            # STEP 128
path0 += "/" + component2                                              # STEP 129
os0.rename(path4,path3)                                                # STEP 130
file0 = opener0(path2)                                                 # STEP 131
bytes3 += 1                                                            # STEP 132
os0.link(path1,path1)                                                  # STEP 133
component2 = "g"                                                       # STEP 134
file0 = opener0(path2,'w')                                             # STEP 135
component0 = "d"                                                       # STEP 136
str4 += 'u'                                                            # STEP 137
result = os0.path.isdir(path4)                                         # STEP 138
str4 += 't'                                                            # STEP 139
fd0 = os0.open(path1, os.O_CREAT)                                      # STEP 140
fd0 = os0.open(path0, os.O_CREAT | os.O_WRONLY)                        # STEP 141
str4 += 'k'                                                            # STEP 142
os0.rename(path1,path3)                                                # STEP 143
str2 += 'b'                                                            # STEP 144
bytes3 = 0                                                             # STEP 145
str4 += 'm'                                                            # STEP 146
os0.rmdir(path0)                                                       # STEP 147
path2 = "/Volumes/ramdisk/test"                                        # STEP 148
os0.link(path2,path3)                                                  # STEP 149
str2 += " "                                                            # STEP 150
os0.write(fd0,str2)                                                    # STEP 151
os0.link(path0,path1)                                                  # STEP 152
file0 = opener0(path4,'w')                                             # STEP 153
os0.symlink(path4,path4)                                               # STEP 154
os0.makedirs(path1)                                                    # STEP 155
os0.rename(path1,path3)                                                # STEP 156
os0.mkdir(path1)                                                       # STEP 157
str2 += 'i'                                                            # STEP 158
str2 += 'f'                                                            # STEP 159
str2 += 'd'                                                            # STEP 160
path3 += "/" + component3                                              # STEP 161
str2 += 'b'                                                            # STEP 162
component3 = "h"                                                       # STEP 163
os0.symlink(path3,path3)                                               # STEP 164
result = os0.path.lexists(path3)                                       # STEP 165
str2 += 'n'                                                            # STEP 166
str2 += 't'                                                            # STEP 167
str2 += 'b'                                                            # STEP 168
str2 += 'e'                                                            # STEP 169
str2 += 'x'                                                            # STEP 170
bytes4 += 1                                                            # STEP 171
str2 += 'h'                                                            # STEP 172
stat0 = os0.lstat(path3)                                               # STEP 173
path1 = "/Volumes/ramdisk/test"                                        # STEP 174
result = os0.path.lexists(path3)                                       # STEP 175
str2 += 'i'                                                            # STEP 176
os0.link(path1,path3)                                                  # STEP 177
result = os0.path.isabs(path3)                                         # STEP 178
str3 = ""                                                              # STEP 179
str2 += 'x'                                                            # STEP 180
str2 += 'z'                                                            # STEP 181
str3 += 'm'                                                            # STEP 182
stat3 = os0.lstat(path3)                                               # STEP 183
path1 = "/Volumes/ramdisk/test"                                        # STEP 184
os0.path.getsize(path3)                                                # STEP 185
str3 += 'm'                                                            # STEP 186
result = os0.path.isabs(path3)                                         # STEP 187
result = stat3.st_nlink                                                # STEP 188
stat3 = os0.stat(path3)                                                # STEP 189
os0.rename(path3,path1)                                                # STEP 190
os0.link(path2,path2)                                                  # STEP 191
path2 += "/" + component1                                              # STEP 192
result = stat2.st_nlink                                                # STEP 193
os0.symlink(path3,path2)                                               # STEP 194
file0 = opener0(path1,'w')                                             # STEP 195
str4 += 'u'                                                            # STEP 196
os0.rmdir(path0)                                                       # STEP 197
result = os0.path.islink(path3)                                        # STEP 198
result = os0.path.abspath(path2)                                       # STEP 199
os0.symlink(path0,path1)                                               # STEP 200
str3 += 'e'                                                            # STEP 201
str2 += 'm'                                                            # STEP 202
component1 = "d"                                                       # STEP 203
str1 += 'i'                                                            # STEP 204
os0.symlink(path2,path0)                                               # STEP 205
str1 += 'b'                                                            # STEP 206
str4 += 'x'                                                            # STEP 207
path4 = "/Volumes/ramdisk/test"                                        # STEP 208
str1 += 'v'                                                            # STEP 209
path1 += "/" + component1                                              # STEP 210
str3 += 'a'                                                            # STEP 211
result = stat2.st_nlink                                                # STEP 212
component1 = "d"                                                       # STEP 213
file0 = opener0(path2,'r')                                             # STEP 214
os0.link(path0,path3)                                                  # STEP 215
result = os0.path.isdir(path4)                                         # STEP 216
str4 += 'v'                                                            # STEP 217
os0.mkdir(path2)                                                       # STEP 218
str2 += 'k'                                                            # STEP 219
str3 += 'a'                                                            # STEP 220
bytes0 = 0                                                             # STEP 221
file0 = opener0(path4,'r')                                             # STEP 222
str4 += 's'                                                            # STEP 223
str2 += 'e'                                                            # STEP 224
file0 = opener0(path0,'r')                                             # STEP 225
file0.seek(bytes2)                                                     # STEP 226
os0.symlink(path2,path0)                                               # STEP 227
os0.link(path4,path1)                                                  # STEP 228
os0.link(path1,path4)                                                  # STEP 229
str3 += 'n'                                                            # STEP 230
result = sorted(os0.listdir(path1))                                    # STEP 231
os0.rename(path0,path4)                                                # STEP 232
str1 += 'v'                                                            # STEP 233
str2 += 's'                                                            # STEP 234
result = file0.readlines()                                             # STEP 235
path0 += "/" + component0                                              # STEP 236
str3 += 'd'                                                            # STEP 237
os0.rename(path0,path2)                                                # STEP 238
result = os0.read(fd0,bytes0)                                          # STEP 239
str4 += 'm'                                                            # STEP 240
component0 = "a"                                                       # STEP 241
result = file0.readline(bytes0)                                        # STEP 242
str3 += 'x'                                                            # STEP 243
str1 += 'm'                                                            # STEP 244
result = os0.read(fd0,bytes2)                                          # STEP 245
str3 += 'g'                                                            # STEP 246
os0.removedirs(path1)                                                  # STEP 247
result = file0.readline(bytes3)                                        # STEP 248
str2 += 'y'                                                            # STEP 249
stat2 = os0.stat(path3)                                                # STEP 250
path4 = "/Volumes/ramdisk/test"                                        # STEP 251
str1 += 'r'                                                            # STEP 252
result = stat2.st_nlink                                                # STEP 253
result = os0.readlink(path4)                                           # STEP 254
str2 += 'b'                                                            # STEP 255
str4 += 'j'                                                            # STEP 256
stat2 = os0.lstat(path0)                                               # STEP 257
str3 += 'l'                                                            # STEP 258
result = os0.path.isfile(path4)                                        # STEP 259
str2 += 'y'                                                            # STEP 260
str4 += 'g'                                                            # STEP 261
result = os0.path.isdir(path0)                                         # STEP 262
os0.mkdir(path4)                                                       # STEP 263
os0.rename(path3,path4)                                                # STEP 264
str2 += 'i'                                                            # STEP 265
result = os0.path.isabs(path2)                                         # STEP 266
os0.symlink(path0,path4)                                               # STEP 267
os0.rmdir(path0)                                                       # STEP 268
os0.symlink(path3,path0)                                               # STEP 269
str3 += 'r'                                                            # STEP 270
str4 += 'g'                                                            # STEP 271
path4 += "/" + component1                                              # STEP 272
result = os0.path.abspath(path0)                                       # STEP 273
str3 += 'd'                                                            # STEP 274
str4 += 'v'                                                            # STEP 275
str4 += 'h'                                                            # STEP 276
os0.makedirs(path0)                                                    # STEP 277
str1 += 'q'                                                            # STEP 278
result = file0.readline(bytes2)                                        # STEP 279
result = file0.read()                                                  # STEP 280
str2 += 'o'                                                            # STEP 281
result = file0.read(bytes0)                                            # STEP 282
os0.rmdir(path0)                                                       # STEP 283
os0.symlink(path4,path4)                                               # STEP 284
str2 += 'v'                                                            # STEP 285
result = os0.path.dirname(path2)                                       # STEP 286
os0.makedirs(path1)                                                    # STEP 287
str3 = ""                                                              # STEP 288
os0.write(fd0,str1)                                                    # STEP 289
str3 += 'u'                                                            # STEP 290
os0.symlink(path4,path4)                                               # STEP 291
file0.write(str3)                                                      # STEP 292
str1 += 'q'                                                            # STEP 293
result = os0.path.lexists(path3)                                       # STEP 294
os0.rename(path2,path0)                                                # STEP 295
bytes4 = 0                                                             # STEP 296
str2 += 'w'                                                            # STEP 297
str4 += 's'                                                            # STEP 298
result = os0.path.isabs(path3)                                         # STEP 299
str2 += 'f'                                                            # STEP 300
str3 += " "                                                            # STEP 301
str2 += 'u'                                                            # STEP 302
str2 += 'q'                                                            # STEP 303
str4 += 'v'                                                            # STEP 304
str3 += 's'                                                            # STEP 305
os0.mkdir(path0)                                                       # STEP 306
str4 += 'f'                                                            # STEP 307
os0.rename(path1,path3)                                                # STEP 308
file0.flush()                                                          # STEP 309
str3 = ""                                                              # STEP 310
os0.write(fd0,str2)                                                    # STEP 311
os0.link(path1,path2)                                                  # STEP 312
result = os0.path.isabs(path3)                                         # STEP 313
os0.link(path1,path3)                                                  # STEP 314
result = file0.read(bytes2)                                            # STEP 315
str4 += 'u'                                                            # STEP 316
str2 += 'e'                                                            # STEP 317
str2 += 'j'                                                            # STEP 318
result = os0.path.isabs(path2)                                         # STEP 319
result = os0.path.dirname(path0)                                       # STEP 320
result = os0.path.abspath(path4)                                       # STEP 321
str2 += 'm'                                                            # STEP 322
os0.rename(path4,path0)                                                # STEP 323
str4 = ""                                                              # STEP 324
os0.symlink(path3,path0)                                               # STEP 325
str4 += 'h'                                                            # STEP 326
result = os0.path.exists(path3)                                        # STEP 327
result = os0.path.isabs(path1)                                         # STEP 328
component1 = "epsilon"                                                 # STEP 329
os0.makedirs(path2)                                                    # STEP 330
os0.symlink(path0,path2)                                               # STEP 331
os0.rename(path2,path3)                                                # STEP 332
str1 += 'v'                                                            # STEP 333
str3 += " "                                                            # STEP 334
path0 += "/" + component3                                              # STEP 335
os0.symlink(path2,path4)                                               # STEP 336
os0.symlink(path4,path0)                                               # STEP 337
str4 += 'u'                                                            # STEP 338
result = sorted(os0.listdir(path3))                                    # STEP 339
path4 += "/" + component3                                              # STEP 340
result = os0.path.isfile(path1)                                        # STEP 341
path0 += "/" + component2                                              # STEP 342
os0.rename(path4,path3)                                                # STEP 343
str4 += 'z'                                                            # STEP 344
str1 += 'w'                                                            # STEP 345
os0.link(path2,path0)                                                  # STEP 346
os0.makedirs(path1)                                                    # STEP 347
str2 += 'l'                                                            # STEP 348
path3 += "/" + component3                                              # STEP 349
os0.removedirs(path1)                                                  # STEP 350
path3 += "/" + component4                                              # STEP 351
result = file0.readlines()                                             # STEP 352
ERROR: (<type 'exceptions.AssertionError'>, AssertionError(" (['gtgslaxaibvvmrqr duraoxaspxgb ifdbntbexhixzmkesybyiovwfuq']) == ([]) ",), <traceback object at 0x106c52e60>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 29028, in act575
    try: assert result == result_REF, " (%s) == (%s) " % (result, result_REF)
FAILURE 7
component0 = "phi"                                                       # STEP 0
component4 = "h"                                                         # STEP 1
component2 = "lambda"                                                    # STEP 2
component3 = "delta"                                                     # STEP 3
os0 = newFakeOS()                                                        # STEP 4
component1 = "phi"                                                       # STEP 5
path3 = "/Volumes/ramdisk/test"                                          # STEP 6
str1 = ""                                                                # STEP 7
path3 += "/" + component1                                                # STEP 8
str1 += 'g'                                                              # STEP 9
str1 += 't'                                                             # STEP 10
os0.rmdir(path3)                                                        # STEP 11
str1 += 'g'                                                             # STEP 12
str1 += 's'                                                             # STEP 13
os0.link(path3,path3)                                                   # STEP 14
component1 = "delta"                                                    # STEP 15
str1 += 'l'                                                             # STEP 16
os0.path.getsize(path3)                                                 # STEP 17
str1 += 'x'                                                             # STEP 18
str2 = ""                                                               # STEP 19
path1 = "/Volumes/ramdisk/test"                                         # STEP 20
str2 += 'r'                                                             # STEP 21
path1 += "/" + component3                                               # STEP 22
path1 += "/" + component4                                               # STEP 23
bytes0 = 0                                                              # STEP 24
bytes2 = 0                                                              # STEP 25
component3 = "c"                                                        # STEP 26
component4 = "e"                                                        # STEP 27
path0 = "/Volumes/ramdisk/test"                                         # STEP 28
fd0 = os0.open(path1, os.O_WRONLY | os.O_APPEND)                        # STEP 29
str4 = ""                                                               # STEP 30
str2 += " "                                                             # STEP 31
str4 += 'g'                                                             # STEP 32
str4 += 'x'                                                             # STEP 33
str4 = ""                                                               # STEP 34
os0.makedirs(path0)                                                     # STEP 35
result = sorted(os0.listdir(path0))                                     # STEP 36
result = os0.path.dirname(path1)                                        # STEP 37
str2 += 'd'                                                             # STEP 38
os0.symlink(path0,path0)                                                # STEP 39
result = os0.path.lexists(path1)                                        # STEP 40
str4 += 'w'                                                             # STEP 41
bytes3 = 0                                                              # STEP 42
os0.symlink(path1,path0)                                                # STEP 43
str4 += 'k'                                                             # STEP 44
os0.rmdir(path1)                                                        # STEP 45
str2 += 'u'                                                             # STEP 46
str2 += 'r'                                                             # STEP 47
stat0 = os0.stat(path1)                                                 # STEP 48
fd0 = os0.open(path1, os.O_RDONLY)                                      # STEP 49
str4 += 'r'                                                             # STEP 50
str2 += 'a'                                                             # STEP 51
fd0 = os0.open(path1, os.O_RDWR)                                        # STEP 52
str2 += 'o'                                                             # STEP 53
str4 += 'c'                                                             # STEP 54
str2 += 'x'                                                             # STEP 55
str4 += 'y'                                                             # STEP 56
fd0 = os0.open(path1, os.O_CREAT | os.O_WRONLY | os.O_TRUNC)            # STEP 57
str4 += 'a'                                                             # STEP 58
opener0 = newFakeOpener(os0)                                            # STEP 59
file0 = opener0(path1,'w')                                              # STEP 60
path4 = "/Volumes/ramdisk/test"                                         # STEP 61
os0.makedirs(path0)                                                     # STEP 62
path4 += "/" + component2                                               # STEP 63
bytes0 += 1                                                             # STEP 64
os0.rmdir(path1)                                                        # STEP 65
fd0 = os0.open(path1, os.O_CREAT | os.O_WRONLY)                         # STEP 66
path4 += "/" + component1                                               # STEP 67
str4 += 'k'                                                             # STEP 68
result = os0.path.dirname(path1)                                        # STEP 69
str2 += 'a'                                                             # STEP 70
str4 += 's'                                                             # STEP 71
fd0 = os0.open(path1, os.O_RDONLY)                                      # STEP 72
result = os0.path.lexists(path0)                                        # STEP 73
fd0 = os0.open(path1, os.O_CREAT | os.O_WRONLY | os.O_EXCL)             # STEP 74
path0 += "/" + component0                                               # STEP 75
result = os0.path.exists(path1)                                         # STEP 76
os0.remove(path0)                                                       # STEP 77
str4 += 'e'                                                             # STEP 78
stat0 = os0.lstat(path4)                                                # STEP 79
path2 = "/Volumes/ramdisk/test"                                         # STEP 80
result = os0.readlink(path4)                                            # STEP 81
result = os0.path.dirname(path1)                                        # STEP 82
result = os0.path.dirname(path0)                                        # STEP 83
component0 = "lambda"                                                   # STEP 84
os0.symlink(path4,path4)                                                # STEP 85
str4 += 'f'                                                             # STEP 86
fd0 = os0.open(path1, os.O_CREAT | os.O_WRONLY | os.O_EXCL)             # STEP 87
bytes4 = 0                                                              # STEP 88
component1 = "h"                                                        # STEP 89
stat1 = os0.lstat(path1)                                                # STEP 90
str4 += 'f'                                                             # STEP 91
str2 += 's'                                                             # STEP 92
file0 = opener0(path4,'a')                                              # STEP 93
stat2 = os0.lstat(path1)                                                # STEP 94
os0.path.getsize(path4)                                                 # STEP 95
os0.symlink(path2,path0)                                                # STEP 96
result = os0.path.exists(path1)                                         # STEP 97
bytes0 += 1                                                             # STEP 98
path4 += "/" + component1                                               # STEP 99
os0.mkdir(path0)                                                       # STEP 100
component2 = "beta"                                                    # STEP 101
stat1 = os0.lstat(path4)                                               # STEP 102
str4 += 'z'                                                            # STEP 103
stat1 = os0.lstat(path0)                                               # STEP 104
stat3 = os0.lstat(path1)                                               # STEP 105
file0 = opener0(path0,'w')                                             # STEP 106
str2 += 'p'                                                            # STEP 107
stat0 = os0.stat(path1)                                                # STEP 108
file0 = opener0(path3,'w')                                             # STEP 109
str4 += " "                                                            # STEP 110
path3 = "/Volumes/ramdisk/test"                                        # STEP 111
stat0 = os0.lstat(path1)                                               # STEP 112
result = os0.readlink(path3)                                           # STEP 113
stat2 = os0.lstat(path0)                                               # STEP 114
file0 = opener0(path1,'a')                                             # STEP 115
os0.link(path1,path4)                                                  # STEP 116
path1 += "/" + component0                                              # STEP 117
str2 += 'x'                                                            # STEP 118
str4 += 'k'                                                            # STEP 119
stat4 = os0.stat(path0)                                                # STEP 120
path1 += "/" + component1                                              # STEP 121
component1 = "delta"                                                   # STEP 122
str4 += 'e'                                                            # STEP 123
file0 = opener0(path1)                                                 # STEP 124
result = os0.path.dirname(path1)                                       # STEP 125
str4 += 'q'                                                            # STEP 126
str1 += 'a'                                                            # STEP 127
str2 += 'g'                                                            # STEP 128
path0 += "/" + component2                                              # STEP 129
os0.rename(path4,path3)                                                # STEP 130
file0 = opener0(path2)                                                 # STEP 131
bytes3 += 1                                                            # STEP 132
os0.link(path1,path1)                                                  # STEP 133
component2 = "g"                                                       # STEP 134
file0 = opener0(path2,'w')                                             # STEP 135
component0 = "d"                                                       # STEP 136
str4 += 'u'                                                            # STEP 137
result = os0.path.isdir(path4)                                         # STEP 138
str4 += 't'                                                            # STEP 139
fd0 = os0.open(path1, os.O_CREAT)                                      # STEP 140
fd0 = os0.open(path0, os.O_CREAT | os.O_WRONLY)                        # STEP 141
str4 += 'k'                                                            # STEP 142
os0.rename(path1,path3)                                                # STEP 143
str2 += 'b'                                                            # STEP 144
bytes3 = 0                                                             # STEP 145
str4 += 'm'                                                            # STEP 146
os0.rmdir(path0)                                                       # STEP 147
path2 = "/Volumes/ramdisk/test"                                        # STEP 148
os0.link(path2,path3)                                                  # STEP 149
str2 += " "                                                            # STEP 150
os0.write(fd0,str2)                                                    # STEP 151
os0.link(path0,path1)                                                  # STEP 152
file0 = opener0(path4,'w')                                             # STEP 153
os0.symlink(path4,path4)                                               # STEP 154
os0.makedirs(path1)                                                    # STEP 155
os0.rename(path1,path3)                                                # STEP 156
os0.mkdir(path1)                                                       # STEP 157
str2 += 'i'                                                            # STEP 158
str2 += 'f'                                                            # STEP 159
str2 += 'd'                                                            # STEP 160
path3 += "/" + component3                                              # STEP 161
str2 += 'b'                                                            # STEP 162
component3 = "h"                                                       # STEP 163
os0.symlink(path3,path3)                                               # STEP 164
result = os0.path.lexists(path3)                                       # STEP 165
str2 += 'n'                                                            # STEP 166
str2 += 't'                                                            # STEP 167
str2 += 'b'                                                            # STEP 168
str2 += 'e'                                                            # STEP 169
str2 += 'x'                                                            # STEP 170
bytes4 += 1                                                            # STEP 171
str2 += 'h'                                                            # STEP 172
stat0 = os0.lstat(path3)                                               # STEP 173
path1 = "/Volumes/ramdisk/test"                                        # STEP 174
result = os0.path.lexists(path3)                                       # STEP 175
str2 += 'i'                                                            # STEP 176
os0.link(path1,path3)                                                  # STEP 177
result = os0.path.isabs(path3)                                         # STEP 178
str3 = ""                                                              # STEP 179
str2 += 'x'                                                            # STEP 180
str2 += 'z'                                                            # STEP 181
str3 += 'm'                                                            # STEP 182
stat3 = os0.lstat(path3)                                               # STEP 183
path1 = "/Volumes/ramdisk/test"                                        # STEP 184
os0.path.getsize(path3)                                                # STEP 185
str3 += 'm'                                                            # STEP 186
result = os0.path.isabs(path3)                                         # STEP 187
result = stat3.st_nlink                                                # STEP 188
stat3 = os0.stat(path3)                                                # STEP 189
os0.rename(path3,path1)                                                # STEP 190
os0.link(path2,path2)                                                  # STEP 191
path2 += "/" + component1                                              # STEP 192
result = stat2.st_nlink                                                # STEP 193
os0.symlink(path3,path2)                                               # STEP 194
file0 = opener0(path1,'w')                                             # STEP 195
str4 += 'u'                                                            # STEP 196
os0.rmdir(path0)                                                       # STEP 197
result = os0.path.islink(path3)                                        # STEP 198
result = os0.path.abspath(path2)                                       # STEP 199
os0.symlink(path0,path1)                                               # STEP 200
str3 += 'e'                                                            # STEP 201
str2 += 'm'                                                            # STEP 202
component1 = "d"                                                       # STEP 203
str1 += 'i'                                                            # STEP 204
os0.symlink(path2,path0)                                               # STEP 205
str1 += 'b'                                                            # STEP 206
str4 += 'x'                                                            # STEP 207
path4 = "/Volumes/ramdisk/test"                                        # STEP 208
str1 += 'v'                                                            # STEP 209
path1 += "/" + component1                                              # STEP 210
str3 += 'a'                                                            # STEP 211
result = stat2.st_nlink                                                # STEP 212
component1 = "d"                                                       # STEP 213
file0 = opener0(path2,'r')                                             # STEP 214
os0.link(path0,path3)                                                  # STEP 215
result = os0.path.isdir(path4)                                         # STEP 216
str4 += 'v'                                                            # STEP 217
os0.mkdir(path2)                                                       # STEP 218
str2 += 'k'                                                            # STEP 219
str3 += 'a'                                                            # STEP 220
bytes0 = 0                                                             # STEP 221
file0 = opener0(path4,'r')                                             # STEP 222
str4 += 's'                                                            # STEP 223
str2 += 'e'                                                            # STEP 224
file0 = opener0(path0,'r')                                             # STEP 225
file0.seek(bytes2)                                                     # STEP 226
os0.symlink(path2,path0)                                               # STEP 227
os0.link(path4,path1)                                                  # STEP 228
str3 += 'g'                                                            # STEP 229
str3 += 'n'                                                            # STEP 230
result = sorted(os0.listdir(path1))                                    # STEP 231
os0.rename(path0,path4)                                                # STEP 232
str1 += 'v'                                                            # STEP 233
str2 += 's'                                                            # STEP 234
result = file0.readlines()                                             # STEP 235
path0 += "/" + component0                                              # STEP 236
str3 += 'd'                                                            # STEP 237
os0.rename(path0,path2)                                                # STEP 238
result = os0.read(fd0,bytes0)                                          # STEP 239
str4 += 'm'                                                            # STEP 240
component0 = "a"                                                       # STEP 241
result = file0.readline(bytes0)                                        # STEP 242
str3 += 'x'                                                            # STEP 243
str1 += 'm'                                                            # STEP 244
result = os0.read(fd0,bytes2)                                          # STEP 245
str3 += 'g'                                                            # STEP 246
os0.removedirs(path1)                                                  # STEP 247
result = file0.readline(bytes3)                                        # STEP 248
str2 += 'y'                                                            # STEP 249
stat2 = os0.stat(path3)                                                # STEP 250
path4 = "/Volumes/ramdisk/test"                                        # STEP 251
str1 += 'r'                                                            # STEP 252
result = stat2.st_nlink                                                # STEP 253
result = os0.readlink(path4)                                           # STEP 254
str2 += 'b'                                                            # STEP 255
str4 += 'j'                                                            # STEP 256
stat2 = os0.lstat(path0)                                               # STEP 257
str3 += 'l'                                                            # STEP 258
result = os0.path.isfile(path4)                                        # STEP 259
str2 += 'y'                                                            # STEP 260
str4 += 'g'                                                            # STEP 261
result = os0.path.isdir(path0)                                         # STEP 262
os0.mkdir(path4)                                                       # STEP 263
os0.rename(path3,path4)                                                # STEP 264
str2 += 'i'                                                            # STEP 265
result = os0.path.isabs(path2)                                         # STEP 266
os0.symlink(path0,path4)                                               # STEP 267
os0.rmdir(path0)                                                       # STEP 268
os0.symlink(path3,path0)                                               # STEP 269
str3 += 'r'                                                            # STEP 270
str4 += 'g'                                                            # STEP 271
path4 += "/" + component1                                              # STEP 272
result = os0.path.abspath(path0)                                       # STEP 273
str3 += 'd'                                                            # STEP 274
str4 += 'v'                                                            # STEP 275
str4 += 'h'                                                            # STEP 276
os0.makedirs(path0)                                                    # STEP 277
str1 += 'q'                                                            # STEP 278
result = file0.readline(bytes2)                                        # STEP 279
result = file0.read()                                                  # STEP 280
str2 += 'o'                                                            # STEP 281
result = file0.read(bytes0)                                            # STEP 282
os0.rmdir(path0)                                                       # STEP 283
os0.symlink(path4,path4)                                               # STEP 284
str2 += 'v'                                                            # STEP 285
result = os0.path.dirname(path2)                                       # STEP 286
os0.makedirs(path1)                                                    # STEP 287
str3 = ""                                                              # STEP 288
os0.write(fd0,str1)                                                    # STEP 289
str3 += 'u'                                                            # STEP 290
os0.symlink(path4,path4)                                               # STEP 291
file0.write(str3)                                                      # STEP 292
str4 += 'n'                                                            # STEP 293
str1 += 'r'                                                            # STEP 294
str1 += 'o'                                                            # STEP 295
str4 += 'r'                                                            # STEP 296
os0.rename(path2,path1)                                                # STEP 297
path0 += "/" + component0                                              # STEP 298
str2 += 'd'                                                            # STEP 299
component1 = "d"                                                       # STEP 300
str2 += 's'                                                            # STEP 301
str4 += 'x'                                                            # STEP 302
path1 += "/" + component3                                              # STEP 303
str1 += 'w'                                                            # STEP 304
str4 += 'v'                                                            # STEP 305
path3 += "/" + component3                                              # STEP 306
str2 += 'p'                                                            # STEP 307
result = os0.path.isabs(path3)                                         # STEP 308
str1 += 'f'                                                            # STEP 309
os0.link(path4,path2)                                                  # STEP 310
result = os0.path.abspath(path1)                                       # STEP 311
result = os0.path.dirname(path2)                                       # STEP 312
result = os0.path.isabs(path4)                                         # STEP 313
str1 += 'd'                                                            # STEP 314
result = os0.path.abspath(path3)                                       # STEP 315
os0.symlink(path0,path0)                                               # STEP 316
result = os0.path.dirname(path1)                                       # STEP 317
str3 += 'l'                                                            # STEP 318
str1 += 'd'                                                            # STEP 319
os0.symlink(path3,path0)                                               # STEP 320
result = os0.path.dirname(path1)                                       # STEP 321
result = file0.read(bytes0)                                            # STEP 322
os0.rename(path3,path4)                                                # STEP 323
str1 += 'j'                                                            # STEP 324
os0.link(path4,path2)                                                  # STEP 325
str1 += 'p'                                                            # STEP 326
os0.mkdir(path2)                                                       # STEP 327
str2 += 'f'                                                            # STEP 328
result = os0.path.exists(path3)                                        # STEP 329
os0.removedirs(path0)                                                  # STEP 330
str1 += 'm'                                                            # STEP 331
os0.mkdir(path3)                                                       # STEP 332
str4 += 'b'                                                            # STEP 333
path0 = "/Volumes/ramdisk/test"                                        # STEP 334
result = os0.path.isdir(path0)                                         # STEP 335
path4 += "/" + component4                                              # STEP 336
component0 = "e"                                                       # STEP 337
str3 += 'p'                                                            # STEP 338
str4 += 'u'                                                            # STEP 339
os0.remove(path4)                                                      # STEP 340
os0.link(path3,path4)                                                  # STEP 341
os0.makedirs(path2)                                                    # STEP 342
str4 += 'w'                                                            # STEP 343
str1 += 'o'                                                            # STEP 344
component4 = "lambda"                                                  # STEP 345
result = os0.path.islink(path0)                                        # STEP 346
str4 += 'b'                                                            # STEP 347
bytes0 += 1                                                            # STEP 348
result = os0.path.isfile(path0)                                        # STEP 349
str1 += 'n'                                                            # STEP 350
bytes2 = 0                                                             # STEP 351
str1 += 'd'                                                            # STEP 352
os0.link(path2,path3)                                                  # STEP 353
os0.rmdir(path4)                                                       # STEP 354
os0.link(path2,path3)                                                  # STEP 355
str3 += 'y'                                                            # STEP 356
os0.rename(path2,path0)                                                # STEP 357
str2 += 'u'                                                            # STEP 358
os0.symlink(path3,path0)                                               # STEP 359
os0.mkdir(path3)                                                       # STEP 360
path2 += "/" + component4                                              # STEP 361
result = os0.path.isabs(path2)                                         # STEP 362
path2 += "/" + component1                                              # STEP 363
path3 += "/" + component1                                              # STEP 364
result = os0.path.islink(path2)                                        # STEP 365
component1 = "f"                                                       # STEP 366
result = os0.read(fd0,bytes2)                                          # STEP 367
os0.link(path4,path4)                                                  # STEP 368
file0.write(str3)                                                      # STEP 369
str2 += 'l'                                                            # STEP 370
str2 += 'z'                                                            # STEP 371
result = file0.read()                                                  # STEP 372
ERROR: (<type 'exceptions.AssertionError'>, AssertionError(' (gtgslxaibvvmrq) == () ',), <traceback object at 0x106d81368>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 28322, in act563
    try: assert result == result_REF, " (%s) == (%s) " % (result, result_REF)
1179 BRANCHES COVERED
904 STATEMENTS COVERED
