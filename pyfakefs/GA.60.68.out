Random testing using config=Config(swarmSwitch=None, verbose=False, reducePool=False, failedLogging=None, exploitBestHint=1, greedyStutter=False, internal=False, exploit=0.8, seed=None, generalize=False, useHints=False, localize=False, total=False, speed='FAST', probs=None, normalize=False, verboseExploit=False, highLowSwarm=None, replayable=False, essentials=False, noCoverageExploit=False, quickTests=False, relax=False, enumerateEnabled=False, uniqueValuesAnalysis=False, swarm=False, noReassign=False, html=None, fastQuickAnalysis=False, progress=False, swarmLength=None, noSwarmDependencies=False, profile=False, LOCBaseline=0.2, noEnumerateEnabled=False, full=True, multiple=True, timedProgress=30, silentFail=True, stopWhenStatements=None, swarmP=0.5, stopWhenBranches=None, noAlphaConvert=False, coverFile='coverage.out', readQuick=False, verboseActions=False, running=False, computeFeatureStats=False, compareFails=False, swarmProbs=None, output='failure.5385.test', genDepth=None, Pcrossover=0.2, quickAnalysis=False, keepLast=False, exploitCeiling=0.1, logging=None, LOCProbs=False, noCheck=False, maxTests=-1, noExceptionMatch=False, Pmutate=0.8, depth=100, showActions=False, throughput=False, noCover=False, timeout=60, stutter=None, uncaught=False, markov=None, startExploit=0)
UNCAUGHT EXCEPTION
ERROR: (<type 'exceptions.AssertionError'>, AssertionError(' (1) == (0) ',), <traceback object at 0x10b207c20>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 21936, in act460
    try: assert result == result_REF, " (%s) == (%s) " % (result, result_REF)
Original test has 298 steps

SAVING TEST AS failure.5385.test.0
FINAL VERSION OF TEST, WITH LOGGED REPLAY:
component4 = "c"                                                         # STEP 0
component2 = "alpha"                                                     # STEP 1
component0 = "gamma"                                                     # STEP 2
component1 = "c"                                                         # STEP 3
component3 = "phi"                                                       # STEP 4
bytes0 = 0                                                               # STEP 5
path0 = "/Volumes/ramdisk/test"                                          # STEP 6
path0 += "/" + component4                                                # STEP 7
path0 += "/" + component2                                                # STEP 8
path4 = "/Volumes/ramdisk/test"                                          # STEP 9
component4 = "epsilon"                                                  # STEP 10
component2 = "delta"                                                    # STEP 11
path0 += "/" + component0                                               # STEP 12
component0 = "gamma"                                                    # STEP 13
bytes0 += 1                                                             # STEP 14
bytes3 = 0                                                              # STEP 15
os0 = newFakeOS()                                                       # STEP 16
os0.path.getsize(path0)                                                 # STEP 17
opener0 = newFakeOpener(os0)                                            # STEP 18
file0 = opener0(path4)                                                  # STEP 19
os0.symlink(path4,path0)                                                # STEP 20
os0.remove(path0)                                                       # STEP 21
file0 = opener0(path0,'w')                                              # STEP 22
bytes0 = 0                                                              # STEP 23
file0 = opener0(path4,'r')                                              # STEP 24
file0 = opener0(path4,'r')                                              # STEP 25
fd0 = os0.open(path0, os.O_CREAT | os.O_WRONLY | os.O_EXCL)             # STEP 26
os0.mkdir(path4)                                                        # STEP 27
result = sorted(os0.listdir(path0))                                     # STEP 28
result = os0.path.isfile(path0)                                         # STEP 29
result = os0.path.isfile(path0)                                         # STEP 30
os0.link(path0,path0)                                                   # STEP 31
path4 += "/" + component3                                               # STEP 32
result = os0.readlink(path4)                                            # STEP 33
result = os0.path.islink(path4)                                         # STEP 34
fd0 = os0.open(path4, os.O_CREAT | os.O_WRONLY)                         # STEP 35
component3 = "delta"                                                    # STEP 36
file0 = opener0(path4,'a')                                              # STEP 37
os0.link(path0,path4)                                                   # STEP 38
path2 = "/Volumes/ramdisk/test"                                         # STEP 39
result = os0.readlink(path4)                                            # STEP 40
path4 += "/" + component2                                               # STEP 41
os0.makedirs(path4)                                                     # STEP 42
path4 += "/" + component3                                               # STEP 43
component3 = "d"                                                        # STEP 44
result = os0.read(fd0,bytes0)                                           # STEP 45
path3 = "/Volumes/ramdisk/test"                                         # STEP 46
result = file0.readlines()                                              # STEP 47
result = os0.path.isdir(path2)                                          # STEP 48
component2 = "alpha"                                                    # STEP 49
path4 += "/" + component1                                               # STEP 50
result = os0.path.exists(path0)                                         # STEP 51
result = file0.readlines()                                              # STEP 52
os0.symlink(path0,path3)                                                # STEP 53
os0.close(fd0)                                                          # STEP 54
component1 = "omega"                                                    # STEP 55
result = os0.path.isfile(path3)                                         # STEP 56
stat0 = os0.stat(path0)                                                 # STEP 57
fd0 = os0.open(path4, os.O_CREAT | os.O_EXCL)                           # STEP 58
os0.symlink(path0,path2)                                                # STEP 59
os0.link(path3,path0)                                                   # STEP 60
result = os0.path.isabs(path0)                                          # STEP 61
path3 += "/" + component4                                               # STEP 62
stat3 = os0.stat(path0)                                                 # STEP 63
result = os0.path.exists(path3)                                         # STEP 64
bytes1 = 0                                                              # STEP 65
os0.path.getsize(path3)                                                 # STEP 66
path3 += "/" + component3                                               # STEP 67
result = os0.path.dirname(path4)                                        # STEP 68
os0.mkdir(path4)                                                        # STEP 69
component4 = "a"                                                        # STEP 70
result = os0.path.lexists(path2)                                        # STEP 71
os0.makedirs(path0)                                                     # STEP 72
os0.removedirs(path4)                                                   # STEP 73
os0.rmdir(path4)                                                        # STEP 74
result = os0.path.abspath(path0)                                        # STEP 75
os0.symlink(path3,path4)                                                # STEP 76
os0.removedirs(path4)                                                   # STEP 77
result = os0.path.islink(path3)                                         # STEP 78
path0 += "/" + component4                                               # STEP 79
stat4 = os0.stat(path0)                                                 # STEP 80
path0 += "/" + component0                                               # STEP 81
path2 += "/" + component0                                               # STEP 82
os0.rename(path3,path0)                                                 # STEP 83
path0 += "/" + component1                                               # STEP 84
path1 = "/Volumes/ramdisk/test"                                         # STEP 85
os0.mkdir(path1)                                                        # STEP 86
result = os0.readlink(path4)                                            # STEP 87
component0 = "epsilon"                                                  # STEP 88
bytes0 = 0                                                              # STEP 89
stat2 = os0.stat(path3)                                                 # STEP 90
os0.path.getsize(path0)                                                 # STEP 91
os0.symlink(path1,path2)                                                # STEP 92
stat1 = os0.stat(path3)                                                 # STEP 93
component1 = "lambda"                                                   # STEP 94
os0.link(path4,path4)                                                   # STEP 95
stat3 = os0.stat(path0)                                                 # STEP 96
path0 += "/" + component0                                               # STEP 97
os0.link(path3,path1)                                                   # STEP 98
os0.rename(path3,path4)                                                 # STEP 99
stat0 = os0.lstat(path4)                                               # STEP 100
os0.symlink(path3,path1)                                               # STEP 101
os0.makedirs(path0)                                                    # STEP 102
result = file0.readline(bytes0)                                        # STEP 103
os0.link(path1,path0)                                                  # STEP 104
result = os0.path.isfile(path2)                                        # STEP 105
component0 = "gamma"                                                   # STEP 106
stat3 = os0.lstat(path2)                                               # STEP 107
os0.link(path4,path2)                                                  # STEP 108
os0.rename(path4,path1)                                                # STEP 109
result = stat3.st_size                                                 # STEP 110
os0.mkdir(path0)                                                       # STEP 111
path0 += "/" + component2                                              # STEP 112
os0.rename(path4,path1)                                                # STEP 113
stat2 = os0.stat(path0)                                                # STEP 114
os0.makedirs(path3)                                                    # STEP 115
component3 = "f"                                                       # STEP 116
component4 = "alpha"                                                   # STEP 117
stat0 = os0.lstat(path2)                                               # STEP 118
os0.makedirs(path4)                                                    # STEP 119
stat1 = os0.lstat(path3)                                               # STEP 120
bytes1 += 1                                                            # STEP 121
result = file0.readline(bytes3)                                        # STEP 122
result = os0.path.islink(path2)                                        # STEP 123
bytes3 += 1                                                            # STEP 124
os0.remove(path4)                                                      # STEP 125
path0 += "/" + component1                                              # STEP 126
os0.removedirs(path1)                                                  # STEP 127
component1 = "c"                                                       # STEP 128
result = os0.path.islink(path3)                                        # STEP 129
path4 += "/" + component0                                              # STEP 130
path1 += "/" + component4                                              # STEP 131
component2 = "phi"                                                     # STEP 132
os0.makedirs(path1)                                                    # STEP 133
os0.remove(path2)                                                      # STEP 134
result = os0.path.islink(path1)                                        # STEP 135
result = os0.path.isabs(path2)                                         # STEP 136
file0.seek(bytes3)                                                     # STEP 137
result = os0.path.isfile(path4)                                        # STEP 138
os0.link(path1,path1)                                                  # STEP 139
os0.symlink(path1,path4)                                               # STEP 140
bytes3 = 0                                                             # STEP 141
os0.link(path1,path1)                                                  # STEP 142
path4 += "/" + component4                                              # STEP 143
os0.remove(path4)                                                      # STEP 144
result = os0.path.isabs(path4)                                         # STEP 145
os0.remove(path4)                                                      # STEP 146
component0 = "e"                                                       # STEP 147
result = file0.read()                                                  # STEP 148
os0.rmdir(path1)                                                       # STEP 149
os0.symlink(path1,path3)                                               # STEP 150
path1 = "/Volumes/ramdisk/test"                                        # STEP 151
os0.symlink(path0,path0)                                               # STEP 152
os0.mkdir(path1)                                                       # STEP 153
file0.seek(bytes0)                                                     # STEP 154
os0.link(path0,path1)                                                  # STEP 155
os0.symlink(path2,path2)                                               # STEP 156
os0.rmdir(path0)                                                       # STEP 157
os0.link(path1,path4)                                                  # STEP 158
os0.link(path0,path1)                                                  # STEP 159
os0.link(path2,path4)                                                  # STEP 160
result = os0.path.isabs(path2)                                         # STEP 161
bytes2 = 0                                                             # STEP 162
os0.link(path1,path4)                                                  # STEP 163
result = file0.read(bytes3)                                            # STEP 164
result = sorted(os0.listdir(path1))                                    # STEP 165
path2 += "/" + component2                                              # STEP 166
os0.rename(path2,path4)                                                # STEP 167
os0.rename(path4,path2)                                                # STEP 168
os0.makedirs(path2)                                                    # STEP 169
result = os0.read(fd0,bytes1)                                          # STEP 170
os0.link(path2,path4)                                                  # STEP 171
os0.symlink(path3,path2)                                               # STEP 172
result = sorted(os0.listdir(path2))                                    # STEP 173
os0.rename(path0,path3)                                                # STEP 174
os0.link(path2,path0)                                                  # STEP 175
os0.removedirs(path2)                                                  # STEP 176
result = os0.path.dirname(path2)                                       # STEP 177
os0.symlink(path3,path4)                                               # STEP 178
path1 += "/" + component2                                              # STEP 179
component4 = "a"                                                       # STEP 180
result = os0.path.isfile(path0)                                        # STEP 181
os0.path.getsize(path0)                                                # STEP 182
component2 = "d"                                                       # STEP 183
stat4 = os0.stat(path4)                                                # STEP 184
os0.rename(path4,path3)                                                # STEP 185
path4 = "/Volumes/ramdisk/test"                                        # STEP 186
result = os0.path.lexists(path3)                                       # STEP 187
os0.rmdir(path3)                                                       # STEP 188
os0.removedirs(path1)                                                  # STEP 189
result = sorted(os0.listdir(path2))                                    # STEP 190
result = file0.read(bytes3)                                            # STEP 191
os0.removedirs(path4)                                                  # STEP 192
stat2 = os0.stat(path0)                                                # STEP 193
stat2 = os0.lstat(path0)                                               # STEP 194
stat4 = os0.stat(path2)                                                # STEP 195
os0.symlink(path0,path1)                                               # STEP 196
os0.symlink(path4,path3)                                               # STEP 197
str4 = ""                                                              # STEP 198
str0 = ""                                                              # STEP 199
str0 += 'o'                                                            # STEP 200
path4 += "/" + component1                                              # STEP 201
component1 = "c"                                                       # STEP 202
str4 += 'a'                                                            # STEP 203
str4 += 'w'                                                            # STEP 204
os0.symlink(path2,path3)                                               # STEP 205
result = os0.path.exists(path2)                                        # STEP 206
result = os0.read(fd0,bytes3)                                          # STEP 207
os0.makedirs(path0)                                                    # STEP 208
result = file0.readline(bytes1)                                        # STEP 209
str4 += 'g'                                                            # STEP 210
path3 += "/" + component3                                              # STEP 211
result = os0.path.abspath(path4)                                       # STEP 212
str4 += 'g'                                                            # STEP 213
os0.path.getsize(path2)                                                # STEP 214
path4 += "/" + component1                                              # STEP 215
result = os0.path.isdir(path1)                                         # STEP 216
str4 += 'x'                                                            # STEP 217
component3 = "c"                                                       # STEP 218
os0.removedirs(path0)                                                  # STEP 219
stat2 = os0.fstat(fd0)                                                 # STEP 220
file0.truncate()                                                       # STEP 221
os0.link(path0,path1)                                                  # STEP 222
str4 += 'e'                                                            # STEP 223
path2 += "/" + component2                                              # STEP 224
os0.rmdir(path0)                                                       # STEP 225
os0.mkdir(path2)                                                       # STEP 226
str0 += 'b'                                                            # STEP 227
result = file0.read(bytes2)                                            # STEP 228
os0.link(path4,path3)                                                  # STEP 229
os0.rename(path4,path3)                                                # STEP 230
result = sorted(os0.listdir(path1))                                    # STEP 231
os0.symlink(path0,path3)                                               # STEP 232
path4 += "/" + component0                                              # STEP 233
stat4 = os0.lstat(path2)                                               # STEP 234
result = os0.path.lexists(path3)                                       # STEP 235
os0.symlink(path0,path0)                                               # STEP 236
os0.symlink(path0,path2)                                               # STEP 237
os0.makedirs(path0)                                                    # STEP 238
stat4 = os0.fstat(fd0)                                                 # STEP 239
os0.symlink(path4,path0)                                               # STEP 240
file0.next()                                                           # STEP 241
result = os0.path.exists(path3)                                        # STEP 242
result = sorted(os0.listdir(path0))                                    # STEP 243
str3 = ""                                                              # STEP 244
result = os0.read(fd0,bytes0)                                          # STEP 245
os0.rename(path0,path2)                                                # STEP 246
stat4 = os0.stat(path1)                                                # STEP 247
str4 += 'm'                                                            # STEP 248
file0.seek(bytes3)                                                     # STEP 249
result = stat3.st_size                                                 # STEP 250
result = sorted(os0.listdir(path1))                                    # STEP 251
result = os0.path.exists(path3)                                        # STEP 252
os0.link(path2,path0)                                                  # STEP 253
result = os0.path.isdir(path3)                                         # STEP 254
result = sorted(os0.listdir(path4))                                    # STEP 255
str3 += 'k'                                                            # STEP 256
file0.write(str3)                                                      # STEP 257
component1 = "beta"                                                    # STEP 258
str4 = ""                                                              # STEP 259
str3 += 'u'                                                            # STEP 260
path2 += "/" + component2                                              # STEP 261
os0.symlink(path0,path3)                                               # STEP 262
str4 += 'g'                                                            # STEP 263
stat3 = os0.stat(path1)                                                # STEP 264
result = os0.path.abspath(path2)                                       # STEP 265
os0.symlink(path2,path3)                                               # STEP 266
str4 += 'z'                                                            # STEP 267
component0 = "lambda"                                                  # STEP 268
result = os0.path.isabs(path3)                                         # STEP 269
component2 = "lambda"                                                  # STEP 270
os0.removedirs(path3)                                                  # STEP 271
bytes2 = 0                                                             # STEP 272
str0 += 'b'                                                            # STEP 273
os0.write(fd0,str4)                                                    # STEP 274
os0.link(path0,path0)                                                  # STEP 275
stat2 = os0.stat(path4)                                                # STEP 276
os0.symlink(path2,path0)                                               # STEP 277
result = os0.path.dirname(path1)                                       # STEP 278
result = os0.path.abspath(path4)                                       # STEP 279
os0.link(path0,path0)                                                  # STEP 280
os0.symlink(path0,path1)                                               # STEP 281
result = os0.readlink(path2)                                           # STEP 282
result = os0.path.abspath(path2)                                       # STEP 283
stat2 = os0.stat(path4)                                                # STEP 284
result = file0.read()                                                  # STEP 285
result = file0.read()                                                  # STEP 286
os0.rmdir(path0)                                                       # STEP 287
str4 += 'h'                                                            # STEP 288
result = os0.readlink(path4)                                           # STEP 289
str4 += 'z'                                                            # STEP 290
result = file0.read(bytes2)                                            # STEP 291
str4 += 'y'                                                            # STEP 292
os0.symlink(path1,path0)                                               # STEP 293
os0.link(path0,path2)                                                  # STEP 294
result = file0.read(bytes1)                                            # STEP 295
str0 += 'k'                                                            # STEP 296
result = stat3.st_size                                                 # STEP 297
ERROR: (<type 'exceptions.AssertionError'>, AssertionError(' (1) == (0) ',), <traceback object at 0x1052714d0>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 21936, in act460
    try: assert result == result_REF, " (%s) == (%s) " % (result, result_REF)
FAILURE IS NEW, STORING; NOW 1 DISTINCT FAILURES
TEST #110 STEP #0 (0:00:30.175345) Sat Jul 22 05:30:50 2017 [ 899 stmts 1169 branches ] 10878 TOTAL ACTIONS (360.492979291/s)
UNCAUGHT EXCEPTION
ERROR: (<type 'exceptions.AssertionError'>, AssertionError(' () == (zj) ',), <traceback object at 0x107ab7fc8>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 16302, in act375
    try: assert result == result_REF, " (%s) == (%s) " % (result, result_REF)
Original test has 204 steps

SAVING TEST AS failure.5385.test.1
FINAL VERSION OF TEST, WITH LOGGED REPLAY:
component1 = "delta"                                                     # STEP 0
component2 = "e"                                                         # STEP 1
str0 = ""                                                                # STEP 2
str0 += 'j'                                                              # STEP 3
bytes4 = 0                                                               # STEP 4
bytes2 = 0                                                               # STEP 5
component3 = "e"                                                         # STEP 6
str0 += 'j'                                                              # STEP 7
bytes4 += 1                                                              # STEP 8
component4 = "gamma"                                                     # STEP 9
str0 += 'o'                                                             # STEP 10
component0 = "d"                                                        # STEP 11
str0 += 'r'                                                             # STEP 12
str1 = ""                                                               # STEP 13
str0 += 'a'                                                             # STEP 14
str0 += 'c'                                                             # STEP 15
str4 = ""                                                               # STEP 16
str0 = ""                                                               # STEP 17
str0 += 'o'                                                             # STEP 18
str4 += 'y'                                                             # STEP 19
str4 += 'c'                                                             # STEP 20
str0 += 'q'                                                             # STEP 21
str4 += 'k'                                                             # STEP 22
str4 += 'v'                                                             # STEP 23
str0 += 'i'                                                             # STEP 24
bytes4 += 1                                                             # STEP 25
str1 += " "                                                             # STEP 26
str0 += 'j'                                                             # STEP 27
str0 += 'l'                                                             # STEP 28
str1 += 's'                                                             # STEP 29
str4 += 'i'                                                             # STEP 30
str4 += " "                                                             # STEP 31
str0 += 'f'                                                             # STEP 32
str1 = ""                                                               # STEP 33
str1 += 'x'                                                             # STEP 34
str1 += 'a'                                                             # STEP 35
str1 += 'w'                                                             # STEP 36
str0 += 'm'                                                             # STEP 37
str1 += 'e'                                                             # STEP 38
bytes4 = 0                                                              # STEP 39
bytes3 = 0                                                              # STEP 40
str0 += 'c'                                                             # STEP 41
str1 = ""                                                               # STEP 42
path0 = "/Volumes/ramdisk/test"                                         # STEP 43
bytes3 += 1                                                             # STEP 44
str1 += 'c'                                                             # STEP 45
str4 += 'h'                                                             # STEP 46
os0 = newFakeOS()                                                       # STEP 47
os0.link(path0,path0)                                                   # STEP 48
opener0 = newFakeOpener(os0)                                            # STEP 49
path0 += "/" + component1                                               # STEP 50
bytes3 += 1                                                             # STEP 51
str0 += 'g'                                                             # STEP 52
component1 = "omega"                                                    # STEP 53
str1 += 'c'                                                             # STEP 54
os0.link(path0,path0)                                                   # STEP 55
stat0 = os0.lstat(path0)                                                # STEP 56
fd0 = os0.open(path0, os.O_CREAT)                                       # STEP 57
str4 += 'd'                                                             # STEP 58
os0.symlink(path0,path0)                                                # STEP 59
result = os0.path.abspath(path0)                                        # STEP 60
path1 = "/Volumes/ramdisk/test"                                         # STEP 61
path1 += "/" + component2                                               # STEP 62
str4 += 'b'                                                             # STEP 63
str1 += " "                                                             # STEP 64
stat3 = os0.lstat(path0)                                                # STEP 65
str1 += 'd'                                                             # STEP 66
result = os0.path.lexists(path1)                                        # STEP 67
stat4 = os0.lstat(path0)                                                # STEP 68
stat2 = os0.lstat(path0)                                                # STEP 69
result = os0.path.islink(path1)                                         # STEP 70
str0 += 'i'                                                             # STEP 71
file0 = opener0(path0,'w')                                              # STEP 72
bytes3 = 0                                                              # STEP 73
path0 += "/" + component1                                               # STEP 74
result = os0.read(fd0,bytes3)                                           # STEP 75
bytes0 = 0                                                              # STEP 76
result = stat2.st_nlink                                                 # STEP 77
result = file0.read(bytes3)                                             # STEP 78
bytes0 += 1                                                             # STEP 79
str2 = ""                                                               # STEP 80
str0 = ""                                                               # STEP 81
path0 += "/" + component2                                               # STEP 82
component2 = "omega"                                                    # STEP 83
str0 += 'm'                                                             # STEP 84
str4 += 'q'                                                             # STEP 85
result = file0.readline(bytes0)                                         # STEP 86
str4 += 'z'                                                             # STEP 87
stat1 = os0.stat(path0)                                                 # STEP 88
result = os0.path.lexists(path0)                                        # STEP 89
os0.symlink(path0,path1)                                                # STEP 90
bytes0 += 1                                                             # STEP 91
os0.write(fd0,str4)                                                     # STEP 92
os0.link(path1,path0)                                                   # STEP 93
os0.write(fd0,str0)                                                     # STEP 94
component1 = "epsilon"                                                  # STEP 95
str4 += 'b'                                                             # STEP 96
bytes0 += 1                                                             # STEP 97
os0.link(path0,path1)                                                   # STEP 98
str0 += 't'                                                             # STEP 99
result = stat4.st_size                                                 # STEP 100
str4 += 'y'                                                            # STEP 101
path1 += "/" + component2                                              # STEP 102
os0.path.getsize(path1)                                                # STEP 103
str4 += 'c'                                                            # STEP 104
os0.remove(path1)                                                      # STEP 105
str4 += 'c'                                                            # STEP 106
str2 += 'u'                                                            # STEP 107
str0 = ""                                                              # STEP 108
path1 += "/" + component0                                              # STEP 109
str2 += 'z'                                                            # STEP 110
str4 += 'a'                                                            # STEP 111
str2 += 'd'                                                            # STEP 112
str0 += 'e'                                                            # STEP 113
str2 += 'q'                                                            # STEP 114
os0.mkdir(path0)                                                       # STEP 115
str0 += 'p'                                                            # STEP 116
result = os0.path.dirname(path0)                                       # STEP 117
str0 += 'p'                                                            # STEP 118
str1 += 'x'                                                            # STEP 119
result = os0.path.isdir(path0)                                         # STEP 120
stat4 = os0.lstat(path1)                                               # STEP 121
bytes3 += 1                                                            # STEP 122
stat0 = os0.stat(path0)                                                # STEP 123
result = file0.readline()                                              # STEP 124
result = stat3.st_nlink                                                # STEP 125
os0.removedirs(path0)                                                  # STEP 126
component0 = "h"                                                       # STEP 127
str1 += 'd'                                                            # STEP 128
bytes3 += 1                                                            # STEP 129
str0 += 'l'                                                            # STEP 130
result = os0.path.abspath(path0)                                       # STEP 131
str2 = ""                                                              # STEP 132
str0 += " "                                                            # STEP 133
stat0 = os0.lstat(path1)                                               # STEP 134
str4 += 'l'                                                            # STEP 135
stat1 = os0.stat(path0)                                                # STEP 136
component2 = "a"                                                       # STEP 137
bytes1 = 0                                                             # STEP 138
str1 += 'b'                                                            # STEP 139
path0 += "/" + component4                                              # STEP 140
result = os0.path.dirname(path1)                                       # STEP 141
component4 = "f"                                                       # STEP 142
file0.seek(bytes4)                                                     # STEP 143
result = os0.path.abspath(path1)                                       # STEP 144
str2 += 'z'                                                            # STEP 145
result = stat3.st_nlink                                                # STEP 146
str1 += 'k'                                                            # STEP 147
path1 += "/" + component2                                              # STEP 148
result = os0.path.dirname(path0)                                       # STEP 149
os0.link(path1,path0)                                                  # STEP 150
result = stat2.st_nlink                                                # STEP 151
result = file0.readline()                                              # STEP 152
os0.link(path0,path0)                                                  # STEP 153
stat3 = os0.stat(path0)                                                # STEP 154
str2 += 'j'                                                            # STEP 155
str4 += 'm'                                                            # STEP 156
str0 += 'r'                                                            # STEP 157
result = os0.path.islink(path0)                                        # STEP 158
str1 += 'c'                                                            # STEP 159
result = file0.readline()                                              # STEP 160
str0 += " "                                                            # STEP 161
component2 = "beta"                                                    # STEP 162
file0.write(str2)                                                      # STEP 163
stat2 = os0.lstat(path1)                                               # STEP 164
os0.removedirs(path0)                                                  # STEP 165
str1 += 'k'                                                            # STEP 166
str0 += 's'                                                            # STEP 167
stat0 = os0.lstat(path0)                                               # STEP 168
str0 += 'o'                                                            # STEP 169
result = stat2.st_nlink                                                # STEP 170
file0.seek(bytes0)                                                     # STEP 171
str2 += 'v'                                                            # STEP 172
file0.write(str1)                                                      # STEP 173
bytes0 += 1                                                            # STEP 174
str2 += 'p'                                                            # STEP 175
str2 += 'q'                                                            # STEP 176
result = os0.path.isabs(path0)                                         # STEP 177
str4 += 't'                                                            # STEP 178
bytes1 += 1                                                            # STEP 179
os0.remove(path1)                                                      # STEP 180
str0 += " "                                                            # STEP 181
str4 += 'c'                                                            # STEP 182
str1 += 'a'                                                            # STEP 183
str2 += 'r'                                                            # STEP 184
bytes4 += 1                                                            # STEP 185
str4 += 'k'                                                            # STEP 186
result = os0.path.abspath(path0)                                       # STEP 187
str1 += 'a'                                                            # STEP 188
str4 += 's'                                                            # STEP 189
str1 += 'o'                                                            # STEP 190
str0 += 'o'                                                            # STEP 191
str3 = ""                                                              # STEP 192
stat0 = os0.fstat(fd0)                                                 # STEP 193
result = os0.path.isabs(path1)                                         # STEP 194
result = stat2.st_nlink                                                # STEP 195
str1 += 'u'                                                            # STEP 196
str0 += 't'                                                            # STEP 197
result = os0.readlink(path0)                                           # STEP 198
result = os0.path.isfile(path1)                                        # STEP 199
result = os0.path.exists(path0)                                        # STEP 200
str1 += 'l'                                                            # STEP 201
str1 += 't'                                                            # STEP 202
result = os0.read(fd0,bytes3)                                          # STEP 203
ERROR: (<type 'exceptions.AssertionError'>, AssertionError(' () == (zj) ',), <traceback object at 0x107fab1b8>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 16302, in act375
    try: assert result == result_REF, " (%s) == (%s) " % (result, result_REF)
FAILURE IS NEW, STORING; NOW 2 DISTINCT FAILURES
UNCAUGHT EXCEPTION
ERROR: (<type 'exceptions.OSError'>, OSError(9, 'File is not open for reading.'), <traceback object at 0x10839dab8>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 28999, in act575
    result = self.p_file[0].readlines()
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4284, in read_error
    self._raise('File is not open for reading.')
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4112, in _raise
    raise OSError(errno.EBADF, message)
Original test has 327 steps

SAVING TEST AS failure.5385.test.2
FINAL VERSION OF TEST, WITH LOGGED REPLAY:
component1 = "delta"                                                     # STEP 0
component2 = "e"                                                         # STEP 1
str0 = ""                                                                # STEP 2
str0 += 'j'                                                              # STEP 3
bytes4 = 0                                                               # STEP 4
bytes2 = 0                                                               # STEP 5
component3 = "e"                                                         # STEP 6
str0 += 'j'                                                              # STEP 7
bytes4 += 1                                                              # STEP 8
component4 = "gamma"                                                     # STEP 9
str0 += 'h'                                                             # STEP 10
str0 += 'o'                                                             # STEP 11
component0 = "d"                                                        # STEP 12
str0 += 'r'                                                             # STEP 13
str1 = ""                                                               # STEP 14
str0 += 'a'                                                             # STEP 15
str0 += 'c'                                                             # STEP 16
str4 = ""                                                               # STEP 17
str4 += 'd'                                                             # STEP 18
str0 = ""                                                               # STEP 19
str0 += 'o'                                                             # STEP 20
str4 += 'y'                                                             # STEP 21
str4 += 'c'                                                             # STEP 22
str0 += 'q'                                                             # STEP 23
str4 += 'k'                                                             # STEP 24
str4 += 'v'                                                             # STEP 25
str0 += 'i'                                                             # STEP 26
bytes4 += 1                                                             # STEP 27
str1 += " "                                                             # STEP 28
str0 += 'j'                                                             # STEP 29
str0 += 'l'                                                             # STEP 30
str1 += 's'                                                             # STEP 31
str4 += 'i'                                                             # STEP 32
str4 += " "                                                             # STEP 33
str0 += 'f'                                                             # STEP 34
str1 = ""                                                               # STEP 35
str1 += 'x'                                                             # STEP 36
str1 += 'a'                                                             # STEP 37
str1 += 'w'                                                             # STEP 38
str0 += 'm'                                                             # STEP 39
str1 += 'e'                                                             # STEP 40
bytes4 = 0                                                              # STEP 41
bytes3 = 0                                                              # STEP 42
str0 += 'c'                                                             # STEP 43
str1 = ""                                                               # STEP 44
path0 = "/Volumes/ramdisk/test"                                         # STEP 45
bytes3 += 1                                                             # STEP 46
str1 += 'c'                                                             # STEP 47
str4 += 'h'                                                             # STEP 48
os0 = newFakeOS()                                                       # STEP 49
os0.link(path0,path0)                                                   # STEP 50
opener0 = newFakeOpener(os0)                                            # STEP 51
path0 += "/" + component1                                               # STEP 52
bytes3 += 1                                                             # STEP 53
str0 += 'g'                                                             # STEP 54
component1 = "omega"                                                    # STEP 55
str1 += 'c'                                                             # STEP 56
os0.link(path0,path0)                                                   # STEP 57
stat0 = os0.lstat(path0)                                                # STEP 58
fd0 = os0.open(path0, os.O_CREAT)                                       # STEP 59
str4 += 'd'                                                             # STEP 60
os0.symlink(path0,path0)                                                # STEP 61
result = os0.path.abspath(path0)                                        # STEP 62
bytes3 += 1                                                             # STEP 63
str0 += 'u'                                                             # STEP 64
str1 += 'i'                                                             # STEP 65
path0 = "/Volumes/ramdisk/test"                                         # STEP 66
result = os0.path.isdir(path0)                                          # STEP 67
str4 += 'z'                                                             # STEP 68
str4 += 'm'                                                             # STEP 69
str4 += 'i'                                                             # STEP 70
str2 = ""                                                               # STEP 71
str2 += 'c'                                                             # STEP 72
str2 += 'o'                                                             # STEP 73
stat4 = os0.fstat(fd0)                                                  # STEP 74
result = os0.path.isdir(path0)                                          # STEP 75
path0 += "/" + component4                                               # STEP 76
str1 += 'y'                                                             # STEP 77
str0 += 'd'                                                             # STEP 78
str2 += 'v'                                                             # STEP 79
str1 += 'q'                                                             # STEP 80
path2 = "/Volumes/ramdisk/test"                                         # STEP 81
str1 += 'h'                                                             # STEP 82
str2 += 'm'                                                             # STEP 83
str4 += 'o'                                                             # STEP 84
str4 += 't'                                                             # STEP 85
str0 += 'e'                                                             # STEP 86
os0.rmdir(path0)                                                        # STEP 87
str1 += 'l'                                                             # STEP 88
str0 += 'f'                                                             # STEP 89
str2 += 'o'                                                             # STEP 90
path4 = "/Volumes/ramdisk/test"                                         # STEP 91
result = os0.path.abspath(path4)                                        # STEP 92
os0.close(fd0)                                                          # STEP 93
str0 += " "                                                             # STEP 94
stat2 = os0.fstat(fd0)                                                  # STEP 95
path2 += "/" + component3                                               # STEP 96
result = os0.path.isfile(path2)                                         # STEP 97
component4 = "b"                                                        # STEP 98
os0.remove(path4)                                                       # STEP 99
str2 += 'a'                                                            # STEP 100
result = os0.read(fd0,bytes2)                                          # STEP 101
os0.link(path2,path0)                                                  # STEP 102
str2 += 'z'                                                            # STEP 103
fd0 = os0.open(path2, os.O_RDONLY)                                     # STEP 104
os0.link(path2,path2)                                                  # STEP 105
path0 += "/" + component3                                              # STEP 106
str2 += 'j'                                                            # STEP 107
component3 = "e"                                                       # STEP 108
result = os0.path.isfile(path4)                                        # STEP 109
result = os0.path.isdir(path2)                                         # STEP 110
os0.symlink(path2,path4)                                               # STEP 111
os0.symlink(path4,path4)                                               # STEP 112
str1 += 'j'                                                            # STEP 113
str2 += 'w'                                                            # STEP 114
os0.path.getsize(path2)                                                # STEP 115
os0.mkdir(path4)                                                       # STEP 116
str2 += " "                                                            # STEP 117
str0 += 'z'                                                            # STEP 118
result = os0.path.isfile(path0)                                        # STEP 119
os0.symlink(path4,path2)                                               # STEP 120
str4 += 'j'                                                            # STEP 121
result = os0.path.dirname(path2)                                       # STEP 122
os0.symlink(path2,path4)                                               # STEP 123
str1 = ""                                                              # STEP 124
result = stat4.st_size                                                 # STEP 125
os0.mkdir(path4)                                                       # STEP 126
str4 += 's'                                                            # STEP 127
str0 += 'k'                                                            # STEP 128
os0.link(path4,path0)                                                  # STEP 129
stat2 = os0.fstat(fd0)                                                 # STEP 130
result = os0.path.isdir(path2)                                         # STEP 131
str1 += 'c'                                                            # STEP 132
str2 += 'q'                                                            # STEP 133
str4 += 'o'                                                            # STEP 134
os0.link(path4,path0)                                                  # STEP 135
path4 += "/" + component4                                              # STEP 136
str2 += 't'                                                            # STEP 137
str1 += 't'                                                            # STEP 138
result = os0.path.isdir(path4)                                         # STEP 139
os0.mkdir(path4)                                                       # STEP 140
stat3 = os0.lstat(path4)                                               # STEP 141
str1 += 'b'                                                            # STEP 142
str1 += 'n'                                                            # STEP 143
result = os0.path.exists(path4)                                        # STEP 144
str1 += 'b'                                                            # STEP 145
str0 += 'p'                                                            # STEP 146
stat1 = os0.fstat(fd0)                                                 # STEP 147
stat0 = os0.fstat(fd0)                                                 # STEP 148
str1 += 'w'                                                            # STEP 149
str1 += 'j'                                                            # STEP 150
os0.rmdir(path2)                                                       # STEP 151
os0.remove(path4)                                                      # STEP 152
str2 += 't'                                                            # STEP 153
stat2 = os0.fstat(fd0)                                                 # STEP 154
str2 += 'y'                                                            # STEP 155
result = sorted(os0.listdir(path2))                                    # STEP 156
str1 += 'i'                                                            # STEP 157
os0.rename(path2,path4)                                                # STEP 158
os0.symlink(path2,path0)                                               # STEP 159
os0.symlink(path0,path0)                                               # STEP 160
result = os0.path.isdir(path2)                                         # STEP 161
path3 = "/Volumes/ramdisk/test"                                        # STEP 162
os0.removedirs(path2)                                                  # STEP 163
str0 += 'u'                                                            # STEP 164
str1 += 'z'                                                            # STEP 165
str0 = ""                                                              # STEP 166
str4 += 'c'                                                            # STEP 167
component4 = "g"                                                       # STEP 168
str1 += 'f'                                                            # STEP 169
stat2 = os0.lstat(path4)                                               # STEP 170
result = sorted(os0.listdir(path2))                                    # STEP 171
os0.write(fd0,str2)                                                    # STEP 172
str1 += 'b'                                                            # STEP 173
bytes4 += 1                                                            # STEP 174
os0.symlink(path4,path3)                                               # STEP 175
os0.mkdir(path3)                                                       # STEP 176
str4 += 'b'                                                            # STEP 177
stat0 = os0.lstat(path4)                                               # STEP 178
bytes2 = 0                                                             # STEP 179
os0.link(path2,path0)                                                  # STEP 180
str4 += 'w'                                                            # STEP 181
stat1 = os0.lstat(path2)                                               # STEP 182
result = os0.path.isdir(path4)                                         # STEP 183
os0.rename(path4,path2)                                                # STEP 184
str4 += 't'                                                            # STEP 185
result = os0.path.isdir(path3)                                         # STEP 186
os0.link(path0,path0)                                                  # STEP 187
result = os0.path.isabs(path4)                                         # STEP 188
str1 += 'z'                                                            # STEP 189
os0.mkdir(path4)                                                       # STEP 190
str4 += 'e'                                                            # STEP 191
bytes4 += 1                                                            # STEP 192
path0 += "/" + component2                                              # STEP 193
path0 += "/" + component2                                              # STEP 194
os0.write(fd0,str1)                                                    # STEP 195
file0 = opener0(path2,'r')                                             # STEP 196
file0 = opener0(path0,'r')                                             # STEP 197
str4 += 'o'                                                            # STEP 198
str1 += 'l'                                                            # STEP 199
str2 += 'j'                                                            # STEP 200
file0 = opener0(path0,'w')                                             # STEP 201
result = os0.readlink(path4)                                           # STEP 202
stat4 = os0.fstat(fd0)                                                 # STEP 203
str1 += 'n'                                                            # STEP 204
os0.write(fd0,str4)                                                    # STEP 205
result = os0.path.isdir(path0)                                         # STEP 206
result = os0.path.lexists(path3)                                       # STEP 207
result = sorted(os0.listdir(path3))                                    # STEP 208
os0.makedirs(path0)                                                    # STEP 209
path2 += "/" + component3                                              # STEP 210
str0 += 'h'                                                            # STEP 211
str2 += 'v'                                                            # STEP 212
str1 += 'u'                                                            # STEP 213
os0.symlink(path2,path2)                                               # STEP 214
result = os0.path.exists(path2)                                        # STEP 215
str0 += 'y'                                                            # STEP 216
os0.rename(path4,path3)                                                # STEP 217
result = os0.path.abspath(path4)                                       # STEP 218
os0.symlink(path0,path3)                                               # STEP 219
result = os0.path.isfile(path0)                                        # STEP 220
str1 += 'o'                                                            # STEP 221
str0 += 'y'                                                            # STEP 222
str1 = ""                                                              # STEP 223
path0 += "/" + component4                                              # STEP 224
str1 += 't'                                                            # STEP 225
str1 += 'a'                                                            # STEP 226
str0 = ""                                                              # STEP 227
str2 += 'j'                                                            # STEP 228
result = os0.path.dirname(path2)                                       # STEP 229
component3 = "f"                                                       # STEP 230
os0.rename(path0,path2)                                                # STEP 231
str1 += 'o'                                                            # STEP 232
os0.symlink(path4,path3)                                               # STEP 233
path2 += "/" + component1                                              # STEP 234
str4 += 'c'                                                            # STEP 235
path3 += "/" + component2                                              # STEP 236
component4 = "a"                                                       # STEP 237
str1 = ""                                                              # STEP 238
result = os0.path.lexists(path4)                                       # STEP 239
str2 += 'f'                                                            # STEP 240
str4 += 'q'                                                            # STEP 241
os0.link(path0,path3)                                                  # STEP 242
file0 = opener0(path2,'w')                                             # STEP 243
component2 = "delta"                                                   # STEP 244
os0.path.getsize(path2)                                                # STEP 245
path0 += "/" + component2                                              # STEP 246
str1 += 'f'                                                            # STEP 247
str1 += 'k'                                                            # STEP 248
os0.link(path0,path4)                                                  # STEP 249
os0.symlink(path2,path4)                                               # STEP 250
os0.link(path0,path0)                                                  # STEP 251
result = os0.path.exists(path3)                                        # STEP 252
str4 += 'o'                                                            # STEP 253
result = os0.path.isabs(path3)                                         # STEP 254
str4 += 'e'                                                            # STEP 255
result = os0.path.isabs(path4)                                         # STEP 256
str1 += 'k'                                                            # STEP 257
os0.symlink(path4,path4)                                               # STEP 258
str2 += 't'                                                            # STEP 259
os0.link(path0,path0)                                                  # STEP 260
os0.link(path2,path2)                                                  # STEP 261
str2 += 'x'                                                            # STEP 262
result = os0.path.lexists(path0)                                       # STEP 263
result = file0.readline(bytes2)                                        # STEP 264
os0.link(path2,path4)                                                  # STEP 265
os0.link(path3,path0)                                                  # STEP 266
str1 += 'f'                                                            # STEP 267
str4 += 'h'                                                            # STEP 268
os0.rename(path2,path3)                                                # STEP 269
file0.write(str0)                                                      # STEP 270
os0.link(path4,path4)                                                  # STEP 271
str1 = ""                                                              # STEP 272
component2 = "epsilon"                                                 # STEP 273
os0.mkdir(path0)                                                       # STEP 274
component1 = "delta"                                                   # STEP 275
result = os0.path.lexists(path3)                                       # STEP 276
path0 += "/" + component0                                              # STEP 277
path2 = "/Volumes/ramdisk/test"                                        # STEP 278
os0.symlink(path4,path3)                                               # STEP 279
str4 += 'a'                                                            # STEP 280
result = os0.path.exists(path3)                                        # STEP 281
str3 = ""                                                              # STEP 282
os0.symlink(path3,path3)                                               # STEP 283
str2 += 'h'                                                            # STEP 284
str0 += 'g'                                                            # STEP 285
os0.symlink(path3,path3)                                               # STEP 286
str4 += 'h'                                                            # STEP 287
str0 += 's'                                                            # STEP 288
result = os0.path.islink(path0)                                        # STEP 289
component0 = "f"                                                       # STEP 290
os0.rename(path4,path3)                                                # STEP 291
file0.write(str2)                                                      # STEP 292
os0.rename(path0,path3)                                                # STEP 293
os0.path.getsize(path0)                                                # STEP 294
str0 += 'a'                                                            # STEP 295
str3 += 'm'                                                            # STEP 296
result = os0.readlink(path4)                                           # STEP 297
os0.link(path3,path4)                                                  # STEP 298
os0.write(fd0,str3)                                                    # STEP 299
result = sorted(os0.listdir(path0))                                    # STEP 300
str1 += 'r'                                                            # STEP 301
result = stat1.st_size                                                 # STEP 302
os0.path.getsize(path0)                                                # STEP 303
os0.path.getsize(path3)                                                # STEP 304
path0 += "/" + component0                                              # STEP 305
str0 += 'u'                                                            # STEP 306
str4 += 'f'                                                            # STEP 307
os0.link(path3,path2)                                                  # STEP 308
str1 += 'e'                                                            # STEP 309
path3 += "/" + component2                                              # STEP 310
component2 = "alpha"                                                   # STEP 311
os0.link(path0,path4)                                                  # STEP 312
str2 += 'j'                                                            # STEP 313
os0.remove(path2)                                                      # STEP 314
str4 += 'h'                                                            # STEP 315
str2 += 'h'                                                            # STEP 316
path4 += "/" + component3                                              # STEP 317
result = os0.path.dirname(path3)                                       # STEP 318
str4 += 't'                                                            # STEP 319
str4 += 'a'                                                            # STEP 320
file0.seek(bytes4)                                                     # STEP 321
str2 += 'h'                                                            # STEP 322
str2 += 'z'                                                            # STEP 323
path3 += "/" + component3                                              # STEP 324
result = os0.path.dirname(path4)                                       # STEP 325
result = file0.readlines()                                             # STEP 326
ERROR: (<type 'exceptions.OSError'>, OSError(9, 'File is not open for reading.'), <traceback object at 0x105158f80>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 28999, in act575
    result = self.p_file[0].readlines()
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4284, in read_error
    self._raise('File is not open for reading.')
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4112, in _raise
    raise OSError(errno.EBADF, message)
FAILURE IS NEW, STORING; NOW 3 DISTINCT FAILURES
STOPPING TEST DUE TO TIMEOUT, TERMINATED AT LENGTH 294
STOPPING TESTING DUE TO TIMEOUT
42.1776291342 PERCENT COVERED
60.4888567924 TOTAL RUNTIME
193 EXECUTED
19095 TOTAL TEST OPERATIONS
26.0234723091 TIME SPENT EXECUTING TEST OPERATIONS
0.670397520065 TIME SPENT EVALUATING GUARDS AND CHOOSING ACTIONS
0.0125725269318 TIME SPENT CHECKING PROPERTIES
26.036044836 TOTAL TIME SPENT RUNNING SUT
0.559957504272 TIME SPENT RESTARTING
0.0 TIME SPENT REDUCING TEST CASES
3 FAILED
0 REPEATS OF FAILURES
3 ACTUAL DISTINCT FAILURES

FAILURE 0
component4 = "c"                                                         # STEP 0
component2 = "alpha"                                                     # STEP 1
component0 = "gamma"                                                     # STEP 2
component1 = "c"                                                         # STEP 3
component3 = "phi"                                                       # STEP 4
bytes0 = 0                                                               # STEP 5
path0 = "/Volumes/ramdisk/test"                                          # STEP 6
path0 += "/" + component4                                                # STEP 7
path0 += "/" + component2                                                # STEP 8
path4 = "/Volumes/ramdisk/test"                                          # STEP 9
component4 = "epsilon"                                                  # STEP 10
component2 = "delta"                                                    # STEP 11
path0 += "/" + component0                                               # STEP 12
component0 = "gamma"                                                    # STEP 13
bytes0 += 1                                                             # STEP 14
bytes3 = 0                                                              # STEP 15
os0 = newFakeOS()                                                       # STEP 16
os0.path.getsize(path0)                                                 # STEP 17
opener0 = newFakeOpener(os0)                                            # STEP 18
file0 = opener0(path4)                                                  # STEP 19
os0.symlink(path4,path0)                                                # STEP 20
os0.remove(path0)                                                       # STEP 21
file0 = opener0(path0,'w')                                              # STEP 22
bytes0 = 0                                                              # STEP 23
file0 = opener0(path4,'r')                                              # STEP 24
file0 = opener0(path4,'r')                                              # STEP 25
fd0 = os0.open(path0, os.O_CREAT | os.O_WRONLY | os.O_EXCL)             # STEP 26
os0.mkdir(path4)                                                        # STEP 27
result = sorted(os0.listdir(path0))                                     # STEP 28
result = os0.path.isfile(path0)                                         # STEP 29
result = os0.path.isfile(path0)                                         # STEP 30
os0.link(path0,path0)                                                   # STEP 31
path4 += "/" + component3                                               # STEP 32
result = os0.readlink(path4)                                            # STEP 33
result = os0.path.islink(path4)                                         # STEP 34
fd0 = os0.open(path4, os.O_CREAT | os.O_WRONLY)                         # STEP 35
component3 = "delta"                                                    # STEP 36
file0 = opener0(path4,'a')                                              # STEP 37
os0.link(path0,path4)                                                   # STEP 38
path2 = "/Volumes/ramdisk/test"                                         # STEP 39
result = os0.readlink(path4)                                            # STEP 40
path4 += "/" + component2                                               # STEP 41
os0.makedirs(path4)                                                     # STEP 42
path4 += "/" + component3                                               # STEP 43
component3 = "d"                                                        # STEP 44
result = os0.read(fd0,bytes0)                                           # STEP 45
path3 = "/Volumes/ramdisk/test"                                         # STEP 46
result = file0.readlines()                                              # STEP 47
result = os0.path.isdir(path2)                                          # STEP 48
component2 = "alpha"                                                    # STEP 49
path4 += "/" + component1                                               # STEP 50
result = os0.path.exists(path0)                                         # STEP 51
result = file0.readlines()                                              # STEP 52
os0.symlink(path0,path3)                                                # STEP 53
os0.close(fd0)                                                          # STEP 54
component1 = "omega"                                                    # STEP 55
result = os0.path.isfile(path3)                                         # STEP 56
stat0 = os0.stat(path0)                                                 # STEP 57
fd0 = os0.open(path4, os.O_CREAT | os.O_EXCL)                           # STEP 58
os0.symlink(path0,path2)                                                # STEP 59
os0.link(path3,path0)                                                   # STEP 60
result = os0.path.isabs(path0)                                          # STEP 61
path3 += "/" + component4                                               # STEP 62
stat3 = os0.stat(path0)                                                 # STEP 63
result = os0.path.exists(path3)                                         # STEP 64
bytes1 = 0                                                              # STEP 65
os0.path.getsize(path3)                                                 # STEP 66
path3 += "/" + component3                                               # STEP 67
result = os0.path.dirname(path4)                                        # STEP 68
os0.mkdir(path4)                                                        # STEP 69
component4 = "a"                                                        # STEP 70
result = os0.path.lexists(path2)                                        # STEP 71
os0.makedirs(path0)                                                     # STEP 72
os0.removedirs(path4)                                                   # STEP 73
os0.rmdir(path4)                                                        # STEP 74
result = os0.path.abspath(path0)                                        # STEP 75
os0.symlink(path3,path4)                                                # STEP 76
os0.removedirs(path4)                                                   # STEP 77
result = os0.path.islink(path3)                                         # STEP 78
path0 += "/" + component4                                               # STEP 79
stat4 = os0.stat(path0)                                                 # STEP 80
path0 += "/" + component0                                               # STEP 81
path2 += "/" + component0                                               # STEP 82
os0.rename(path3,path0)                                                 # STEP 83
path0 += "/" + component1                                               # STEP 84
path1 = "/Volumes/ramdisk/test"                                         # STEP 85
os0.mkdir(path1)                                                        # STEP 86
result = os0.readlink(path4)                                            # STEP 87
component0 = "epsilon"                                                  # STEP 88
bytes0 = 0                                                              # STEP 89
stat2 = os0.stat(path3)                                                 # STEP 90
os0.path.getsize(path0)                                                 # STEP 91
os0.symlink(path1,path2)                                                # STEP 92
stat1 = os0.stat(path3)                                                 # STEP 93
component1 = "lambda"                                                   # STEP 94
os0.link(path4,path4)                                                   # STEP 95
stat3 = os0.stat(path0)                                                 # STEP 96
path0 += "/" + component0                                               # STEP 97
os0.link(path3,path1)                                                   # STEP 98
os0.rename(path3,path4)                                                 # STEP 99
stat0 = os0.lstat(path4)                                               # STEP 100
os0.symlink(path3,path1)                                               # STEP 101
os0.makedirs(path0)                                                    # STEP 102
result = file0.readline(bytes0)                                        # STEP 103
os0.link(path1,path0)                                                  # STEP 104
result = os0.path.isfile(path2)                                        # STEP 105
component0 = "gamma"                                                   # STEP 106
stat3 = os0.lstat(path2)                                               # STEP 107
os0.link(path4,path2)                                                  # STEP 108
os0.rename(path4,path1)                                                # STEP 109
result = stat3.st_size                                                 # STEP 110
os0.mkdir(path0)                                                       # STEP 111
path0 += "/" + component2                                              # STEP 112
os0.rename(path4,path1)                                                # STEP 113
stat2 = os0.stat(path0)                                                # STEP 114
os0.makedirs(path3)                                                    # STEP 115
component3 = "f"                                                       # STEP 116
component4 = "alpha"                                                   # STEP 117
stat0 = os0.lstat(path2)                                               # STEP 118
os0.makedirs(path4)                                                    # STEP 119
stat1 = os0.lstat(path3)                                               # STEP 120
bytes1 += 1                                                            # STEP 121
result = file0.readline(bytes3)                                        # STEP 122
result = os0.path.islink(path2)                                        # STEP 123
bytes3 += 1                                                            # STEP 124
os0.remove(path4)                                                      # STEP 125
path0 += "/" + component1                                              # STEP 126
os0.removedirs(path1)                                                  # STEP 127
component1 = "c"                                                       # STEP 128
result = os0.path.islink(path3)                                        # STEP 129
path4 += "/" + component0                                              # STEP 130
path1 += "/" + component4                                              # STEP 131
component2 = "phi"                                                     # STEP 132
os0.makedirs(path1)                                                    # STEP 133
os0.remove(path2)                                                      # STEP 134
result = os0.path.islink(path1)                                        # STEP 135
result = os0.path.isabs(path2)                                         # STEP 136
file0.seek(bytes3)                                                     # STEP 137
result = os0.path.isfile(path4)                                        # STEP 138
os0.link(path1,path1)                                                  # STEP 139
os0.symlink(path1,path4)                                               # STEP 140
bytes3 = 0                                                             # STEP 141
os0.link(path1,path1)                                                  # STEP 142
path4 += "/" + component4                                              # STEP 143
os0.remove(path4)                                                      # STEP 144
result = os0.path.isabs(path4)                                         # STEP 145
os0.remove(path4)                                                      # STEP 146
component0 = "e"                                                       # STEP 147
result = file0.read()                                                  # STEP 148
os0.rmdir(path1)                                                       # STEP 149
os0.symlink(path1,path3)                                               # STEP 150
path1 = "/Volumes/ramdisk/test"                                        # STEP 151
os0.symlink(path0,path0)                                               # STEP 152
os0.mkdir(path1)                                                       # STEP 153
file0.seek(bytes0)                                                     # STEP 154
os0.link(path0,path1)                                                  # STEP 155
os0.symlink(path2,path2)                                               # STEP 156
os0.rmdir(path0)                                                       # STEP 157
os0.link(path1,path4)                                                  # STEP 158
os0.link(path0,path1)                                                  # STEP 159
os0.link(path2,path4)                                                  # STEP 160
result = os0.path.isabs(path2)                                         # STEP 161
bytes2 = 0                                                             # STEP 162
os0.link(path1,path4)                                                  # STEP 163
result = file0.read(bytes3)                                            # STEP 164
result = sorted(os0.listdir(path1))                                    # STEP 165
path2 += "/" + component2                                              # STEP 166
os0.rename(path2,path4)                                                # STEP 167
os0.rename(path4,path2)                                                # STEP 168
os0.makedirs(path2)                                                    # STEP 169
result = os0.read(fd0,bytes1)                                          # STEP 170
os0.link(path2,path4)                                                  # STEP 171
os0.symlink(path3,path2)                                               # STEP 172
result = sorted(os0.listdir(path2))                                    # STEP 173
os0.rename(path0,path3)                                                # STEP 174
os0.link(path2,path0)                                                  # STEP 175
os0.removedirs(path2)                                                  # STEP 176
result = os0.path.dirname(path2)                                       # STEP 177
os0.symlink(path3,path4)                                               # STEP 178
path1 += "/" + component2                                              # STEP 179
component4 = "a"                                                       # STEP 180
result = os0.path.isfile(path0)                                        # STEP 181
os0.path.getsize(path0)                                                # STEP 182
component2 = "d"                                                       # STEP 183
stat4 = os0.stat(path4)                                                # STEP 184
os0.rename(path4,path3)                                                # STEP 185
path4 = "/Volumes/ramdisk/test"                                        # STEP 186
result = os0.path.lexists(path3)                                       # STEP 187
os0.rmdir(path3)                                                       # STEP 188
os0.removedirs(path1)                                                  # STEP 189
result = sorted(os0.listdir(path2))                                    # STEP 190
result = file0.read(bytes3)                                            # STEP 191
os0.removedirs(path4)                                                  # STEP 192
stat2 = os0.stat(path0)                                                # STEP 193
stat2 = os0.lstat(path0)                                               # STEP 194
stat4 = os0.stat(path2)                                                # STEP 195
os0.symlink(path0,path1)                                               # STEP 196
os0.symlink(path4,path3)                                               # STEP 197
str4 = ""                                                              # STEP 198
str0 = ""                                                              # STEP 199
str0 += 'o'                                                            # STEP 200
path4 += "/" + component1                                              # STEP 201
component1 = "c"                                                       # STEP 202
str4 += 'a'                                                            # STEP 203
str4 += 'w'                                                            # STEP 204
os0.symlink(path2,path3)                                               # STEP 205
result = os0.path.exists(path2)                                        # STEP 206
result = os0.read(fd0,bytes3)                                          # STEP 207
os0.makedirs(path0)                                                    # STEP 208
result = file0.readline(bytes1)                                        # STEP 209
str4 += 'g'                                                            # STEP 210
path3 += "/" + component3                                              # STEP 211
result = os0.path.abspath(path4)                                       # STEP 212
str4 += 'g'                                                            # STEP 213
os0.path.getsize(path2)                                                # STEP 214
path4 += "/" + component1                                              # STEP 215
result = os0.path.isdir(path1)                                         # STEP 216
str4 += 'x'                                                            # STEP 217
component3 = "c"                                                       # STEP 218
os0.removedirs(path0)                                                  # STEP 219
stat2 = os0.fstat(fd0)                                                 # STEP 220
file0.truncate()                                                       # STEP 221
os0.link(path0,path1)                                                  # STEP 222
str4 += 'e'                                                            # STEP 223
path2 += "/" + component2                                              # STEP 224
os0.rmdir(path0)                                                       # STEP 225
os0.mkdir(path2)                                                       # STEP 226
str0 += 'b'                                                            # STEP 227
result = file0.read(bytes2)                                            # STEP 228
os0.link(path4,path3)                                                  # STEP 229
os0.rename(path4,path3)                                                # STEP 230
result = sorted(os0.listdir(path1))                                    # STEP 231
os0.symlink(path0,path3)                                               # STEP 232
path4 += "/" + component0                                              # STEP 233
stat4 = os0.lstat(path2)                                               # STEP 234
result = os0.path.lexists(path3)                                       # STEP 235
os0.symlink(path0,path0)                                               # STEP 236
os0.symlink(path0,path2)                                               # STEP 237
os0.makedirs(path0)                                                    # STEP 238
stat4 = os0.fstat(fd0)                                                 # STEP 239
os0.symlink(path4,path0)                                               # STEP 240
file0.next()                                                           # STEP 241
result = os0.path.exists(path3)                                        # STEP 242
result = sorted(os0.listdir(path0))                                    # STEP 243
str3 = ""                                                              # STEP 244
result = os0.read(fd0,bytes0)                                          # STEP 245
os0.rename(path0,path2)                                                # STEP 246
stat4 = os0.stat(path1)                                                # STEP 247
str4 += 'm'                                                            # STEP 248
file0.seek(bytes3)                                                     # STEP 249
result = stat3.st_size                                                 # STEP 250
result = sorted(os0.listdir(path1))                                    # STEP 251
result = os0.path.exists(path3)                                        # STEP 252
os0.link(path2,path0)                                                  # STEP 253
result = os0.path.isdir(path3)                                         # STEP 254
result = sorted(os0.listdir(path4))                                    # STEP 255
str3 += 'k'                                                            # STEP 256
file0.write(str3)                                                      # STEP 257
component1 = "beta"                                                    # STEP 258
str4 = ""                                                              # STEP 259
str3 += 'u'                                                            # STEP 260
path2 += "/" + component2                                              # STEP 261
os0.symlink(path0,path3)                                               # STEP 262
str4 += 'g'                                                            # STEP 263
stat3 = os0.stat(path1)                                                # STEP 264
result = os0.path.abspath(path2)                                       # STEP 265
os0.symlink(path2,path3)                                               # STEP 266
str4 += 'z'                                                            # STEP 267
component0 = "lambda"                                                  # STEP 268
result = os0.path.isabs(path3)                                         # STEP 269
component2 = "lambda"                                                  # STEP 270
os0.removedirs(path3)                                                  # STEP 271
bytes2 = 0                                                             # STEP 272
str0 += 'b'                                                            # STEP 273
os0.write(fd0,str4)                                                    # STEP 274
os0.link(path0,path0)                                                  # STEP 275
stat2 = os0.stat(path4)                                                # STEP 276
os0.symlink(path2,path0)                                               # STEP 277
result = os0.path.dirname(path1)                                       # STEP 278
result = os0.path.abspath(path4)                                       # STEP 279
os0.link(path0,path0)                                                  # STEP 280
os0.symlink(path0,path1)                                               # STEP 281
result = os0.readlink(path2)                                           # STEP 282
result = os0.path.abspath(path2)                                       # STEP 283
stat2 = os0.stat(path4)                                                # STEP 284
result = file0.read()                                                  # STEP 285
result = file0.read()                                                  # STEP 286
os0.rmdir(path0)                                                       # STEP 287
str4 += 'h'                                                            # STEP 288
result = os0.readlink(path4)                                           # STEP 289
str4 += 'z'                                                            # STEP 290
result = file0.read(bytes2)                                            # STEP 291
str4 += 'y'                                                            # STEP 292
os0.symlink(path1,path0)                                               # STEP 293
os0.link(path0,path2)                                                  # STEP 294
result = file0.read(bytes1)                                            # STEP 295
str0 += 'k'                                                            # STEP 296
result = stat3.st_size                                                 # STEP 297
ERROR: (<type 'exceptions.AssertionError'>, AssertionError(' (1) == (0) ',), <traceback object at 0x1052714d0>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 21936, in act460
    try: assert result == result_REF, " (%s) == (%s) " % (result, result_REF)
FAILURE 1
component1 = "delta"                                                     # STEP 0
component2 = "e"                                                         # STEP 1
str0 = ""                                                                # STEP 2
str0 += 'j'                                                              # STEP 3
bytes4 = 0                                                               # STEP 4
bytes2 = 0                                                               # STEP 5
component3 = "e"                                                         # STEP 6
str0 += 'j'                                                              # STEP 7
bytes4 += 1                                                              # STEP 8
component4 = "gamma"                                                     # STEP 9
str0 += 'o'                                                             # STEP 10
component0 = "d"                                                        # STEP 11
str0 += 'r'                                                             # STEP 12
str1 = ""                                                               # STEP 13
str0 += 'a'                                                             # STEP 14
str0 += 'c'                                                             # STEP 15
str4 = ""                                                               # STEP 16
str0 = ""                                                               # STEP 17
str0 += 'o'                                                             # STEP 18
str4 += 'y'                                                             # STEP 19
str4 += 'c'                                                             # STEP 20
str0 += 'q'                                                             # STEP 21
str4 += 'k'                                                             # STEP 22
str4 += 'v'                                                             # STEP 23
str0 += 'i'                                                             # STEP 24
bytes4 += 1                                                             # STEP 25
str1 += " "                                                             # STEP 26
str0 += 'j'                                                             # STEP 27
str0 += 'l'                                                             # STEP 28
str1 += 's'                                                             # STEP 29
str4 += 'i'                                                             # STEP 30
str4 += " "                                                             # STEP 31
str0 += 'f'                                                             # STEP 32
str1 = ""                                                               # STEP 33
str1 += 'x'                                                             # STEP 34
str1 += 'a'                                                             # STEP 35
str1 += 'w'                                                             # STEP 36
str0 += 'm'                                                             # STEP 37
str1 += 'e'                                                             # STEP 38
bytes4 = 0                                                              # STEP 39
bytes3 = 0                                                              # STEP 40
str0 += 'c'                                                             # STEP 41
str1 = ""                                                               # STEP 42
path0 = "/Volumes/ramdisk/test"                                         # STEP 43
bytes3 += 1                                                             # STEP 44
str1 += 'c'                                                             # STEP 45
str4 += 'h'                                                             # STEP 46
os0 = newFakeOS()                                                       # STEP 47
os0.link(path0,path0)                                                   # STEP 48
opener0 = newFakeOpener(os0)                                            # STEP 49
path0 += "/" + component1                                               # STEP 50
bytes3 += 1                                                             # STEP 51
str0 += 'g'                                                             # STEP 52
component1 = "omega"                                                    # STEP 53
str1 += 'c'                                                             # STEP 54
os0.link(path0,path0)                                                   # STEP 55
stat0 = os0.lstat(path0)                                                # STEP 56
fd0 = os0.open(path0, os.O_CREAT)                                       # STEP 57
str4 += 'd'                                                             # STEP 58
os0.symlink(path0,path0)                                                # STEP 59
result = os0.path.abspath(path0)                                        # STEP 60
path1 = "/Volumes/ramdisk/test"                                         # STEP 61
path1 += "/" + component2                                               # STEP 62
str4 += 'b'                                                             # STEP 63
str1 += " "                                                             # STEP 64
stat3 = os0.lstat(path0)                                                # STEP 65
str1 += 'd'                                                             # STEP 66
result = os0.path.lexists(path1)                                        # STEP 67
stat4 = os0.lstat(path0)                                                # STEP 68
stat2 = os0.lstat(path0)                                                # STEP 69
result = os0.path.islink(path1)                                         # STEP 70
str0 += 'i'                                                             # STEP 71
file0 = opener0(path0,'w')                                              # STEP 72
bytes3 = 0                                                              # STEP 73
path0 += "/" + component1                                               # STEP 74
result = os0.read(fd0,bytes3)                                           # STEP 75
bytes0 = 0                                                              # STEP 76
result = stat2.st_nlink                                                 # STEP 77
result = file0.read(bytes3)                                             # STEP 78
bytes0 += 1                                                             # STEP 79
str2 = ""                                                               # STEP 80
str0 = ""                                                               # STEP 81
path0 += "/" + component2                                               # STEP 82
component2 = "omega"                                                    # STEP 83
str0 += 'm'                                                             # STEP 84
str4 += 'q'                                                             # STEP 85
result = file0.readline(bytes0)                                         # STEP 86
str4 += 'z'                                                             # STEP 87
stat1 = os0.stat(path0)                                                 # STEP 88
result = os0.path.lexists(path0)                                        # STEP 89
os0.symlink(path0,path1)                                                # STEP 90
bytes0 += 1                                                             # STEP 91
os0.write(fd0,str4)                                                     # STEP 92
os0.link(path1,path0)                                                   # STEP 93
os0.write(fd0,str0)                                                     # STEP 94
component1 = "epsilon"                                                  # STEP 95
str4 += 'b'                                                             # STEP 96
bytes0 += 1                                                             # STEP 97
os0.link(path0,path1)                                                   # STEP 98
str0 += 't'                                                             # STEP 99
result = stat4.st_size                                                 # STEP 100
str4 += 'y'                                                            # STEP 101
path1 += "/" + component2                                              # STEP 102
os0.path.getsize(path1)                                                # STEP 103
str4 += 'c'                                                            # STEP 104
os0.remove(path1)                                                      # STEP 105
str4 += 'c'                                                            # STEP 106
str2 += 'u'                                                            # STEP 107
str0 = ""                                                              # STEP 108
path1 += "/" + component0                                              # STEP 109
str2 += 'z'                                                            # STEP 110
str4 += 'a'                                                            # STEP 111
str2 += 'd'                                                            # STEP 112
str0 += 'e'                                                            # STEP 113
str2 += 'q'                                                            # STEP 114
os0.mkdir(path0)                                                       # STEP 115
str0 += 'p'                                                            # STEP 116
result = os0.path.dirname(path0)                                       # STEP 117
str0 += 'p'                                                            # STEP 118
str1 += 'x'                                                            # STEP 119
result = os0.path.isdir(path0)                                         # STEP 120
stat4 = os0.lstat(path1)                                               # STEP 121
bytes3 += 1                                                            # STEP 122
stat0 = os0.stat(path0)                                                # STEP 123
result = file0.readline()                                              # STEP 124
result = stat3.st_nlink                                                # STEP 125
os0.removedirs(path0)                                                  # STEP 126
component0 = "h"                                                       # STEP 127
str1 += 'd'                                                            # STEP 128
bytes3 += 1                                                            # STEP 129
str0 += 'l'                                                            # STEP 130
result = os0.path.abspath(path0)                                       # STEP 131
str2 = ""                                                              # STEP 132
str0 += " "                                                            # STEP 133
stat0 = os0.lstat(path1)                                               # STEP 134
str4 += 'l'                                                            # STEP 135
stat1 = os0.stat(path0)                                                # STEP 136
component2 = "a"                                                       # STEP 137
bytes1 = 0                                                             # STEP 138
str1 += 'b'                                                            # STEP 139
path0 += "/" + component4                                              # STEP 140
result = os0.path.dirname(path1)                                       # STEP 141
component4 = "f"                                                       # STEP 142
file0.seek(bytes4)                                                     # STEP 143
result = os0.path.abspath(path1)                                       # STEP 144
str2 += 'z'                                                            # STEP 145
result = stat3.st_nlink                                                # STEP 146
str1 += 'k'                                                            # STEP 147
path1 += "/" + component2                                              # STEP 148
result = os0.path.dirname(path0)                                       # STEP 149
os0.link(path1,path0)                                                  # STEP 150
result = stat2.st_nlink                                                # STEP 151
result = file0.readline()                                              # STEP 152
os0.link(path0,path0)                                                  # STEP 153
stat3 = os0.stat(path0)                                                # STEP 154
str2 += 'j'                                                            # STEP 155
str4 += 'm'                                                            # STEP 156
str0 += 'r'                                                            # STEP 157
result = os0.path.islink(path0)                                        # STEP 158
str1 += 'c'                                                            # STEP 159
result = file0.readline()                                              # STEP 160
str0 += " "                                                            # STEP 161
component2 = "beta"                                                    # STEP 162
file0.write(str2)                                                      # STEP 163
stat2 = os0.lstat(path1)                                               # STEP 164
os0.removedirs(path0)                                                  # STEP 165
str1 += 'k'                                                            # STEP 166
str0 += 's'                                                            # STEP 167
stat0 = os0.lstat(path0)                                               # STEP 168
str0 += 'o'                                                            # STEP 169
result = stat2.st_nlink                                                # STEP 170
file0.seek(bytes0)                                                     # STEP 171
str2 += 'v'                                                            # STEP 172
file0.write(str1)                                                      # STEP 173
bytes0 += 1                                                            # STEP 174
str2 += 'p'                                                            # STEP 175
str2 += 'q'                                                            # STEP 176
result = os0.path.isabs(path0)                                         # STEP 177
str4 += 't'                                                            # STEP 178
bytes1 += 1                                                            # STEP 179
os0.remove(path1)                                                      # STEP 180
str0 += " "                                                            # STEP 181
str4 += 'c'                                                            # STEP 182
str1 += 'a'                                                            # STEP 183
str2 += 'r'                                                            # STEP 184
bytes4 += 1                                                            # STEP 185
str4 += 'k'                                                            # STEP 186
result = os0.path.abspath(path0)                                       # STEP 187
str1 += 'a'                                                            # STEP 188
str4 += 's'                                                            # STEP 189
str1 += 'o'                                                            # STEP 190
str0 += 'o'                                                            # STEP 191
str3 = ""                                                              # STEP 192
stat0 = os0.fstat(fd0)                                                 # STEP 193
result = os0.path.isabs(path1)                                         # STEP 194
result = stat2.st_nlink                                                # STEP 195
str1 += 'u'                                                            # STEP 196
str0 += 't'                                                            # STEP 197
result = os0.readlink(path0)                                           # STEP 198
result = os0.path.isfile(path1)                                        # STEP 199
result = os0.path.exists(path0)                                        # STEP 200
str1 += 'l'                                                            # STEP 201
str1 += 't'                                                            # STEP 202
result = os0.read(fd0,bytes3)                                          # STEP 203
ERROR: (<type 'exceptions.AssertionError'>, AssertionError(' () == (zj) ',), <traceback object at 0x107fab1b8>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 16302, in act375
    try: assert result == result_REF, " (%s) == (%s) " % (result, result_REF)
FAILURE 2
component1 = "delta"                                                     # STEP 0
component2 = "e"                                                         # STEP 1
str0 = ""                                                                # STEP 2
str0 += 'j'                                                              # STEP 3
bytes4 = 0                                                               # STEP 4
bytes2 = 0                                                               # STEP 5
component3 = "e"                                                         # STEP 6
str0 += 'j'                                                              # STEP 7
bytes4 += 1                                                              # STEP 8
component4 = "gamma"                                                     # STEP 9
str0 += 'h'                                                             # STEP 10
str0 += 'o'                                                             # STEP 11
component0 = "d"                                                        # STEP 12
str0 += 'r'                                                             # STEP 13
str1 = ""                                                               # STEP 14
str0 += 'a'                                                             # STEP 15
str0 += 'c'                                                             # STEP 16
str4 = ""                                                               # STEP 17
str4 += 'd'                                                             # STEP 18
str0 = ""                                                               # STEP 19
str0 += 'o'                                                             # STEP 20
str4 += 'y'                                                             # STEP 21
str4 += 'c'                                                             # STEP 22
str0 += 'q'                                                             # STEP 23
str4 += 'k'                                                             # STEP 24
str4 += 'v'                                                             # STEP 25
str0 += 'i'                                                             # STEP 26
bytes4 += 1                                                             # STEP 27
str1 += " "                                                             # STEP 28
str0 += 'j'                                                             # STEP 29
str0 += 'l'                                                             # STEP 30
str1 += 's'                                                             # STEP 31
str4 += 'i'                                                             # STEP 32
str4 += " "                                                             # STEP 33
str0 += 'f'                                                             # STEP 34
str1 = ""                                                               # STEP 35
str1 += 'x'                                                             # STEP 36
str1 += 'a'                                                             # STEP 37
str1 += 'w'                                                             # STEP 38
str0 += 'm'                                                             # STEP 39
str1 += 'e'                                                             # STEP 40
bytes4 = 0                                                              # STEP 41
bytes3 = 0                                                              # STEP 42
str0 += 'c'                                                             # STEP 43
str1 = ""                                                               # STEP 44
path0 = "/Volumes/ramdisk/test"                                         # STEP 45
bytes3 += 1                                                             # STEP 46
str1 += 'c'                                                             # STEP 47
str4 += 'h'                                                             # STEP 48
os0 = newFakeOS()                                                       # STEP 49
os0.link(path0,path0)                                                   # STEP 50
opener0 = newFakeOpener(os0)                                            # STEP 51
path0 += "/" + component1                                               # STEP 52
bytes3 += 1                                                             # STEP 53
str0 += 'g'                                                             # STEP 54
component1 = "omega"                                                    # STEP 55
str1 += 'c'                                                             # STEP 56
os0.link(path0,path0)                                                   # STEP 57
stat0 = os0.lstat(path0)                                                # STEP 58
fd0 = os0.open(path0, os.O_CREAT)                                       # STEP 59
str4 += 'd'                                                             # STEP 60
os0.symlink(path0,path0)                                                # STEP 61
result = os0.path.abspath(path0)                                        # STEP 62
bytes3 += 1                                                             # STEP 63
str0 += 'u'                                                             # STEP 64
str1 += 'i'                                                             # STEP 65
path0 = "/Volumes/ramdisk/test"                                         # STEP 66
result = os0.path.isdir(path0)                                          # STEP 67
str4 += 'z'                                                             # STEP 68
str4 += 'm'                                                             # STEP 69
str4 += 'i'                                                             # STEP 70
str2 = ""                                                               # STEP 71
str2 += 'c'                                                             # STEP 72
str2 += 'o'                                                             # STEP 73
stat4 = os0.fstat(fd0)                                                  # STEP 74
result = os0.path.isdir(path0)                                          # STEP 75
path0 += "/" + component4                                               # STEP 76
str1 += 'y'                                                             # STEP 77
str0 += 'd'                                                             # STEP 78
str2 += 'v'                                                             # STEP 79
str1 += 'q'                                                             # STEP 80
path2 = "/Volumes/ramdisk/test"                                         # STEP 81
str1 += 'h'                                                             # STEP 82
str2 += 'm'                                                             # STEP 83
str4 += 'o'                                                             # STEP 84
str4 += 't'                                                             # STEP 85
str0 += 'e'                                                             # STEP 86
os0.rmdir(path0)                                                        # STEP 87
str1 += 'l'                                                             # STEP 88
str0 += 'f'                                                             # STEP 89
str2 += 'o'                                                             # STEP 90
path4 = "/Volumes/ramdisk/test"                                         # STEP 91
result = os0.path.abspath(path4)                                        # STEP 92
os0.close(fd0)                                                          # STEP 93
str0 += " "                                                             # STEP 94
stat2 = os0.fstat(fd0)                                                  # STEP 95
path2 += "/" + component3                                               # STEP 96
result = os0.path.isfile(path2)                                         # STEP 97
component4 = "b"                                                        # STEP 98
os0.remove(path4)                                                       # STEP 99
str2 += 'a'                                                            # STEP 100
result = os0.read(fd0,bytes2)                                          # STEP 101
os0.link(path2,path0)                                                  # STEP 102
str2 += 'z'                                                            # STEP 103
fd0 = os0.open(path2, os.O_RDONLY)                                     # STEP 104
os0.link(path2,path2)                                                  # STEP 105
path0 += "/" + component3                                              # STEP 106
str2 += 'j'                                                            # STEP 107
component3 = "e"                                                       # STEP 108
result = os0.path.isfile(path4)                                        # STEP 109
result = os0.path.isdir(path2)                                         # STEP 110
os0.symlink(path2,path4)                                               # STEP 111
os0.symlink(path4,path4)                                               # STEP 112
str1 += 'j'                                                            # STEP 113
str2 += 'w'                                                            # STEP 114
os0.path.getsize(path2)                                                # STEP 115
os0.mkdir(path4)                                                       # STEP 116
str2 += " "                                                            # STEP 117
str0 += 'z'                                                            # STEP 118
result = os0.path.isfile(path0)                                        # STEP 119
os0.symlink(path4,path2)                                               # STEP 120
str4 += 'j'                                                            # STEP 121
result = os0.path.dirname(path2)                                       # STEP 122
os0.symlink(path2,path4)                                               # STEP 123
str1 = ""                                                              # STEP 124
result = stat4.st_size                                                 # STEP 125
os0.mkdir(path4)                                                       # STEP 126
str4 += 's'                                                            # STEP 127
str0 += 'k'                                                            # STEP 128
os0.link(path4,path0)                                                  # STEP 129
stat2 = os0.fstat(fd0)                                                 # STEP 130
result = os0.path.isdir(path2)                                         # STEP 131
str1 += 'c'                                                            # STEP 132
str2 += 'q'                                                            # STEP 133
str4 += 'o'                                                            # STEP 134
os0.link(path4,path0)                                                  # STEP 135
path4 += "/" + component4                                              # STEP 136
str2 += 't'                                                            # STEP 137
str1 += 't'                                                            # STEP 138
result = os0.path.isdir(path4)                                         # STEP 139
os0.mkdir(path4)                                                       # STEP 140
stat3 = os0.lstat(path4)                                               # STEP 141
str1 += 'b'                                                            # STEP 142
str1 += 'n'                                                            # STEP 143
result = os0.path.exists(path4)                                        # STEP 144
str1 += 'b'                                                            # STEP 145
str0 += 'p'                                                            # STEP 146
stat1 = os0.fstat(fd0)                                                 # STEP 147
stat0 = os0.fstat(fd0)                                                 # STEP 148
str1 += 'w'                                                            # STEP 149
str1 += 'j'                                                            # STEP 150
os0.rmdir(path2)                                                       # STEP 151
os0.remove(path4)                                                      # STEP 152
str2 += 't'                                                            # STEP 153
stat2 = os0.fstat(fd0)                                                 # STEP 154
str2 += 'y'                                                            # STEP 155
result = sorted(os0.listdir(path2))                                    # STEP 156
str1 += 'i'                                                            # STEP 157
os0.rename(path2,path4)                                                # STEP 158
os0.symlink(path2,path0)                                               # STEP 159
os0.symlink(path0,path0)                                               # STEP 160
result = os0.path.isdir(path2)                                         # STEP 161
path3 = "/Volumes/ramdisk/test"                                        # STEP 162
os0.removedirs(path2)                                                  # STEP 163
str0 += 'u'                                                            # STEP 164
str1 += 'z'                                                            # STEP 165
str0 = ""                                                              # STEP 166
str4 += 'c'                                                            # STEP 167
component4 = "g"                                                       # STEP 168
str1 += 'f'                                                            # STEP 169
stat2 = os0.lstat(path4)                                               # STEP 170
result = sorted(os0.listdir(path2))                                    # STEP 171
os0.write(fd0,str2)                                                    # STEP 172
str1 += 'b'                                                            # STEP 173
bytes4 += 1                                                            # STEP 174
os0.symlink(path4,path3)                                               # STEP 175
os0.mkdir(path3)                                                       # STEP 176
str4 += 'b'                                                            # STEP 177
stat0 = os0.lstat(path4)                                               # STEP 178
bytes2 = 0                                                             # STEP 179
os0.link(path2,path0)                                                  # STEP 180
str4 += 'w'                                                            # STEP 181
stat1 = os0.lstat(path2)                                               # STEP 182
result = os0.path.isdir(path4)                                         # STEP 183
os0.rename(path4,path2)                                                # STEP 184
str4 += 't'                                                            # STEP 185
result = os0.path.isdir(path3)                                         # STEP 186
os0.link(path0,path0)                                                  # STEP 187
result = os0.path.isabs(path4)                                         # STEP 188
str1 += 'z'                                                            # STEP 189
os0.mkdir(path4)                                                       # STEP 190
str4 += 'e'                                                            # STEP 191
bytes4 += 1                                                            # STEP 192
path0 += "/" + component2                                              # STEP 193
path0 += "/" + component2                                              # STEP 194
os0.write(fd0,str1)                                                    # STEP 195
file0 = opener0(path2,'r')                                             # STEP 196
file0 = opener0(path0,'r')                                             # STEP 197
str4 += 'o'                                                            # STEP 198
str1 += 'l'                                                            # STEP 199
str2 += 'j'                                                            # STEP 200
file0 = opener0(path0,'w')                                             # STEP 201
result = os0.readlink(path4)                                           # STEP 202
stat4 = os0.fstat(fd0)                                                 # STEP 203
str1 += 'n'                                                            # STEP 204
os0.write(fd0,str4)                                                    # STEP 205
result = os0.path.isdir(path0)                                         # STEP 206
result = os0.path.lexists(path3)                                       # STEP 207
result = sorted(os0.listdir(path3))                                    # STEP 208
os0.makedirs(path0)                                                    # STEP 209
path2 += "/" + component3                                              # STEP 210
str0 += 'h'                                                            # STEP 211
str2 += 'v'                                                            # STEP 212
str1 += 'u'                                                            # STEP 213
os0.symlink(path2,path2)                                               # STEP 214
result = os0.path.exists(path2)                                        # STEP 215
str0 += 'y'                                                            # STEP 216
os0.rename(path4,path3)                                                # STEP 217
result = os0.path.abspath(path4)                                       # STEP 218
os0.symlink(path0,path3)                                               # STEP 219
result = os0.path.isfile(path0)                                        # STEP 220
str1 += 'o'                                                            # STEP 221
str0 += 'y'                                                            # STEP 222
str1 = ""                                                              # STEP 223
path0 += "/" + component4                                              # STEP 224
str1 += 't'                                                            # STEP 225
str1 += 'a'                                                            # STEP 226
str0 = ""                                                              # STEP 227
str2 += 'j'                                                            # STEP 228
result = os0.path.dirname(path2)                                       # STEP 229
component3 = "f"                                                       # STEP 230
os0.rename(path0,path2)                                                # STEP 231
str1 += 'o'                                                            # STEP 232
os0.symlink(path4,path3)                                               # STEP 233
path2 += "/" + component1                                              # STEP 234
str4 += 'c'                                                            # STEP 235
path3 += "/" + component2                                              # STEP 236
component4 = "a"                                                       # STEP 237
str1 = ""                                                              # STEP 238
result = os0.path.lexists(path4)                                       # STEP 239
str2 += 'f'                                                            # STEP 240
str4 += 'q'                                                            # STEP 241
os0.link(path0,path3)                                                  # STEP 242
file0 = opener0(path2,'w')                                             # STEP 243
component2 = "delta"                                                   # STEP 244
os0.path.getsize(path2)                                                # STEP 245
path0 += "/" + component2                                              # STEP 246
str1 += 'f'                                                            # STEP 247
str1 += 'k'                                                            # STEP 248
os0.link(path0,path4)                                                  # STEP 249
os0.symlink(path2,path4)                                               # STEP 250
os0.link(path0,path0)                                                  # STEP 251
result = os0.path.exists(path3)                                        # STEP 252
str4 += 'o'                                                            # STEP 253
result = os0.path.isabs(path3)                                         # STEP 254
str4 += 'e'                                                            # STEP 255
result = os0.path.isabs(path4)                                         # STEP 256
str1 += 'k'                                                            # STEP 257
os0.symlink(path4,path4)                                               # STEP 258
str2 += 't'                                                            # STEP 259
os0.link(path0,path0)                                                  # STEP 260
os0.link(path2,path2)                                                  # STEP 261
str2 += 'x'                                                            # STEP 262
result = os0.path.lexists(path0)                                       # STEP 263
result = file0.readline(bytes2)                                        # STEP 264
os0.link(path2,path4)                                                  # STEP 265
os0.link(path3,path0)                                                  # STEP 266
str1 += 'f'                                                            # STEP 267
str4 += 'h'                                                            # STEP 268
os0.rename(path2,path3)                                                # STEP 269
file0.write(str0)                                                      # STEP 270
os0.link(path4,path4)                                                  # STEP 271
str1 = ""                                                              # STEP 272
component2 = "epsilon"                                                 # STEP 273
os0.mkdir(path0)                                                       # STEP 274
component1 = "delta"                                                   # STEP 275
result = os0.path.lexists(path3)                                       # STEP 276
path0 += "/" + component0                                              # STEP 277
path2 = "/Volumes/ramdisk/test"                                        # STEP 278
os0.symlink(path4,path3)                                               # STEP 279
str4 += 'a'                                                            # STEP 280
result = os0.path.exists(path3)                                        # STEP 281
str3 = ""                                                              # STEP 282
os0.symlink(path3,path3)                                               # STEP 283
str2 += 'h'                                                            # STEP 284
str0 += 'g'                                                            # STEP 285
os0.symlink(path3,path3)                                               # STEP 286
str4 += 'h'                                                            # STEP 287
str0 += 's'                                                            # STEP 288
result = os0.path.islink(path0)                                        # STEP 289
component0 = "f"                                                       # STEP 290
os0.rename(path4,path3)                                                # STEP 291
file0.write(str2)                                                      # STEP 292
os0.rename(path0,path3)                                                # STEP 293
os0.path.getsize(path0)                                                # STEP 294
str0 += 'a'                                                            # STEP 295
str3 += 'm'                                                            # STEP 296
result = os0.readlink(path4)                                           # STEP 297
os0.link(path3,path4)                                                  # STEP 298
os0.write(fd0,str3)                                                    # STEP 299
result = sorted(os0.listdir(path0))                                    # STEP 300
str1 += 'r'                                                            # STEP 301
result = stat1.st_size                                                 # STEP 302
os0.path.getsize(path0)                                                # STEP 303
os0.path.getsize(path3)                                                # STEP 304
path0 += "/" + component0                                              # STEP 305
str0 += 'u'                                                            # STEP 306
str4 += 'f'                                                            # STEP 307
os0.link(path3,path2)                                                  # STEP 308
str1 += 'e'                                                            # STEP 309
path3 += "/" + component2                                              # STEP 310
component2 = "alpha"                                                   # STEP 311
os0.link(path0,path4)                                                  # STEP 312
str2 += 'j'                                                            # STEP 313
os0.remove(path2)                                                      # STEP 314
str4 += 'h'                                                            # STEP 315
str2 += 'h'                                                            # STEP 316
path4 += "/" + component3                                              # STEP 317
result = os0.path.dirname(path3)                                       # STEP 318
str4 += 't'                                                            # STEP 319
str4 += 'a'                                                            # STEP 320
file0.seek(bytes4)                                                     # STEP 321
str2 += 'h'                                                            # STEP 322
str2 += 'z'                                                            # STEP 323
path3 += "/" + component3                                              # STEP 324
result = os0.path.dirname(path4)                                       # STEP 325
result = file0.readlines()                                             # STEP 326
ERROR: (<type 'exceptions.OSError'>, OSError(9, 'File is not open for reading.'), <traceback object at 0x105158f80>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 28999, in act575
    result = self.p_file[0].readlines()
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4284, in read_error
    self._raise('File is not open for reading.')
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4112, in _raise
    raise OSError(errno.EBADF, message)
1174 BRANCHES COVERED
900 STATEMENTS COVERED
