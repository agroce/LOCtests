Random testing using config=Config(swarmSwitch=None, verbose=False, reducePool=False, failedLogging=None, exploitBestHint=1, greedyStutter=False, internal=False, exploit=0.8, seed=None, generalize=False, useHints=False, localize=False, total=False, speed='FAST', probs=None, normalize=False, verboseExploit=False, highLowSwarm=None, replayable=False, essentials=False, noCoverageExploit=False, quickTests=False, relax=False, enumerateEnabled=False, uniqueValuesAnalysis=False, swarm=False, noReassign=False, html=None, fastQuickAnalysis=False, progress=False, swarmLength=None, noSwarmDependencies=False, profile=False, LOCBaseline=0.2, noEnumerateEnabled=False, full=True, multiple=True, timedProgress=30, silentFail=True, stopWhenStatements=None, swarmP=0.5, stopWhenBranches=None, noAlphaConvert=False, coverFile='coverage.out', readQuick=False, verboseActions=False, running=False, computeFeatureStats=False, compareFails=False, swarmProbs=None, output='failure.3917.test', genDepth=None, Pcrossover=0.2, quickAnalysis=False, keepLast=False, exploitCeiling=0.1, logging=None, LOCProbs=False, noCheck=False, maxTests=-1, noExceptionMatch=False, Pmutate=0.8, depth=100, showActions=False, throughput=False, noCover=False, timeout=60, stutter=None, uncaught=False, markov=None, startExploit=0)
UNCAUGHT EXCEPTION
ERROR: (<type 'exceptions.OSError'>, OSError(9, 'File is not open for reading.'), <traceback object at 0x10a908248>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 28468, in act566
    result = self.p_file[0].read(self.p_bytes[2])
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4284, in read_error
    self._raise('File is not open for reading.')
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4112, in _raise
    raise OSError(errno.EBADF, message)
Original test has 96 steps

SAVING TEST AS failure.3917.test.0
FINAL VERSION OF TEST, WITH LOGGED REPLAY:
component2 = "e"                                                         # STEP 0
component0 = "d"                                                         # STEP 1
component1 = "e"                                                         # STEP 2
component3 = "h"                                                         # STEP 3
component4 = "d"                                                         # STEP 4
bytes2 = 0                                                               # STEP 5
str4 = ""                                                                # STEP 6
bytes0 = 0                                                               # STEP 7
os0 = newFakeOS()                                                        # STEP 8
opener0 = newFakeOpener(os0)                                             # STEP 9
path3 = "/Volumes/ramdisk/test"                                         # STEP 10
str4 += 'l'                                                             # STEP 11
result = os0.path.isabs(path3)                                          # STEP 12
os0.symlink(path3,path3)                                                # STEP 13
str4 += 'r'                                                             # STEP 14
str4 += 'w'                                                             # STEP 15
str1 = ""                                                               # STEP 16
str1 += 'd'                                                             # STEP 17
str1 += 'x'                                                             # STEP 18
path3 += "/" + component2                                               # STEP 19
str4 += 'p'                                                             # STEP 20
os0.link(path3,path3)                                                   # STEP 21
stat1 = os0.lstat(path3)                                                # STEP 22
str1 += 'e'                                                             # STEP 23
str4 += 'q'                                                             # STEP 24
str4 += 'k'                                                             # STEP 25
fd0 = os0.open(path3, os.O_CREAT)                                       # STEP 26
str1 += 'b'                                                             # STEP 27
bytes0 += 1                                                             # STEP 28
component2 = "f"                                                        # STEP 29
path3 += "/" + component0                                               # STEP 30
str4 += 'o'                                                             # STEP 31
str4 += 't'                                                             # STEP 32
stat2 = os0.fstat(fd0)                                                  # STEP 33
os0.close(fd0)                                                          # STEP 34
str4 += 'o'                                                             # STEP 35
path0 = "/Volumes/ramdisk/test"                                         # STEP 36
stat4 = os0.lstat(path3)                                                # STEP 37
result = stat2.st_nlink                                                 # STEP 38
bytes0 = 0                                                              # STEP 39
file0 = opener0(path0,'w')                                              # STEP 40
file0 = opener0(path3,'a')                                              # STEP 41
path3 += "/" + component2                                               # STEP 42
result = sorted(os0.listdir(path0))                                     # STEP 43
result = os0.read(fd0,bytes0)                                           # STEP 44
result = os0.readlink(path0)                                            # STEP 45
stat3 = os0.fstat(fd0)                                                  # STEP 46
component0 = "f"                                                        # STEP 47
str4 += 'm'                                                             # STEP 48
str4 += 'u'                                                             # STEP 49
component2 = "h"                                                        # STEP 50
str1 += 'b'                                                             # STEP 51
fd0 = os0.open(path3, os.O_WRONLY | os.O_APPEND)                        # STEP 52
result = sorted(os0.listdir(path3))                                     # STEP 53
str3 = ""                                                               # STEP 54
result = sorted(os0.listdir(path0))                                     # STEP 55
file0 = opener0(path0)                                                  # STEP 56
str4 += 'l'                                                             # STEP 57
stat1 = os0.fstat(fd0)                                                  # STEP 58
file0 = opener0(path3,'r')                                              # STEP 59
os0.remove(path3)                                                       # STEP 60
str0 = ""                                                               # STEP 61
file0 = opener0(path0,'r')                                              # STEP 62
result = stat2.st_nlink                                                 # STEP 63
str3 += 'b'                                                             # STEP 64
result = os0.read(fd0,bytes0)                                           # STEP 65
str4 = ""                                                               # STEP 66
os0.symlink(path3,path3)                                                # STEP 67
str0 += 'z'                                                             # STEP 68
str0 += 'j'                                                             # STEP 69
result = os0.path.islink(path3)                                         # STEP 70
result = os0.path.dirname(path3)                                        # STEP 71
str1 += 'c'                                                             # STEP 72
str3 += " "                                                             # STEP 73
path0 += "/" + component2                                               # STEP 74
component2 = "h"                                                        # STEP 75
file0 = opener0(path0,'a')                                              # STEP 76
str1 += 'b'                                                             # STEP 77
file0.seek(bytes0)                                                      # STEP 78
result = os0.read(fd0,bytes0)                                           # STEP 79
stat0 = os0.stat(path3)                                                 # STEP 80
stat1 = os0.stat(path3)                                                 # STEP 81
result = os0.path.lexists(path0)                                        # STEP 82
file0.flush()                                                           # STEP 83
result = os0.path.exists(path0)                                         # STEP 84
str4 += 'a'                                                             # STEP 85
str4 += " "                                                             # STEP 86
os0.symlink(path0,path0)                                                # STEP 87
result = os0.path.isfile(path3)                                         # STEP 88
str1 += 'a'                                                             # STEP 89
str3 += 'a'                                                             # STEP 90
str1 += 'b'                                                             # STEP 91
os0.rename(path0,path3)                                                 # STEP 92
str3 += 'k'                                                             # STEP 93
str4 += 'q'                                                             # STEP 94
result = file0.read(bytes2)                                             # STEP 95
ERROR: (<type 'exceptions.OSError'>, OSError(9, 'File is not open for reading.'), <traceback object at 0x107276950>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 28468, in act566
    result = self.p_file[0].read(self.p_bytes[2])
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4284, in read_error
    self._raise('File is not open for reading.')
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4112, in _raise
    raise OSError(errno.EBADF, message)
FAILURE IS NEW, STORING; NOW 1 DISTINCT FAILURES
TEST #71 STEP #0 (0:00:30.402299) Fri Jul 21 22:06:35 2017 [ 891 stmts 1157 branches ] 6919 TOTAL ACTIONS (227.581473906/s)
UNCAUGHT EXCEPTION
ERROR: (<type 'exceptions.OSError'>, OSError(9, 'File is not open for reading.'), <traceback object at 0x107ed6320>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 28408, in act565
    result = self.p_file[0].read(self.p_bytes[1])
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4284, in read_error
    self._raise('File is not open for reading.')
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4112, in _raise
    raise OSError(errno.EBADF, message)
Original test has 149 steps

SAVING TEST AS failure.3917.test.1
FINAL VERSION OF TEST, WITH LOGGED REPLAY:
component2 = "e"                                                         # STEP 0
component0 = "d"                                                         # STEP 1
component1 = "e"                                                         # STEP 2
component3 = "h"                                                         # STEP 3
component4 = "d"                                                         # STEP 4
bytes2 = 0                                                               # STEP 5
str4 = ""                                                                # STEP 6
bytes0 = 0                                                               # STEP 7
os0 = newFakeOS()                                                        # STEP 8
opener0 = newFakeOpener(os0)                                             # STEP 9
path3 = "/Volumes/ramdisk/test"                                         # STEP 10
str4 += 'l'                                                             # STEP 11
result = os0.path.isabs(path3)                                          # STEP 12
os0.symlink(path3,path3)                                                # STEP 13
str4 += 'r'                                                             # STEP 14
str4 += 'w'                                                             # STEP 15
str1 = ""                                                               # STEP 16
str1 += 'd'                                                             # STEP 17
str1 += 'x'                                                             # STEP 18
path3 += "/" + component2                                               # STEP 19
str4 += 'p'                                                             # STEP 20
os0.link(path3,path3)                                                   # STEP 21
stat1 = os0.lstat(path3)                                                # STEP 22
str1 += 'e'                                                             # STEP 23
str4 += 'q'                                                             # STEP 24
str4 += 'k'                                                             # STEP 25
fd0 = os0.open(path3, os.O_CREAT)                                       # STEP 26
str1 += 'b'                                                             # STEP 27
bytes0 += 1                                                             # STEP 28
component2 = "f"                                                        # STEP 29
path3 += "/" + component0                                               # STEP 30
str4 += 'o'                                                             # STEP 31
str4 += 't'                                                             # STEP 32
stat2 = os0.fstat(fd0)                                                  # STEP 33
os0.close(fd0)                                                          # STEP 34
str4 += 'o'                                                             # STEP 35
path0 = "/Volumes/ramdisk/test"                                         # STEP 36
stat4 = os0.lstat(path3)                                                # STEP 37
result = stat2.st_nlink                                                 # STEP 38
bytes0 = 0                                                              # STEP 39
file0 = opener0(path0,'w')                                              # STEP 40
file0 = opener0(path3,'a')                                              # STEP 41
path3 += "/" + component2                                               # STEP 42
result = sorted(os0.listdir(path0))                                     # STEP 43
result = os0.read(fd0,bytes0)                                           # STEP 44
result = os0.readlink(path0)                                            # STEP 45
stat3 = os0.fstat(fd0)                                                  # STEP 46
component0 = "f"                                                        # STEP 47
str4 += 'm'                                                             # STEP 48
str4 += 'u'                                                             # STEP 49
component2 = "h"                                                        # STEP 50
str1 += 'b'                                                             # STEP 51
fd0 = os0.open(path3, os.O_WRONLY | os.O_APPEND)                        # STEP 52
result = sorted(os0.listdir(path3))                                     # STEP 53
str3 = ""                                                               # STEP 54
result = sorted(os0.listdir(path0))                                     # STEP 55
file0 = opener0(path0)                                                  # STEP 56
str4 += 'l'                                                             # STEP 57
stat1 = os0.fstat(fd0)                                                  # STEP 58
file0 = opener0(path3,'r')                                              # STEP 59
os0.remove(path3)                                                       # STEP 60
str0 = ""                                                               # STEP 61
file0 = opener0(path0,'r')                                              # STEP 62
result = stat2.st_nlink                                                 # STEP 63
str3 += 'b'                                                             # STEP 64
result = os0.read(fd0,bytes0)                                           # STEP 65
str4 = ""                                                               # STEP 66
os0.symlink(path3,path3)                                                # STEP 67
str0 += 'z'                                                             # STEP 68
str0 += 'j'                                                             # STEP 69
result = os0.path.islink(path3)                                         # STEP 70
result = os0.path.dirname(path3)                                        # STEP 71
str1 += 'c'                                                             # STEP 72
str3 += " "                                                             # STEP 73
path0 += "/" + component2                                               # STEP 74
component2 = "h"                                                        # STEP 75
file0 = opener0(path0,'a')                                              # STEP 76
os0.path.getsize(path3)                                                 # STEP 77
os0.rmdir(path3)                                                        # STEP 78
str4 += 'h'                                                             # STEP 79
str4 += 'u'                                                             # STEP 80
str3 += 'g'                                                             # STEP 81
str4 += 'a'                                                             # STEP 82
file0.flush()                                                           # STEP 83
result = file0.readline(bytes2)                                         # STEP 84
str1 += 'f'                                                             # STEP 85
str4 += 'e'                                                             # STEP 86
str0 += 't'                                                             # STEP 87
str4 += 'm'                                                             # STEP 88
str4 += 'd'                                                             # STEP 89
str0 += 'x'                                                             # STEP 90
os0.removedirs(path0)                                                   # STEP 91
str3 += 'r'                                                             # STEP 92
str4 += 'h'                                                             # STEP 93
path3 = "/Volumes/ramdisk/test"                                         # STEP 94
str4 += 't'                                                             # STEP 95
str3 += 't'                                                             # STEP 96
str2 = ""                                                               # STEP 97
stat1 = os0.fstat(fd0)                                                  # STEP 98
str1 += 'g'                                                             # STEP 99
str4 += 'd'                                                            # STEP 100
str3 += 'l'                                                            # STEP 101
path0 += "/" + component2                                              # STEP 102
str0 += 'd'                                                            # STEP 103
str2 += 'l'                                                            # STEP 104
result = os0.path.lexists(path0)                                       # STEP 105
component2 = "b"                                                       # STEP 106
str2 += 'x'                                                            # STEP 107
str3 = ""                                                              # STEP 108
str3 += 'u'                                                            # STEP 109
file0.flush()                                                          # STEP 110
str3 += 'c'                                                            # STEP 111
str1 += 't'                                                            # STEP 112
os0.link(path3,path0)                                                  # STEP 113
str3 += 'g'                                                            # STEP 114
str0 += 'z'                                                            # STEP 115
stat0 = os0.stat(path0)                                                # STEP 116
result = os0.path.exists(path0)                                        # STEP 117
str0 += 'v'                                                            # STEP 118
str2 += 'k'                                                            # STEP 119
str1 += 'd'                                                            # STEP 120
str1 += 'i'                                                            # STEP 121
result = file0.readline(bytes2)                                        # STEP 122
os0.remove(path0)                                                      # STEP 123
os0.rmdir(path0)                                                       # STEP 124
os0.makedirs(path3)                                                    # STEP 125
str3 += 'm'                                                            # STEP 126
result = os0.path.isabs(path0)                                         # STEP 127
str4 += " "                                                            # STEP 128
str2 += 'g'                                                            # STEP 129
path3 += "/" + component4                                              # STEP 130
path0 += "/" + component1                                              # STEP 131
result = os0.read(fd0,bytes2)                                          # STEP 132
bytes3 = 0                                                             # STEP 133
str4 += " "                                                            # STEP 134
bytes1 = 0                                                             # STEP 135
path3 += "/" + component0                                              # STEP 136
component0 = "g"                                                       # STEP 137
str2 += 'i'                                                            # STEP 138
os0.write(fd0,str2)                                                    # STEP 139
file0.truncate()                                                       # STEP 140
os0.write(fd0,str3)                                                    # STEP 141
result = stat2.st_nlink                                                # STEP 142
component4 = "c"                                                       # STEP 143
str4 += 'k'                                                            # STEP 144
str1 += 'z'                                                            # STEP 145
bytes0 += 1                                                            # STEP 146
str0 += 'j'                                                            # STEP 147
result = file0.read(bytes1)                                            # STEP 148
ERROR: (<type 'exceptions.OSError'>, OSError(9, 'File is not open for reading.'), <traceback object at 0x107ef47a0>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 28408, in act565
    result = self.p_file[0].read(self.p_bytes[1])
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4284, in read_error
    self._raise('File is not open for reading.')
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4112, in _raise
    raise OSError(errno.EBADF, message)
FAILURE IS NEW, STORING; NOW 2 DISTINCT FAILURES
UNCAUGHT EXCEPTION
ERROR: (<type 'exceptions.OSError'>, OSError(9, 'File is not open for reading.'), <traceback object at 0x10558fb00>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 28348, in act564
    result = self.p_file[0].read(self.p_bytes[0])
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4284, in read_error
    self._raise('File is not open for reading.')
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4112, in _raise
    raise OSError(errno.EBADF, message)
Original test has 183 steps

SAVING TEST AS failure.3917.test.2
FINAL VERSION OF TEST, WITH LOGGED REPLAY:
component2 = "e"                                                         # STEP 0
component0 = "d"                                                         # STEP 1
component1 = "e"                                                         # STEP 2
component3 = "h"                                                         # STEP 3
component4 = "d"                                                         # STEP 4
bytes2 = 0                                                               # STEP 5
str4 = ""                                                                # STEP 6
bytes0 = 0                                                               # STEP 7
os0 = newFakeOS()                                                        # STEP 8
opener0 = newFakeOpener(os0)                                             # STEP 9
path3 = "/Volumes/ramdisk/test"                                         # STEP 10
str4 += 'l'                                                             # STEP 11
result = os0.path.isabs(path3)                                          # STEP 12
os0.symlink(path3,path3)                                                # STEP 13
str4 += 'r'                                                             # STEP 14
str4 += 'w'                                                             # STEP 15
str1 = ""                                                               # STEP 16
str1 += 'd'                                                             # STEP 17
str1 += 'x'                                                             # STEP 18
path3 += "/" + component2                                               # STEP 19
str4 += 'p'                                                             # STEP 20
os0.link(path3,path3)                                                   # STEP 21
stat1 = os0.lstat(path3)                                                # STEP 22
str1 += 'e'                                                             # STEP 23
str4 += 'q'                                                             # STEP 24
str4 += 'k'                                                             # STEP 25
fd0 = os0.open(path3, os.O_CREAT)                                       # STEP 26
str1 += 'b'                                                             # STEP 27
bytes0 += 1                                                             # STEP 28
component2 = "f"                                                        # STEP 29
path3 += "/" + component0                                               # STEP 30
str4 += 'o'                                                             # STEP 31
str4 += 't'                                                             # STEP 32
stat2 = os0.fstat(fd0)                                                  # STEP 33
os0.close(fd0)                                                          # STEP 34
str4 += 'o'                                                             # STEP 35
path0 = "/Volumes/ramdisk/test"                                         # STEP 36
stat4 = os0.lstat(path3)                                                # STEP 37
result = stat2.st_nlink                                                 # STEP 38
bytes0 = 0                                                              # STEP 39
file0 = opener0(path0,'w')                                              # STEP 40
file0 = opener0(path3,'a')                                              # STEP 41
path3 += "/" + component2                                               # STEP 42
result = sorted(os0.listdir(path0))                                     # STEP 43
result = os0.read(fd0,bytes0)                                           # STEP 44
result = os0.readlink(path0)                                            # STEP 45
stat3 = os0.fstat(fd0)                                                  # STEP 46
component0 = "f"                                                        # STEP 47
str4 += 'm'                                                             # STEP 48
str4 += 'u'                                                             # STEP 49
component2 = "h"                                                        # STEP 50
str1 += 'b'                                                             # STEP 51
fd0 = os0.open(path3, os.O_WRONLY | os.O_APPEND)                        # STEP 52
result = sorted(os0.listdir(path3))                                     # STEP 53
str3 = ""                                                               # STEP 54
result = sorted(os0.listdir(path0))                                     # STEP 55
file0 = opener0(path0)                                                  # STEP 56
str4 += 'l'                                                             # STEP 57
stat1 = os0.fstat(fd0)                                                  # STEP 58
file0 = opener0(path3,'r')                                              # STEP 59
os0.remove(path3)                                                       # STEP 60
str0 = ""                                                               # STEP 61
file0 = opener0(path0,'r')                                              # STEP 62
result = stat2.st_nlink                                                 # STEP 63
str3 += 'b'                                                             # STEP 64
result = os0.read(fd0,bytes0)                                           # STEP 65
str4 = ""                                                               # STEP 66
os0.symlink(path3,path3)                                                # STEP 67
str0 += 'z'                                                             # STEP 68
str0 += 'j'                                                             # STEP 69
result = os0.path.islink(path3)                                         # STEP 70
result = os0.path.dirname(path3)                                        # STEP 71
str1 += 'c'                                                             # STEP 72
str3 += " "                                                             # STEP 73
path0 += "/" + component2                                               # STEP 74
component2 = "h"                                                        # STEP 75
file0 = opener0(path0,'a')                                              # STEP 76
os0.path.getsize(path3)                                                 # STEP 77
os0.rmdir(path3)                                                        # STEP 78
str4 += 'h'                                                             # STEP 79
str4 += 'u'                                                             # STEP 80
str3 += 'g'                                                             # STEP 81
str4 += 'a'                                                             # STEP 82
file0.flush()                                                           # STEP 83
result = file0.readline(bytes2)                                         # STEP 84
str1 += 'f'                                                             # STEP 85
str4 += 'e'                                                             # STEP 86
str0 += 't'                                                             # STEP 87
str4 += 'm'                                                             # STEP 88
str4 += 'd'                                                             # STEP 89
str0 += 'x'                                                             # STEP 90
os0.removedirs(path0)                                                   # STEP 91
str3 += 'r'                                                             # STEP 92
str4 += 'h'                                                             # STEP 93
path3 = "/Volumes/ramdisk/test"                                         # STEP 94
str4 += 't'                                                             # STEP 95
bytes4 = 0                                                              # STEP 96
str3 += 't'                                                             # STEP 97
str2 = ""                                                               # STEP 98
stat1 = os0.fstat(fd0)                                                  # STEP 99
str1 += 'g'                                                            # STEP 100
str4 += 'd'                                                            # STEP 101
str3 += 'l'                                                            # STEP 102
path0 += "/" + component2                                              # STEP 103
str0 += 'd'                                                            # STEP 104
str2 += 'l'                                                            # STEP 105
result = os0.path.lexists(path0)                                       # STEP 106
component2 = "b"                                                       # STEP 107
str3 = ""                                                              # STEP 108
result = file0.readline(bytes4)                                        # STEP 109
str3 += 'u'                                                            # STEP 110
file0.flush()                                                          # STEP 111
str3 += 'c'                                                            # STEP 112
str1 += 't'                                                            # STEP 113
os0.link(path3,path0)                                                  # STEP 114
str3 += 'g'                                                            # STEP 115
str0 += 'z'                                                            # STEP 116
stat0 = os0.stat(path0)                                                # STEP 117
result = os0.path.exists(path0)                                        # STEP 118
str0 += 'v'                                                            # STEP 119
str2 += 'k'                                                            # STEP 120
str1 += 'd'                                                            # STEP 121
str1 += 'i'                                                            # STEP 122
result = file0.readline(bytes2)                                        # STEP 123
os0.remove(path0)                                                      # STEP 124
path3 += "/" + component0                                              # STEP 125
str2 += 'x'                                                            # STEP 126
str0 += 'i'                                                            # STEP 127
result = sorted(os0.listdir(path3))                                    # STEP 128
str4 += 'n'                                                            # STEP 129
str4 += 'q'                                                            # STEP 130
str4 += 'y'                                                            # STEP 131
stat4 = os0.stat(path0)                                                # STEP 132
result = file0.readline(bytes4)                                        # STEP 133
str0 += 'z'                                                            # STEP 134
str3 += 'k'                                                            # STEP 135
str0 += 'd'                                                            # STEP 136
path3 = "/Volumes/ramdisk/test"                                        # STEP 137
os0.makedirs(path0)                                                    # STEP 138
str3 += 'x'                                                            # STEP 139
str4 += 'w'                                                            # STEP 140
bytes0 += 1                                                            # STEP 141
stat4 = os0.fstat(fd0)                                                 # STEP 142
str1 += 'n'                                                            # STEP 143
str2 += 'f'                                                            # STEP 144
str2 += 'g'                                                            # STEP 145
str3 += " "                                                            # STEP 146
str4 += 'a'                                                            # STEP 147
str3 += 'g'                                                            # STEP 148
str3 += 'a'                                                            # STEP 149
str4 += 'd'                                                            # STEP 150
str1 += 'h'                                                            # STEP 151
os0.rename(path0,path3)                                                # STEP 152
str0 += 'y'                                                            # STEP 153
path1 = "/Volumes/ramdisk/test"                                        # STEP 154
stat0 = os0.stat(path0)                                                # STEP 155
str3 += 'p'                                                            # STEP 156
result = os0.path.dirname(path1)                                       # STEP 157
str3 += " "                                                            # STEP 158
str1 += " "                                                            # STEP 159
str2 += 'q'                                                            # STEP 160
os0.remove(path0)                                                      # STEP 161
str2 += " "                                                            # STEP 162
str0 += 'l'                                                            # STEP 163
str3 += 'u'                                                            # STEP 164
bytes2 = 0                                                             # STEP 165
os0.rename(path0,path3)                                                # STEP 166
str0 += 't'                                                            # STEP 167
result = file0.read(bytes2)                                            # STEP 168
str0 += 'a'                                                            # STEP 169
result = stat1.st_nlink                                                # STEP 170
path0 += "/" + component4                                              # STEP 171
result = stat4.st_nlink                                                # STEP 172
str2 += 'b'                                                            # STEP 173
str3 += 'h'                                                            # STEP 174
str1 += 'p'                                                            # STEP 175
os0.remove(path1)                                                      # STEP 176
str2 += 'x'                                                            # STEP 177
result = os0.read(fd0,bytes0)                                          # STEP 178
str4 += 'x'                                                            # STEP 179
str3 += 'f'                                                            # STEP 180
str4 += 'p'                                                            # STEP 181
result = file0.read(bytes0)                                            # STEP 182
ERROR: (<type 'exceptions.OSError'>, OSError(9, 'File is not open for reading.'), <traceback object at 0x1054fac68>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 28348, in act564
    result = self.p_file[0].read(self.p_bytes[0])
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4284, in read_error
    self._raise('File is not open for reading.')
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4112, in _raise
    raise OSError(errno.EBADF, message)
FAILURE IS NEW, STORING; NOW 3 DISTINCT FAILURES
FAILURE DURING MUTATION
ERROR: (<type 'exceptions.OSError'>, OSError(9, 'File is not open for reading.'), <traceback object at 0x10380d950>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38058, in replay
    act()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 28941, in act574
    result = self.p_file[0].readline(self.p_bytes[4])
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4284, in read_error
    self._raise('File is not open for reading.')
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4112, in _raise
    raise OSError(errno.EBADF, message)
Original test has 365 steps

SAVING TEST AS failure.3917.test.3
FINAL VERSION OF TEST, WITH LOGGED REPLAY:
component2 = "e"                                                         # STEP 0
component0 = "d"                                                         # STEP 1
component1 = "e"                                                         # STEP 2
component3 = "h"                                                         # STEP 3
component4 = "d"                                                         # STEP 4
bytes2 = 0                                                               # STEP 5
str4 = ""                                                                # STEP 6
bytes0 = 0                                                               # STEP 7
os0 = newFakeOS()                                                        # STEP 8
opener0 = newFakeOpener(os0)                                             # STEP 9
path3 = "/Volumes/ramdisk/test"                                         # STEP 10
str4 += 'l'                                                             # STEP 11
result = os0.path.isabs(path3)                                          # STEP 12
os0.symlink(path3,path3)                                                # STEP 13
str4 += 'r'                                                             # STEP 14
str4 += 'w'                                                             # STEP 15
str1 = ""                                                               # STEP 16
str1 += 'd'                                                             # STEP 17
str1 += 'x'                                                             # STEP 18
path3 += "/" + component2                                               # STEP 19
str4 += 'p'                                                             # STEP 20
os0.link(path3,path3)                                                   # STEP 21
stat1 = os0.lstat(path3)                                                # STEP 22
str1 += 'e'                                                             # STEP 23
str4 += 'q'                                                             # STEP 24
str4 += 'k'                                                             # STEP 25
fd0 = os0.open(path3, os.O_CREAT)                                       # STEP 26
str1 += 'b'                                                             # STEP 27
bytes0 += 1                                                             # STEP 28
component2 = "f"                                                        # STEP 29
path3 += "/" + component0                                               # STEP 30
str4 += 'o'                                                             # STEP 31
str4 += 't'                                                             # STEP 32
stat2 = os0.fstat(fd0)                                                  # STEP 33
os0.close(fd0)                                                          # STEP 34
str4 += 'o'                                                             # STEP 35
path0 = "/Volumes/ramdisk/test"                                         # STEP 36
stat4 = os0.lstat(path3)                                                # STEP 37
result = stat2.st_nlink                                                 # STEP 38
bytes0 = 0                                                              # STEP 39
file0 = opener0(path0,'w')                                              # STEP 40
file0 = opener0(path3,'a')                                              # STEP 41
path3 += "/" + component2                                               # STEP 42
result = sorted(os0.listdir(path0))                                     # STEP 43
result = os0.read(fd0,bytes0)                                           # STEP 44
result = os0.readlink(path0)                                            # STEP 45
stat3 = os0.fstat(fd0)                                                  # STEP 46
component0 = "f"                                                        # STEP 47
str4 += 'm'                                                             # STEP 48
str4 += 'u'                                                             # STEP 49
component2 = "h"                                                        # STEP 50
str1 += 'b'                                                             # STEP 51
fd0 = os0.open(path3, os.O_WRONLY | os.O_APPEND)                        # STEP 52
result = sorted(os0.listdir(path3))                                     # STEP 53
str3 = ""                                                               # STEP 54
result = sorted(os0.listdir(path0))                                     # STEP 55
file0 = opener0(path0)                                                  # STEP 56
str4 += 'l'                                                             # STEP 57
stat1 = os0.fstat(fd0)                                                  # STEP 58
file0 = opener0(path3,'r')                                              # STEP 59
os0.remove(path3)                                                       # STEP 60
str0 = ""                                                               # STEP 61
file0 = opener0(path0,'r')                                              # STEP 62
result = stat2.st_nlink                                                 # STEP 63
str3 += 'b'                                                             # STEP 64
result = os0.read(fd0,bytes0)                                           # STEP 65
str4 = ""                                                               # STEP 66
os0.symlink(path3,path3)                                                # STEP 67
str0 += 'z'                                                             # STEP 68
str0 += 'j'                                                             # STEP 69
result = os0.path.islink(path3)                                         # STEP 70
result = os0.path.dirname(path3)                                        # STEP 71
str1 += 'c'                                                             # STEP 72
str3 += " "                                                             # STEP 73
path0 += "/" + component2                                               # STEP 74
component2 = "h"                                                        # STEP 75
file0 = opener0(path0,'a')                                              # STEP 76
os0.path.getsize(path3)                                                 # STEP 77
os0.rmdir(path3)                                                        # STEP 78
str4 += 'h'                                                             # STEP 79
str4 += 'u'                                                             # STEP 80
str3 += 'g'                                                             # STEP 81
str4 += 'a'                                                             # STEP 82
file0.flush()                                                           # STEP 83
result = file0.readline(bytes2)                                         # STEP 84
str1 += 'f'                                                             # STEP 85
bytes2 = 0                                                              # STEP 86
path0 += "/" + component1                                               # STEP 87
str0 = ""                                                               # STEP 88
os0.mkdir(path0)                                                        # STEP 89
str4 = ""                                                               # STEP 90
str4 += 'e'                                                             # STEP 91
component1 = "delta"                                                    # STEP 92
result = os0.path.isdir(path0)                                          # STEP 93
bytes4 = 0                                                              # STEP 94
result = os0.path.isdir(path0)                                          # STEP 95
result = os0.path.lexists(path0)                                        # STEP 96
str0 += 'c'                                                             # STEP 97
str4 += 'w'                                                             # STEP 98
bytes1 = 0                                                              # STEP 99
str0 += 'y'                                                            # STEP 100
str4 += 'd'                                                            # STEP 101
str0 += 'n'                                                            # STEP 102
str4 += 'a'                                                            # STEP 103
str4 += 'q'                                                            # STEP 104
str4 += 'v'                                                            # STEP 105
str4 += 'p'                                                            # STEP 106
str4 += 'n'                                                            # STEP 107
os0.mkdir(path0)                                                       # STEP 108
str4 += 'r'                                                            # STEP 109
bytes2 += 1                                                            # STEP 110
str4 += " "                                                            # STEP 111
result = sorted(os0.listdir(path0))                                    # STEP 112
str4 += " "                                                            # STEP 113
str4 += 'd'                                                            # STEP 114
result = os0.path.isdir(path0)                                         # STEP 115
result = os0.path.isdir(path0)                                         # STEP 116
result = os0.path.lexists(path0)                                       # STEP 117
str0 += 'c'                                                            # STEP 118
str4 += 'w'                                                            # STEP 119
str0 += 'y'                                                            # STEP 120
str4 += 'd'                                                            # STEP 121
str0 += 'n'                                                            # STEP 122
str4 += 'a'                                                            # STEP 123
str4 += 'q'                                                            # STEP 124
str4 += 'v'                                                            # STEP 125
str4 += 'p'                                                            # STEP 126
str4 += 'n'                                                            # STEP 127
os0.mkdir(path0)                                                       # STEP 128
str4 += 'r'                                                            # STEP 129
bytes2 += 1                                                            # STEP 130
str4 += " "                                                            # STEP 131
result = sorted(os0.listdir(path0))                                    # STEP 132
str4 += " "                                                            # STEP 133
str4 += 'd'                                                            # STEP 134
str4 += 'e'                                                            # STEP 135
result = os0.path.lexists(path0)                                       # STEP 136
str0 += 'e'                                                            # STEP 137
stat1 = os0.stat(path0)                                                # STEP 138
str0 = ""                                                              # STEP 139
str2 = ""                                                              # STEP 140
str0 += 'm'                                                            # STEP 141
path0 += "/" + component2                                              # STEP 142
path0 += "/" + component1                                              # STEP 143
component2 = "h"                                                       # STEP 144
str2 += 'l'                                                            # STEP 145
result = os0.path.isdir(path0)                                         # STEP 146
str3 = ""                                                              # STEP 147
str2 += 'h'                                                            # STEP 148
str2 += 'e'                                                            # STEP 149
component1 = "epsilon"                                                 # STEP 150
os0.path.getsize(path0)                                                # STEP 151
str0 += 'k'                                                            # STEP 152
str4 += 'l'                                                            # STEP 153
path4 = "/Volumes/ramdisk/test"                                        # STEP 154
str2 += 'k'                                                            # STEP 155
str0 += 'c'                                                            # STEP 156
result = sorted(os0.listdir(path4))                                    # STEP 157
path0 += "/" + component3                                              # STEP 158
component3 = "gamma"                                                   # STEP 159
str2 += 'r'                                                            # STEP 160
path0 += "/" + component4                                              # STEP 161
component4 = "phi"                                                     # STEP 162
os0.link(path0,path0)                                                  # STEP 163
result = os0.path.dirname(path4)                                       # STEP 164
bytes2 += 1                                                            # STEP 165
os0.makedirs(path0)                                                    # STEP 166
str2 += 'p'                                                            # STEP 167
result = os0.path.abspath(path4)                                       # STEP 168
os0.link(path0,path0)                                                  # STEP 169
str2 += 'v'                                                            # STEP 170
path0 += "/" + component4                                              # STEP 171
str4 += 'h'                                                            # STEP 172
str3 += 'o'                                                            # STEP 173
result = os0.readlink(path0)                                           # STEP 174
str0 += 'y'                                                            # STEP 175
result = os0.path.islink(path4)                                        # STEP 176
component4 = "e"                                                       # STEP 177
os0.path.getsize(path0)                                                # STEP 178
str4 += 'n'                                                            # STEP 179
stat0 = os0.lstat(path0)                                               # STEP 180
str3 += 't'                                                            # STEP 181
path0 += "/" + component3                                              # STEP 182
str3 += 't'                                                            # STEP 183
path2 = "/Volumes/ramdisk/test"                                        # STEP 184
result = os0.path.islink(path2)                                        # STEP 185
path2 += "/" + component4                                              # STEP 186
result = os0.path.abspath(path2)                                       # STEP 187
component3 = "beta"                                                    # STEP 188
str3 += 'o'                                                            # STEP 189
os0.makedirs(path2)                                                    # STEP 190
str2 += 'b'                                                            # STEP 191
result = os0.path.isabs(path4)                                         # STEP 192
str3 += " "                                                            # STEP 193
stat3 = os0.stat(path2)                                                # STEP 194
result = os0.path.islink(path4)                                        # STEP 195
result = os0.path.dirname(path2)                                       # STEP 196
os0.link(path0,path4)                                                  # STEP 197
result = os0.readlink(path4)                                           # STEP 198
component4 = "c"                                                       # STEP 199
str0 += 'l'                                                            # STEP 200
str2 += 't'                                                            # STEP 201
os0.symlink(path2,path4)                                               # STEP 202
str4 += 'q'                                                            # STEP 203
bytes1 += 1                                                            # STEP 204
str3 += 'b'                                                            # STEP 205
os0.write(fd0,str4)                                                    # STEP 206
str3 += 'g'                                                            # STEP 207
path0 += "/" + component3                                              # STEP 208
str3 += 'w'                                                            # STEP 209
str0 += 'j'                                                            # STEP 210
str4 += 'm'                                                            # STEP 211
str4 += 'j'                                                            # STEP 212
path3 = "/Volumes/ramdisk/test"                                        # STEP 213
os0.symlink(path3,path2)                                               # STEP 214
str4 += 'a'                                                            # STEP 215
str0 += 'i'                                                            # STEP 216
os0.symlink(path0,path2)                                               # STEP 217
result = os0.path.abspath(path4)                                       # STEP 218
str0 += 'l'                                                            # STEP 219
str0 += 'n'                                                            # STEP 220
os0.link(path2,path0)                                                  # STEP 221
os0.mkdir(path3)                                                       # STEP 222
result = os0.path.islink(path0)                                        # STEP 223
path4 += "/" + component2                                              # STEP 224
str3 += 's'                                                            # STEP 225
os0.write(fd0,str0)                                                    # STEP 226
str0 += 'k'                                                            # STEP 227
stat0 = os0.stat(path2)                                                # STEP 228
component3 = "a"                                                       # STEP 229
result = os0.path.exists(path3)                                        # STEP 230
os0.rename(path0,path3)                                                # STEP 231
bytes3 = 0                                                             # STEP 232
str3 += 'n'                                                            # STEP 233
result = os0.path.abspath(path3)                                       # STEP 234
bytes0 = 0                                                             # STEP 235
result = os0.readlink(path2)                                           # STEP 236
path4 += "/" + component1                                              # STEP 237
str4 += 'l'                                                            # STEP 238
str4 += 'b'                                                            # STEP 239
os0.symlink(path2,path3)                                               # STEP 240
result = os0.path.isdir(path0)                                         # STEP 241
result = sorted(os0.listdir(path4))                                    # STEP 242
os0.makedirs(path2)                                                    # STEP 243
result = os0.path.isfile(path4)                                        # STEP 244
component2 = "a"                                                       # STEP 245
str0 += 'w'                                                            # STEP 246
str0 += 'c'                                                            # STEP 247
result = sorted(os0.listdir(path2))                                    # STEP 248
str0 += 'j'                                                            # STEP 249
str4 += 'u'                                                            # STEP 250
os0.rmdir(path4)                                                       # STEP 251
os0.link(path4,path0)                                                  # STEP 252
str3 += 'n'                                                            # STEP 253
os0.makedirs(path4)                                                    # STEP 254
result = os0.path.isabs(path2)                                         # STEP 255
str2 += 'y'                                                            # STEP 256
path4 += "/" + component0                                              # STEP 257
component1 = "f"                                                       # STEP 258
result = os0.readlink(path4)                                           # STEP 259
path3 += "/" + component1                                              # STEP 260
path1 = "/Volumes/ramdisk/test"                                        # STEP 261
os0.symlink(path2,path2)                                               # STEP 262
os0.rename(path3,path4)                                                # STEP 263
bytes2 = 0                                                             # STEP 264
str4 += 'c'                                                            # STEP 265
str0 += 'x'                                                            # STEP 266
str0 += 'i'                                                            # STEP 267
str3 += 'l'                                                            # STEP 268
os0.link(path4,path3)                                                  # STEP 269
os0.remove(path4)                                                      # STEP 270
str4 += 'm'                                                            # STEP 271
str2 += 'y'                                                            # STEP 272
str2 += 's'                                                            # STEP 273
component1 = "c"                                                       # STEP 274
str2 += 'i'                                                            # STEP 275
stat4 = os0.stat(path2)                                                # STEP 276
result = os0.readlink(path2)                                           # STEP 277
str2 += 'o'                                                            # STEP 278
os0.makedirs(path1)                                                    # STEP 279
str4 += 'd'                                                            # STEP 280
stat2 = os0.stat(path4)                                                # STEP 281
str3 += 'y'                                                            # STEP 282
str3 = ""                                                              # STEP 283
component0 = "gamma"                                                   # STEP 284
os0.symlink(path4,path0)                                               # STEP 285
os0.link(path1,path0)                                                  # STEP 286
path0 = "/Volumes/ramdisk/test"                                        # STEP 287
result = sorted(os0.listdir(path0))                                    # STEP 288
result = stat0.st_nlink                                                # STEP 289
str3 += 'd'                                                            # STEP 290
os0.remove(path2)                                                      # STEP 291
str2 += 'w'                                                            # STEP 292
result = os0.path.dirname(path1)                                       # STEP 293
os0.makedirs(path3)                                                    # STEP 294
os0.symlink(path3,path2)                                               # STEP 295
str0 += 'm'                                                            # STEP 296
os0.rename(path2,path3)                                                # STEP 297
result = sorted(os0.listdir(path0))                                    # STEP 298
result = os0.readlink(path1)                                           # STEP 299
result = os0.read(fd0,bytes2)                                          # STEP 300
path1 = "/Volumes/ramdisk/test"                                        # STEP 301
result = os0.path.abspath(path4)                                       # STEP 302
path1 += "/" + component3                                              # STEP 303
str2 += 's'                                                            # STEP 304
str0 += 'm'                                                            # STEP 305
os0.link(path0,path3)                                                  # STEP 306
str2 += 'f'                                                            # STEP 307
os0.rename(path3,path1)                                                # STEP 308
os0.rename(path1,path3)                                                # STEP 309
stat0 = os0.lstat(path2)                                               # STEP 310
str2 += 'f'                                                            # STEP 311
stat1 = os0.fstat(fd0)                                                 # STEP 312
result = os0.path.abspath(path1)                                       # STEP 313
path4 += "/" + component3                                              # STEP 314
str3 += 'w'                                                            # STEP 315
os0.rename(path2,path4)                                                # STEP 316
result = os0.path.islink(path2)                                        # STEP 317
str0 += 'h'                                                            # STEP 318
result = os0.path.isabs(path0)                                         # STEP 319
result = stat0.st_size                                                 # STEP 320
str0 += 'h'                                                            # STEP 321
str2 += 'd'                                                            # STEP 322
result = os0.path.lexists(path0)                                       # STEP 323
str3 += 'x'                                                            # STEP 324
os0.symlink(path3,path4)                                               # STEP 325
path1 = "/Volumes/ramdisk/test"                                        # STEP 326
str2 += 'l'                                                            # STEP 327
result = os0.path.lexists(path3)                                       # STEP 328
result = os0.path.islink(path3)                                        # STEP 329
path0 += "/" + component2                                              # STEP 330
result = os0.path.abspath(path4)                                       # STEP 331
os0.makedirs(path0)                                                    # STEP 332
result = os0.path.dirname(path0)                                       # STEP 333
os0.symlink(path0,path0)                                               # STEP 334
str4 += 'd'                                                            # STEP 335
result = stat1.st_nlink                                                # STEP 336
os0.symlink(path0,path0)                                               # STEP 337
path1 += "/" + component0                                              # STEP 338
component0 = "f"                                                       # STEP 339
os0.symlink(path0,path3)                                               # STEP 340
os0.remove(path2)                                                      # STEP 341
file0.next()                                                           # STEP 342
stat0 = os0.lstat(path1)                                               # STEP 343
path1 += "/" + component4                                              # STEP 344
str2 += 'p'                                                            # STEP 345
str4 += 'i'                                                            # STEP 346
file0.seek(bytes0)                                                     # STEP 347
result = os0.path.islink(path4)                                        # STEP 348
result = os0.read(fd0,bytes1)                                          # STEP 349
result = os0.path.isfile(path1)                                        # STEP 350
component3 = "c"                                                       # STEP 351
os0.symlink(path0,path4)                                               # STEP 352
str2 += 'k'                                                            # STEP 353
str0 += 'r'                                                            # STEP 354
str0 += 'b'                                                            # STEP 355
os0.makedirs(path2)                                                    # STEP 356
component2 = "phi"                                                     # STEP 357
os0.rename(path3,path2)                                                # STEP 358
file0.truncate()                                                       # STEP 359
os0.rename(path0,path3)                                                # STEP 360
str3 += 'u'                                                            # STEP 361
os0.symlink(path0,path4)                                               # STEP 362
result = os0.path.abspath(path3)                                       # STEP 363
result = file0.readline(bytes4)                                        # STEP 364
ERROR: (<type 'exceptions.OSError'>, OSError(9, 'File is not open for reading.'), <traceback object at 0x10aa148c0>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 28941, in act574
    result = self.p_file[0].readline(self.p_bytes[4])
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4284, in read_error
    self._raise('File is not open for reading.')
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4112, in _raise
    raise OSError(errno.EBADF, message)
FAILURE IS NEW, STORING; NOW 4 DISTINCT FAILURES
UNCAUGHT EXCEPTION
ERROR: (<type 'exceptions.OSError'>, OSError(9, 'File is not open for reading.'), <traceback object at 0x1038ffab8>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 28588, in act568
    result = self.p_file[0].read(self.p_bytes[4])
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4284, in read_error
    self._raise('File is not open for reading.')
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4112, in _raise
    raise OSError(errno.EBADF, message)
Original test has 139 steps

SAVING TEST AS failure.3917.test.4
FINAL VERSION OF TEST, WITH LOGGED REPLAY:
component2 = "e"                                                         # STEP 0
component0 = "d"                                                         # STEP 1
component1 = "e"                                                         # STEP 2
component3 = "h"                                                         # STEP 3
component4 = "d"                                                         # STEP 4
bytes2 = 0                                                               # STEP 5
str4 = ""                                                                # STEP 6
bytes0 = 0                                                               # STEP 7
os0 = newFakeOS()                                                        # STEP 8
opener0 = newFakeOpener(os0)                                             # STEP 9
path3 = "/Volumes/ramdisk/test"                                         # STEP 10
str4 += 'l'                                                             # STEP 11
result = os0.path.isabs(path3)                                          # STEP 12
os0.symlink(path3,path3)                                                # STEP 13
str4 += 'r'                                                             # STEP 14
str4 += 'w'                                                             # STEP 15
str1 = ""                                                               # STEP 16
str1 += 'd'                                                             # STEP 17
str1 += 'x'                                                             # STEP 18
path3 += "/" + component2                                               # STEP 19
str4 += 'p'                                                             # STEP 20
os0.link(path3,path3)                                                   # STEP 21
stat1 = os0.lstat(path3)                                                # STEP 22
str1 += 'e'                                                             # STEP 23
str4 += 'q'                                                             # STEP 24
str4 += 'k'                                                             # STEP 25
fd0 = os0.open(path3, os.O_CREAT)                                       # STEP 26
str1 += 'b'                                                             # STEP 27
bytes0 += 1                                                             # STEP 28
component2 = "f"                                                        # STEP 29
path3 += "/" + component0                                               # STEP 30
str4 += 'o'                                                             # STEP 31
str4 += 't'                                                             # STEP 32
stat2 = os0.fstat(fd0)                                                  # STEP 33
os0.close(fd0)                                                          # STEP 34
str4 += 'o'                                                             # STEP 35
path0 = "/Volumes/ramdisk/test"                                         # STEP 36
stat4 = os0.lstat(path3)                                                # STEP 37
result = stat2.st_nlink                                                 # STEP 38
bytes0 = 0                                                              # STEP 39
file0 = opener0(path0,'w')                                              # STEP 40
file0 = opener0(path3,'a')                                              # STEP 41
path3 += "/" + component2                                               # STEP 42
result = sorted(os0.listdir(path0))                                     # STEP 43
result = os0.read(fd0,bytes0)                                           # STEP 44
result = os0.readlink(path0)                                            # STEP 45
stat3 = os0.fstat(fd0)                                                  # STEP 46
component0 = "f"                                                        # STEP 47
str4 += 'm'                                                             # STEP 48
str4 += 'u'                                                             # STEP 49
component2 = "h"                                                        # STEP 50
str1 += 'b'                                                             # STEP 51
fd0 = os0.open(path3, os.O_WRONLY | os.O_APPEND)                        # STEP 52
result = sorted(os0.listdir(path3))                                     # STEP 53
str3 = ""                                                               # STEP 54
result = sorted(os0.listdir(path0))                                     # STEP 55
file0 = opener0(path0)                                                  # STEP 56
str4 += 'l'                                                             # STEP 57
stat1 = os0.fstat(fd0)                                                  # STEP 58
file0 = opener0(path3,'r')                                              # STEP 59
os0.remove(path3)                                                       # STEP 60
str0 = ""                                                               # STEP 61
file0 = opener0(path0,'r')                                              # STEP 62
result = stat2.st_nlink                                                 # STEP 63
str3 += 'b'                                                             # STEP 64
result = os0.read(fd0,bytes0)                                           # STEP 65
str4 = ""                                                               # STEP 66
os0.symlink(path3,path3)                                                # STEP 67
str0 += 'z'                                                             # STEP 68
str0 += 'j'                                                             # STEP 69
result = os0.path.islink(path3)                                         # STEP 70
result = os0.path.dirname(path3)                                        # STEP 71
str1 += 'c'                                                             # STEP 72
str3 += " "                                                             # STEP 73
path0 += "/" + component2                                               # STEP 74
component2 = "h"                                                        # STEP 75
file0 = opener0(path0,'a')                                              # STEP 76
os0.path.getsize(path3)                                                 # STEP 77
os0.rmdir(path3)                                                        # STEP 78
str4 += 'h'                                                             # STEP 79
str4 += 'u'                                                             # STEP 80
str3 += 'g'                                                             # STEP 81
str4 += 'a'                                                             # STEP 82
file0.flush()                                                           # STEP 83
result = file0.readline(bytes2)                                         # STEP 84
str4 += 'e'                                                             # STEP 85
str0 += 't'                                                             # STEP 86
str4 += 'm'                                                             # STEP 87
str4 += 'd'                                                             # STEP 88
str0 += 'x'                                                             # STEP 89
os0.removedirs(path0)                                                   # STEP 90
str3 += 'r'                                                             # STEP 91
str4 += 'h'                                                             # STEP 92
path3 = "/Volumes/ramdisk/test"                                         # STEP 93
str4 += 't'                                                             # STEP 94
bytes4 = 0                                                              # STEP 95
str3 += 't'                                                             # STEP 96
str2 = ""                                                               # STEP 97
stat1 = os0.fstat(fd0)                                                  # STEP 98
str1 += 'g'                                                             # STEP 99
str4 += 'd'                                                            # STEP 100
str3 += 'l'                                                            # STEP 101
path0 += "/" + component2                                              # STEP 102
str0 += 'd'                                                            # STEP 103
str2 += 'l'                                                            # STEP 104
result = os0.path.lexists(path0)                                       # STEP 105
component2 = "b"                                                       # STEP 106
str2 += 'x'                                                            # STEP 107
str3 = ""                                                              # STEP 108
result = file0.readline(bytes4)                                        # STEP 109
str3 += 'u'                                                            # STEP 110
file0.flush()                                                          # STEP 111
str3 += 'c'                                                            # STEP 112
str1 += 't'                                                            # STEP 113
os0.link(path3,path0)                                                  # STEP 114
str3 += 'g'                                                            # STEP 115
str0 += 'z'                                                            # STEP 116
stat0 = os0.stat(path0)                                                # STEP 117
result = os0.path.exists(path0)                                        # STEP 118
str0 += 'v'                                                            # STEP 119
str2 += 'k'                                                            # STEP 120
str1 += 'd'                                                            # STEP 121
str1 += 'i'                                                            # STEP 122
result = file0.readline(bytes2)                                        # STEP 123
os0.remove(path0)                                                      # STEP 124
result = os0.path.islink(path3)                                        # STEP 125
str0 += 'd'                                                            # STEP 126
str1 += 'g'                                                            # STEP 127
result = os0.path.dirname(path3)                                       # STEP 128
str2 += 'q'                                                            # STEP 129
str4 += 'a'                                                            # STEP 130
os0.write(fd0,str2)                                                    # STEP 131
os0.mkdir(path0)                                                       # STEP 132
str0 += 'a'                                                            # STEP 133
path0 += "/" + component2                                              # STEP 134
str1 += 't'                                                            # STEP 135
str3 += 'w'                                                            # STEP 136
bytes1 = 0                                                             # STEP 137
result = file0.read(bytes4)                                            # STEP 138
ERROR: (<type 'exceptions.OSError'>, OSError(9, 'File is not open for reading.'), <traceback object at 0x1039bdf80>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 28588, in act568
    result = self.p_file[0].read(self.p_bytes[4])
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4284, in read_error
    self._raise('File is not open for reading.')
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4112, in _raise
    raise OSError(errno.EBADF, message)
FAILURE IS NEW, STORING; NOW 5 DISTINCT FAILURES
UNCAUGHT EXCEPTION
ERROR: (<type 'exceptions.OSError'>, OSError(9, 'File is not open for reading.'), <traceback object at 0x103a248c0>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 28821, in act572
    result = self.p_file[0].readline(self.p_bytes[2])
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4284, in read_error
    self._raise('File is not open for reading.')
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4112, in _raise
    raise OSError(errno.EBADF, message)
Original test has 161 steps

SAVING TEST AS failure.3917.test.5
FINAL VERSION OF TEST, WITH LOGGED REPLAY:
component2 = "e"                                                         # STEP 0
component0 = "d"                                                         # STEP 1
component1 = "e"                                                         # STEP 2
component3 = "h"                                                         # STEP 3
component4 = "d"                                                         # STEP 4
bytes2 = 0                                                               # STEP 5
str4 = ""                                                                # STEP 6
bytes0 = 0                                                               # STEP 7
os0 = newFakeOS()                                                        # STEP 8
opener0 = newFakeOpener(os0)                                             # STEP 9
path3 = "/Volumes/ramdisk/test"                                         # STEP 10
str4 += 'l'                                                             # STEP 11
result = os0.path.isabs(path3)                                          # STEP 12
os0.symlink(path3,path3)                                                # STEP 13
str4 += 'r'                                                             # STEP 14
str4 += 'w'                                                             # STEP 15
str1 = ""                                                               # STEP 16
str1 += 'd'                                                             # STEP 17
str1 += 'x'                                                             # STEP 18
path3 += "/" + component2                                               # STEP 19
str4 += 'p'                                                             # STEP 20
os0.link(path3,path3)                                                   # STEP 21
stat1 = os0.lstat(path3)                                                # STEP 22
str1 += 'e'                                                             # STEP 23
str4 += 'q'                                                             # STEP 24
str4 += 'k'                                                             # STEP 25
fd0 = os0.open(path3, os.O_CREAT)                                       # STEP 26
str1 += 'b'                                                             # STEP 27
bytes0 += 1                                                             # STEP 28
component2 = "f"                                                        # STEP 29
path3 += "/" + component0                                               # STEP 30
str4 += 'o'                                                             # STEP 31
str4 += 't'                                                             # STEP 32
stat2 = os0.fstat(fd0)                                                  # STEP 33
os0.close(fd0)                                                          # STEP 34
str4 += 'o'                                                             # STEP 35
path0 = "/Volumes/ramdisk/test"                                         # STEP 36
stat4 = os0.lstat(path3)                                                # STEP 37
result = stat2.st_nlink                                                 # STEP 38
bytes0 = 0                                                              # STEP 39
file0 = opener0(path0,'w')                                              # STEP 40
file0 = opener0(path3,'a')                                              # STEP 41
path3 += "/" + component2                                               # STEP 42
result = sorted(os0.listdir(path0))                                     # STEP 43
result = os0.read(fd0,bytes0)                                           # STEP 44
result = os0.readlink(path0)                                            # STEP 45
stat3 = os0.fstat(fd0)                                                  # STEP 46
component0 = "f"                                                        # STEP 47
str4 += 'm'                                                             # STEP 48
str4 += 'u'                                                             # STEP 49
component2 = "h"                                                        # STEP 50
str1 += 'b'                                                             # STEP 51
fd0 = os0.open(path3, os.O_WRONLY | os.O_APPEND)                        # STEP 52
result = sorted(os0.listdir(path3))                                     # STEP 53
str3 = ""                                                               # STEP 54
result = sorted(os0.listdir(path0))                                     # STEP 55
file0 = opener0(path0)                                                  # STEP 56
str4 += 'l'                                                             # STEP 57
stat1 = os0.fstat(fd0)                                                  # STEP 58
file0 = opener0(path3,'r')                                              # STEP 59
os0.remove(path3)                                                       # STEP 60
str0 = ""                                                               # STEP 61
file0 = opener0(path0,'r')                                              # STEP 62
result = stat2.st_nlink                                                 # STEP 63
str3 += 'b'                                                             # STEP 64
result = os0.read(fd0,bytes0)                                           # STEP 65
str4 = ""                                                               # STEP 66
os0.symlink(path3,path3)                                                # STEP 67
str0 += 'z'                                                             # STEP 68
str0 += 'j'                                                             # STEP 69
result = os0.path.islink(path3)                                         # STEP 70
result = os0.path.dirname(path3)                                        # STEP 71
str1 += 'c'                                                             # STEP 72
str3 += " "                                                             # STEP 73
path0 += "/" + component2                                               # STEP 74
component2 = "h"                                                        # STEP 75
file0 = opener0(path0,'a')                                              # STEP 76
os0.path.getsize(path3)                                                 # STEP 77
os0.rmdir(path3)                                                        # STEP 78
str4 += 'h'                                                             # STEP 79
str4 += 'u'                                                             # STEP 80
str3 += 'g'                                                             # STEP 81
str4 += 'a'                                                             # STEP 82
file0.flush()                                                           # STEP 83
result = file0.readline(bytes2)                                         # STEP 84
str1 += 'f'                                                             # STEP 85
str4 += 'e'                                                             # STEP 86
str0 += 't'                                                             # STEP 87
str4 += 'm'                                                             # STEP 88
str4 += 'd'                                                             # STEP 89
str0 += 'x'                                                             # STEP 90
os0.removedirs(path0)                                                   # STEP 91
str3 += 'r'                                                             # STEP 92
str4 += 'h'                                                             # STEP 93
path3 = "/Volumes/ramdisk/test"                                         # STEP 94
str4 += 't'                                                             # STEP 95
bytes4 = 0                                                              # STEP 96
str3 += 't'                                                             # STEP 97
str2 = ""                                                               # STEP 98
stat1 = os0.fstat(fd0)                                                  # STEP 99
str1 += 'g'                                                            # STEP 100
str4 += 'd'                                                            # STEP 101
str3 += 'l'                                                            # STEP 102
path0 += "/" + component2                                              # STEP 103
str0 += 'd'                                                            # STEP 104
str2 += 'l'                                                            # STEP 105
result = os0.path.lexists(path0)                                       # STEP 106
component2 = "b"                                                       # STEP 107
str2 += 'x'                                                            # STEP 108
str3 = ""                                                              # STEP 109
result = file0.readline(bytes4)                                        # STEP 110
str3 += 'u'                                                            # STEP 111
file0.flush()                                                          # STEP 112
str3 += 'c'                                                            # STEP 113
str1 += 't'                                                            # STEP 114
os0.link(path3,path0)                                                  # STEP 115
str3 += 'g'                                                            # STEP 116
str0 += 'z'                                                            # STEP 117
stat0 = os0.stat(path0)                                                # STEP 118
result = os0.path.exists(path0)                                        # STEP 119
str0 += 'v'                                                            # STEP 120
str2 += 'k'                                                            # STEP 121
str1 += 'd'                                                            # STEP 122
str1 += 'i'                                                            # STEP 123
result = file0.readline(bytes2)                                        # STEP 124
os0.remove(path0)                                                      # STEP 125
str0 += 'y'                                                            # STEP 126
str2 += 'x'                                                            # STEP 127
str1 += 'a'                                                            # STEP 128
str3 += 'y'                                                            # STEP 129
str2 += 'h'                                                            # STEP 130
os0.mkdir(path3)                                                       # STEP 131
str1 += 'u'                                                            # STEP 132
str4 += 'y'                                                            # STEP 133
str3 += 'a'                                                            # STEP 134
str3 += 'a'                                                            # STEP 135
os0.write(fd0,str3)                                                    # STEP 136
str1 += 'k'                                                            # STEP 137
str3 += 't'                                                            # STEP 138
path2 = "/Volumes/ramdisk/test"                                        # STEP 139
str1 += 'z'                                                            # STEP 140
str0 += 'y'                                                            # STEP 141
str3 += 'r'                                                            # STEP 142
str0 += 'h'                                                            # STEP 143
str3 += 'v'                                                            # STEP 144
str3 += 'i'                                                            # STEP 145
str2 += 'v'                                                            # STEP 146
os0.link(path0,path2)                                                  # STEP 147
str3 += 'p'                                                            # STEP 148
os0.link(path3,path2)                                                  # STEP 149
str2 += 'c'                                                            # STEP 150
str0 += " "                                                            # STEP 151
str1 += 'r'                                                            # STEP 152
str2 += 'z'                                                            # STEP 153
str1 += 't'                                                            # STEP 154
str1 += 'v'                                                            # STEP 155
str0 += 'i'                                                            # STEP 156
str2 += 'y'                                                            # STEP 157
str3 += 'i'                                                            # STEP 158
result = os0.path.exists(path3)                                        # STEP 159
result = file0.readline(bytes2)                                        # STEP 160
ERROR: (<type 'exceptions.OSError'>, OSError(9, 'File is not open for reading.'), <traceback object at 0x103ad44d0>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 28821, in act572
    result = self.p_file[0].readline(self.p_bytes[2])
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4284, in read_error
    self._raise('File is not open for reading.')
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4112, in _raise
    raise OSError(errno.EBADF, message)
FAILURE IS NEW, STORING; NOW 6 DISTINCT FAILURES
UNCAUGHT EXCEPTION
ERROR: (<type 'exceptions.AssertionError'>, AssertionError(' (4) == (0) ',), <traceback object at 0x10a95b368>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 21991, in act461
    try: assert result == result_REF, " (%s) == (%s) " % (result, result_REF)
Original test has 234 steps

SAVING TEST AS failure.3917.test.6
FINAL VERSION OF TEST, WITH LOGGED REPLAY:
component2 = "e"                                                         # STEP 0
component0 = "d"                                                         # STEP 1
component1 = "e"                                                         # STEP 2
component3 = "h"                                                         # STEP 3
component4 = "d"                                                         # STEP 4
bytes2 = 0                                                               # STEP 5
str4 = ""                                                                # STEP 6
bytes0 = 0                                                               # STEP 7
os0 = newFakeOS()                                                        # STEP 8
opener0 = newFakeOpener(os0)                                             # STEP 9
path3 = "/Volumes/ramdisk/test"                                         # STEP 10
str4 += 'l'                                                             # STEP 11
result = os0.path.isabs(path3)                                          # STEP 12
os0.symlink(path3,path3)                                                # STEP 13
str4 += 'r'                                                             # STEP 14
str4 += 'w'                                                             # STEP 15
str1 = ""                                                               # STEP 16
str1 += 'd'                                                             # STEP 17
str1 += 'x'                                                             # STEP 18
path3 += "/" + component2                                               # STEP 19
str4 += 'p'                                                             # STEP 20
os0.link(path3,path3)                                                   # STEP 21
stat1 = os0.lstat(path3)                                                # STEP 22
str1 += 'e'                                                             # STEP 23
str4 += 'q'                                                             # STEP 24
str4 += 'k'                                                             # STEP 25
fd0 = os0.open(path3, os.O_CREAT)                                       # STEP 26
str1 += 'b'                                                             # STEP 27
bytes0 += 1                                                             # STEP 28
component2 = "f"                                                        # STEP 29
path3 += "/" + component0                                               # STEP 30
str4 += 'o'                                                             # STEP 31
str4 += 't'                                                             # STEP 32
stat2 = os0.fstat(fd0)                                                  # STEP 33
os0.close(fd0)                                                          # STEP 34
str4 += 'o'                                                             # STEP 35
path0 = "/Volumes/ramdisk/test"                                         # STEP 36
stat4 = os0.lstat(path3)                                                # STEP 37
result = stat2.st_nlink                                                 # STEP 38
bytes0 = 0                                                              # STEP 39
file0 = opener0(path0,'w')                                              # STEP 40
file0 = opener0(path3,'a')                                              # STEP 41
path3 += "/" + component2                                               # STEP 42
result = sorted(os0.listdir(path0))                                     # STEP 43
result = os0.read(fd0,bytes0)                                           # STEP 44
result = os0.readlink(path0)                                            # STEP 45
stat3 = os0.fstat(fd0)                                                  # STEP 46
component0 = "f"                                                        # STEP 47
str4 += 'm'                                                             # STEP 48
str4 += 'u'                                                             # STEP 49
component2 = "h"                                                        # STEP 50
str1 += 'b'                                                             # STEP 51
result = sorted(os0.listdir(path3))                                     # STEP 52
str3 = ""                                                               # STEP 53
result = sorted(os0.listdir(path0))                                     # STEP 54
file0 = opener0(path0)                                                  # STEP 55
str4 += 'l'                                                             # STEP 56
stat1 = os0.fstat(fd0)                                                  # STEP 57
file0 = opener0(path3,'r')                                              # STEP 58
os0.remove(path3)                                                       # STEP 59
str0 = ""                                                               # STEP 60
file0 = opener0(path0,'r')                                              # STEP 61
result = stat2.st_nlink                                                 # STEP 62
str3 += 'b'                                                             # STEP 63
result = os0.read(fd0,bytes0)                                           # STEP 64
str4 = ""                                                               # STEP 65
os0.symlink(path3,path3)                                                # STEP 66
str0 += 'z'                                                             # STEP 67
str0 += 'j'                                                             # STEP 68
result = os0.path.islink(path3)                                         # STEP 69
result = os0.path.dirname(path3)                                        # STEP 70
str1 += 'c'                                                             # STEP 71
str3 += " "                                                             # STEP 72
str3 += 't'                                                             # STEP 73
file0 = opener0(path0,'a')                                              # STEP 74
str4 += 'n'                                                             # STEP 75
os0.link(path3,path0)                                                   # STEP 76
stat4 = os0.stat(path3)                                                 # STEP 77
bytes3 = 0                                                              # STEP 78
str1 += 'c'                                                             # STEP 79
str1 += 'h'                                                             # STEP 80
str3 += 'p'                                                             # STEP 81
str1 += 'f'                                                             # STEP 82
stat2 = os0.fstat(fd0)                                                  # STEP 83
file0 = opener0(path3)                                                  # STEP 84
stat1 = os0.stat(path3)                                                 # STEP 85
file0 = opener0(path0,'r')                                              # STEP 86
str4 += 'l'                                                             # STEP 87
path2 = "/Volumes/ramdisk/test"                                         # STEP 88
os0.write(fd0,str3)                                                     # STEP 89
result = sorted(os0.listdir(path0))                                     # STEP 90
result = os0.path.lexists(path0)                                        # STEP 91
str0 += 'd'                                                             # STEP 92
result = os0.path.islink(path3)                                         # STEP 93
str3 += 'z'                                                             # STEP 94
os0.symlink(path3,path0)                                                # STEP 95
path0 += "/" + component1                                               # STEP 96
os0.makedirs(path3)                                                     # STEP 97
result = os0.read(fd0,bytes2)                                           # STEP 98
os0.write(fd0,str1)                                                     # STEP 99
path2 += "/" + component1                                              # STEP 100
result = os0.path.isabs(path0)                                         # STEP 101
path0 = "/Volumes/ramdisk/test"                                        # STEP 102
path3 += "/" + component0                                              # STEP 103
result = os0.path.isfile(path2)                                        # STEP 104
file0 = opener0(path2,'a')                                             # STEP 105
os0.mkdir(path2)                                                       # STEP 106
str0 += 'm'                                                            # STEP 107
result = os0.path.isdir(path3)                                         # STEP 108
str0 += 'n'                                                            # STEP 109
stat1 = os0.stat(path2)                                                # STEP 110
result = os0.path.isfile(path3)                                        # STEP 111
str4 += 'r'                                                            # STEP 112
os0.remove(path3)                                                      # STEP 113
result = os0.readlink(path2)                                           # STEP 114
str3 += 'p'                                                            # STEP 115
bytes4 = 0                                                             # STEP 116
str3 += 'u'                                                            # STEP 117
os0.close(fd0)                                                         # STEP 118
str0 += 'e'                                                            # STEP 119
str0 += 'l'                                                            # STEP 120
os0.symlink(path2,path0)                                               # STEP 121
str0 += " "                                                            # STEP 122
str1 = ""                                                              # STEP 123
str1 += 'k'                                                            # STEP 124
str1 += 'f'                                                            # STEP 125
str4 += 'a'                                                            # STEP 126
os0.link(path0,path2)                                                  # STEP 127
stat4 = os0.lstat(path3)                                               # STEP 128
str3 += 'w'                                                            # STEP 129
stat4 = os0.stat(path2)                                                # STEP 130
os0.symlink(path0,path0)                                               # STEP 131
component0 = "delta"                                                   # STEP 132
component1 = "omega"                                                   # STEP 133
str3 += 'b'                                                            # STEP 134
str0 += 'd'                                                            # STEP 135
str3 += 'm'                                                            # STEP 136
path3 = "/Volumes/ramdisk/test"                                        # STEP 137
os0.close(fd0)                                                         # STEP 138
result = os0.path.isfile(path3)                                        # STEP 139
stat0 = os0.stat(path2)                                                # STEP 140
str3 += 'w'                                                            # STEP 141
os0.makedirs(path0)                                                    # STEP 142
result = os0.readlink(path3)                                           # STEP 143
result = file0.readline(bytes2)                                        # STEP 144
str0 += 'l'                                                            # STEP 145
str3 += 'g'                                                            # STEP 146
fd0 = os0.open(path2, os.O_RDONLY)                                     # STEP 147
file0.write(str4)                                                      # STEP 148
str1 += 'w'                                                            # STEP 149
path3 += "/" + component3                                              # STEP 150
str4 += 'i'                                                            # STEP 151
result = os0.path.abspath(path2)                                       # STEP 152
os0.rmdir(path3)                                                       # STEP 153
str3 += 'a'                                                            # STEP 154
component3 = "delta"                                                   # STEP 155
os0.symlink(path2,path0)                                               # STEP 156
bytes0 = 0                                                             # STEP 157
result = stat2.st_nlink                                                # STEP 158
str1 += " "                                                            # STEP 159
path3 += "/" + component4                                              # STEP 160
str0 += " "                                                            # STEP 161
os0.write(fd0,str3)                                                    # STEP 162
str3 += 'd'                                                            # STEP 163
str3 += 'c'                                                            # STEP 164
str1 = ""                                                              # STEP 165
str0 += 'u'                                                            # STEP 166
str1 += 'n'                                                            # STEP 167
stat2 = os0.stat(path3)                                                # STEP 168
result = file0.read(bytes3)                                            # STEP 169
os0.rmdir(path3)                                                       # STEP 170
str1 += 'k'                                                            # STEP 171
path3 = "/Volumes/ramdisk/test"                                        # STEP 172
result = os0.readlink(path3)                                           # STEP 173
str0 += " "                                                            # STEP 174
result = os0.path.abspath(path3)                                       # STEP 175
file0.seek(bytes0)                                                     # STEP 176
path0 += "/" + component0                                              # STEP 177
os0.rename(path0,path3)                                                # STEP 178
path0 += "/" + component4                                              # STEP 179
path3 = "/Volumes/ramdisk/test"                                        # STEP 180
str3 += 'f'                                                            # STEP 181
result = os0.path.abspath(path2)                                       # STEP 182
str1 += 'h'                                                            # STEP 183
str1 += 'q'                                                            # STEP 184
component0 = "c"                                                       # STEP 185
os0.rename(path2,path0)                                                # STEP 186
os0.mkdir(path0)                                                       # STEP 187
os0.link(path0,path0)                                                  # STEP 188
str0 += 'b'                                                            # STEP 189
component4 = "omega"                                                   # STEP 190
bytes0 = 0                                                             # STEP 191
path0 = "/Volumes/ramdisk/test"                                        # STEP 192
result = stat4.st_nlink                                                # STEP 193
str4 += 'g'                                                            # STEP 194
file0.seek(bytes3)                                                     # STEP 195
str4 += 'o'                                                            # STEP 196
bytes0 += 1                                                            # STEP 197
str1 += 't'                                                            # STEP 198
result = os0.path.isabs(path3)                                         # STEP 199
result = os0.path.isabs(path3)                                         # STEP 200
str0 += 'w'                                                            # STEP 201
result = file0.readline()                                              # STEP 202
str3 += 'o'                                                            # STEP 203
file0.seek(bytes0)                                                     # STEP 204
str4 += 'b'                                                            # STEP 205
file0.seek(bytes0)                                                     # STEP 206
str3 += 'n'                                                            # STEP 207
path0 += "/" + component2                                              # STEP 208
os0.link(path3,path2)                                                  # STEP 209
os0.symlink(path2,path3)                                               # STEP 210
str4 += 't'                                                            # STEP 211
result = os0.read(fd0,bytes4)                                          # STEP 212
str3 += 'm'                                                            # STEP 213
os0.link(path0,path2)                                                  # STEP 214
component2 = "a"                                                       # STEP 215
os0.link(path2,path0)                                                  # STEP 216
result = os0.path.exists(path0)                                        # STEP 217
str1 += 'y'                                                            # STEP 218
str0 = ""                                                              # STEP 219
result = os0.path.exists(path2)                                        # STEP 220
os0.symlink(path3,path3)                                               # STEP 221
os0.symlink(path0,path0)                                               # STEP 222
stat4 = os0.lstat(path0)                                               # STEP 223
str3 += 'a'                                                            # STEP 224
str3 += 'b'                                                            # STEP 225
os0.rename(path0,path2)                                                # STEP 226
os0.write(fd0,str1)                                                    # STEP 227
file0.write(str4)                                                      # STEP 228
str0 += 'm'                                                            # STEP 229
str0 += 's'                                                            # STEP 230
os0.remove(path0)                                                      # STEP 231
str3 += 'e'                                                            # STEP 232
result = stat4.st_size                                                 # STEP 233
ERROR: (<type 'exceptions.AssertionError'>, AssertionError(' (4) == (0) ',), <traceback object at 0x105d93368>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 21991, in act461
    try: assert result == result_REF, " (%s) == (%s) " % (result, result_REF)
FAILURE IS NEW, STORING; NOW 7 DISTINCT FAILURES
UNCAUGHT EXCEPTION
ERROR: (<type 'exceptions.OSError'>, OSError(9, 'File is not open for reading.'), <traceback object at 0x10631dd40>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 28999, in act575
    result = self.p_file[0].readlines()
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4284, in read_error
    self._raise('File is not open for reading.')
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4112, in _raise
    raise OSError(errno.EBADF, message)
Original test has 176 steps

SAVING TEST AS failure.3917.test.7
FINAL VERSION OF TEST, WITH LOGGED REPLAY:
component2 = "e"                                                         # STEP 0
component0 = "d"                                                         # STEP 1
component1 = "e"                                                         # STEP 2
component3 = "h"                                                         # STEP 3
component4 = "d"                                                         # STEP 4
bytes2 = 0                                                               # STEP 5
str4 = ""                                                                # STEP 6
bytes0 = 0                                                               # STEP 7
os0 = newFakeOS()                                                        # STEP 8
opener0 = newFakeOpener(os0)                                             # STEP 9
path3 = "/Volumes/ramdisk/test"                                         # STEP 10
str4 += 'l'                                                             # STEP 11
result = os0.path.isabs(path3)                                          # STEP 12
os0.symlink(path3,path3)                                                # STEP 13
str4 += 'r'                                                             # STEP 14
str4 += 'w'                                                             # STEP 15
str1 = ""                                                               # STEP 16
str1 += 'd'                                                             # STEP 17
str1 += 'x'                                                             # STEP 18
path3 += "/" + component2                                               # STEP 19
str4 += 'p'                                                             # STEP 20
os0.link(path3,path3)                                                   # STEP 21
stat1 = os0.lstat(path3)                                                # STEP 22
str1 += 'e'                                                             # STEP 23
str4 += 'q'                                                             # STEP 24
str4 += 'k'                                                             # STEP 25
fd0 = os0.open(path3, os.O_CREAT)                                       # STEP 26
str1 += 'b'                                                             # STEP 27
bytes0 += 1                                                             # STEP 28
component2 = "f"                                                        # STEP 29
path3 += "/" + component0                                               # STEP 30
str4 += 'o'                                                             # STEP 31
str4 += 't'                                                             # STEP 32
stat2 = os0.fstat(fd0)                                                  # STEP 33
os0.close(fd0)                                                          # STEP 34
str4 += 'o'                                                             # STEP 35
path0 = "/Volumes/ramdisk/test"                                         # STEP 36
stat4 = os0.lstat(path3)                                                # STEP 37
result = stat2.st_nlink                                                 # STEP 38
bytes0 = 0                                                              # STEP 39
file0 = opener0(path0,'w')                                              # STEP 40
file0 = opener0(path3,'a')                                              # STEP 41
path3 += "/" + component2                                               # STEP 42
result = sorted(os0.listdir(path0))                                     # STEP 43
result = os0.read(fd0,bytes0)                                           # STEP 44
result = os0.readlink(path0)                                            # STEP 45
stat3 = os0.fstat(fd0)                                                  # STEP 46
component0 = "f"                                                        # STEP 47
str4 += 'm'                                                             # STEP 48
str4 += 'u'                                                             # STEP 49
component2 = "h"                                                        # STEP 50
str1 += 'b'                                                             # STEP 51
fd0 = os0.open(path3, os.O_WRONLY | os.O_APPEND)                        # STEP 52
result = sorted(os0.listdir(path3))                                     # STEP 53
str3 = ""                                                               # STEP 54
result = sorted(os0.listdir(path0))                                     # STEP 55
file0 = opener0(path0)                                                  # STEP 56
str4 += 'l'                                                             # STEP 57
stat1 = os0.fstat(fd0)                                                  # STEP 58
file0 = opener0(path3,'r')                                              # STEP 59
os0.remove(path3)                                                       # STEP 60
str0 = ""                                                               # STEP 61
file0 = opener0(path0,'r')                                              # STEP 62
result = stat2.st_nlink                                                 # STEP 63
str3 += 'b'                                                             # STEP 64
result = os0.read(fd0,bytes0)                                           # STEP 65
str4 = ""                                                               # STEP 66
os0.symlink(path3,path3)                                                # STEP 67
str0 += 'z'                                                             # STEP 68
str0 += 'j'                                                             # STEP 69
result = os0.path.islink(path3)                                         # STEP 70
result = os0.path.dirname(path3)                                        # STEP 71
str1 += 'c'                                                             # STEP 72
str3 += " "                                                             # STEP 73
path0 += "/" + component2                                               # STEP 74
component2 = "h"                                                        # STEP 75
file0 = opener0(path0,'a')                                              # STEP 76
os0.path.getsize(path3)                                                 # STEP 77
os0.rmdir(path3)                                                        # STEP 78
str4 += 'h'                                                             # STEP 79
str4 += 'u'                                                             # STEP 80
str3 += 'g'                                                             # STEP 81
str4 += 'a'                                                             # STEP 82
file0.flush()                                                           # STEP 83
result = file0.readline(bytes2)                                         # STEP 84
str1 += 'f'                                                             # STEP 85
str4 += 'e'                                                             # STEP 86
str0 += 't'                                                             # STEP 87
str4 += 'm'                                                             # STEP 88
str4 += 'd'                                                             # STEP 89
str0 += 'x'                                                             # STEP 90
os0.removedirs(path0)                                                   # STEP 91
str3 += 'r'                                                             # STEP 92
str4 += 'h'                                                             # STEP 93
path3 = "/Volumes/ramdisk/test"                                         # STEP 94
str4 += 't'                                                             # STEP 95
bytes4 = 0                                                              # STEP 96
str3 += 't'                                                             # STEP 97
str2 = ""                                                               # STEP 98
stat1 = os0.fstat(fd0)                                                  # STEP 99
str1 += 'g'                                                            # STEP 100
str4 += 'd'                                                            # STEP 101
str3 += 'l'                                                            # STEP 102
path0 += "/" + component2                                              # STEP 103
str0 += 'd'                                                            # STEP 104
str2 += 'l'                                                            # STEP 105
result = os0.path.lexists(path0)                                       # STEP 106
component2 = "b"                                                       # STEP 107
str2 += 'x'                                                            # STEP 108
str3 = ""                                                              # STEP 109
result = file0.readline(bytes4)                                        # STEP 110
str3 += 'u'                                                            # STEP 111
file0.flush()                                                          # STEP 112
str3 += 'c'                                                            # STEP 113
str1 += 't'                                                            # STEP 114
os0.link(path3,path0)                                                  # STEP 115
str3 += 'g'                                                            # STEP 116
str0 += 'z'                                                            # STEP 117
stat0 = os0.stat(path0)                                                # STEP 118
result = os0.path.exists(path0)                                        # STEP 119
str0 += 'v'                                                            # STEP 120
str2 += 'k'                                                            # STEP 121
str1 += 'd'                                                            # STEP 122
str1 += 'i'                                                            # STEP 123
result = file0.readline(bytes2)                                        # STEP 124
os0.remove(path0)                                                      # STEP 125
result = file0.readline(bytes4)                                        # STEP 126
os0.mkdir(path0)                                                       # STEP 127
str1 += 'i'                                                            # STEP 128
str3 += 'c'                                                            # STEP 129
str4 += 'n'                                                            # STEP 130
str0 += 'w'                                                            # STEP 131
str3 += 'a'                                                            # STEP 132
str1 += 'u'                                                            # STEP 133
str1 += 'i'                                                            # STEP 134
str4 += 'v'                                                            # STEP 135
result = stat1.st_nlink                                                # STEP 136
stat2 = os0.lstat(path0)                                               # STEP 137
str3 += 't'                                                            # STEP 138
str4 += 'i'                                                            # STEP 139
str2 += 'e'                                                            # STEP 140
str1 += 'v'                                                            # STEP 141
str0 += 'o'                                                            # STEP 142
str3 += 'u'                                                            # STEP 143
os0.rmdir(path0)                                                       # STEP 144
os0.symlink(path0,path0)                                               # STEP 145
str0 += 't'                                                            # STEP 146
os0.symlink(path0,path3)                                               # STEP 147
str3 += 'l'                                                            # STEP 148
str2 += 'd'                                                            # STEP 149
stat4 = os0.fstat(fd0)                                                 # STEP 150
result = os0.path.dirname(path3)                                       # STEP 151
str4 += 'i'                                                            # STEP 152
str2 += 'z'                                                            # STEP 153
stat1 = os0.stat(path0)                                                # STEP 154
str1 += 'k'                                                            # STEP 155
path0 += "/" + component1                                              # STEP 156
str3 += 'z'                                                            # STEP 157
result = file0.read(bytes0)                                            # STEP 158
result = os0.path.abspath(path0)                                       # STEP 159
str0 += 'n'                                                            # STEP 160
component1 = "omega"                                                   # STEP 161
str3 += 's'                                                            # STEP 162
bytes0 += 1                                                            # STEP 163
str1 += 'y'                                                            # STEP 164
str3 += 'd'                                                            # STEP 165
str4 += 'k'                                                            # STEP 166
stat3 = os0.stat(path0)                                                # STEP 167
os0.symlink(path3,path0)                                               # STEP 168
bytes2 += 1                                                            # STEP 169
str2 += 'l'                                                            # STEP 170
result = os0.read(fd0,bytes0)                                          # STEP 171
str2 += 'b'                                                            # STEP 172
str1 += " "                                                            # STEP 173
os0.link(path0,path3)                                                  # STEP 174
result = file0.readlines()                                             # STEP 175
ERROR: (<type 'exceptions.OSError'>, OSError(9, 'File is not open for reading.'), <traceback object at 0x106413368>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 28999, in act575
    result = self.p_file[0].readlines()
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4284, in read_error
    self._raise('File is not open for reading.')
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4112, in _raise
    raise OSError(errno.EBADF, message)
FAILURE IS NEW, STORING; NOW 8 DISTINCT FAILURES
STOPPING TEST DUE TO TIMEOUT, TERMINATED AT LENGTH 86
STOPPING TESTING DUE TO TIMEOUT
42.3262727611 PERCENT COVERED
60.3408207893 TOTAL RUNTIME
126 EXECUTED
12073 TOTAL TEST OPERATIONS
15.9398217201 TIME SPENT EXECUTING TEST OPERATIONS
0.41471529007 TIME SPENT EVALUATING GUARDS AND CHOOSING ACTIONS
0.00815582275391 TIME SPENT CHECKING PROPERTIES
15.9479775429 TOTAL TIME SPENT RUNNING SUT
0.37658572197 TIME SPENT RESTARTING
0.0 TIME SPENT REDUCING TEST CASES
8 FAILED
0 REPEATS OF FAILURES
8 ACTUAL DISTINCT FAILURES

FAILURE 0
component2 = "e"                                                         # STEP 0
component0 = "d"                                                         # STEP 1
component1 = "e"                                                         # STEP 2
component3 = "h"                                                         # STEP 3
component4 = "d"                                                         # STEP 4
bytes2 = 0                                                               # STEP 5
str4 = ""                                                                # STEP 6
bytes0 = 0                                                               # STEP 7
os0 = newFakeOS()                                                        # STEP 8
opener0 = newFakeOpener(os0)                                             # STEP 9
path3 = "/Volumes/ramdisk/test"                                         # STEP 10
str4 += 'l'                                                             # STEP 11
result = os0.path.isabs(path3)                                          # STEP 12
os0.symlink(path3,path3)                                                # STEP 13
str4 += 'r'                                                             # STEP 14
str4 += 'w'                                                             # STEP 15
str1 = ""                                                               # STEP 16
str1 += 'd'                                                             # STEP 17
str1 += 'x'                                                             # STEP 18
path3 += "/" + component2                                               # STEP 19
str4 += 'p'                                                             # STEP 20
os0.link(path3,path3)                                                   # STEP 21
stat1 = os0.lstat(path3)                                                # STEP 22
str1 += 'e'                                                             # STEP 23
str4 += 'q'                                                             # STEP 24
str4 += 'k'                                                             # STEP 25
fd0 = os0.open(path3, os.O_CREAT)                                       # STEP 26
str1 += 'b'                                                             # STEP 27
bytes0 += 1                                                             # STEP 28
component2 = "f"                                                        # STEP 29
path3 += "/" + component0                                               # STEP 30
str4 += 'o'                                                             # STEP 31
str4 += 't'                                                             # STEP 32
stat2 = os0.fstat(fd0)                                                  # STEP 33
os0.close(fd0)                                                          # STEP 34
str4 += 'o'                                                             # STEP 35
path0 = "/Volumes/ramdisk/test"                                         # STEP 36
stat4 = os0.lstat(path3)                                                # STEP 37
result = stat2.st_nlink                                                 # STEP 38
bytes0 = 0                                                              # STEP 39
file0 = opener0(path0,'w')                                              # STEP 40
file0 = opener0(path3,'a')                                              # STEP 41
path3 += "/" + component2                                               # STEP 42
result = sorted(os0.listdir(path0))                                     # STEP 43
result = os0.read(fd0,bytes0)                                           # STEP 44
result = os0.readlink(path0)                                            # STEP 45
stat3 = os0.fstat(fd0)                                                  # STEP 46
component0 = "f"                                                        # STEP 47
str4 += 'm'                                                             # STEP 48
str4 += 'u'                                                             # STEP 49
component2 = "h"                                                        # STEP 50
str1 += 'b'                                                             # STEP 51
fd0 = os0.open(path3, os.O_WRONLY | os.O_APPEND)                        # STEP 52
result = sorted(os0.listdir(path3))                                     # STEP 53
str3 = ""                                                               # STEP 54
result = sorted(os0.listdir(path0))                                     # STEP 55
file0 = opener0(path0)                                                  # STEP 56
str4 += 'l'                                                             # STEP 57
stat1 = os0.fstat(fd0)                                                  # STEP 58
file0 = opener0(path3,'r')                                              # STEP 59
os0.remove(path3)                                                       # STEP 60
str0 = ""                                                               # STEP 61
file0 = opener0(path0,'r')                                              # STEP 62
result = stat2.st_nlink                                                 # STEP 63
str3 += 'b'                                                             # STEP 64
result = os0.read(fd0,bytes0)                                           # STEP 65
str4 = ""                                                               # STEP 66
os0.symlink(path3,path3)                                                # STEP 67
str0 += 'z'                                                             # STEP 68
str0 += 'j'                                                             # STEP 69
result = os0.path.islink(path3)                                         # STEP 70
result = os0.path.dirname(path3)                                        # STEP 71
str1 += 'c'                                                             # STEP 72
str3 += " "                                                             # STEP 73
path0 += "/" + component2                                               # STEP 74
component2 = "h"                                                        # STEP 75
file0 = opener0(path0,'a')                                              # STEP 76
str1 += 'b'                                                             # STEP 77
file0.seek(bytes0)                                                      # STEP 78
result = os0.read(fd0,bytes0)                                           # STEP 79
stat0 = os0.stat(path3)                                                 # STEP 80
stat1 = os0.stat(path3)                                                 # STEP 81
result = os0.path.lexists(path0)                                        # STEP 82
file0.flush()                                                           # STEP 83
result = os0.path.exists(path0)                                         # STEP 84
str4 += 'a'                                                             # STEP 85
str4 += " "                                                             # STEP 86
os0.symlink(path0,path0)                                                # STEP 87
result = os0.path.isfile(path3)                                         # STEP 88
str1 += 'a'                                                             # STEP 89
str3 += 'a'                                                             # STEP 90
str1 += 'b'                                                             # STEP 91
os0.rename(path0,path3)                                                 # STEP 92
str3 += 'k'                                                             # STEP 93
str4 += 'q'                                                             # STEP 94
result = file0.read(bytes2)                                             # STEP 95
ERROR: (<type 'exceptions.OSError'>, OSError(9, 'File is not open for reading.'), <traceback object at 0x107276950>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 28468, in act566
    result = self.p_file[0].read(self.p_bytes[2])
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4284, in read_error
    self._raise('File is not open for reading.')
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4112, in _raise
    raise OSError(errno.EBADF, message)
FAILURE 1
component2 = "e"                                                         # STEP 0
component0 = "d"                                                         # STEP 1
component1 = "e"                                                         # STEP 2
component3 = "h"                                                         # STEP 3
component4 = "d"                                                         # STEP 4
bytes2 = 0                                                               # STEP 5
str4 = ""                                                                # STEP 6
bytes0 = 0                                                               # STEP 7
os0 = newFakeOS()                                                        # STEP 8
opener0 = newFakeOpener(os0)                                             # STEP 9
path3 = "/Volumes/ramdisk/test"                                         # STEP 10
str4 += 'l'                                                             # STEP 11
result = os0.path.isabs(path3)                                          # STEP 12
os0.symlink(path3,path3)                                                # STEP 13
str4 += 'r'                                                             # STEP 14
str4 += 'w'                                                             # STEP 15
str1 = ""                                                               # STEP 16
str1 += 'd'                                                             # STEP 17
str1 += 'x'                                                             # STEP 18
path3 += "/" + component2                                               # STEP 19
str4 += 'p'                                                             # STEP 20
os0.link(path3,path3)                                                   # STEP 21
stat1 = os0.lstat(path3)                                                # STEP 22
str1 += 'e'                                                             # STEP 23
str4 += 'q'                                                             # STEP 24
str4 += 'k'                                                             # STEP 25
fd0 = os0.open(path3, os.O_CREAT)                                       # STEP 26
str1 += 'b'                                                             # STEP 27
bytes0 += 1                                                             # STEP 28
component2 = "f"                                                        # STEP 29
path3 += "/" + component0                                               # STEP 30
str4 += 'o'                                                             # STEP 31
str4 += 't'                                                             # STEP 32
stat2 = os0.fstat(fd0)                                                  # STEP 33
os0.close(fd0)                                                          # STEP 34
str4 += 'o'                                                             # STEP 35
path0 = "/Volumes/ramdisk/test"                                         # STEP 36
stat4 = os0.lstat(path3)                                                # STEP 37
result = stat2.st_nlink                                                 # STEP 38
bytes0 = 0                                                              # STEP 39
file0 = opener0(path0,'w')                                              # STEP 40
file0 = opener0(path3,'a')                                              # STEP 41
path3 += "/" + component2                                               # STEP 42
result = sorted(os0.listdir(path0))                                     # STEP 43
result = os0.read(fd0,bytes0)                                           # STEP 44
result = os0.readlink(path0)                                            # STEP 45
stat3 = os0.fstat(fd0)                                                  # STEP 46
component0 = "f"                                                        # STEP 47
str4 += 'm'                                                             # STEP 48
str4 += 'u'                                                             # STEP 49
component2 = "h"                                                        # STEP 50
str1 += 'b'                                                             # STEP 51
fd0 = os0.open(path3, os.O_WRONLY | os.O_APPEND)                        # STEP 52
result = sorted(os0.listdir(path3))                                     # STEP 53
str3 = ""                                                               # STEP 54
result = sorted(os0.listdir(path0))                                     # STEP 55
file0 = opener0(path0)                                                  # STEP 56
str4 += 'l'                                                             # STEP 57
stat1 = os0.fstat(fd0)                                                  # STEP 58
file0 = opener0(path3,'r')                                              # STEP 59
os0.remove(path3)                                                       # STEP 60
str0 = ""                                                               # STEP 61
file0 = opener0(path0,'r')                                              # STEP 62
result = stat2.st_nlink                                                 # STEP 63
str3 += 'b'                                                             # STEP 64
result = os0.read(fd0,bytes0)                                           # STEP 65
str4 = ""                                                               # STEP 66
os0.symlink(path3,path3)                                                # STEP 67
str0 += 'z'                                                             # STEP 68
str0 += 'j'                                                             # STEP 69
result = os0.path.islink(path3)                                         # STEP 70
result = os0.path.dirname(path3)                                        # STEP 71
str1 += 'c'                                                             # STEP 72
str3 += " "                                                             # STEP 73
path0 += "/" + component2                                               # STEP 74
component2 = "h"                                                        # STEP 75
file0 = opener0(path0,'a')                                              # STEP 76
os0.path.getsize(path3)                                                 # STEP 77
os0.rmdir(path3)                                                        # STEP 78
str4 += 'h'                                                             # STEP 79
str4 += 'u'                                                             # STEP 80
str3 += 'g'                                                             # STEP 81
str4 += 'a'                                                             # STEP 82
file0.flush()                                                           # STEP 83
result = file0.readline(bytes2)                                         # STEP 84
str1 += 'f'                                                             # STEP 85
str4 += 'e'                                                             # STEP 86
str0 += 't'                                                             # STEP 87
str4 += 'm'                                                             # STEP 88
str4 += 'd'                                                             # STEP 89
str0 += 'x'                                                             # STEP 90
os0.removedirs(path0)                                                   # STEP 91
str3 += 'r'                                                             # STEP 92
str4 += 'h'                                                             # STEP 93
path3 = "/Volumes/ramdisk/test"                                         # STEP 94
str4 += 't'                                                             # STEP 95
str3 += 't'                                                             # STEP 96
str2 = ""                                                               # STEP 97
stat1 = os0.fstat(fd0)                                                  # STEP 98
str1 += 'g'                                                             # STEP 99
str4 += 'd'                                                            # STEP 100
str3 += 'l'                                                            # STEP 101
path0 += "/" + component2                                              # STEP 102
str0 += 'd'                                                            # STEP 103
str2 += 'l'                                                            # STEP 104
result = os0.path.lexists(path0)                                       # STEP 105
component2 = "b"                                                       # STEP 106
str2 += 'x'                                                            # STEP 107
str3 = ""                                                              # STEP 108
str3 += 'u'                                                            # STEP 109
file0.flush()                                                          # STEP 110
str3 += 'c'                                                            # STEP 111
str1 += 't'                                                            # STEP 112
os0.link(path3,path0)                                                  # STEP 113
str3 += 'g'                                                            # STEP 114
str0 += 'z'                                                            # STEP 115
stat0 = os0.stat(path0)                                                # STEP 116
result = os0.path.exists(path0)                                        # STEP 117
str0 += 'v'                                                            # STEP 118
str2 += 'k'                                                            # STEP 119
str1 += 'd'                                                            # STEP 120
str1 += 'i'                                                            # STEP 121
result = file0.readline(bytes2)                                        # STEP 122
os0.remove(path0)                                                      # STEP 123
os0.rmdir(path0)                                                       # STEP 124
os0.makedirs(path3)                                                    # STEP 125
str3 += 'm'                                                            # STEP 126
result = os0.path.isabs(path0)                                         # STEP 127
str4 += " "                                                            # STEP 128
str2 += 'g'                                                            # STEP 129
path3 += "/" + component4                                              # STEP 130
path0 += "/" + component1                                              # STEP 131
result = os0.read(fd0,bytes2)                                          # STEP 132
bytes3 = 0                                                             # STEP 133
str4 += " "                                                            # STEP 134
bytes1 = 0                                                             # STEP 135
path3 += "/" + component0                                              # STEP 136
component0 = "g"                                                       # STEP 137
str2 += 'i'                                                            # STEP 138
os0.write(fd0,str2)                                                    # STEP 139
file0.truncate()                                                       # STEP 140
os0.write(fd0,str3)                                                    # STEP 141
result = stat2.st_nlink                                                # STEP 142
component4 = "c"                                                       # STEP 143
str4 += 'k'                                                            # STEP 144
str1 += 'z'                                                            # STEP 145
bytes0 += 1                                                            # STEP 146
str0 += 'j'                                                            # STEP 147
result = file0.read(bytes1)                                            # STEP 148
ERROR: (<type 'exceptions.OSError'>, OSError(9, 'File is not open for reading.'), <traceback object at 0x107ef47a0>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 28408, in act565
    result = self.p_file[0].read(self.p_bytes[1])
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4284, in read_error
    self._raise('File is not open for reading.')
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4112, in _raise
    raise OSError(errno.EBADF, message)
FAILURE 2
component2 = "e"                                                         # STEP 0
component0 = "d"                                                         # STEP 1
component1 = "e"                                                         # STEP 2
component3 = "h"                                                         # STEP 3
component4 = "d"                                                         # STEP 4
bytes2 = 0                                                               # STEP 5
str4 = ""                                                                # STEP 6
bytes0 = 0                                                               # STEP 7
os0 = newFakeOS()                                                        # STEP 8
opener0 = newFakeOpener(os0)                                             # STEP 9
path3 = "/Volumes/ramdisk/test"                                         # STEP 10
str4 += 'l'                                                             # STEP 11
result = os0.path.isabs(path3)                                          # STEP 12
os0.symlink(path3,path3)                                                # STEP 13
str4 += 'r'                                                             # STEP 14
str4 += 'w'                                                             # STEP 15
str1 = ""                                                               # STEP 16
str1 += 'd'                                                             # STEP 17
str1 += 'x'                                                             # STEP 18
path3 += "/" + component2                                               # STEP 19
str4 += 'p'                                                             # STEP 20
os0.link(path3,path3)                                                   # STEP 21
stat1 = os0.lstat(path3)                                                # STEP 22
str1 += 'e'                                                             # STEP 23
str4 += 'q'                                                             # STEP 24
str4 += 'k'                                                             # STEP 25
fd0 = os0.open(path3, os.O_CREAT)                                       # STEP 26
str1 += 'b'                                                             # STEP 27
bytes0 += 1                                                             # STEP 28
component2 = "f"                                                        # STEP 29
path3 += "/" + component0                                               # STEP 30
str4 += 'o'                                                             # STEP 31
str4 += 't'                                                             # STEP 32
stat2 = os0.fstat(fd0)                                                  # STEP 33
os0.close(fd0)                                                          # STEP 34
str4 += 'o'                                                             # STEP 35
path0 = "/Volumes/ramdisk/test"                                         # STEP 36
stat4 = os0.lstat(path3)                                                # STEP 37
result = stat2.st_nlink                                                 # STEP 38
bytes0 = 0                                                              # STEP 39
file0 = opener0(path0,'w')                                              # STEP 40
file0 = opener0(path3,'a')                                              # STEP 41
path3 += "/" + component2                                               # STEP 42
result = sorted(os0.listdir(path0))                                     # STEP 43
result = os0.read(fd0,bytes0)                                           # STEP 44
result = os0.readlink(path0)                                            # STEP 45
stat3 = os0.fstat(fd0)                                                  # STEP 46
component0 = "f"                                                        # STEP 47
str4 += 'm'                                                             # STEP 48
str4 += 'u'                                                             # STEP 49
component2 = "h"                                                        # STEP 50
str1 += 'b'                                                             # STEP 51
fd0 = os0.open(path3, os.O_WRONLY | os.O_APPEND)                        # STEP 52
result = sorted(os0.listdir(path3))                                     # STEP 53
str3 = ""                                                               # STEP 54
result = sorted(os0.listdir(path0))                                     # STEP 55
file0 = opener0(path0)                                                  # STEP 56
str4 += 'l'                                                             # STEP 57
stat1 = os0.fstat(fd0)                                                  # STEP 58
file0 = opener0(path3,'r')                                              # STEP 59
os0.remove(path3)                                                       # STEP 60
str0 = ""                                                               # STEP 61
file0 = opener0(path0,'r')                                              # STEP 62
result = stat2.st_nlink                                                 # STEP 63
str3 += 'b'                                                             # STEP 64
result = os0.read(fd0,bytes0)                                           # STEP 65
str4 = ""                                                               # STEP 66
os0.symlink(path3,path3)                                                # STEP 67
str0 += 'z'                                                             # STEP 68
str0 += 'j'                                                             # STEP 69
result = os0.path.islink(path3)                                         # STEP 70
result = os0.path.dirname(path3)                                        # STEP 71
str1 += 'c'                                                             # STEP 72
str3 += " "                                                             # STEP 73
path0 += "/" + component2                                               # STEP 74
component2 = "h"                                                        # STEP 75
file0 = opener0(path0,'a')                                              # STEP 76
os0.path.getsize(path3)                                                 # STEP 77
os0.rmdir(path3)                                                        # STEP 78
str4 += 'h'                                                             # STEP 79
str4 += 'u'                                                             # STEP 80
str3 += 'g'                                                             # STEP 81
str4 += 'a'                                                             # STEP 82
file0.flush()                                                           # STEP 83
result = file0.readline(bytes2)                                         # STEP 84
str1 += 'f'                                                             # STEP 85
str4 += 'e'                                                             # STEP 86
str0 += 't'                                                             # STEP 87
str4 += 'm'                                                             # STEP 88
str4 += 'd'                                                             # STEP 89
str0 += 'x'                                                             # STEP 90
os0.removedirs(path0)                                                   # STEP 91
str3 += 'r'                                                             # STEP 92
str4 += 'h'                                                             # STEP 93
path3 = "/Volumes/ramdisk/test"                                         # STEP 94
str4 += 't'                                                             # STEP 95
bytes4 = 0                                                              # STEP 96
str3 += 't'                                                             # STEP 97
str2 = ""                                                               # STEP 98
stat1 = os0.fstat(fd0)                                                  # STEP 99
str1 += 'g'                                                            # STEP 100
str4 += 'd'                                                            # STEP 101
str3 += 'l'                                                            # STEP 102
path0 += "/" + component2                                              # STEP 103
str0 += 'd'                                                            # STEP 104
str2 += 'l'                                                            # STEP 105
result = os0.path.lexists(path0)                                       # STEP 106
component2 = "b"                                                       # STEP 107
str3 = ""                                                              # STEP 108
result = file0.readline(bytes4)                                        # STEP 109
str3 += 'u'                                                            # STEP 110
file0.flush()                                                          # STEP 111
str3 += 'c'                                                            # STEP 112
str1 += 't'                                                            # STEP 113
os0.link(path3,path0)                                                  # STEP 114
str3 += 'g'                                                            # STEP 115
str0 += 'z'                                                            # STEP 116
stat0 = os0.stat(path0)                                                # STEP 117
result = os0.path.exists(path0)                                        # STEP 118
str0 += 'v'                                                            # STEP 119
str2 += 'k'                                                            # STEP 120
str1 += 'd'                                                            # STEP 121
str1 += 'i'                                                            # STEP 122
result = file0.readline(bytes2)                                        # STEP 123
os0.remove(path0)                                                      # STEP 124
path3 += "/" + component0                                              # STEP 125
str2 += 'x'                                                            # STEP 126
str0 += 'i'                                                            # STEP 127
result = sorted(os0.listdir(path3))                                    # STEP 128
str4 += 'n'                                                            # STEP 129
str4 += 'q'                                                            # STEP 130
str4 += 'y'                                                            # STEP 131
stat4 = os0.stat(path0)                                                # STEP 132
result = file0.readline(bytes4)                                        # STEP 133
str0 += 'z'                                                            # STEP 134
str3 += 'k'                                                            # STEP 135
str0 += 'd'                                                            # STEP 136
path3 = "/Volumes/ramdisk/test"                                        # STEP 137
os0.makedirs(path0)                                                    # STEP 138
str3 += 'x'                                                            # STEP 139
str4 += 'w'                                                            # STEP 140
bytes0 += 1                                                            # STEP 141
stat4 = os0.fstat(fd0)                                                 # STEP 142
str1 += 'n'                                                            # STEP 143
str2 += 'f'                                                            # STEP 144
str2 += 'g'                                                            # STEP 145
str3 += " "                                                            # STEP 146
str4 += 'a'                                                            # STEP 147
str3 += 'g'                                                            # STEP 148
str3 += 'a'                                                            # STEP 149
str4 += 'd'                                                            # STEP 150
str1 += 'h'                                                            # STEP 151
os0.rename(path0,path3)                                                # STEP 152
str0 += 'y'                                                            # STEP 153
path1 = "/Volumes/ramdisk/test"                                        # STEP 154
stat0 = os0.stat(path0)                                                # STEP 155
str3 += 'p'                                                            # STEP 156
result = os0.path.dirname(path1)                                       # STEP 157
str3 += " "                                                            # STEP 158
str1 += " "                                                            # STEP 159
str2 += 'q'                                                            # STEP 160
os0.remove(path0)                                                      # STEP 161
str2 += " "                                                            # STEP 162
str0 += 'l'                                                            # STEP 163
str3 += 'u'                                                            # STEP 164
bytes2 = 0                                                             # STEP 165
os0.rename(path0,path3)                                                # STEP 166
str0 += 't'                                                            # STEP 167
result = file0.read(bytes2)                                            # STEP 168
str0 += 'a'                                                            # STEP 169
result = stat1.st_nlink                                                # STEP 170
path0 += "/" + component4                                              # STEP 171
result = stat4.st_nlink                                                # STEP 172
str2 += 'b'                                                            # STEP 173
str3 += 'h'                                                            # STEP 174
str1 += 'p'                                                            # STEP 175
os0.remove(path1)                                                      # STEP 176
str2 += 'x'                                                            # STEP 177
result = os0.read(fd0,bytes0)                                          # STEP 178
str4 += 'x'                                                            # STEP 179
str3 += 'f'                                                            # STEP 180
str4 += 'p'                                                            # STEP 181
result = file0.read(bytes0)                                            # STEP 182
ERROR: (<type 'exceptions.OSError'>, OSError(9, 'File is not open for reading.'), <traceback object at 0x1054fac68>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 28348, in act564
    result = self.p_file[0].read(self.p_bytes[0])
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4284, in read_error
    self._raise('File is not open for reading.')
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4112, in _raise
    raise OSError(errno.EBADF, message)
FAILURE 3
component2 = "e"                                                         # STEP 0
component0 = "d"                                                         # STEP 1
component1 = "e"                                                         # STEP 2
component3 = "h"                                                         # STEP 3
component4 = "d"                                                         # STEP 4
bytes2 = 0                                                               # STEP 5
str4 = ""                                                                # STEP 6
bytes0 = 0                                                               # STEP 7
os0 = newFakeOS()                                                        # STEP 8
opener0 = newFakeOpener(os0)                                             # STEP 9
path3 = "/Volumes/ramdisk/test"                                         # STEP 10
str4 += 'l'                                                             # STEP 11
result = os0.path.isabs(path3)                                          # STEP 12
os0.symlink(path3,path3)                                                # STEP 13
str4 += 'r'                                                             # STEP 14
str4 += 'w'                                                             # STEP 15
str1 = ""                                                               # STEP 16
str1 += 'd'                                                             # STEP 17
str1 += 'x'                                                             # STEP 18
path3 += "/" + component2                                               # STEP 19
str4 += 'p'                                                             # STEP 20
os0.link(path3,path3)                                                   # STEP 21
stat1 = os0.lstat(path3)                                                # STEP 22
str1 += 'e'                                                             # STEP 23
str4 += 'q'                                                             # STEP 24
str4 += 'k'                                                             # STEP 25
fd0 = os0.open(path3, os.O_CREAT)                                       # STEP 26
str1 += 'b'                                                             # STEP 27
bytes0 += 1                                                             # STEP 28
component2 = "f"                                                        # STEP 29
path3 += "/" + component0                                               # STEP 30
str4 += 'o'                                                             # STEP 31
str4 += 't'                                                             # STEP 32
stat2 = os0.fstat(fd0)                                                  # STEP 33
os0.close(fd0)                                                          # STEP 34
str4 += 'o'                                                             # STEP 35
path0 = "/Volumes/ramdisk/test"                                         # STEP 36
stat4 = os0.lstat(path3)                                                # STEP 37
result = stat2.st_nlink                                                 # STEP 38
bytes0 = 0                                                              # STEP 39
file0 = opener0(path0,'w')                                              # STEP 40
file0 = opener0(path3,'a')                                              # STEP 41
path3 += "/" + component2                                               # STEP 42
result = sorted(os0.listdir(path0))                                     # STEP 43
result = os0.read(fd0,bytes0)                                           # STEP 44
result = os0.readlink(path0)                                            # STEP 45
stat3 = os0.fstat(fd0)                                                  # STEP 46
component0 = "f"                                                        # STEP 47
str4 += 'm'                                                             # STEP 48
str4 += 'u'                                                             # STEP 49
component2 = "h"                                                        # STEP 50
str1 += 'b'                                                             # STEP 51
fd0 = os0.open(path3, os.O_WRONLY | os.O_APPEND)                        # STEP 52
result = sorted(os0.listdir(path3))                                     # STEP 53
str3 = ""                                                               # STEP 54
result = sorted(os0.listdir(path0))                                     # STEP 55
file0 = opener0(path0)                                                  # STEP 56
str4 += 'l'                                                             # STEP 57
stat1 = os0.fstat(fd0)                                                  # STEP 58
file0 = opener0(path3,'r')                                              # STEP 59
os0.remove(path3)                                                       # STEP 60
str0 = ""                                                               # STEP 61
file0 = opener0(path0,'r')                                              # STEP 62
result = stat2.st_nlink                                                 # STEP 63
str3 += 'b'                                                             # STEP 64
result = os0.read(fd0,bytes0)                                           # STEP 65
str4 = ""                                                               # STEP 66
os0.symlink(path3,path3)                                                # STEP 67
str0 += 'z'                                                             # STEP 68
str0 += 'j'                                                             # STEP 69
result = os0.path.islink(path3)                                         # STEP 70
result = os0.path.dirname(path3)                                        # STEP 71
str1 += 'c'                                                             # STEP 72
str3 += " "                                                             # STEP 73
path0 += "/" + component2                                               # STEP 74
component2 = "h"                                                        # STEP 75
file0 = opener0(path0,'a')                                              # STEP 76
os0.path.getsize(path3)                                                 # STEP 77
os0.rmdir(path3)                                                        # STEP 78
str4 += 'h'                                                             # STEP 79
str4 += 'u'                                                             # STEP 80
str3 += 'g'                                                             # STEP 81
str4 += 'a'                                                             # STEP 82
file0.flush()                                                           # STEP 83
result = file0.readline(bytes2)                                         # STEP 84
str1 += 'f'                                                             # STEP 85
bytes2 = 0                                                              # STEP 86
path0 += "/" + component1                                               # STEP 87
str0 = ""                                                               # STEP 88
os0.mkdir(path0)                                                        # STEP 89
str4 = ""                                                               # STEP 90
str4 += 'e'                                                             # STEP 91
component1 = "delta"                                                    # STEP 92
result = os0.path.isdir(path0)                                          # STEP 93
bytes4 = 0                                                              # STEP 94
result = os0.path.isdir(path0)                                          # STEP 95
result = os0.path.lexists(path0)                                        # STEP 96
str0 += 'c'                                                             # STEP 97
str4 += 'w'                                                             # STEP 98
bytes1 = 0                                                              # STEP 99
str0 += 'y'                                                            # STEP 100
str4 += 'd'                                                            # STEP 101
str0 += 'n'                                                            # STEP 102
str4 += 'a'                                                            # STEP 103
str4 += 'q'                                                            # STEP 104
str4 += 'v'                                                            # STEP 105
str4 += 'p'                                                            # STEP 106
str4 += 'n'                                                            # STEP 107
os0.mkdir(path0)                                                       # STEP 108
str4 += 'r'                                                            # STEP 109
bytes2 += 1                                                            # STEP 110
str4 += " "                                                            # STEP 111
result = sorted(os0.listdir(path0))                                    # STEP 112
str4 += " "                                                            # STEP 113
str4 += 'd'                                                            # STEP 114
result = os0.path.isdir(path0)                                         # STEP 115
result = os0.path.isdir(path0)                                         # STEP 116
result = os0.path.lexists(path0)                                       # STEP 117
str0 += 'c'                                                            # STEP 118
str4 += 'w'                                                            # STEP 119
str0 += 'y'                                                            # STEP 120
str4 += 'd'                                                            # STEP 121
str0 += 'n'                                                            # STEP 122
str4 += 'a'                                                            # STEP 123
str4 += 'q'                                                            # STEP 124
str4 += 'v'                                                            # STEP 125
str4 += 'p'                                                            # STEP 126
str4 += 'n'                                                            # STEP 127
os0.mkdir(path0)                                                       # STEP 128
str4 += 'r'                                                            # STEP 129
bytes2 += 1                                                            # STEP 130
str4 += " "                                                            # STEP 131
result = sorted(os0.listdir(path0))                                    # STEP 132
str4 += " "                                                            # STEP 133
str4 += 'd'                                                            # STEP 134
str4 += 'e'                                                            # STEP 135
result = os0.path.lexists(path0)                                       # STEP 136
str0 += 'e'                                                            # STEP 137
stat1 = os0.stat(path0)                                                # STEP 138
str0 = ""                                                              # STEP 139
str2 = ""                                                              # STEP 140
str0 += 'm'                                                            # STEP 141
path0 += "/" + component2                                              # STEP 142
path0 += "/" + component1                                              # STEP 143
component2 = "h"                                                       # STEP 144
str2 += 'l'                                                            # STEP 145
result = os0.path.isdir(path0)                                         # STEP 146
str3 = ""                                                              # STEP 147
str2 += 'h'                                                            # STEP 148
str2 += 'e'                                                            # STEP 149
component1 = "epsilon"                                                 # STEP 150
os0.path.getsize(path0)                                                # STEP 151
str0 += 'k'                                                            # STEP 152
str4 += 'l'                                                            # STEP 153
path4 = "/Volumes/ramdisk/test"                                        # STEP 154
str2 += 'k'                                                            # STEP 155
str0 += 'c'                                                            # STEP 156
result = sorted(os0.listdir(path4))                                    # STEP 157
path0 += "/" + component3                                              # STEP 158
component3 = "gamma"                                                   # STEP 159
str2 += 'r'                                                            # STEP 160
path0 += "/" + component4                                              # STEP 161
component4 = "phi"                                                     # STEP 162
os0.link(path0,path0)                                                  # STEP 163
result = os0.path.dirname(path4)                                       # STEP 164
bytes2 += 1                                                            # STEP 165
os0.makedirs(path0)                                                    # STEP 166
str2 += 'p'                                                            # STEP 167
result = os0.path.abspath(path4)                                       # STEP 168
os0.link(path0,path0)                                                  # STEP 169
str2 += 'v'                                                            # STEP 170
path0 += "/" + component4                                              # STEP 171
str4 += 'h'                                                            # STEP 172
str3 += 'o'                                                            # STEP 173
result = os0.readlink(path0)                                           # STEP 174
str0 += 'y'                                                            # STEP 175
result = os0.path.islink(path4)                                        # STEP 176
component4 = "e"                                                       # STEP 177
os0.path.getsize(path0)                                                # STEP 178
str4 += 'n'                                                            # STEP 179
stat0 = os0.lstat(path0)                                               # STEP 180
str3 += 't'                                                            # STEP 181
path0 += "/" + component3                                              # STEP 182
str3 += 't'                                                            # STEP 183
path2 = "/Volumes/ramdisk/test"                                        # STEP 184
result = os0.path.islink(path2)                                        # STEP 185
path2 += "/" + component4                                              # STEP 186
result = os0.path.abspath(path2)                                       # STEP 187
component3 = "beta"                                                    # STEP 188
str3 += 'o'                                                            # STEP 189
os0.makedirs(path2)                                                    # STEP 190
str2 += 'b'                                                            # STEP 191
result = os0.path.isabs(path4)                                         # STEP 192
str3 += " "                                                            # STEP 193
stat3 = os0.stat(path2)                                                # STEP 194
result = os0.path.islink(path4)                                        # STEP 195
result = os0.path.dirname(path2)                                       # STEP 196
os0.link(path0,path4)                                                  # STEP 197
result = os0.readlink(path4)                                           # STEP 198
component4 = "c"                                                       # STEP 199
str0 += 'l'                                                            # STEP 200
str2 += 't'                                                            # STEP 201
os0.symlink(path2,path4)                                               # STEP 202
str4 += 'q'                                                            # STEP 203
bytes1 += 1                                                            # STEP 204
str3 += 'b'                                                            # STEP 205
os0.write(fd0,str4)                                                    # STEP 206
str3 += 'g'                                                            # STEP 207
path0 += "/" + component3                                              # STEP 208
str3 += 'w'                                                            # STEP 209
str0 += 'j'                                                            # STEP 210
str4 += 'm'                                                            # STEP 211
str4 += 'j'                                                            # STEP 212
path3 = "/Volumes/ramdisk/test"                                        # STEP 213
os0.symlink(path3,path2)                                               # STEP 214
str4 += 'a'                                                            # STEP 215
str0 += 'i'                                                            # STEP 216
os0.symlink(path0,path2)                                               # STEP 217
result = os0.path.abspath(path4)                                       # STEP 218
str0 += 'l'                                                            # STEP 219
str0 += 'n'                                                            # STEP 220
os0.link(path2,path0)                                                  # STEP 221
os0.mkdir(path3)                                                       # STEP 222
result = os0.path.islink(path0)                                        # STEP 223
path4 += "/" + component2                                              # STEP 224
str3 += 's'                                                            # STEP 225
os0.write(fd0,str0)                                                    # STEP 226
str0 += 'k'                                                            # STEP 227
stat0 = os0.stat(path2)                                                # STEP 228
component3 = "a"                                                       # STEP 229
result = os0.path.exists(path3)                                        # STEP 230
os0.rename(path0,path3)                                                # STEP 231
bytes3 = 0                                                             # STEP 232
str3 += 'n'                                                            # STEP 233
result = os0.path.abspath(path3)                                       # STEP 234
bytes0 = 0                                                             # STEP 235
result = os0.readlink(path2)                                           # STEP 236
path4 += "/" + component1                                              # STEP 237
str4 += 'l'                                                            # STEP 238
str4 += 'b'                                                            # STEP 239
os0.symlink(path2,path3)                                               # STEP 240
result = os0.path.isdir(path0)                                         # STEP 241
result = sorted(os0.listdir(path4))                                    # STEP 242
os0.makedirs(path2)                                                    # STEP 243
result = os0.path.isfile(path4)                                        # STEP 244
component2 = "a"                                                       # STEP 245
str0 += 'w'                                                            # STEP 246
str0 += 'c'                                                            # STEP 247
result = sorted(os0.listdir(path2))                                    # STEP 248
str0 += 'j'                                                            # STEP 249
str4 += 'u'                                                            # STEP 250
os0.rmdir(path4)                                                       # STEP 251
os0.link(path4,path0)                                                  # STEP 252
str3 += 'n'                                                            # STEP 253
os0.makedirs(path4)                                                    # STEP 254
result = os0.path.isabs(path2)                                         # STEP 255
str2 += 'y'                                                            # STEP 256
path4 += "/" + component0                                              # STEP 257
component1 = "f"                                                       # STEP 258
result = os0.readlink(path4)                                           # STEP 259
path3 += "/" + component1                                              # STEP 260
path1 = "/Volumes/ramdisk/test"                                        # STEP 261
os0.symlink(path2,path2)                                               # STEP 262
os0.rename(path3,path4)                                                # STEP 263
bytes2 = 0                                                             # STEP 264
str4 += 'c'                                                            # STEP 265
str0 += 'x'                                                            # STEP 266
str0 += 'i'                                                            # STEP 267
str3 += 'l'                                                            # STEP 268
os0.link(path4,path3)                                                  # STEP 269
os0.remove(path4)                                                      # STEP 270
str4 += 'm'                                                            # STEP 271
str2 += 'y'                                                            # STEP 272
str2 += 's'                                                            # STEP 273
component1 = "c"                                                       # STEP 274
str2 += 'i'                                                            # STEP 275
stat4 = os0.stat(path2)                                                # STEP 276
result = os0.readlink(path2)                                           # STEP 277
str2 += 'o'                                                            # STEP 278
os0.makedirs(path1)                                                    # STEP 279
str4 += 'd'                                                            # STEP 280
stat2 = os0.stat(path4)                                                # STEP 281
str3 += 'y'                                                            # STEP 282
str3 = ""                                                              # STEP 283
component0 = "gamma"                                                   # STEP 284
os0.symlink(path4,path0)                                               # STEP 285
os0.link(path1,path0)                                                  # STEP 286
path0 = "/Volumes/ramdisk/test"                                        # STEP 287
result = sorted(os0.listdir(path0))                                    # STEP 288
result = stat0.st_nlink                                                # STEP 289
str3 += 'd'                                                            # STEP 290
os0.remove(path2)                                                      # STEP 291
str2 += 'w'                                                            # STEP 292
result = os0.path.dirname(path1)                                       # STEP 293
os0.makedirs(path3)                                                    # STEP 294
os0.symlink(path3,path2)                                               # STEP 295
str0 += 'm'                                                            # STEP 296
os0.rename(path2,path3)                                                # STEP 297
result = sorted(os0.listdir(path0))                                    # STEP 298
result = os0.readlink(path1)                                           # STEP 299
result = os0.read(fd0,bytes2)                                          # STEP 300
path1 = "/Volumes/ramdisk/test"                                        # STEP 301
result = os0.path.abspath(path4)                                       # STEP 302
path1 += "/" + component3                                              # STEP 303
str2 += 's'                                                            # STEP 304
str0 += 'm'                                                            # STEP 305
os0.link(path0,path3)                                                  # STEP 306
str2 += 'f'                                                            # STEP 307
os0.rename(path3,path1)                                                # STEP 308
os0.rename(path1,path3)                                                # STEP 309
stat0 = os0.lstat(path2)                                               # STEP 310
str2 += 'f'                                                            # STEP 311
stat1 = os0.fstat(fd0)                                                 # STEP 312
result = os0.path.abspath(path1)                                       # STEP 313
path4 += "/" + component3                                              # STEP 314
str3 += 'w'                                                            # STEP 315
os0.rename(path2,path4)                                                # STEP 316
result = os0.path.islink(path2)                                        # STEP 317
str0 += 'h'                                                            # STEP 318
result = os0.path.isabs(path0)                                         # STEP 319
result = stat0.st_size                                                 # STEP 320
str0 += 'h'                                                            # STEP 321
str2 += 'd'                                                            # STEP 322
result = os0.path.lexists(path0)                                       # STEP 323
str3 += 'x'                                                            # STEP 324
os0.symlink(path3,path4)                                               # STEP 325
path1 = "/Volumes/ramdisk/test"                                        # STEP 326
str2 += 'l'                                                            # STEP 327
result = os0.path.lexists(path3)                                       # STEP 328
result = os0.path.islink(path3)                                        # STEP 329
path0 += "/" + component2                                              # STEP 330
result = os0.path.abspath(path4)                                       # STEP 331
os0.makedirs(path0)                                                    # STEP 332
result = os0.path.dirname(path0)                                       # STEP 333
os0.symlink(path0,path0)                                               # STEP 334
str4 += 'd'                                                            # STEP 335
result = stat1.st_nlink                                                # STEP 336
os0.symlink(path0,path0)                                               # STEP 337
path1 += "/" + component0                                              # STEP 338
component0 = "f"                                                       # STEP 339
os0.symlink(path0,path3)                                               # STEP 340
os0.remove(path2)                                                      # STEP 341
file0.next()                                                           # STEP 342
stat0 = os0.lstat(path1)                                               # STEP 343
path1 += "/" + component4                                              # STEP 344
str2 += 'p'                                                            # STEP 345
str4 += 'i'                                                            # STEP 346
file0.seek(bytes0)                                                     # STEP 347
result = os0.path.islink(path4)                                        # STEP 348
result = os0.read(fd0,bytes1)                                          # STEP 349
result = os0.path.isfile(path1)                                        # STEP 350
component3 = "c"                                                       # STEP 351
os0.symlink(path0,path4)                                               # STEP 352
str2 += 'k'                                                            # STEP 353
str0 += 'r'                                                            # STEP 354
str0 += 'b'                                                            # STEP 355
os0.makedirs(path2)                                                    # STEP 356
component2 = "phi"                                                     # STEP 357
os0.rename(path3,path2)                                                # STEP 358
file0.truncate()                                                       # STEP 359
os0.rename(path0,path3)                                                # STEP 360
str3 += 'u'                                                            # STEP 361
os0.symlink(path0,path4)                                               # STEP 362
result = os0.path.abspath(path3)                                       # STEP 363
result = file0.readline(bytes4)                                        # STEP 364
ERROR: (<type 'exceptions.OSError'>, OSError(9, 'File is not open for reading.'), <traceback object at 0x10aa148c0>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 28941, in act574
    result = self.p_file[0].readline(self.p_bytes[4])
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4284, in read_error
    self._raise('File is not open for reading.')
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4112, in _raise
    raise OSError(errno.EBADF, message)
FAILURE 4
component2 = "e"                                                         # STEP 0
component0 = "d"                                                         # STEP 1
component1 = "e"                                                         # STEP 2
component3 = "h"                                                         # STEP 3
component4 = "d"                                                         # STEP 4
bytes2 = 0                                                               # STEP 5
str4 = ""                                                                # STEP 6
bytes0 = 0                                                               # STEP 7
os0 = newFakeOS()                                                        # STEP 8
opener0 = newFakeOpener(os0)                                             # STEP 9
path3 = "/Volumes/ramdisk/test"                                         # STEP 10
str4 += 'l'                                                             # STEP 11
result = os0.path.isabs(path3)                                          # STEP 12
os0.symlink(path3,path3)                                                # STEP 13
str4 += 'r'                                                             # STEP 14
str4 += 'w'                                                             # STEP 15
str1 = ""                                                               # STEP 16
str1 += 'd'                                                             # STEP 17
str1 += 'x'                                                             # STEP 18
path3 += "/" + component2                                               # STEP 19
str4 += 'p'                                                             # STEP 20
os0.link(path3,path3)                                                   # STEP 21
stat1 = os0.lstat(path3)                                                # STEP 22
str1 += 'e'                                                             # STEP 23
str4 += 'q'                                                             # STEP 24
str4 += 'k'                                                             # STEP 25
fd0 = os0.open(path3, os.O_CREAT)                                       # STEP 26
str1 += 'b'                                                             # STEP 27
bytes0 += 1                                                             # STEP 28
component2 = "f"                                                        # STEP 29
path3 += "/" + component0                                               # STEP 30
str4 += 'o'                                                             # STEP 31
str4 += 't'                                                             # STEP 32
stat2 = os0.fstat(fd0)                                                  # STEP 33
os0.close(fd0)                                                          # STEP 34
str4 += 'o'                                                             # STEP 35
path0 = "/Volumes/ramdisk/test"                                         # STEP 36
stat4 = os0.lstat(path3)                                                # STEP 37
result = stat2.st_nlink                                                 # STEP 38
bytes0 = 0                                                              # STEP 39
file0 = opener0(path0,'w')                                              # STEP 40
file0 = opener0(path3,'a')                                              # STEP 41
path3 += "/" + component2                                               # STEP 42
result = sorted(os0.listdir(path0))                                     # STEP 43
result = os0.read(fd0,bytes0)                                           # STEP 44
result = os0.readlink(path0)                                            # STEP 45
stat3 = os0.fstat(fd0)                                                  # STEP 46
component0 = "f"                                                        # STEP 47
str4 += 'm'                                                             # STEP 48
str4 += 'u'                                                             # STEP 49
component2 = "h"                                                        # STEP 50
str1 += 'b'                                                             # STEP 51
fd0 = os0.open(path3, os.O_WRONLY | os.O_APPEND)                        # STEP 52
result = sorted(os0.listdir(path3))                                     # STEP 53
str3 = ""                                                               # STEP 54
result = sorted(os0.listdir(path0))                                     # STEP 55
file0 = opener0(path0)                                                  # STEP 56
str4 += 'l'                                                             # STEP 57
stat1 = os0.fstat(fd0)                                                  # STEP 58
file0 = opener0(path3,'r')                                              # STEP 59
os0.remove(path3)                                                       # STEP 60
str0 = ""                                                               # STEP 61
file0 = opener0(path0,'r')                                              # STEP 62
result = stat2.st_nlink                                                 # STEP 63
str3 += 'b'                                                             # STEP 64
result = os0.read(fd0,bytes0)                                           # STEP 65
str4 = ""                                                               # STEP 66
os0.symlink(path3,path3)                                                # STEP 67
str0 += 'z'                                                             # STEP 68
str0 += 'j'                                                             # STEP 69
result = os0.path.islink(path3)                                         # STEP 70
result = os0.path.dirname(path3)                                        # STEP 71
str1 += 'c'                                                             # STEP 72
str3 += " "                                                             # STEP 73
path0 += "/" + component2                                               # STEP 74
component2 = "h"                                                        # STEP 75
file0 = opener0(path0,'a')                                              # STEP 76
os0.path.getsize(path3)                                                 # STEP 77
os0.rmdir(path3)                                                        # STEP 78
str4 += 'h'                                                             # STEP 79
str4 += 'u'                                                             # STEP 80
str3 += 'g'                                                             # STEP 81
str4 += 'a'                                                             # STEP 82
file0.flush()                                                           # STEP 83
result = file0.readline(bytes2)                                         # STEP 84
str4 += 'e'                                                             # STEP 85
str0 += 't'                                                             # STEP 86
str4 += 'm'                                                             # STEP 87
str4 += 'd'                                                             # STEP 88
str0 += 'x'                                                             # STEP 89
os0.removedirs(path0)                                                   # STEP 90
str3 += 'r'                                                             # STEP 91
str4 += 'h'                                                             # STEP 92
path3 = "/Volumes/ramdisk/test"                                         # STEP 93
str4 += 't'                                                             # STEP 94
bytes4 = 0                                                              # STEP 95
str3 += 't'                                                             # STEP 96
str2 = ""                                                               # STEP 97
stat1 = os0.fstat(fd0)                                                  # STEP 98
str1 += 'g'                                                             # STEP 99
str4 += 'd'                                                            # STEP 100
str3 += 'l'                                                            # STEP 101
path0 += "/" + component2                                              # STEP 102
str0 += 'd'                                                            # STEP 103
str2 += 'l'                                                            # STEP 104
result = os0.path.lexists(path0)                                       # STEP 105
component2 = "b"                                                       # STEP 106
str2 += 'x'                                                            # STEP 107
str3 = ""                                                              # STEP 108
result = file0.readline(bytes4)                                        # STEP 109
str3 += 'u'                                                            # STEP 110
file0.flush()                                                          # STEP 111
str3 += 'c'                                                            # STEP 112
str1 += 't'                                                            # STEP 113
os0.link(path3,path0)                                                  # STEP 114
str3 += 'g'                                                            # STEP 115
str0 += 'z'                                                            # STEP 116
stat0 = os0.stat(path0)                                                # STEP 117
result = os0.path.exists(path0)                                        # STEP 118
str0 += 'v'                                                            # STEP 119
str2 += 'k'                                                            # STEP 120
str1 += 'd'                                                            # STEP 121
str1 += 'i'                                                            # STEP 122
result = file0.readline(bytes2)                                        # STEP 123
os0.remove(path0)                                                      # STEP 124
result = os0.path.islink(path3)                                        # STEP 125
str0 += 'd'                                                            # STEP 126
str1 += 'g'                                                            # STEP 127
result = os0.path.dirname(path3)                                       # STEP 128
str2 += 'q'                                                            # STEP 129
str4 += 'a'                                                            # STEP 130
os0.write(fd0,str2)                                                    # STEP 131
os0.mkdir(path0)                                                       # STEP 132
str0 += 'a'                                                            # STEP 133
path0 += "/" + component2                                              # STEP 134
str1 += 't'                                                            # STEP 135
str3 += 'w'                                                            # STEP 136
bytes1 = 0                                                             # STEP 137
result = file0.read(bytes4)                                            # STEP 138
ERROR: (<type 'exceptions.OSError'>, OSError(9, 'File is not open for reading.'), <traceback object at 0x1039bdf80>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 28588, in act568
    result = self.p_file[0].read(self.p_bytes[4])
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4284, in read_error
    self._raise('File is not open for reading.')
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4112, in _raise
    raise OSError(errno.EBADF, message)
FAILURE 5
component2 = "e"                                                         # STEP 0
component0 = "d"                                                         # STEP 1
component1 = "e"                                                         # STEP 2
component3 = "h"                                                         # STEP 3
component4 = "d"                                                         # STEP 4
bytes2 = 0                                                               # STEP 5
str4 = ""                                                                # STEP 6
bytes0 = 0                                                               # STEP 7
os0 = newFakeOS()                                                        # STEP 8
opener0 = newFakeOpener(os0)                                             # STEP 9
path3 = "/Volumes/ramdisk/test"                                         # STEP 10
str4 += 'l'                                                             # STEP 11
result = os0.path.isabs(path3)                                          # STEP 12
os0.symlink(path3,path3)                                                # STEP 13
str4 += 'r'                                                             # STEP 14
str4 += 'w'                                                             # STEP 15
str1 = ""                                                               # STEP 16
str1 += 'd'                                                             # STEP 17
str1 += 'x'                                                             # STEP 18
path3 += "/" + component2                                               # STEP 19
str4 += 'p'                                                             # STEP 20
os0.link(path3,path3)                                                   # STEP 21
stat1 = os0.lstat(path3)                                                # STEP 22
str1 += 'e'                                                             # STEP 23
str4 += 'q'                                                             # STEP 24
str4 += 'k'                                                             # STEP 25
fd0 = os0.open(path3, os.O_CREAT)                                       # STEP 26
str1 += 'b'                                                             # STEP 27
bytes0 += 1                                                             # STEP 28
component2 = "f"                                                        # STEP 29
path3 += "/" + component0                                               # STEP 30
str4 += 'o'                                                             # STEP 31
str4 += 't'                                                             # STEP 32
stat2 = os0.fstat(fd0)                                                  # STEP 33
os0.close(fd0)                                                          # STEP 34
str4 += 'o'                                                             # STEP 35
path0 = "/Volumes/ramdisk/test"                                         # STEP 36
stat4 = os0.lstat(path3)                                                # STEP 37
result = stat2.st_nlink                                                 # STEP 38
bytes0 = 0                                                              # STEP 39
file0 = opener0(path0,'w')                                              # STEP 40
file0 = opener0(path3,'a')                                              # STEP 41
path3 += "/" + component2                                               # STEP 42
result = sorted(os0.listdir(path0))                                     # STEP 43
result = os0.read(fd0,bytes0)                                           # STEP 44
result = os0.readlink(path0)                                            # STEP 45
stat3 = os0.fstat(fd0)                                                  # STEP 46
component0 = "f"                                                        # STEP 47
str4 += 'm'                                                             # STEP 48
str4 += 'u'                                                             # STEP 49
component2 = "h"                                                        # STEP 50
str1 += 'b'                                                             # STEP 51
fd0 = os0.open(path3, os.O_WRONLY | os.O_APPEND)                        # STEP 52
result = sorted(os0.listdir(path3))                                     # STEP 53
str3 = ""                                                               # STEP 54
result = sorted(os0.listdir(path0))                                     # STEP 55
file0 = opener0(path0)                                                  # STEP 56
str4 += 'l'                                                             # STEP 57
stat1 = os0.fstat(fd0)                                                  # STEP 58
file0 = opener0(path3,'r')                                              # STEP 59
os0.remove(path3)                                                       # STEP 60
str0 = ""                                                               # STEP 61
file0 = opener0(path0,'r')                                              # STEP 62
result = stat2.st_nlink                                                 # STEP 63
str3 += 'b'                                                             # STEP 64
result = os0.read(fd0,bytes0)                                           # STEP 65
str4 = ""                                                               # STEP 66
os0.symlink(path3,path3)                                                # STEP 67
str0 += 'z'                                                             # STEP 68
str0 += 'j'                                                             # STEP 69
result = os0.path.islink(path3)                                         # STEP 70
result = os0.path.dirname(path3)                                        # STEP 71
str1 += 'c'                                                             # STEP 72
str3 += " "                                                             # STEP 73
path0 += "/" + component2                                               # STEP 74
component2 = "h"                                                        # STEP 75
file0 = opener0(path0,'a')                                              # STEP 76
os0.path.getsize(path3)                                                 # STEP 77
os0.rmdir(path3)                                                        # STEP 78
str4 += 'h'                                                             # STEP 79
str4 += 'u'                                                             # STEP 80
str3 += 'g'                                                             # STEP 81
str4 += 'a'                                                             # STEP 82
file0.flush()                                                           # STEP 83
result = file0.readline(bytes2)                                         # STEP 84
str1 += 'f'                                                             # STEP 85
str4 += 'e'                                                             # STEP 86
str0 += 't'                                                             # STEP 87
str4 += 'm'                                                             # STEP 88
str4 += 'd'                                                             # STEP 89
str0 += 'x'                                                             # STEP 90
os0.removedirs(path0)                                                   # STEP 91
str3 += 'r'                                                             # STEP 92
str4 += 'h'                                                             # STEP 93
path3 = "/Volumes/ramdisk/test"                                         # STEP 94
str4 += 't'                                                             # STEP 95
bytes4 = 0                                                              # STEP 96
str3 += 't'                                                             # STEP 97
str2 = ""                                                               # STEP 98
stat1 = os0.fstat(fd0)                                                  # STEP 99
str1 += 'g'                                                            # STEP 100
str4 += 'd'                                                            # STEP 101
str3 += 'l'                                                            # STEP 102
path0 += "/" + component2                                              # STEP 103
str0 += 'd'                                                            # STEP 104
str2 += 'l'                                                            # STEP 105
result = os0.path.lexists(path0)                                       # STEP 106
component2 = "b"                                                       # STEP 107
str2 += 'x'                                                            # STEP 108
str3 = ""                                                              # STEP 109
result = file0.readline(bytes4)                                        # STEP 110
str3 += 'u'                                                            # STEP 111
file0.flush()                                                          # STEP 112
str3 += 'c'                                                            # STEP 113
str1 += 't'                                                            # STEP 114
os0.link(path3,path0)                                                  # STEP 115
str3 += 'g'                                                            # STEP 116
str0 += 'z'                                                            # STEP 117
stat0 = os0.stat(path0)                                                # STEP 118
result = os0.path.exists(path0)                                        # STEP 119
str0 += 'v'                                                            # STEP 120
str2 += 'k'                                                            # STEP 121
str1 += 'd'                                                            # STEP 122
str1 += 'i'                                                            # STEP 123
result = file0.readline(bytes2)                                        # STEP 124
os0.remove(path0)                                                      # STEP 125
str0 += 'y'                                                            # STEP 126
str2 += 'x'                                                            # STEP 127
str1 += 'a'                                                            # STEP 128
str3 += 'y'                                                            # STEP 129
str2 += 'h'                                                            # STEP 130
os0.mkdir(path3)                                                       # STEP 131
str1 += 'u'                                                            # STEP 132
str4 += 'y'                                                            # STEP 133
str3 += 'a'                                                            # STEP 134
str3 += 'a'                                                            # STEP 135
os0.write(fd0,str3)                                                    # STEP 136
str1 += 'k'                                                            # STEP 137
str3 += 't'                                                            # STEP 138
path2 = "/Volumes/ramdisk/test"                                        # STEP 139
str1 += 'z'                                                            # STEP 140
str0 += 'y'                                                            # STEP 141
str3 += 'r'                                                            # STEP 142
str0 += 'h'                                                            # STEP 143
str3 += 'v'                                                            # STEP 144
str3 += 'i'                                                            # STEP 145
str2 += 'v'                                                            # STEP 146
os0.link(path0,path2)                                                  # STEP 147
str3 += 'p'                                                            # STEP 148
os0.link(path3,path2)                                                  # STEP 149
str2 += 'c'                                                            # STEP 150
str0 += " "                                                            # STEP 151
str1 += 'r'                                                            # STEP 152
str2 += 'z'                                                            # STEP 153
str1 += 't'                                                            # STEP 154
str1 += 'v'                                                            # STEP 155
str0 += 'i'                                                            # STEP 156
str2 += 'y'                                                            # STEP 157
str3 += 'i'                                                            # STEP 158
result = os0.path.exists(path3)                                        # STEP 159
result = file0.readline(bytes2)                                        # STEP 160
ERROR: (<type 'exceptions.OSError'>, OSError(9, 'File is not open for reading.'), <traceback object at 0x103ad44d0>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 28821, in act572
    result = self.p_file[0].readline(self.p_bytes[2])
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4284, in read_error
    self._raise('File is not open for reading.')
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4112, in _raise
    raise OSError(errno.EBADF, message)
FAILURE 6
component2 = "e"                                                         # STEP 0
component0 = "d"                                                         # STEP 1
component1 = "e"                                                         # STEP 2
component3 = "h"                                                         # STEP 3
component4 = "d"                                                         # STEP 4
bytes2 = 0                                                               # STEP 5
str4 = ""                                                                # STEP 6
bytes0 = 0                                                               # STEP 7
os0 = newFakeOS()                                                        # STEP 8
opener0 = newFakeOpener(os0)                                             # STEP 9
path3 = "/Volumes/ramdisk/test"                                         # STEP 10
str4 += 'l'                                                             # STEP 11
result = os0.path.isabs(path3)                                          # STEP 12
os0.symlink(path3,path3)                                                # STEP 13
str4 += 'r'                                                             # STEP 14
str4 += 'w'                                                             # STEP 15
str1 = ""                                                               # STEP 16
str1 += 'd'                                                             # STEP 17
str1 += 'x'                                                             # STEP 18
path3 += "/" + component2                                               # STEP 19
str4 += 'p'                                                             # STEP 20
os0.link(path3,path3)                                                   # STEP 21
stat1 = os0.lstat(path3)                                                # STEP 22
str1 += 'e'                                                             # STEP 23
str4 += 'q'                                                             # STEP 24
str4 += 'k'                                                             # STEP 25
fd0 = os0.open(path3, os.O_CREAT)                                       # STEP 26
str1 += 'b'                                                             # STEP 27
bytes0 += 1                                                             # STEP 28
component2 = "f"                                                        # STEP 29
path3 += "/" + component0                                               # STEP 30
str4 += 'o'                                                             # STEP 31
str4 += 't'                                                             # STEP 32
stat2 = os0.fstat(fd0)                                                  # STEP 33
os0.close(fd0)                                                          # STEP 34
str4 += 'o'                                                             # STEP 35
path0 = "/Volumes/ramdisk/test"                                         # STEP 36
stat4 = os0.lstat(path3)                                                # STEP 37
result = stat2.st_nlink                                                 # STEP 38
bytes0 = 0                                                              # STEP 39
file0 = opener0(path0,'w')                                              # STEP 40
file0 = opener0(path3,'a')                                              # STEP 41
path3 += "/" + component2                                               # STEP 42
result = sorted(os0.listdir(path0))                                     # STEP 43
result = os0.read(fd0,bytes0)                                           # STEP 44
result = os0.readlink(path0)                                            # STEP 45
stat3 = os0.fstat(fd0)                                                  # STEP 46
component0 = "f"                                                        # STEP 47
str4 += 'm'                                                             # STEP 48
str4 += 'u'                                                             # STEP 49
component2 = "h"                                                        # STEP 50
str1 += 'b'                                                             # STEP 51
result = sorted(os0.listdir(path3))                                     # STEP 52
str3 = ""                                                               # STEP 53
result = sorted(os0.listdir(path0))                                     # STEP 54
file0 = opener0(path0)                                                  # STEP 55
str4 += 'l'                                                             # STEP 56
stat1 = os0.fstat(fd0)                                                  # STEP 57
file0 = opener0(path3,'r')                                              # STEP 58
os0.remove(path3)                                                       # STEP 59
str0 = ""                                                               # STEP 60
file0 = opener0(path0,'r')                                              # STEP 61
result = stat2.st_nlink                                                 # STEP 62
str3 += 'b'                                                             # STEP 63
result = os0.read(fd0,bytes0)                                           # STEP 64
str4 = ""                                                               # STEP 65
os0.symlink(path3,path3)                                                # STEP 66
str0 += 'z'                                                             # STEP 67
str0 += 'j'                                                             # STEP 68
result = os0.path.islink(path3)                                         # STEP 69
result = os0.path.dirname(path3)                                        # STEP 70
str1 += 'c'                                                             # STEP 71
str3 += " "                                                             # STEP 72
str3 += 't'                                                             # STEP 73
file0 = opener0(path0,'a')                                              # STEP 74
str4 += 'n'                                                             # STEP 75
os0.link(path3,path0)                                                   # STEP 76
stat4 = os0.stat(path3)                                                 # STEP 77
bytes3 = 0                                                              # STEP 78
str1 += 'c'                                                             # STEP 79
str1 += 'h'                                                             # STEP 80
str3 += 'p'                                                             # STEP 81
str1 += 'f'                                                             # STEP 82
stat2 = os0.fstat(fd0)                                                  # STEP 83
file0 = opener0(path3)                                                  # STEP 84
stat1 = os0.stat(path3)                                                 # STEP 85
file0 = opener0(path0,'r')                                              # STEP 86
str4 += 'l'                                                             # STEP 87
path2 = "/Volumes/ramdisk/test"                                         # STEP 88
os0.write(fd0,str3)                                                     # STEP 89
result = sorted(os0.listdir(path0))                                     # STEP 90
result = os0.path.lexists(path0)                                        # STEP 91
str0 += 'd'                                                             # STEP 92
result = os0.path.islink(path3)                                         # STEP 93
str3 += 'z'                                                             # STEP 94
os0.symlink(path3,path0)                                                # STEP 95
path0 += "/" + component1                                               # STEP 96
os0.makedirs(path3)                                                     # STEP 97
result = os0.read(fd0,bytes2)                                           # STEP 98
os0.write(fd0,str1)                                                     # STEP 99
path2 += "/" + component1                                              # STEP 100
result = os0.path.isabs(path0)                                         # STEP 101
path0 = "/Volumes/ramdisk/test"                                        # STEP 102
path3 += "/" + component0                                              # STEP 103
result = os0.path.isfile(path2)                                        # STEP 104
file0 = opener0(path2,'a')                                             # STEP 105
os0.mkdir(path2)                                                       # STEP 106
str0 += 'm'                                                            # STEP 107
result = os0.path.isdir(path3)                                         # STEP 108
str0 += 'n'                                                            # STEP 109
stat1 = os0.stat(path2)                                                # STEP 110
result = os0.path.isfile(path3)                                        # STEP 111
str4 += 'r'                                                            # STEP 112
os0.remove(path3)                                                      # STEP 113
result = os0.readlink(path2)                                           # STEP 114
str3 += 'p'                                                            # STEP 115
bytes4 = 0                                                             # STEP 116
str3 += 'u'                                                            # STEP 117
os0.close(fd0)                                                         # STEP 118
str0 += 'e'                                                            # STEP 119
str0 += 'l'                                                            # STEP 120
os0.symlink(path2,path0)                                               # STEP 121
str0 += " "                                                            # STEP 122
str1 = ""                                                              # STEP 123
str1 += 'k'                                                            # STEP 124
str1 += 'f'                                                            # STEP 125
str4 += 'a'                                                            # STEP 126
os0.link(path0,path2)                                                  # STEP 127
stat4 = os0.lstat(path3)                                               # STEP 128
str3 += 'w'                                                            # STEP 129
stat4 = os0.stat(path2)                                                # STEP 130
os0.symlink(path0,path0)                                               # STEP 131
component0 = "delta"                                                   # STEP 132
component1 = "omega"                                                   # STEP 133
str3 += 'b'                                                            # STEP 134
str0 += 'd'                                                            # STEP 135
str3 += 'm'                                                            # STEP 136
path3 = "/Volumes/ramdisk/test"                                        # STEP 137
os0.close(fd0)                                                         # STEP 138
result = os0.path.isfile(path3)                                        # STEP 139
stat0 = os0.stat(path2)                                                # STEP 140
str3 += 'w'                                                            # STEP 141
os0.makedirs(path0)                                                    # STEP 142
result = os0.readlink(path3)                                           # STEP 143
result = file0.readline(bytes2)                                        # STEP 144
str0 += 'l'                                                            # STEP 145
str3 += 'g'                                                            # STEP 146
fd0 = os0.open(path2, os.O_RDONLY)                                     # STEP 147
file0.write(str4)                                                      # STEP 148
str1 += 'w'                                                            # STEP 149
path3 += "/" + component3                                              # STEP 150
str4 += 'i'                                                            # STEP 151
result = os0.path.abspath(path2)                                       # STEP 152
os0.rmdir(path3)                                                       # STEP 153
str3 += 'a'                                                            # STEP 154
component3 = "delta"                                                   # STEP 155
os0.symlink(path2,path0)                                               # STEP 156
bytes0 = 0                                                             # STEP 157
result = stat2.st_nlink                                                # STEP 158
str1 += " "                                                            # STEP 159
path3 += "/" + component4                                              # STEP 160
str0 += " "                                                            # STEP 161
os0.write(fd0,str3)                                                    # STEP 162
str3 += 'd'                                                            # STEP 163
str3 += 'c'                                                            # STEP 164
str1 = ""                                                              # STEP 165
str0 += 'u'                                                            # STEP 166
str1 += 'n'                                                            # STEP 167
stat2 = os0.stat(path3)                                                # STEP 168
result = file0.read(bytes3)                                            # STEP 169
os0.rmdir(path3)                                                       # STEP 170
str1 += 'k'                                                            # STEP 171
path3 = "/Volumes/ramdisk/test"                                        # STEP 172
result = os0.readlink(path3)                                           # STEP 173
str0 += " "                                                            # STEP 174
result = os0.path.abspath(path3)                                       # STEP 175
file0.seek(bytes0)                                                     # STEP 176
path0 += "/" + component0                                              # STEP 177
os0.rename(path0,path3)                                                # STEP 178
path0 += "/" + component4                                              # STEP 179
path3 = "/Volumes/ramdisk/test"                                        # STEP 180
str3 += 'f'                                                            # STEP 181
result = os0.path.abspath(path2)                                       # STEP 182
str1 += 'h'                                                            # STEP 183
str1 += 'q'                                                            # STEP 184
component0 = "c"                                                       # STEP 185
os0.rename(path2,path0)                                                # STEP 186
os0.mkdir(path0)                                                       # STEP 187
os0.link(path0,path0)                                                  # STEP 188
str0 += 'b'                                                            # STEP 189
component4 = "omega"                                                   # STEP 190
bytes0 = 0                                                             # STEP 191
path0 = "/Volumes/ramdisk/test"                                        # STEP 192
result = stat4.st_nlink                                                # STEP 193
str4 += 'g'                                                            # STEP 194
file0.seek(bytes3)                                                     # STEP 195
str4 += 'o'                                                            # STEP 196
bytes0 += 1                                                            # STEP 197
str1 += 't'                                                            # STEP 198
result = os0.path.isabs(path3)                                         # STEP 199
result = os0.path.isabs(path3)                                         # STEP 200
str0 += 'w'                                                            # STEP 201
result = file0.readline()                                              # STEP 202
str3 += 'o'                                                            # STEP 203
file0.seek(bytes0)                                                     # STEP 204
str4 += 'b'                                                            # STEP 205
file0.seek(bytes0)                                                     # STEP 206
str3 += 'n'                                                            # STEP 207
path0 += "/" + component2                                              # STEP 208
os0.link(path3,path2)                                                  # STEP 209
os0.symlink(path2,path3)                                               # STEP 210
str4 += 't'                                                            # STEP 211
result = os0.read(fd0,bytes4)                                          # STEP 212
str3 += 'm'                                                            # STEP 213
os0.link(path0,path2)                                                  # STEP 214
component2 = "a"                                                       # STEP 215
os0.link(path2,path0)                                                  # STEP 216
result = os0.path.exists(path0)                                        # STEP 217
str1 += 'y'                                                            # STEP 218
str0 = ""                                                              # STEP 219
result = os0.path.exists(path2)                                        # STEP 220
os0.symlink(path3,path3)                                               # STEP 221
os0.symlink(path0,path0)                                               # STEP 222
stat4 = os0.lstat(path0)                                               # STEP 223
str3 += 'a'                                                            # STEP 224
str3 += 'b'                                                            # STEP 225
os0.rename(path0,path2)                                                # STEP 226
os0.write(fd0,str1)                                                    # STEP 227
file0.write(str4)                                                      # STEP 228
str0 += 'm'                                                            # STEP 229
str0 += 's'                                                            # STEP 230
os0.remove(path0)                                                      # STEP 231
str3 += 'e'                                                            # STEP 232
result = stat4.st_size                                                 # STEP 233
ERROR: (<type 'exceptions.AssertionError'>, AssertionError(' (4) == (0) ',), <traceback object at 0x105d93368>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 21991, in act461
    try: assert result == result_REF, " (%s) == (%s) " % (result, result_REF)
FAILURE 7
component2 = "e"                                                         # STEP 0
component0 = "d"                                                         # STEP 1
component1 = "e"                                                         # STEP 2
component3 = "h"                                                         # STEP 3
component4 = "d"                                                         # STEP 4
bytes2 = 0                                                               # STEP 5
str4 = ""                                                                # STEP 6
bytes0 = 0                                                               # STEP 7
os0 = newFakeOS()                                                        # STEP 8
opener0 = newFakeOpener(os0)                                             # STEP 9
path3 = "/Volumes/ramdisk/test"                                         # STEP 10
str4 += 'l'                                                             # STEP 11
result = os0.path.isabs(path3)                                          # STEP 12
os0.symlink(path3,path3)                                                # STEP 13
str4 += 'r'                                                             # STEP 14
str4 += 'w'                                                             # STEP 15
str1 = ""                                                               # STEP 16
str1 += 'd'                                                             # STEP 17
str1 += 'x'                                                             # STEP 18
path3 += "/" + component2                                               # STEP 19
str4 += 'p'                                                             # STEP 20
os0.link(path3,path3)                                                   # STEP 21
stat1 = os0.lstat(path3)                                                # STEP 22
str1 += 'e'                                                             # STEP 23
str4 += 'q'                                                             # STEP 24
str4 += 'k'                                                             # STEP 25
fd0 = os0.open(path3, os.O_CREAT)                                       # STEP 26
str1 += 'b'                                                             # STEP 27
bytes0 += 1                                                             # STEP 28
component2 = "f"                                                        # STEP 29
path3 += "/" + component0                                               # STEP 30
str4 += 'o'                                                             # STEP 31
str4 += 't'                                                             # STEP 32
stat2 = os0.fstat(fd0)                                                  # STEP 33
os0.close(fd0)                                                          # STEP 34
str4 += 'o'                                                             # STEP 35
path0 = "/Volumes/ramdisk/test"                                         # STEP 36
stat4 = os0.lstat(path3)                                                # STEP 37
result = stat2.st_nlink                                                 # STEP 38
bytes0 = 0                                                              # STEP 39
file0 = opener0(path0,'w')                                              # STEP 40
file0 = opener0(path3,'a')                                              # STEP 41
path3 += "/" + component2                                               # STEP 42
result = sorted(os0.listdir(path0))                                     # STEP 43
result = os0.read(fd0,bytes0)                                           # STEP 44
result = os0.readlink(path0)                                            # STEP 45
stat3 = os0.fstat(fd0)                                                  # STEP 46
component0 = "f"                                                        # STEP 47
str4 += 'm'                                                             # STEP 48
str4 += 'u'                                                             # STEP 49
component2 = "h"                                                        # STEP 50
str1 += 'b'                                                             # STEP 51
fd0 = os0.open(path3, os.O_WRONLY | os.O_APPEND)                        # STEP 52
result = sorted(os0.listdir(path3))                                     # STEP 53
str3 = ""                                                               # STEP 54
result = sorted(os0.listdir(path0))                                     # STEP 55
file0 = opener0(path0)                                                  # STEP 56
str4 += 'l'                                                             # STEP 57
stat1 = os0.fstat(fd0)                                                  # STEP 58
file0 = opener0(path3,'r')                                              # STEP 59
os0.remove(path3)                                                       # STEP 60
str0 = ""                                                               # STEP 61
file0 = opener0(path0,'r')                                              # STEP 62
result = stat2.st_nlink                                                 # STEP 63
str3 += 'b'                                                             # STEP 64
result = os0.read(fd0,bytes0)                                           # STEP 65
str4 = ""                                                               # STEP 66
os0.symlink(path3,path3)                                                # STEP 67
str0 += 'z'                                                             # STEP 68
str0 += 'j'                                                             # STEP 69
result = os0.path.islink(path3)                                         # STEP 70
result = os0.path.dirname(path3)                                        # STEP 71
str1 += 'c'                                                             # STEP 72
str3 += " "                                                             # STEP 73
path0 += "/" + component2                                               # STEP 74
component2 = "h"                                                        # STEP 75
file0 = opener0(path0,'a')                                              # STEP 76
os0.path.getsize(path3)                                                 # STEP 77
os0.rmdir(path3)                                                        # STEP 78
str4 += 'h'                                                             # STEP 79
str4 += 'u'                                                             # STEP 80
str3 += 'g'                                                             # STEP 81
str4 += 'a'                                                             # STEP 82
file0.flush()                                                           # STEP 83
result = file0.readline(bytes2)                                         # STEP 84
str1 += 'f'                                                             # STEP 85
str4 += 'e'                                                             # STEP 86
str0 += 't'                                                             # STEP 87
str4 += 'm'                                                             # STEP 88
str4 += 'd'                                                             # STEP 89
str0 += 'x'                                                             # STEP 90
os0.removedirs(path0)                                                   # STEP 91
str3 += 'r'                                                             # STEP 92
str4 += 'h'                                                             # STEP 93
path3 = "/Volumes/ramdisk/test"                                         # STEP 94
str4 += 't'                                                             # STEP 95
bytes4 = 0                                                              # STEP 96
str3 += 't'                                                             # STEP 97
str2 = ""                                                               # STEP 98
stat1 = os0.fstat(fd0)                                                  # STEP 99
str1 += 'g'                                                            # STEP 100
str4 += 'd'                                                            # STEP 101
str3 += 'l'                                                            # STEP 102
path0 += "/" + component2                                              # STEP 103
str0 += 'd'                                                            # STEP 104
str2 += 'l'                                                            # STEP 105
result = os0.path.lexists(path0)                                       # STEP 106
component2 = "b"                                                       # STEP 107
str2 += 'x'                                                            # STEP 108
str3 = ""                                                              # STEP 109
result = file0.readline(bytes4)                                        # STEP 110
str3 += 'u'                                                            # STEP 111
file0.flush()                                                          # STEP 112
str3 += 'c'                                                            # STEP 113
str1 += 't'                                                            # STEP 114
os0.link(path3,path0)                                                  # STEP 115
str3 += 'g'                                                            # STEP 116
str0 += 'z'                                                            # STEP 117
stat0 = os0.stat(path0)                                                # STEP 118
result = os0.path.exists(path0)                                        # STEP 119
str0 += 'v'                                                            # STEP 120
str2 += 'k'                                                            # STEP 121
str1 += 'd'                                                            # STEP 122
str1 += 'i'                                                            # STEP 123
result = file0.readline(bytes2)                                        # STEP 124
os0.remove(path0)                                                      # STEP 125
result = file0.readline(bytes4)                                        # STEP 126
os0.mkdir(path0)                                                       # STEP 127
str1 += 'i'                                                            # STEP 128
str3 += 'c'                                                            # STEP 129
str4 += 'n'                                                            # STEP 130
str0 += 'w'                                                            # STEP 131
str3 += 'a'                                                            # STEP 132
str1 += 'u'                                                            # STEP 133
str1 += 'i'                                                            # STEP 134
str4 += 'v'                                                            # STEP 135
result = stat1.st_nlink                                                # STEP 136
stat2 = os0.lstat(path0)                                               # STEP 137
str3 += 't'                                                            # STEP 138
str4 += 'i'                                                            # STEP 139
str2 += 'e'                                                            # STEP 140
str1 += 'v'                                                            # STEP 141
str0 += 'o'                                                            # STEP 142
str3 += 'u'                                                            # STEP 143
os0.rmdir(path0)                                                       # STEP 144
os0.symlink(path0,path0)                                               # STEP 145
str0 += 't'                                                            # STEP 146
os0.symlink(path0,path3)                                               # STEP 147
str3 += 'l'                                                            # STEP 148
str2 += 'd'                                                            # STEP 149
stat4 = os0.fstat(fd0)                                                 # STEP 150
result = os0.path.dirname(path3)                                       # STEP 151
str4 += 'i'                                                            # STEP 152
str2 += 'z'                                                            # STEP 153
stat1 = os0.stat(path0)                                                # STEP 154
str1 += 'k'                                                            # STEP 155
path0 += "/" + component1                                              # STEP 156
str3 += 'z'                                                            # STEP 157
result = file0.read(bytes0)                                            # STEP 158
result = os0.path.abspath(path0)                                       # STEP 159
str0 += 'n'                                                            # STEP 160
component1 = "omega"                                                   # STEP 161
str3 += 's'                                                            # STEP 162
bytes0 += 1                                                            # STEP 163
str1 += 'y'                                                            # STEP 164
str3 += 'd'                                                            # STEP 165
str4 += 'k'                                                            # STEP 166
stat3 = os0.stat(path0)                                                # STEP 167
os0.symlink(path3,path0)                                               # STEP 168
bytes2 += 1                                                            # STEP 169
str2 += 'l'                                                            # STEP 170
result = os0.read(fd0,bytes0)                                          # STEP 171
str2 += 'b'                                                            # STEP 172
str1 += " "                                                            # STEP 173
os0.link(path0,path3)                                                  # STEP 174
result = file0.readlines()                                             # STEP 175
ERROR: (<type 'exceptions.OSError'>, OSError(9, 'File is not open for reading.'), <traceback object at 0x106413368>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 28999, in act575
    result = self.p_file[0].readlines()
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4284, in read_error
    self._raise('File is not open for reading.')
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4112, in _raise
    raise OSError(errno.EBADF, message)
1172 BRANCHES COVERED
899 STATEMENTS COVERED
