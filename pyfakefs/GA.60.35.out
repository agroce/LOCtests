Random testing using config=Config(swarmSwitch=None, verbose=False, reducePool=False, failedLogging=None, exploitBestHint=1, greedyStutter=False, internal=False, exploit=0.8, seed=None, generalize=False, useHints=False, localize=False, total=False, speed='FAST', probs=None, normalize=False, verboseExploit=False, highLowSwarm=None, replayable=False, essentials=False, noCoverageExploit=False, quickTests=False, relax=False, enumerateEnabled=False, uniqueValuesAnalysis=False, swarm=False, noReassign=False, html=None, fastQuickAnalysis=False, progress=False, swarmLength=None, noSwarmDependencies=False, profile=False, LOCBaseline=0.2, noEnumerateEnabled=False, full=True, multiple=True, timedProgress=30, silentFail=True, stopWhenStatements=None, swarmP=0.5, stopWhenBranches=None, noAlphaConvert=False, coverFile='coverage.out', readQuick=False, verboseActions=False, running=False, computeFeatureStats=False, compareFails=False, swarmProbs=None, output='failure.4731.test', genDepth=None, Pcrossover=0.2, quickAnalysis=False, keepLast=False, exploitCeiling=0.1, logging=None, LOCProbs=False, noCheck=False, maxTests=-1, noExceptionMatch=False, Pmutate=0.8, depth=100, showActions=False, throughput=False, noCover=False, timeout=60, stutter=None, uncaught=False, markov=None, startExploit=0)
UNCAUGHT EXCEPTION
ERROR: (<type 'exceptions.AssertionError'>, AssertionError(' (zmoleqnkhv ksyvehvj) == () ',), <traceback object at 0x1062ad830>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 28322, in act563
    try: assert result == result_REF, " (%s) == (%s) " % (result, result_REF)
Original test has 138 steps

SAVING TEST AS failure.4731.test.0
FINAL VERSION OF TEST, WITH LOGGED REPLAY:
str1 = ""                                                                # STEP 0
component3 = "beta"                                                      # STEP 1
component4 = "a"                                                         # STEP 2
component1 = "lambda"                                                    # STEP 3
str1 += 'z'                                                              # STEP 4
bytes4 = 0                                                               # STEP 5
str1 += 'm'                                                              # STEP 6
component0 = "g"                                                         # STEP 7
component2 = "d"                                                         # STEP 8
bytes0 = 0                                                               # STEP 9
str1 += 'o'                                                             # STEP 10
bytes0 += 1                                                             # STEP 11
os0 = newFakeOS()                                                       # STEP 12
str4 = ""                                                               # STEP 13
str4 += 'f'                                                             # STEP 14
str4 += 'k'                                                             # STEP 15
str4 += " "                                                             # STEP 16
str1 += 'l'                                                             # STEP 17
str1 += 'e'                                                             # STEP 18
str1 += 'q'                                                             # STEP 19
str1 += 'n'                                                             # STEP 20
opener0 = newFakeOpener(os0)                                            # STEP 21
bytes0 = 0                                                              # STEP 22
bytes1 = 0                                                              # STEP 23
str1 += 'k'                                                             # STEP 24
str4 += 'p'                                                             # STEP 25
str1 += 'h'                                                             # STEP 26
str1 += 'v'                                                             # STEP 27
path1 = "/Volumes/ramdisk/test"                                         # STEP 28
bytes0 += 1                                                             # STEP 29
result = os0.path.isabs(path1)                                          # STEP 30
str1 += " "                                                             # STEP 31
path1 += "/" + component0                                               # STEP 32
fd0 = os0.open(path1, os.O_CREAT | os.O_WRONLY | os.O_TRUNC | os.O_EXCL)  # STEP 33
component0 = "a"                                                        # STEP 34
result = sorted(os0.listdir(path1))                                     # STEP 35
str1 += 'k'                                                             # STEP 36
result = os0.path.exists(path1)                                         # STEP 37
str4 += 'v'                                                             # STEP 38
str4 += 'z'                                                             # STEP 39
str1 += 's'                                                             # STEP 40
str0 = ""                                                               # STEP 41
file0 = opener0(path1,'r')                                              # STEP 42
file0.next()                                                            # STEP 43
str1 += 'y'                                                             # STEP 44
str1 += 'v'                                                             # STEP 45
str2 = ""                                                               # STEP 46
str0 += 'c'                                                             # STEP 47
str2 += 'a'                                                             # STEP 48
str4 += 'y'                                                             # STEP 49
file0.write(str0)                                                       # STEP 50
stat0 = os0.fstat(fd0)                                                  # STEP 51
str0 += 'i'                                                             # STEP 52
os0.rmdir(path1)                                                        # STEP 53
path1 += "/" + component4                                               # STEP 54
str4 += 's'                                                             # STEP 55
str1 += 'e'                                                             # STEP 56
str4 += 'z'                                                             # STEP 57
str0 += " "                                                             # STEP 58
component4 = "epsilon"                                                  # STEP 59
str1 += 'h'                                                             # STEP 60
str2 += 'm'                                                             # STEP 61
os0.link(path1,path1)                                                   # STEP 62
path2 = "/Volumes/ramdisk/test"                                         # STEP 63
result = os0.path.abspath(path2)                                        # STEP 64
str2 += 'l'                                                             # STEP 65
stat3 = os0.lstat(path1)                                                # STEP 66
path3 = "/Volumes/ramdisk/test"                                         # STEP 67
str1 += 'v'                                                             # STEP 68
result = file0.readline(bytes1)                                         # STEP 69
result = file0.readline(bytes0)                                         # STEP 70
file0.seek(bytes4)                                                      # STEP 71
str4 += 'g'                                                             # STEP 72
result = os0.path.exists(path2)                                         # STEP 73
str0 += 'g'                                                             # STEP 74
file0.next()                                                            # STEP 75
result = os0.path.islink(path1)                                         # STEP 76
stat1 = os0.lstat(path1)                                                # STEP 77
str1 += 'j'                                                             # STEP 78
result = os0.path.lexists(path1)                                        # STEP 79
os0.write(fd0,str1)                                                     # STEP 80
os0.makedirs(path2)                                                     # STEP 81
str4 += 'p'                                                             # STEP 82
str2 += 'v'                                                             # STEP 83
str0 += 'p'                                                             # STEP 84
str2 += 'o'                                                             # STEP 85
result = os0.path.isfile(path1)                                         # STEP 86
str0 += 'j'                                                             # STEP 87
os0.symlink(path3,path1)                                                # STEP 88
path3 += "/" + component0                                               # STEP 89
str4 += 'd'                                                             # STEP 90
result = os0.path.islink(path3)                                         # STEP 91
component0 = "alpha"                                                    # STEP 92
str1 += 'a'                                                             # STEP 93
os0.symlink(path2,path3)                                                # STEP 94
path1 += "/" + component3                                               # STEP 95
stat2 = os0.lstat(path3)                                                # STEP 96
stat1 = os0.stat(path1)                                                 # STEP 97
component3 = "epsilon"                                                  # STEP 98
str0 += 'z'                                                             # STEP 99
str1 += 'h'                                                            # STEP 100
os0.rename(path3,path2)                                                # STEP 101
str1 += 'a'                                                            # STEP 102
str0 += 'b'                                                            # STEP 103
result = file0.readline(bytes1)                                        # STEP 104
os0.makedirs(path2)                                                    # STEP 105
str1 += 'a'                                                            # STEP 106
os0.mkdir(path1)                                                       # STEP 107
str2 += 'j'                                                            # STEP 108
os0.link(path2,path3)                                                  # STEP 109
str4 += 'm'                                                            # STEP 110
path0 = "/Volumes/ramdisk/test"                                        # STEP 111
result = file0.read(bytes1)                                            # STEP 112
os0.link(path3,path0)                                                  # STEP 113
result = os0.path.isabs(path0)                                         # STEP 114
str4 += 'o'                                                            # STEP 115
os0.rename(path3,path1)                                                # STEP 116
str4 += 'u'                                                            # STEP 117
str2 += 'e'                                                            # STEP 118
str0 += 'o'                                                            # STEP 119
os0.removedirs(path1)                                                  # STEP 120
str4 += 'z'                                                            # STEP 121
path3 += "/" + component1                                              # STEP 122
result = os0.path.exists(path0)                                        # STEP 123
str2 += 'm'                                                            # STEP 124
str1 += 'r'                                                            # STEP 125
str2 += 'w'                                                            # STEP 126
os0.mkdir(path2)                                                       # STEP 127
os0.mkdir(path1)                                                       # STEP 128
str1 += 'y'                                                            # STEP 129
str4 += 'k'                                                            # STEP 130
str4 += 'j'                                                            # STEP 131
path3 += "/" + component2                                              # STEP 132
path0 += "/" + component0                                              # STEP 133
file0.write(str2)                                                      # STEP 134
result = sorted(os0.listdir(path1))                                    # STEP 135
str4 += 'k'                                                            # STEP 136
result = file0.read()                                                  # STEP 137
ERROR: (<type 'exceptions.AssertionError'>, AssertionError(' (zmoleqnkhv ksyvehvj) == () ',), <traceback object at 0x109e12dd0>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 28322, in act563
    try: assert result == result_REF, " (%s) == (%s) " % (result, result_REF)
FAILURE IS NEW, STORING; NOW 1 DISTINCT FAILURES
UNCAUGHT EXCEPTION
ERROR: (<type 'exceptions.AssertionError'>, AssertionError(" (['n t zwutb']) == ([]) ",), <traceback object at 0x1065585f0>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 29028, in act575
    try: assert result == result_REF, " (%s) == (%s) " % (result, result_REF)
Original test has 129 steps

SAVING TEST AS failure.4731.test.1
FINAL VERSION OF TEST, WITH LOGGED REPLAY:
str1 = ""                                                                # STEP 0
component3 = "beta"                                                      # STEP 1
component4 = "a"                                                         # STEP 2
component1 = "lambda"                                                    # STEP 3
str1 += 'z'                                                              # STEP 4
bytes4 = 0                                                               # STEP 5
str1 += 'm'                                                              # STEP 6
component0 = "g"                                                         # STEP 7
component2 = "d"                                                         # STEP 8
bytes0 = 0                                                               # STEP 9
str1 += 'o'                                                             # STEP 10
bytes0 += 1                                                             # STEP 11
os0 = newFakeOS()                                                       # STEP 12
str4 = ""                                                               # STEP 13
str4 += 'f'                                                             # STEP 14
str4 += 'k'                                                             # STEP 15
str4 += " "                                                             # STEP 16
str1 += 'l'                                                             # STEP 17
str1 += 'e'                                                             # STEP 18
str1 += 'q'                                                             # STEP 19
str1 += 'n'                                                             # STEP 20
opener0 = newFakeOpener(os0)                                            # STEP 21
bytes0 = 0                                                              # STEP 22
bytes1 = 0                                                              # STEP 23
str1 += 'k'                                                             # STEP 24
str4 += 'p'                                                             # STEP 25
str1 += 'h'                                                             # STEP 26
str1 += 'v'                                                             # STEP 27
path1 = "/Volumes/ramdisk/test"                                         # STEP 28
bytes0 += 1                                                             # STEP 29
result = os0.path.isabs(path1)                                          # STEP 30
str1 += " "                                                             # STEP 31
path1 += "/" + component0                                               # STEP 32
fd0 = os0.open(path1, os.O_CREAT | os.O_WRONLY | os.O_TRUNC | os.O_EXCL)  # STEP 33
component0 = "a"                                                        # STEP 34
result = sorted(os0.listdir(path1))                                     # STEP 35
str1 += 'k'                                                             # STEP 36
result = os0.path.exists(path1)                                         # STEP 37
str4 += 'v'                                                             # STEP 38
str4 += 'z'                                                             # STEP 39
str1 += 's'                                                             # STEP 40
str0 = ""                                                               # STEP 41
file0 = opener0(path1,'r')                                              # STEP 42
file0.next()                                                            # STEP 43
str1 += 'y'                                                             # STEP 44
str1 += 'v'                                                             # STEP 45
str2 = ""                                                               # STEP 46
str0 += 'c'                                                             # STEP 47
str2 += 'a'                                                             # STEP 48
str4 += 'y'                                                             # STEP 49
file0.write(str0)                                                       # STEP 50
stat0 = os0.fstat(fd0)                                                  # STEP 51
str0 += 'i'                                                             # STEP 52
os0.rmdir(path1)                                                        # STEP 53
path1 += "/" + component4                                               # STEP 54
str4 += 's'                                                             # STEP 55
str1 += 'e'                                                             # STEP 56
bytes0 = 0                                                              # STEP 57
str2 += 'z'                                                             # STEP 58
str3 = ""                                                               # STEP 59
str3 += 'n'                                                             # STEP 60
str0 += 'a'                                                             # STEP 61
str2 += 'z'                                                             # STEP 62
str0 += 'i'                                                             # STEP 63
str0 += 'w'                                                             # STEP 64
str2 += 'n'                                                             # STEP 65
str2 += 'g'                                                             # STEP 66
str2 += 'g'                                                             # STEP 67
str0 += 'y'                                                             # STEP 68
str0 += 't'                                                             # STEP 69
str3 += " "                                                             # STEP 70
str2 += 'b'                                                             # STEP 71
str0 += 'g'                                                             # STEP 72
str0 += 'x'                                                             # STEP 73
str0 += 'x'                                                             # STEP 74
str3 += 't'                                                             # STEP 75
str3 += " "                                                             # STEP 76
str0 += 'p'                                                             # STEP 77
str2 = ""                                                               # STEP 78
str3 += 'z'                                                             # STEP 79
str2 += 'h'                                                             # STEP 80
str2 += 'u'                                                             # STEP 81
str0 += 'm'                                                             # STEP 82
str0 = ""                                                               # STEP 83
str2 += 'n'                                                             # STEP 84
path1 = "/Volumes/ramdisk/test"                                         # STEP 85
str2 += 'c'                                                             # STEP 86
str2 += 'k'                                                             # STEP 87
str0 += 's'                                                             # STEP 88
result = os0.path.isabs(path1)                                          # STEP 89
str3 += 'w'                                                             # STEP 90
str1 = ""                                                               # STEP 91
path1 += "/" + component4                                               # STEP 92
str0 += 'l'                                                             # STEP 93
str1 += 'u'                                                             # STEP 94
str2 += 'n'                                                             # STEP 95
str3 += 'u'                                                             # STEP 96
str2 += 'l'                                                             # STEP 97
str0 += 't'                                                             # STEP 98
component4 = "delta"                                                    # STEP 99
str3 += 't'                                                            # STEP 100
bytes0 += 1                                                            # STEP 101
str2 += 't'                                                            # STEP 102
file0.next()                                                           # STEP 103
str1 += 's'                                                            # STEP 104
str1 += 'r'                                                            # STEP 105
os0.rmdir(path1)                                                       # STEP 106
path0 = "/Volumes/ramdisk/test"                                        # STEP 107
str2 += 'f'                                                            # STEP 108
path0 += "/" + component0                                              # STEP 109
str2 += 'f'                                                            # STEP 110
str0 += 'h'                                                            # STEP 111
str3 += 'b'                                                            # STEP 112
str2 += 't'                                                            # STEP 113
file0.flush()                                                          # STEP 114
str1 += 'f'                                                            # STEP 115
component0 = "d"                                                       # STEP 116
result = os0.path.exists(path1)                                        # STEP 117
str0 += 'm'                                                            # STEP 118
result = os0.readlink(path1)                                           # STEP 119
result = os0.readlink(path1)                                           # STEP 120
os0.link(path0,path1)                                                  # STEP 121
stat1 = os0.stat(path1)                                                # STEP 122
path4 = "/Volumes/ramdisk/test"                                        # STEP 123
os0.remove(path0)                                                      # STEP 124
path1 += "/" + component0                                              # STEP 125
os0.write(fd0,str3)                                                    # STEP 126
os0.symlink(path4,path1)                                               # STEP 127
result = file0.readlines()                                             # STEP 128
ERROR: (<type 'exceptions.AssertionError'>, AssertionError(" (['n t zwutb']) == ([]) ",), <traceback object at 0x1067b96c8>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 29028, in act575
    try: assert result == result_REF, " (%s) == (%s) " % (result, result_REF)
FAILURE IS NEW, STORING; NOW 2 DISTINCT FAILURES
UNCAUGHT EXCEPTION
ERROR: (<type 'exceptions.AssertionError'>, AssertionError(' (42) == (0) ',), <traceback object at 0x1068487e8>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 21826, in act458
    try: assert result == result_REF, " (%s) == (%s) " % (result, result_REF)
Original test has 436 steps

SAVING TEST AS failure.4731.test.2
FINAL VERSION OF TEST, WITH LOGGED REPLAY:
component4 = "lambda"                                                    # STEP 0
component1 = "g"                                                         # STEP 1
bytes4 = 0                                                               # STEP 2
path4 = "/Volumes/ramdisk/test"                                          # STEP 3
component0 = "g"                                                         # STEP 4
component3 = "alpha"                                                     # STEP 5
component2 = "g"                                                         # STEP 6
str0 = ""                                                                # STEP 7
os0 = newFakeOS()                                                        # STEP 8
result = os0.readlink(path4)                                             # STEP 9
str0 += 'd'                                                             # STEP 10
str0 += 't'                                                             # STEP 11
str2 = ""                                                               # STEP 12
path4 += "/" + component1                                               # STEP 13
str0 += 'a'                                                             # STEP 14
os0.symlink(path4,path4)                                                # STEP 15
str2 += 'p'                                                             # STEP 16
str0 += 'i'                                                             # STEP 17
str2 += 'l'                                                             # STEP 18
str2 += 'u'                                                             # STEP 19
str0 = ""                                                               # STEP 20
str2 += 'a'                                                             # STEP 21
str2 += 'j'                                                             # STEP 22
str0 += 't'                                                             # STEP 23
result = os0.path.exists(path4)                                         # STEP 24
str0 += 'y'                                                             # STEP 25
str2 += " "                                                             # STEP 26
str0 += 'q'                                                             # STEP 27
str2 += 'j'                                                             # STEP 28
stat1 = os0.stat(path4)                                                 # STEP 29
fd0 = os0.open(path4, os.O_CREAT | os.O_WRONLY | os.O_TRUNC | os.O_EXCL)  # STEP 30
bytes0 = 0                                                              # STEP 31
component1 = "g"                                                        # STEP 32
str2 += 'z'                                                             # STEP 33
str3 = ""                                                               # STEP 34
str3 += 'n'                                                             # STEP 35
str0 += 'a'                                                             # STEP 36
str2 += 'z'                                                             # STEP 37
fd0 = os0.open(path4, os.O_CREAT | os.O_WRONLY)                         # STEP 38
str0 += 'i'                                                             # STEP 39
str0 += 'w'                                                             # STEP 40
str2 += 'n'                                                             # STEP 41
str2 += 'g'                                                             # STEP 42
str2 += 'g'                                                             # STEP 43
str0 += 'y'                                                             # STEP 44
str0 += 't'                                                             # STEP 45
str3 += " "                                                             # STEP 46
str2 += 'b'                                                             # STEP 47
str0 += 'g'                                                             # STEP 48
str0 += 'x'                                                             # STEP 49
str0 += 'x'                                                             # STEP 50
str3 += 't'                                                             # STEP 51
result = os0.path.exists(path4)                                         # STEP 52
str3 += " "                                                             # STEP 53
str0 += 'p'                                                             # STEP 54
str2 = ""                                                               # STEP 55
str3 += 'z'                                                             # STEP 56
str2 += 'h'                                                             # STEP 57
str2 += 'u'                                                             # STEP 58
str0 += 'm'                                                             # STEP 59
str0 = ""                                                               # STEP 60
str2 += 'n'                                                             # STEP 61
path1 = "/Volumes/ramdisk/test"                                         # STEP 62
str2 += 'c'                                                             # STEP 63
str2 += 'k'                                                             # STEP 64
result = os0.readlink(path4)                                            # STEP 65
opener0 = newFakeOpener(os0)                                            # STEP 66
str0 += 's'                                                             # STEP 67
result = os0.path.isabs(path1)                                          # STEP 68
str3 += 'w'                                                             # STEP 69
file0 = opener0(path1,'w')                                              # STEP 70
str1 = ""                                                               # STEP 71
result = os0.path.exists(path4)                                         # STEP 72
path1 += "/" + component4                                               # STEP 73
file0 = opener0(path1,'a')                                              # STEP 74
str0 += 'l'                                                             # STEP 75
str1 += 'u'                                                             # STEP 76
str2 += 'n'                                                             # STEP 77
str3 += 'u'                                                             # STEP 78
stat1 = os0.stat(path4)                                                 # STEP 79
str2 += 'l'                                                             # STEP 80
str0 += 't'                                                             # STEP 81
component4 = "delta"                                                    # STEP 82
stat4 = os0.stat(path4)                                                 # STEP 83
str3 += 't'                                                             # STEP 84
str0 += 'p'                                                             # STEP 85
str2 += 't'                                                             # STEP 86
os0.removedirs(path4)                                                   # STEP 87
stat0 = os0.stat(path4)                                                 # STEP 88
fd0 = os0.open(path4, os.O_CREAT | os.O_WRONLY | os.O_EXCL)             # STEP 89
file0.next()                                                            # STEP 90
str1 += 's'                                                             # STEP 91
str1 += 'r'                                                             # STEP 92
os0.makedirs(path4)                                                     # STEP 93
os0.rmdir(path1)                                                        # STEP 94
fd0 = os0.open(path4, os.O_CREAT | os.O_WRONLY)                         # STEP 95
stat3 = os0.lstat(path4)                                                # STEP 96
path0 = "/Volumes/ramdisk/test"                                         # STEP 97
str2 += 'f'                                                             # STEP 98
path0 += "/" + component0                                               # STEP 99
os0.symlink(path1,path4)                                               # STEP 100
str2 += 'f'                                                            # STEP 101
str0 += 'h'                                                            # STEP 102
fd0 = os0.open(path0, os.O_WRONLY | os.O_APPEND)                       # STEP 103
str3 += 'b'                                                            # STEP 104
str2 += 't'                                                            # STEP 105
file0.flush()                                                          # STEP 106
result = os0.path.abspath(path4)                                       # STEP 107
str1 += 'f'                                                            # STEP 108
component0 = "d"                                                       # STEP 109
fd0 = os0.open(path4, os.O_CREAT | os.O_WRONLY | os.O_EXCL)            # STEP 110
str0 += 'm'                                                            # STEP 111
result = os0.readlink(path1)                                           # STEP 112
result = os0.readlink(path1)                                           # STEP 113
os0.link(path0,path1)                                                  # STEP 114
stat1 = os0.stat(path1)                                                # STEP 115
result = stat3.st_size                                                 # STEP 116
path4 = "/Volumes/ramdisk/test"                                        # STEP 117
os0.remove(path0)                                                      # STEP 118
os0.link(path1,path0)                                                  # STEP 119
result = file0.read()                                                  # STEP 120
stat0 = os0.lstat(path0)                                               # STEP 121
fd0 = os0.open(path1, os.O_CREAT | os.O_WRONLY)                        # STEP 122
stat2 = os0.stat(path0)                                                # STEP 123
file0.write(str2)                                                      # STEP 124
str3 += 'd'                                                            # STEP 125
str3 += " "                                                            # STEP 126
result = sorted(os0.listdir(path0))                                    # STEP 127
result = os0.path.islink(path4)                                        # STEP 128
os0.rename(path1,path0)                                                # STEP 129
str1 += 'h'                                                            # STEP 130
str0 += 'w'                                                            # STEP 131
path4 += "/" + component2                                              # STEP 132
str2 += " "                                                            # STEP 133
str3 += 'y'                                                            # STEP 134
str0 += 'h'                                                            # STEP 135
component2 = "h"                                                       # STEP 136
str1 += 'a'                                                            # STEP 137
stat3 = os0.lstat(path1)                                               # STEP 138
str2 += 'x'                                                            # STEP 139
os0.mkdir(path1)                                                       # STEP 140
str1 += 'l'                                                            # STEP 141
str2 += 's'                                                            # STEP 142
str3 += 'q'                                                            # STEP 143
str3 += 'c'                                                            # STEP 144
os0.link(path1,path0)                                                  # STEP 145
file0.write(str2)                                                      # STEP 146
str1 += 'i'                                                            # STEP 147
result = os0.path.lexists(path1)                                       # STEP 148
os0.symlink(path4,path4)                                               # STEP 149
str2 += 'n'                                                            # STEP 150
os0.makedirs(path0)                                                    # STEP 151
os0.close(fd0)                                                         # STEP 152
str0 += 'g'                                                            # STEP 153
str1 += 'd'                                                            # STEP 154
str0 += 'e'                                                            # STEP 155
str1 += 'o'                                                            # STEP 156
str3 += 'k'                                                            # STEP 157
os0.link(path1,path1)                                                  # STEP 158
str0 += 'y'                                                            # STEP 159
stat4 = os0.stat(path4)                                                # STEP 160
os0.path.getsize(path0)                                                # STEP 161
str1 += 'j'                                                            # STEP 162
fd0 = os0.open(path0, os.O_CREAT | os.O_WRONLY | os.O_TRUNC | os.O_EXCL)  # STEP 163
result = os0.path.islink(path1)                                        # STEP 164
str0 += 'e'                                                            # STEP 165
str1 += 'q'                                                            # STEP 166
result = os0.path.abspath(path0)                                       # STEP 167
result = stat1.st_nlink                                                # STEP 168
str3 += 'f'                                                            # STEP 169
result = stat3.st_nlink                                                # STEP 170
result = os0.path.isdir(path1)                                         # STEP 171
str1 += " "                                                            # STEP 172
os0.symlink(path4,path1)                                               # STEP 173
path4 += "/" + component2                                              # STEP 174
component2 = "epsilon"                                                 # STEP 175
path0 = "/Volumes/ramdisk/test"                                        # STEP 176
str3 += 'g'                                                            # STEP 177
str2 += 'e'                                                            # STEP 178
str2 += 'r'                                                            # STEP 179
str2 += 'd'                                                            # STEP 180
str0 += 'n'                                                            # STEP 181
str1 += 'j'                                                            # STEP 182
result = sorted(os0.listdir(path0))                                    # STEP 183
result = file0.readline(bytes4)                                        # STEP 184
os0.close(fd0)                                                         # STEP 185
path4 = "/Volumes/ramdisk/test"                                        # STEP 186
os0.mkdir(path0)                                                       # STEP 187
str1 += 'w'                                                            # STEP 188
str0 += 'd'                                                            # STEP 189
result = os0.path.isdir(path4)                                         # STEP 190
result = os0.path.abspath(path0)                                       # STEP 191
os0.symlink(path0,path4)                                               # STEP 192
result = os0.path.isabs(path0)                                         # STEP 193
str1 += 'z'                                                            # STEP 194
str1 += 't'                                                            # STEP 195
os0.symlink(path0,path4)                                               # STEP 196
path4 += "/" + component3                                              # STEP 197
file0.write(str3)                                                      # STEP 198
os0.makedirs(path1)                                                    # STEP 199
stat3 = os0.lstat(path1)                                               # STEP 200
str3 += 'e'                                                            # STEP 201
result = file0.readlines()                                             # STEP 202
str3 += 'u'                                                            # STEP 203
str1 += " "                                                            # STEP 204
str0 += 'x'                                                            # STEP 205
str2 += 'x'                                                            # STEP 206
path3 = "/Volumes/ramdisk/test"                                        # STEP 207
component3 = "e"                                                       # STEP 208
os0.remove(path1)                                                      # STEP 209
str1 += 'v'                                                            # STEP 210
os0.mkdir(path1)                                                       # STEP 211
str3 += 'a'                                                            # STEP 212
str3 += 'k'                                                            # STEP 213
result = stat1.st_nlink                                                # STEP 214
str1 += 'b'                                                            # STEP 215
str3 += 'c'                                                            # STEP 216
os0.symlink(path3,path4)                                               # STEP 217
os0.link(path4,path3)                                                  # STEP 218
result = stat3.st_nlink                                                # STEP 219
result = stat2.st_nlink                                                # STEP 220
path3 += "/" + component4                                              # STEP 221
fd0 = os0.open(path3, os.O_CREAT | os.O_WRONLY | os.O_TRUNC)           # STEP 222
path2 = "/Volumes/ramdisk/test"                                        # STEP 223
str3 += 'u'                                                            # STEP 224
str0 += 'd'                                                            # STEP 225
result = os0.read(fd0,bytes0)                                          # STEP 226
str0 += 'v'                                                            # STEP 227
path0 = "/Volumes/ramdisk/test"                                        # STEP 228
str0 += " "                                                            # STEP 229
path4 += "/" + component3                                              # STEP 230
result = os0.path.isfile(path1)                                        # STEP 231
os0.symlink(path2,path1)                                               # STEP 232
str2 += 'x'                                                            # STEP 233
str1 += 'z'                                                            # STEP 234
result = stat0.st_size                                                 # STEP 235
stat3 = os0.stat(path3)                                                # STEP 236
component3 = "gamma"                                                   # STEP 237
os0.link(path3,path2)                                                  # STEP 238
str0 += 'b'                                                            # STEP 239
os0.symlink(path3,path3)                                               # STEP 240
str2 += 'f'                                                            # STEP 241
result = os0.path.exists(path4)                                        # STEP 242
stat2 = os0.stat(path3)                                                # STEP 243
os0.link(path0,path4)                                                  # STEP 244
str3 += 'a'                                                            # STEP 245
component4 = "f"                                                       # STEP 246
bytes4 += 1                                                            # STEP 247
str3 += 'u'                                                            # STEP 248
path2 += "/" + component1                                              # STEP 249
path3 += "/" + component2                                              # STEP 250
os0.rmdir(path4)                                                       # STEP 251
component2 = "epsilon"                                                 # STEP 252
str3 += 'y'                                                            # STEP 253
stat0 = os0.stat(path1)                                                # STEP 254
os0.link(path0,path0)                                                  # STEP 255
os0.symlink(path4,path2)                                               # STEP 256
os0.makedirs(path4)                                                    # STEP 257
os0.link(path2,path1)                                                  # STEP 258
str1 += 'q'                                                            # STEP 259
str0 += 'h'                                                            # STEP 260
result = os0.path.isabs(path2)                                         # STEP 261
os0.symlink(path1,path1)                                               # STEP 262
component1 = "c"                                                       # STEP 263
str1 += 'c'                                                            # STEP 264
result = os0.path.dirname(path1)                                       # STEP 265
str1 += 'k'                                                            # STEP 266
stat1 = os0.stat(path2)                                                # STEP 267
os0.rmdir(path3)                                                       # STEP 268
os0.rename(path4,path1)                                                # STEP 269
str1 += 'i'                                                            # STEP 270
result = os0.path.isdir(path4)                                         # STEP 271
path2 += "/" + component1                                              # STEP 272
os0.symlink(path3,path1)                                               # STEP 273
os0.symlink(path3,path1)                                               # STEP 274
bytes4 = 0                                                             # STEP 275
os0.makedirs(path2)                                                    # STEP 276
str0 += 'j'                                                            # STEP 277
str2 += 'y'                                                            # STEP 278
os0.rmdir(path1)                                                       # STEP 279
path2 += "/" + component3                                              # STEP 280
str2 += 'r'                                                            # STEP 281
str1 += 'l'                                                            # STEP 282
os0.symlink(path4,path0)                                               # STEP 283
os0.mkdir(path1)                                                       # STEP 284
file0.write(str0)                                                      # STEP 285
file0.write(str1)                                                      # STEP 286
os0.removedirs(path2)                                                  # STEP 287
str0 += 'b'                                                            # STEP 288
os0.symlink(path4,path4)                                               # STEP 289
os0.link(path4,path0)                                                  # STEP 290
str2 += 'e'                                                            # STEP 291
component1 = "b"                                                       # STEP 292
str1 += 'v'                                                            # STEP 293
str2 += 'p'                                                            # STEP 294
result = os0.path.islink(path1)                                        # STEP 295
str3 += 'z'                                                            # STEP 296
result = os0.path.isfile(path3)                                        # STEP 297
result = os0.path.exists(path4)                                        # STEP 298
result = os0.readlink(path3)                                           # STEP 299
result = os0.path.islink(path4)                                        # STEP 300
path4 = "/Volumes/ramdisk/test"                                        # STEP 301
os0.link(path2,path3)                                                  # STEP 302
result = sorted(os0.listdir(path3))                                    # STEP 303
str1 += 'c'                                                            # STEP 304
str2 += 'b'                                                            # STEP 305
os0.link(path4,path3)                                                  # STEP 306
str3 += 'g'                                                            # STEP 307
path3 = "/Volumes/ramdisk/test"                                        # STEP 308
path2 = "/Volumes/ramdisk/test"                                        # STEP 309
str2 += 'p'                                                            # STEP 310
os0.makedirs(path0)                                                    # STEP 311
result = file0.readline(bytes0)                                        # STEP 312
os0.link(path0,path3)                                                  # STEP 313
str1 += 'e'                                                            # STEP 314
result = os0.path.dirname(path0)                                       # STEP 315
result = stat3.st_size                                                 # STEP 316
result = os0.readlink(path0)                                           # STEP 317
file0.truncate()                                                       # STEP 318
result = os0.path.isabs(path0)                                         # STEP 319
str1 += 'n'                                                            # STEP 320
path0 += "/" + component2                                              # STEP 321
os0.link(path2,path1)                                                  # STEP 322
component2 = "e"                                                       # STEP 323
component3 = "beta"                                                    # STEP 324
os0.mkdir(path1)                                                       # STEP 325
os0.link(path0,path4)                                                  # STEP 326
os0.rename(path1,path4)                                                # STEP 327
str0 += " "                                                            # STEP 328
result = os0.path.islink(path1)                                        # STEP 329
path4 = "/Volumes/ramdisk/test"                                        # STEP 330
os0.remove(path2)                                                      # STEP 331
result = os0.readlink(path0)                                           # STEP 332
str1 += 's'                                                            # STEP 333
result = os0.path.isfile(path3)                                        # STEP 334
os0.rename(path1,path0)                                                # STEP 335
path4 += "/" + component0                                              # STEP 336
str3 += 'y'                                                            # STEP 337
path1 += "/" + component1                                              # STEP 338
str1 += 'c'                                                            # STEP 339
os0.link(path4,path4)                                                  # STEP 340
str0 += 'k'                                                            # STEP 341
str1 += 'u'                                                            # STEP 342
os0.rename(path4,path3)                                                # STEP 343
os0.rename(path1,path3)                                                # STEP 344
result = os0.path.abspath(path4)                                       # STEP 345
os0.link(path4,path0)                                                  # STEP 346
str0 += 'd'                                                            # STEP 347
os0.link(path3,path2)                                                  # STEP 348
os0.rename(path1,path4)                                                # STEP 349
os0.makedirs(path3)                                                    # STEP 350
os0.symlink(path3,path4)                                               # STEP 351
path3 += "/" + component2                                              # STEP 352
path4 = "/Volumes/ramdisk/test"                                        # STEP 353
path3 += "/" + component3                                              # STEP 354
os0.link(path1,path2)                                                  # STEP 355
str0 += 'z'                                                            # STEP 356
os0.symlink(path0,path1)                                               # STEP 357
str0 += 'i'                                                            # STEP 358
str2 += 'x'                                                            # STEP 359
str2 += 'd'                                                            # STEP 360
os0.link(path0,path3)                                                  # STEP 361
path2 += "/" + component2                                              # STEP 362
os0.path.getsize(path3)                                                # STEP 363
path2 += "/" + component4                                              # STEP 364
str3 += 'n'                                                            # STEP 365
os0.rmdir(path1)                                                       # STEP 366
component1 = "c"                                                       # STEP 367
str1 += 'k'                                                            # STEP 368
component3 = "d"                                                       # STEP 369
str2 += 'o'                                                            # STEP 370
component0 = "h"                                                       # STEP 371
str2 += 'f'                                                            # STEP 372
str0 += 'r'                                                            # STEP 373
result = os0.path.lexists(path2)                                       # STEP 374
os0.makedirs(path2)                                                    # STEP 375
component2 = "d"                                                       # STEP 376
str2 += 'c'                                                            # STEP 377
bytes1 = 0                                                             # STEP 378
str3 += 'w'                                                            # STEP 379
str0 += 'a'                                                            # STEP 380
component4 = "phi"                                                     # STEP 381
str0 += 'q'                                                            # STEP 382
os0.rename(path0,path1)                                                # STEP 383
str1 += 'm'                                                            # STEP 384
path2 += "/" + component4                                              # STEP 385
result = file0.read(bytes4)                                            # STEP 386
str1 += 'y'                                                            # STEP 387
os0.symlink(path3,path0)                                               # STEP 388
bytes4 = 0                                                             # STEP 389
str2 += 'f'                                                            # STEP 390
os0.symlink(path1,path1)                                               # STEP 391
os0.removedirs(path2)                                                  # STEP 392
os0.rename(path1,path0)                                                # STEP 393
str0 = ""                                                              # STEP 394
str1 += 'g'                                                            # STEP 395
result = stat2.st_nlink                                                # STEP 396
os0.link(path1,path2)                                                  # STEP 397
str3 += 'n'                                                            # STEP 398
result = file0.read(bytes0)                                            # STEP 399
path1 += "/" + component3                                              # STEP 400
bytes1 += 1                                                            # STEP 401
result = os0.path.abspath(path0)                                       # STEP 402
result = stat4.st_nlink                                                # STEP 403
path1 += "/" + component4                                              # STEP 404
str0 += 'l'                                                            # STEP 405
str2 += 'z'                                                            # STEP 406
str2 += 'b'                                                            # STEP 407
os0.symlink(path0,path2)                                               # STEP 408
result = os0.path.abspath(path0)                                       # STEP 409
str0 += 'u'                                                            # STEP 410
path3 += "/" + component3                                              # STEP 411
os0.remove(path4)                                                      # STEP 412
result = os0.path.islink(path3)                                        # STEP 413
result = os0.path.abspath(path4)                                       # STEP 414
os0.mkdir(path3)                                                       # STEP 415
file0.write(str0)                                                      # STEP 416
str0 += " "                                                            # STEP 417
str1 += 'q'                                                            # STEP 418
result = os0.path.dirname(path3)                                       # STEP 419
os0.symlink(path1,path1)                                               # STEP 420
os0.link(path2,path1)                                                  # STEP 421
os0.mkdir(path3)                                                       # STEP 422
result = os0.read(fd0,bytes4)                                          # STEP 423
component3 = "omega"                                                   # STEP 424
str3 += 'o'                                                            # STEP 425
result = os0.readlink(path2)                                           # STEP 426
file0.write(str0)                                                      # STEP 427
result = stat2.st_size                                                 # STEP 428
path4 += "/" + component1                                              # STEP 429
file0.flush()                                                          # STEP 430
path3 += "/" + component3                                              # STEP 431
stat4 = os0.stat(path4)                                                # STEP 432
str1 += 'k'                                                            # STEP 433
component3 = "g"                                                       # STEP 434
result = stat1.st_size                                                 # STEP 435
ERROR: (<type 'exceptions.AssertionError'>, AssertionError(' (42) == (0) ',), <traceback object at 0x1068908c0>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 21826, in act458
    try: assert result == result_REF, " (%s) == (%s) " % (result, result_REF)
FAILURE IS NEW, STORING; NOW 3 DISTINCT FAILURES
UNCAUGHT EXCEPTION
ERROR: (<type 'exceptions.AssertionError'>, AssertionError(" (['zmoleqnkhv ksyvehvj']) == ([]) ",), <traceback object at 0x106d703b0>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 29028, in act575
    try: assert result == result_REF, " (%s) == (%s) " % (result, result_REF)
Original test has 185 steps

SAVING TEST AS failure.4731.test.3
FINAL VERSION OF TEST, WITH LOGGED REPLAY:
str1 = ""                                                                # STEP 0
component3 = "beta"                                                      # STEP 1
component4 = "a"                                                         # STEP 2
component1 = "lambda"                                                    # STEP 3
str1 += 'z'                                                              # STEP 4
bytes4 = 0                                                               # STEP 5
str1 += 'm'                                                              # STEP 6
component0 = "g"                                                         # STEP 7
component2 = "d"                                                         # STEP 8
bytes0 = 0                                                               # STEP 9
str1 += 'o'                                                             # STEP 10
bytes0 += 1                                                             # STEP 11
os0 = newFakeOS()                                                       # STEP 12
str4 = ""                                                               # STEP 13
str4 += 'f'                                                             # STEP 14
str4 += 'k'                                                             # STEP 15
str4 += " "                                                             # STEP 16
str1 += 'l'                                                             # STEP 17
str1 += 'e'                                                             # STEP 18
str1 += 'q'                                                             # STEP 19
str1 += 'n'                                                             # STEP 20
opener0 = newFakeOpener(os0)                                            # STEP 21
bytes0 = 0                                                              # STEP 22
bytes1 = 0                                                              # STEP 23
str1 += 'k'                                                             # STEP 24
str4 += 'p'                                                             # STEP 25
str1 += 'h'                                                             # STEP 26
str1 += 'v'                                                             # STEP 27
path1 = "/Volumes/ramdisk/test"                                         # STEP 28
bytes0 += 1                                                             # STEP 29
result = os0.path.isabs(path1)                                          # STEP 30
str1 += " "                                                             # STEP 31
path1 += "/" + component0                                               # STEP 32
fd0 = os0.open(path1, os.O_CREAT | os.O_WRONLY | os.O_TRUNC | os.O_EXCL)  # STEP 33
component0 = "a"                                                        # STEP 34
result = sorted(os0.listdir(path1))                                     # STEP 35
str1 += 'k'                                                             # STEP 36
result = os0.path.exists(path1)                                         # STEP 37
str4 += 'v'                                                             # STEP 38
str4 += 'z'                                                             # STEP 39
str1 += 's'                                                             # STEP 40
str0 = ""                                                               # STEP 41
file0 = opener0(path1,'r')                                              # STEP 42
file0.next()                                                            # STEP 43
str1 += 'y'                                                             # STEP 44
str1 += 'v'                                                             # STEP 45
str2 = ""                                                               # STEP 46
str0 += 'c'                                                             # STEP 47
str2 += 'a'                                                             # STEP 48
str4 += 'y'                                                             # STEP 49
stat0 = os0.fstat(fd0)                                                  # STEP 50
str0 += 'i'                                                             # STEP 51
os0.rmdir(path1)                                                        # STEP 52
path1 += "/" + component4                                               # STEP 53
str4 += 's'                                                             # STEP 54
str1 += 'e'                                                             # STEP 55
str4 += 'z'                                                             # STEP 56
str0 += " "                                                             # STEP 57
component4 = "epsilon"                                                  # STEP 58
str1 += 'h'                                                             # STEP 59
str2 += 'm'                                                             # STEP 60
os0.link(path1,path1)                                                   # STEP 61
path2 = "/Volumes/ramdisk/test"                                         # STEP 62
result = os0.path.abspath(path2)                                        # STEP 63
str2 += 'l'                                                             # STEP 64
stat3 = os0.lstat(path1)                                                # STEP 65
path3 = "/Volumes/ramdisk/test"                                         # STEP 66
str1 += 'v'                                                             # STEP 67
result = file0.readline(bytes1)                                         # STEP 68
result = file0.readline(bytes0)                                         # STEP 69
file0.seek(bytes4)                                                      # STEP 70
str4 += 'g'                                                             # STEP 71
result = os0.path.exists(path2)                                         # STEP 72
str0 += 'g'                                                             # STEP 73
file0.next()                                                            # STEP 74
result = os0.path.islink(path1)                                         # STEP 75
stat1 = os0.lstat(path1)                                                # STEP 76
str1 += 'j'                                                             # STEP 77
result = os0.path.lexists(path1)                                        # STEP 78
os0.write(fd0,str1)                                                     # STEP 79
os0.makedirs(path2)                                                     # STEP 80
str4 += 'p'                                                             # STEP 81
str2 += 'v'                                                             # STEP 82
str0 += 'p'                                                             # STEP 83
str2 += 'o'                                                             # STEP 84
result = os0.path.isfile(path1)                                         # STEP 85
str0 += 'j'                                                             # STEP 86
os0.symlink(path3,path1)                                                # STEP 87
path3 += "/" + component0                                               # STEP 88
str4 += 'd'                                                             # STEP 89
result = os0.path.islink(path3)                                         # STEP 90
component0 = "alpha"                                                    # STEP 91
str1 += 'a'                                                             # STEP 92
os0.symlink(path2,path3)                                                # STEP 93
path1 += "/" + component3                                               # STEP 94
stat2 = os0.lstat(path3)                                                # STEP 95
stat1 = os0.stat(path1)                                                 # STEP 96
component3 = "epsilon"                                                  # STEP 97
str0 += 'z'                                                             # STEP 98
str1 += 'h'                                                             # STEP 99
os0.rename(path3,path2)                                                # STEP 100
result = os0.read(fd0,bytes1)                                          # STEP 101
str0 += 'r'                                                            # STEP 102
bytes1 += 1                                                            # STEP 103
str4 += 'w'                                                            # STEP 104
str0 += 'j'                                                            # STEP 105
result = file0.read(bytes4)                                            # STEP 106
os0.remove(path1)                                                      # STEP 107
path1 = "/Volumes/ramdisk/test"                                        # STEP 108
file0.truncate()                                                       # STEP 109
file0.write(str2)                                                      # STEP 110
os0.link(path3,path1)                                                  # STEP 111
str2 += 'v'                                                            # STEP 112
file0.write(str2)                                                      # STEP 113
os0.makedirs(path1)                                                    # STEP 114
str4 += 'f'                                                            # STEP 115
result = os0.path.exists(path2)                                        # STEP 116
str1 = ""                                                              # STEP 117
str0 += 'b'                                                            # STEP 118
str0 += 'o'                                                            # STEP 119
os0.mkdir(path1)                                                       # STEP 120
str2 += 'o'                                                            # STEP 121
os0.close(fd0)                                                         # STEP 122
str4 += 'z'                                                            # STEP 123
str1 += 'x'                                                            # STEP 124
str0 += 'o'                                                            # STEP 125
str4 += 'o'                                                            # STEP 126
path4 = "/Volumes/ramdisk/test"                                        # STEP 127
os0.rename(path3,path2)                                                # STEP 128
str0 += 'b'                                                            # STEP 129
file0.write(str1)                                                      # STEP 130
os0.link(path2,path3)                                                  # STEP 131
os0.write(fd0,str0)                                                    # STEP 132
result = os0.path.dirname(path4)                                       # STEP 133
os0.link(path2,path3)                                                  # STEP 134
os0.remove(path3)                                                      # STEP 135
path0 = "/Volumes/ramdisk/test"                                        # STEP 136
os0.makedirs(path2)                                                    # STEP 137
str0 += 'x'                                                            # STEP 138
path1 += "/" + component1                                              # STEP 139
component1 = "g"                                                       # STEP 140
path2 += "/" + component2                                              # STEP 141
fd0 = os0.open(path3, os.O_RDONLY)                                     # STEP 142
path3 = "/Volumes/ramdisk/test"                                        # STEP 143
str2 += 's'                                                            # STEP 144
stat3 = os0.stat(path1)                                                # STEP 145
str0 += 'i'                                                            # STEP 146
component2 = "h"                                                       # STEP 147
str0 += 'f'                                                            # STEP 148
os0.rename(path2,path4)                                                # STEP 149
result = os0.path.isdir(path4)                                         # STEP 150
stat1 = os0.lstat(path1)                                               # STEP 151
str4 += 'l'                                                            # STEP 152
str1 += 'd'                                                            # STEP 153
result = file0.read(bytes4)                                            # STEP 154
os0.remove(path1)                                                      # STEP 155
str0 += 'l'                                                            # STEP 156
os0.link(path4,path4)                                                  # STEP 157
os0.link(path1,path0)                                                  # STEP 158
os0.link(path0,path0)                                                  # STEP 159
str4 += 'z'                                                            # STEP 160
os0.symlink(path3,path0)                                               # STEP 161
result = os0.path.lexists(path2)                                       # STEP 162
os0.rename(path1,path2)                                                # STEP 163
os0.symlink(path2,path3)                                               # STEP 164
os0.link(path2,path2)                                                  # STEP 165
str4 += 'e'                                                            # STEP 166
path4 = "/Volumes/ramdisk/test"                                        # STEP 167
os0.symlink(path4,path0)                                               # STEP 168
str0 += 'b'                                                            # STEP 169
path0 += "/" + component2                                              # STEP 170
os0.rmdir(path2)                                                       # STEP 171
str4 += 'c'                                                            # STEP 172
str2 += 'r'                                                            # STEP 173
stat3 = os0.lstat(path1)                                               # STEP 174
os0.mkdir(path3)                                                       # STEP 175
os0.link(path4,path2)                                                  # STEP 176
os0.write(fd0,str1)                                                    # STEP 177
str0 += 'v'                                                            # STEP 178
result = sorted(os0.listdir(path0))                                    # STEP 179
result = os0.path.abspath(path2)                                       # STEP 180
str0 += 'r'                                                            # STEP 181
file0.write(str0)                                                      # STEP 182
path4 += "/" + component0                                              # STEP 183
result = file0.readlines()                                             # STEP 184
ERROR: (<type 'exceptions.AssertionError'>, AssertionError(" (['zmoleqnkhv ksyvehvj']) == ([]) ",), <traceback object at 0x107a4ee60>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 29028, in act575
    try: assert result == result_REF, " (%s) == (%s) " % (result, result_REF)
FAILURE IS NEW, STORING; NOW 4 DISTINCT FAILURES
UNCAUGHT EXCEPTION
ERROR: (<type 'exceptions.AssertionError'>, AssertionError(' (z) == () ',), <traceback object at 0x108ca0320>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 28734, in act570
    try: assert result == result_REF, " (%s) == (%s) " % (result, result_REF)
Original test has 156 steps

SAVING TEST AS failure.4731.test.4
FINAL VERSION OF TEST, WITH LOGGED REPLAY:
str1 = ""                                                                # STEP 0
component3 = "beta"                                                      # STEP 1
component4 = "a"                                                         # STEP 2
component1 = "lambda"                                                    # STEP 3
str1 += 'z'                                                              # STEP 4
bytes4 = 0                                                               # STEP 5
str1 += 'm'                                                              # STEP 6
component0 = "g"                                                         # STEP 7
component2 = "d"                                                         # STEP 8
bytes0 = 0                                                               # STEP 9
str1 += 'o'                                                             # STEP 10
bytes0 += 1                                                             # STEP 11
os0 = newFakeOS()                                                       # STEP 12
str4 = ""                                                               # STEP 13
str4 += 'f'                                                             # STEP 14
str4 += 'k'                                                             # STEP 15
str4 += " "                                                             # STEP 16
str1 += 'l'                                                             # STEP 17
str1 += 'e'                                                             # STEP 18
str1 += 'q'                                                             # STEP 19
str1 += 'n'                                                             # STEP 20
opener0 = newFakeOpener(os0)                                            # STEP 21
bytes0 = 0                                                              # STEP 22
bytes1 = 0                                                              # STEP 23
str1 += 'k'                                                             # STEP 24
str4 += 'p'                                                             # STEP 25
str1 += 'h'                                                             # STEP 26
path1 = "/Volumes/ramdisk/test"                                         # STEP 27
bytes0 += 1                                                             # STEP 28
result = os0.path.isabs(path1)                                          # STEP 29
str1 += " "                                                             # STEP 30
path1 += "/" + component0                                               # STEP 31
fd0 = os0.open(path1, os.O_CREAT | os.O_WRONLY | os.O_TRUNC | os.O_EXCL)  # STEP 32
component0 = "a"                                                        # STEP 33
result = sorted(os0.listdir(path1))                                     # STEP 34
str1 += 'k'                                                             # STEP 35
result = os0.path.exists(path1)                                         # STEP 36
str4 += 'v'                                                             # STEP 37
str4 += 'z'                                                             # STEP 38
str1 += 's'                                                             # STEP 39
str0 = ""                                                               # STEP 40
file0 = opener0(path1,'r')                                              # STEP 41
file0.next()                                                            # STEP 42
str1 += 'y'                                                             # STEP 43
str1 += 'v'                                                             # STEP 44
str2 = ""                                                               # STEP 45
str0 += 'c'                                                             # STEP 46
str2 += 'a'                                                             # STEP 47
str4 += 'y'                                                             # STEP 48
stat0 = os0.fstat(fd0)                                                  # STEP 49
str0 += 'i'                                                             # STEP 50
os0.rmdir(path1)                                                        # STEP 51
path1 += "/" + component4                                               # STEP 52
str4 += 's'                                                             # STEP 53
str1 += 'e'                                                             # STEP 54
str4 += 'z'                                                             # STEP 55
str0 += " "                                                             # STEP 56
component4 = "epsilon"                                                  # STEP 57
str1 += 'h'                                                             # STEP 58
str2 += 'm'                                                             # STEP 59
os0.link(path1,path1)                                                   # STEP 60
path2 = "/Volumes/ramdisk/test"                                         # STEP 61
result = os0.path.abspath(path2)                                        # STEP 62
str2 += 'l'                                                             # STEP 63
stat3 = os0.lstat(path1)                                                # STEP 64
path3 = "/Volumes/ramdisk/test"                                         # STEP 65
str1 += 'v'                                                             # STEP 66
result = file0.readline(bytes1)                                         # STEP 67
result = file0.readline(bytes0)                                         # STEP 68
file0.seek(bytes4)                                                      # STEP 69
str4 += 'g'                                                             # STEP 70
result = os0.path.exists(path2)                                         # STEP 71
str0 += 'g'                                                             # STEP 72
file0.next()                                                            # STEP 73
result = os0.path.islink(path1)                                         # STEP 74
stat1 = os0.lstat(path1)                                                # STEP 75
str1 += 'j'                                                             # STEP 76
result = os0.path.lexists(path1)                                        # STEP 77
os0.write(fd0,str1)                                                     # STEP 78
os0.makedirs(path2)                                                     # STEP 79
str4 += 'p'                                                             # STEP 80
str2 += 'v'                                                             # STEP 81
str0 += 'p'                                                             # STEP 82
str2 += 'o'                                                             # STEP 83
result = os0.path.isfile(path1)                                         # STEP 84
str0 += 'j'                                                             # STEP 85
os0.symlink(path3,path1)                                                # STEP 86
path3 += "/" + component0                                               # STEP 87
str4 += 'd'                                                             # STEP 88
result = os0.path.islink(path3)                                         # STEP 89
component0 = "alpha"                                                    # STEP 90
str1 += 'a'                                                             # STEP 91
os0.symlink(path2,path3)                                                # STEP 92
path1 += "/" + component3                                               # STEP 93
stat2 = os0.lstat(path3)                                                # STEP 94
stat1 = os0.stat(path1)                                                 # STEP 95
component3 = "epsilon"                                                  # STEP 96
str0 += 'z'                                                             # STEP 97
str1 += 'h'                                                             # STEP 98
os0.rename(path3,path2)                                                 # STEP 99
result = os0.read(fd0,bytes1)                                          # STEP 100
str0 += 'r'                                                            # STEP 101
bytes1 += 1                                                            # STEP 102
str4 += 'w'                                                            # STEP 103
str0 += 'j'                                                            # STEP 104
result = file0.read(bytes4)                                            # STEP 105
os0.remove(path1)                                                      # STEP 106
path1 = "/Volumes/ramdisk/test"                                        # STEP 107
file0.truncate()                                                       # STEP 108
file0.write(str2)                                                      # STEP 109
os0.link(path3,path1)                                                  # STEP 110
str2 += 'v'                                                            # STEP 111
file0.write(str2)                                                      # STEP 112
os0.makedirs(path1)                                                    # STEP 113
str4 += 'f'                                                            # STEP 114
result = os0.path.exists(path2)                                        # STEP 115
str1 = ""                                                              # STEP 116
str0 += 'b'                                                            # STEP 117
str0 += 'o'                                                            # STEP 118
os0.mkdir(path1)                                                       # STEP 119
str2 += 'o'                                                            # STEP 120
os0.close(fd0)                                                         # STEP 121
str4 += 'z'                                                            # STEP 122
str1 += 'x'                                                            # STEP 123
str0 += 'o'                                                            # STEP 124
str4 += 'o'                                                            # STEP 125
path4 = "/Volumes/ramdisk/test"                                        # STEP 126
os0.rename(path3,path2)                                                # STEP 127
str0 += 'b'                                                            # STEP 128
file0.write(str1)                                                      # STEP 129
os0.link(path2,path3)                                                  # STEP 130
os0.write(fd0,str0)                                                    # STEP 131
result = os0.path.dirname(path4)                                       # STEP 132
os0.link(path2,path3)                                                  # STEP 133
os0.remove(path3)                                                      # STEP 134
os0.symlink(path2,path3)                                               # STEP 135
str1 += 'h'                                                            # STEP 136
str2 += 'z'                                                            # STEP 137
path1 += "/" + component1                                              # STEP 138
os0.link(path1,path1)                                                  # STEP 139
result = stat0.st_size                                                 # STEP 140
str1 += 'v'                                                            # STEP 141
result = os0.path.isfile(path4)                                        # STEP 142
os0.removedirs(path3)                                                  # STEP 143
path3 += "/" + component1                                              # STEP 144
str4 += 'w'                                                            # STEP 145
str1 += 'c'                                                            # STEP 146
os0.remove(path1)                                                      # STEP 147
str1 = ""                                                              # STEP 148
result = os0.path.isdir(path4)                                         # STEP 149
str0 += 'r'                                                            # STEP 150
os0.link(path3,path3)                                                  # STEP 151
os0.rename(path1,path4)                                                # STEP 152
str0 += 'u'                                                            # STEP 153
os0.rmdir(path1)                                                       # STEP 154
result = file0.readline(bytes0)                                        # STEP 155
ERROR: (<type 'exceptions.AssertionError'>, AssertionError(' (z) == () ',), <traceback object at 0x108e820e0>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 28734, in act570
    try: assert result == result_REF, " (%s) == (%s) " % (result, result_REF)
FAILURE IS NEW, STORING; NOW 5 DISTINCT FAILURES
UNCAUGHT EXCEPTION
ERROR: (<type 'exceptions.AssertionError'>, AssertionError(' (42) == (0) ',), <traceback object at 0x1064b47e8>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 21826, in act458
    try: assert result == result_REF, " (%s) == (%s) " % (result, result_REF)
Original test has 371 steps

SAVING TEST AS failure.4731.test.5
FINAL VERSION OF TEST, WITH LOGGED REPLAY:
component4 = "lambda"                                                    # STEP 0
component1 = "g"                                                         # STEP 1
bytes4 = 0                                                               # STEP 2
path4 = "/Volumes/ramdisk/test"                                          # STEP 3
component0 = "g"                                                         # STEP 4
component3 = "alpha"                                                     # STEP 5
component2 = "g"                                                         # STEP 6
str0 = ""                                                                # STEP 7
os0 = newFakeOS()                                                        # STEP 8
result = os0.readlink(path4)                                             # STEP 9
str0 += 'd'                                                             # STEP 10
str0 += 't'                                                             # STEP 11
str2 = ""                                                               # STEP 12
path4 += "/" + component1                                               # STEP 13
str0 += 'a'                                                             # STEP 14
os0.symlink(path4,path4)                                                # STEP 15
str2 += 'p'                                                             # STEP 16
str0 += 'i'                                                             # STEP 17
str2 += 'l'                                                             # STEP 18
str2 += 'u'                                                             # STEP 19
str0 = ""                                                               # STEP 20
str2 += 'a'                                                             # STEP 21
str2 += 'j'                                                             # STEP 22
str0 += 't'                                                             # STEP 23
result = os0.path.exists(path4)                                         # STEP 24
str0 += 'y'                                                             # STEP 25
str2 += " "                                                             # STEP 26
str0 += 'q'                                                             # STEP 27
str2 += 'j'                                                             # STEP 28
stat1 = os0.stat(path4)                                                 # STEP 29
fd0 = os0.open(path4, os.O_CREAT | os.O_WRONLY | os.O_TRUNC | os.O_EXCL)  # STEP 30
bytes0 = 0                                                              # STEP 31
component1 = "g"                                                        # STEP 32
str2 += 'z'                                                             # STEP 33
str3 = ""                                                               # STEP 34
str3 += 'n'                                                             # STEP 35
str0 += 'a'                                                             # STEP 36
str2 += 'z'                                                             # STEP 37
fd0 = os0.open(path4, os.O_CREAT | os.O_WRONLY)                         # STEP 38
str0 += 'i'                                                             # STEP 39
str0 += 'w'                                                             # STEP 40
str2 += 'n'                                                             # STEP 41
str2 += 'g'                                                             # STEP 42
str2 += 'g'                                                             # STEP 43
str0 += 'y'                                                             # STEP 44
str0 += 't'                                                             # STEP 45
str3 += " "                                                             # STEP 46
str2 += 'b'                                                             # STEP 47
str0 += 'g'                                                             # STEP 48
str0 += 'x'                                                             # STEP 49
str0 += 'x'                                                             # STEP 50
str3 += 't'                                                             # STEP 51
result = os0.path.exists(path4)                                         # STEP 52
str3 += " "                                                             # STEP 53
str0 += 'p'                                                             # STEP 54
str2 = ""                                                               # STEP 55
str3 += 'z'                                                             # STEP 56
str2 += 'h'                                                             # STEP 57
str2 += 'u'                                                             # STEP 58
str0 += 'm'                                                             # STEP 59
str0 = ""                                                               # STEP 60
str2 += 'n'                                                             # STEP 61
path1 = "/Volumes/ramdisk/test"                                         # STEP 62
str2 += 'c'                                                             # STEP 63
str2 += 'k'                                                             # STEP 64
result = os0.readlink(path4)                                            # STEP 65
opener0 = newFakeOpener(os0)                                            # STEP 66
str0 += 's'                                                             # STEP 67
result = os0.path.isabs(path1)                                          # STEP 68
str3 += 'w'                                                             # STEP 69
file0 = opener0(path1,'w')                                              # STEP 70
str1 = ""                                                               # STEP 71
result = os0.path.exists(path4)                                         # STEP 72
path1 += "/" + component4                                               # STEP 73
file0 = opener0(path1,'a')                                              # STEP 74
str0 += 'l'                                                             # STEP 75
str1 += 'u'                                                             # STEP 76
str2 += 'n'                                                             # STEP 77
str3 += 'u'                                                             # STEP 78
stat1 = os0.stat(path4)                                                 # STEP 79
str2 += 'l'                                                             # STEP 80
str0 += 't'                                                             # STEP 81
component4 = "delta"                                                    # STEP 82
stat4 = os0.stat(path4)                                                 # STEP 83
str3 += 't'                                                             # STEP 84
str0 += 'p'                                                             # STEP 85
str2 += 't'                                                             # STEP 86
os0.removedirs(path4)                                                   # STEP 87
stat0 = os0.stat(path4)                                                 # STEP 88
fd0 = os0.open(path4, os.O_CREAT | os.O_WRONLY | os.O_EXCL)             # STEP 89
file0.next()                                                            # STEP 90
str1 += 's'                                                             # STEP 91
str1 += 'r'                                                             # STEP 92
os0.makedirs(path4)                                                     # STEP 93
os0.rmdir(path1)                                                        # STEP 94
fd0 = os0.open(path4, os.O_CREAT | os.O_WRONLY)                         # STEP 95
stat3 = os0.lstat(path4)                                                # STEP 96
path0 = "/Volumes/ramdisk/test"                                         # STEP 97
str2 += 'f'                                                             # STEP 98
path0 += "/" + component0                                               # STEP 99
os0.symlink(path1,path4)                                               # STEP 100
str2 += 'f'                                                            # STEP 101
str0 += 'h'                                                            # STEP 102
fd0 = os0.open(path0, os.O_WRONLY | os.O_APPEND)                       # STEP 103
str3 += 'b'                                                            # STEP 104
str2 += 't'                                                            # STEP 105
file0.flush()                                                          # STEP 106
result = os0.path.abspath(path4)                                       # STEP 107
str1 += 'f'                                                            # STEP 108
component0 = "d"                                                       # STEP 109
fd0 = os0.open(path4, os.O_CREAT | os.O_WRONLY | os.O_EXCL)            # STEP 110
result = os0.path.exists(path1)                                        # STEP 111
str0 += 'm'                                                            # STEP 112
result = os0.readlink(path1)                                           # STEP 113
result = os0.readlink(path1)                                           # STEP 114
os0.link(path0,path1)                                                  # STEP 115
stat1 = os0.stat(path1)                                                # STEP 116
result = stat3.st_size                                                 # STEP 117
path4 = "/Volumes/ramdisk/test"                                        # STEP 118
os0.remove(path0)                                                      # STEP 119
os0.link(path1,path0)                                                  # STEP 120
result = file0.read()                                                  # STEP 121
stat0 = os0.lstat(path0)                                               # STEP 122
fd0 = os0.open(path1, os.O_CREAT | os.O_WRONLY)                        # STEP 123
stat2 = os0.stat(path0)                                                # STEP 124
file0.write(str2)                                                      # STEP 125
str3 += 'd'                                                            # STEP 126
str3 += " "                                                            # STEP 127
result = sorted(os0.listdir(path0))                                    # STEP 128
result = os0.path.islink(path4)                                        # STEP 129
os0.rename(path1,path0)                                                # STEP 130
str1 += 'h'                                                            # STEP 131
str0 += 'w'                                                            # STEP 132
path4 += "/" + component2                                              # STEP 133
str2 += " "                                                            # STEP 134
str3 += 'y'                                                            # STEP 135
str0 += 'h'                                                            # STEP 136
component2 = "h"                                                       # STEP 137
str1 += 'a'                                                            # STEP 138
stat3 = os0.lstat(path1)                                               # STEP 139
str2 += 'x'                                                            # STEP 140
os0.mkdir(path1)                                                       # STEP 141
str1 += 'l'                                                            # STEP 142
str2 += 's'                                                            # STEP 143
str3 += 'q'                                                            # STEP 144
str3 += 'c'                                                            # STEP 145
os0.link(path1,path0)                                                  # STEP 146
file0.write(str2)                                                      # STEP 147
str1 += 'i'                                                            # STEP 148
result = os0.path.lexists(path1)                                       # STEP 149
os0.symlink(path4,path4)                                               # STEP 150
str2 += 'n'                                                            # STEP 151
os0.makedirs(path0)                                                    # STEP 152
os0.close(fd0)                                                         # STEP 153
str0 += 'g'                                                            # STEP 154
str1 += 'd'                                                            # STEP 155
str0 += 'e'                                                            # STEP 156
str1 += 'o'                                                            # STEP 157
str3 += 'k'                                                            # STEP 158
os0.link(path1,path1)                                                  # STEP 159
str0 += 'y'                                                            # STEP 160
stat4 = os0.stat(path4)                                                # STEP 161
os0.path.getsize(path0)                                                # STEP 162
str1 += 'j'                                                            # STEP 163
fd0 = os0.open(path0, os.O_CREAT | os.O_WRONLY | os.O_TRUNC | os.O_EXCL)  # STEP 164
result = os0.path.islink(path1)                                        # STEP 165
str0 += 'e'                                                            # STEP 166
str1 += 'q'                                                            # STEP 167
result = os0.path.abspath(path0)                                       # STEP 168
result = stat1.st_nlink                                                # STEP 169
str3 += 'f'                                                            # STEP 170
result = stat3.st_nlink                                                # STEP 171
result = os0.path.isdir(path1)                                         # STEP 172
str1 += " "                                                            # STEP 173
os0.symlink(path4,path1)                                               # STEP 174
path4 += "/" + component2                                              # STEP 175
component2 = "epsilon"                                                 # STEP 176
path0 = "/Volumes/ramdisk/test"                                        # STEP 177
str3 += 'g'                                                            # STEP 178
str2 += 'e'                                                            # STEP 179
str2 += 'r'                                                            # STEP 180
str2 += 'd'                                                            # STEP 181
str0 += 'n'                                                            # STEP 182
str1 += 'j'                                                            # STEP 183
result = sorted(os0.listdir(path0))                                    # STEP 184
result = file0.readline(bytes4)                                        # STEP 185
os0.close(fd0)                                                         # STEP 186
path4 = "/Volumes/ramdisk/test"                                        # STEP 187
os0.mkdir(path0)                                                       # STEP 188
str1 += 'w'                                                            # STEP 189
str0 += 'd'                                                            # STEP 190
result = os0.path.isdir(path4)                                         # STEP 191
result = os0.path.abspath(path0)                                       # STEP 192
os0.symlink(path0,path4)                                               # STEP 193
result = os0.path.isabs(path0)                                         # STEP 194
str1 += 'z'                                                            # STEP 195
str1 += 't'                                                            # STEP 196
os0.symlink(path0,path4)                                               # STEP 197
path4 += "/" + component3                                              # STEP 198
file0.write(str3)                                                      # STEP 199
os0.makedirs(path1)                                                    # STEP 200
stat3 = os0.lstat(path1)                                               # STEP 201
str3 += 'e'                                                            # STEP 202
result = file0.readlines()                                             # STEP 203
str3 += 'u'                                                            # STEP 204
str1 += " "                                                            # STEP 205
str0 += 'x'                                                            # STEP 206
str2 += 'x'                                                            # STEP 207
path3 = "/Volumes/ramdisk/test"                                        # STEP 208
component3 = "e"                                                       # STEP 209
os0.remove(path1)                                                      # STEP 210
str1 += 'v'                                                            # STEP 211
os0.mkdir(path1)                                                       # STEP 212
str3 += 'a'                                                            # STEP 213
str3 += 'k'                                                            # STEP 214
result = stat1.st_nlink                                                # STEP 215
str1 += 'b'                                                            # STEP 216
str3 += 'c'                                                            # STEP 217
os0.symlink(path3,path4)                                               # STEP 218
os0.link(path4,path3)                                                  # STEP 219
result = stat3.st_nlink                                                # STEP 220
result = stat2.st_nlink                                                # STEP 221
path3 += "/" + component4                                              # STEP 222
fd0 = os0.open(path3, os.O_CREAT | os.O_WRONLY | os.O_TRUNC)           # STEP 223
path2 = "/Volumes/ramdisk/test"                                        # STEP 224
str3 += 'u'                                                            # STEP 225
str0 += 'd'                                                            # STEP 226
result = os0.read(fd0,bytes0)                                          # STEP 227
str0 += 'v'                                                            # STEP 228
path0 = "/Volumes/ramdisk/test"                                        # STEP 229
str0 += " "                                                            # STEP 230
path4 += "/" + component3                                              # STEP 231
result = os0.path.isfile(path1)                                        # STEP 232
os0.symlink(path2,path1)                                               # STEP 233
str2 += 'x'                                                            # STEP 234
str1 += 'z'                                                            # STEP 235
result = stat0.st_size                                                 # STEP 236
stat3 = os0.stat(path3)                                                # STEP 237
component3 = "gamma"                                                   # STEP 238
os0.link(path3,path2)                                                  # STEP 239
str0 += 'b'                                                            # STEP 240
os0.symlink(path3,path3)                                               # STEP 241
str2 += 'f'                                                            # STEP 242
result = os0.path.exists(path4)                                        # STEP 243
stat2 = os0.stat(path3)                                                # STEP 244
os0.link(path0,path4)                                                  # STEP 245
str3 += 'a'                                                            # STEP 246
component4 = "f"                                                       # STEP 247
bytes4 += 1                                                            # STEP 248
str3 += 'u'                                                            # STEP 249
path2 += "/" + component1                                              # STEP 250
path3 += "/" + component2                                              # STEP 251
os0.rmdir(path4)                                                       # STEP 252
component2 = "epsilon"                                                 # STEP 253
str3 += 'y'                                                            # STEP 254
stat0 = os0.stat(path1)                                                # STEP 255
os0.link(path0,path0)                                                  # STEP 256
os0.symlink(path4,path2)                                               # STEP 257
os0.makedirs(path4)                                                    # STEP 258
os0.link(path2,path1)                                                  # STEP 259
str1 += 'q'                                                            # STEP 260
str0 += 'h'                                                            # STEP 261
result = os0.path.isabs(path2)                                         # STEP 262
os0.symlink(path1,path1)                                               # STEP 263
component1 = "c"                                                       # STEP 264
str1 += 'c'                                                            # STEP 265
result = os0.path.dirname(path1)                                       # STEP 266
str1 += 'k'                                                            # STEP 267
stat1 = os0.stat(path2)                                                # STEP 268
os0.rmdir(path3)                                                       # STEP 269
os0.rename(path4,path1)                                                # STEP 270
str1 += 'i'                                                            # STEP 271
result = os0.path.isdir(path4)                                         # STEP 272
path2 += "/" + component1                                              # STEP 273
os0.symlink(path3,path1)                                               # STEP 274
os0.symlink(path3,path1)                                               # STEP 275
bytes4 = 0                                                             # STEP 276
os0.makedirs(path2)                                                    # STEP 277
str0 += 'j'                                                            # STEP 278
str2 += 'y'                                                            # STEP 279
os0.rmdir(path1)                                                       # STEP 280
path2 += "/" + component3                                              # STEP 281
str2 += 'r'                                                            # STEP 282
str1 += 'l'                                                            # STEP 283
os0.symlink(path4,path0)                                               # STEP 284
os0.mkdir(path1)                                                       # STEP 285
file0.write(str0)                                                      # STEP 286
file0.write(str1)                                                      # STEP 287
os0.removedirs(path2)                                                  # STEP 288
str0 += 'b'                                                            # STEP 289
os0.symlink(path4,path4)                                               # STEP 290
os0.link(path4,path0)                                                  # STEP 291
str2 += 'e'                                                            # STEP 292
component1 = "b"                                                       # STEP 293
str1 += 'v'                                                            # STEP 294
str2 += 'p'                                                            # STEP 295
result = os0.path.islink(path1)                                        # STEP 296
str3 += 'z'                                                            # STEP 297
result = os0.path.isfile(path3)                                        # STEP 298
result = os0.path.exists(path4)                                        # STEP 299
result = os0.readlink(path3)                                           # STEP 300
result = os0.path.islink(path4)                                        # STEP 301
path4 = "/Volumes/ramdisk/test"                                        # STEP 302
os0.link(path2,path3)                                                  # STEP 303
result = sorted(os0.listdir(path3))                                    # STEP 304
str1 += 'c'                                                            # STEP 305
str2 += 'b'                                                            # STEP 306
os0.link(path4,path3)                                                  # STEP 307
str3 += 'g'                                                            # STEP 308
path3 = "/Volumes/ramdisk/test"                                        # STEP 309
path2 = "/Volumes/ramdisk/test"                                        # STEP 310
str2 += 'p'                                                            # STEP 311
os0.makedirs(path0)                                                    # STEP 312
result = file0.readline(bytes0)                                        # STEP 313
os0.link(path0,path3)                                                  # STEP 314
str1 += 'e'                                                            # STEP 315
result = os0.path.dirname(path0)                                       # STEP 316
result = stat3.st_size                                                 # STEP 317
result = os0.readlink(path0)                                           # STEP 318
file0.truncate()                                                       # STEP 319
result = os0.path.isabs(path0)                                         # STEP 320
str1 += 'n'                                                            # STEP 321
path0 += "/" + component2                                              # STEP 322
os0.link(path2,path1)                                                  # STEP 323
component2 = "e"                                                       # STEP 324
component3 = "beta"                                                    # STEP 325
os0.mkdir(path1)                                                       # STEP 326
os0.link(path0,path4)                                                  # STEP 327
os0.rename(path1,path4)                                                # STEP 328
str0 += " "                                                            # STEP 329
result = os0.path.islink(path1)                                        # STEP 330
path4 = "/Volumes/ramdisk/test"                                        # STEP 331
os0.remove(path2)                                                      # STEP 332
result = os0.readlink(path0)                                           # STEP 333
str1 += 's'                                                            # STEP 334
result = os0.path.isfile(path3)                                        # STEP 335
os0.rename(path1,path0)                                                # STEP 336
str2 += 'v'                                                            # STEP 337
os0.rename(path1,path0)                                                # STEP 338
os0.link(path1,path3)                                                  # STEP 339
os0.write(fd0,str0)                                                    # STEP 340
result = os0.path.islink(path2)                                        # STEP 341
str2 += 'z'                                                            # STEP 342
os0.makedirs(path4)                                                    # STEP 343
os0.rmdir(path0)                                                       # STEP 344
path4 = "/Volumes/ramdisk/test"                                        # STEP 345
path4 += "/" + component3                                              # STEP 346
path1 = "/Volumes/ramdisk/test"                                        # STEP 347
result = os0.path.isabs(path0)                                         # STEP 348
str1 += 'g'                                                            # STEP 349
result = os0.path.dirname(path0)                                       # STEP 350
str2 += 'a'                                                            # STEP 351
str0 += 'v'                                                            # STEP 352
os0.symlink(path1,path4)                                               # STEP 353
os0.symlink(path1,path4)                                               # STEP 354
result = os0.path.dirname(path0)                                       # STEP 355
result = os0.readlink(path0)                                           # STEP 356
path2 += "/" + component4                                              # STEP 357
str1 += 'x'                                                            # STEP 358
str2 += 'b'                                                            # STEP 359
result = os0.path.dirname(path2)                                       # STEP 360
str3 += 'p'                                                            # STEP 361
str2 += 'r'                                                            # STEP 362
str0 += 'n'                                                            # STEP 363
os0.makedirs(path1)                                                    # STEP 364
os0.path.getsize(path0)                                                # STEP 365
str1 += 'c'                                                            # STEP 366
path4 += "/" + component0                                              # STEP 367
result = os0.path.abspath(path2)                                       # STEP 368
path0 += "/" + component3                                              # STEP 369
result = stat1.st_size                                                 # STEP 370
ERROR: (<type 'exceptions.AssertionError'>, AssertionError(' (42) == (0) ',), <traceback object at 0x106ad3440>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 21826, in act458
    try: assert result == result_REF, " (%s) == (%s) " % (result, result_REF)
FAILURE IS NEW, STORING; NOW 6 DISTINCT FAILURES
UNCAUGHT EXCEPTION
ERROR: (<type 'exceptions.AssertionError'>, AssertionError(' (11) == (0) ',), <traceback object at 0x106aef290>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 21936, in act460
    try: assert result == result_REF, " (%s) == (%s) " % (result, result_REF)
Original test has 272 steps

SAVING TEST AS failure.4731.test.6
FINAL VERSION OF TEST, WITH LOGGED REPLAY:
component4 = "lambda"                                                    # STEP 0
component1 = "g"                                                         # STEP 1
bytes4 = 0                                                               # STEP 2
path4 = "/Volumes/ramdisk/test"                                          # STEP 3
component0 = "g"                                                         # STEP 4
component3 = "alpha"                                                     # STEP 5
component2 = "g"                                                         # STEP 6
str0 = ""                                                                # STEP 7
os0 = newFakeOS()                                                        # STEP 8
result = os0.readlink(path4)                                             # STEP 9
str0 += 'd'                                                             # STEP 10
str0 += 't'                                                             # STEP 11
str2 = ""                                                               # STEP 12
path4 += "/" + component1                                               # STEP 13
str0 += 'a'                                                             # STEP 14
os0.symlink(path4,path4)                                                # STEP 15
str2 += 'p'                                                             # STEP 16
str0 += 'i'                                                             # STEP 17
str2 += 'l'                                                             # STEP 18
str2 += 'u'                                                             # STEP 19
str0 = ""                                                               # STEP 20
str2 += 'a'                                                             # STEP 21
str2 += 'j'                                                             # STEP 22
str0 += 't'                                                             # STEP 23
result = os0.path.exists(path4)                                         # STEP 24
str0 += 'y'                                                             # STEP 25
str2 += " "                                                             # STEP 26
str0 += 'q'                                                             # STEP 27
str2 += 'j'                                                             # STEP 28
stat1 = os0.stat(path4)                                                 # STEP 29
fd0 = os0.open(path4, os.O_CREAT | os.O_WRONLY | os.O_TRUNC | os.O_EXCL)  # STEP 30
bytes0 = 0                                                              # STEP 31
component1 = "g"                                                        # STEP 32
str2 += 'z'                                                             # STEP 33
str3 = ""                                                               # STEP 34
str3 += 'n'                                                             # STEP 35
str0 += 'a'                                                             # STEP 36
str2 += 'z'                                                             # STEP 37
fd0 = os0.open(path4, os.O_CREAT | os.O_WRONLY)                         # STEP 38
str0 += 'i'                                                             # STEP 39
str0 += 'w'                                                             # STEP 40
str2 += 'n'                                                             # STEP 41
str2 += 'g'                                                             # STEP 42
str2 += 'g'                                                             # STEP 43
str0 += 'y'                                                             # STEP 44
str0 += 't'                                                             # STEP 45
str3 += " "                                                             # STEP 46
str2 += 'b'                                                             # STEP 47
str0 += 'g'                                                             # STEP 48
str0 += 'x'                                                             # STEP 49
str0 += 'x'                                                             # STEP 50
str3 += 't'                                                             # STEP 51
result = os0.path.exists(path4)                                         # STEP 52
str3 += " "                                                             # STEP 53
str0 += 'p'                                                             # STEP 54
str2 = ""                                                               # STEP 55
str3 += 'z'                                                             # STEP 56
str2 += 'h'                                                             # STEP 57
str2 += 'u'                                                             # STEP 58
str0 += 'm'                                                             # STEP 59
str0 = ""                                                               # STEP 60
str2 += 'n'                                                             # STEP 61
path1 = "/Volumes/ramdisk/test"                                         # STEP 62
str2 += 'c'                                                             # STEP 63
str2 += 'k'                                                             # STEP 64
result = os0.readlink(path4)                                            # STEP 65
opener0 = newFakeOpener(os0)                                            # STEP 66
str0 += 's'                                                             # STEP 67
result = os0.path.isabs(path1)                                          # STEP 68
str3 += 'w'                                                             # STEP 69
file0 = opener0(path1,'w')                                              # STEP 70
str1 = ""                                                               # STEP 71
result = os0.path.exists(path4)                                         # STEP 72
path1 += "/" + component4                                               # STEP 73
file0 = opener0(path1,'a')                                              # STEP 74
str0 += 'l'                                                             # STEP 75
str1 += 'u'                                                             # STEP 76
str2 += 'n'                                                             # STEP 77
str3 += 'u'                                                             # STEP 78
stat1 = os0.stat(path4)                                                 # STEP 79
str2 += 'l'                                                             # STEP 80
stat3 = os0.lstat(path4)                                                # STEP 81
str0 += 't'                                                             # STEP 82
component4 = "delta"                                                    # STEP 83
result = stat3.st_nlink                                                 # STEP 84
stat4 = os0.stat(path4)                                                 # STEP 85
str3 += 't'                                                             # STEP 86
bytes0 += 1                                                             # STEP 87
str2 += 't'                                                             # STEP 88
os0.removedirs(path4)                                                   # STEP 89
stat0 = os0.stat(path4)                                                 # STEP 90
fd0 = os0.open(path4, os.O_CREAT | os.O_WRONLY | os.O_EXCL)             # STEP 91
file0.next()                                                            # STEP 92
str1 += 's'                                                             # STEP 93
str1 += 'r'                                                             # STEP 94
os0.makedirs(path4)                                                     # STEP 95
os0.rmdir(path1)                                                        # STEP 96
fd0 = os0.open(path4, os.O_CREAT | os.O_WRONLY)                         # STEP 97
stat3 = os0.lstat(path4)                                                # STEP 98
path0 = "/Volumes/ramdisk/test"                                         # STEP 99
str2 += 'f'                                                            # STEP 100
path0 += "/" + component0                                              # STEP 101
os0.symlink(path1,path4)                                               # STEP 102
str2 += 'f'                                                            # STEP 103
str0 += 'h'                                                            # STEP 104
fd0 = os0.open(path0, os.O_WRONLY | os.O_APPEND)                       # STEP 105
str3 += 'b'                                                            # STEP 106
str2 += 't'                                                            # STEP 107
file0.flush()                                                          # STEP 108
result = os0.path.abspath(path4)                                       # STEP 109
str1 += 'f'                                                            # STEP 110
component0 = "d"                                                       # STEP 111
fd0 = os0.open(path4, os.O_CREAT | os.O_WRONLY | os.O_EXCL)            # STEP 112
result = os0.path.exists(path1)                                        # STEP 113
str0 += 'm'                                                            # STEP 114
result = os0.readlink(path1)                                           # STEP 115
result = os0.readlink(path1)                                           # STEP 116
os0.link(path0,path1)                                                  # STEP 117
stat1 = os0.stat(path1)                                                # STEP 118
result = stat3.st_size                                                 # STEP 119
path4 = "/Volumes/ramdisk/test"                                        # STEP 120
os0.remove(path0)                                                      # STEP 121
os0.link(path1,path0)                                                  # STEP 122
result = file0.read()                                                  # STEP 123
stat0 = os0.lstat(path0)                                               # STEP 124
fd0 = os0.open(path1, os.O_CREAT | os.O_WRONLY)                        # STEP 125
stat2 = os0.stat(path0)                                                # STEP 126
file0.write(str2)                                                      # STEP 127
str3 += 'd'                                                            # STEP 128
str3 += " "                                                            # STEP 129
result = sorted(os0.listdir(path0))                                    # STEP 130
result = os0.path.islink(path4)                                        # STEP 131
os0.rename(path1,path0)                                                # STEP 132
str1 += 'h'                                                            # STEP 133
str0 += 'w'                                                            # STEP 134
path4 += "/" + component2                                              # STEP 135
str2 += " "                                                            # STEP 136
str3 += 'y'                                                            # STEP 137
str0 += 'h'                                                            # STEP 138
component2 = "h"                                                       # STEP 139
str1 += 'a'                                                            # STEP 140
stat3 = os0.lstat(path1)                                               # STEP 141
str2 += 'x'                                                            # STEP 142
os0.mkdir(path1)                                                       # STEP 143
str1 += 'l'                                                            # STEP 144
str2 += 's'                                                            # STEP 145
str3 += 'q'                                                            # STEP 146
str3 += 'c'                                                            # STEP 147
os0.link(path1,path0)                                                  # STEP 148
file0.write(str2)                                                      # STEP 149
str1 += 'i'                                                            # STEP 150
result = os0.path.lexists(path1)                                       # STEP 151
os0.symlink(path4,path4)                                               # STEP 152
str2 += 'n'                                                            # STEP 153
os0.makedirs(path0)                                                    # STEP 154
os0.close(fd0)                                                         # STEP 155
str0 += 'g'                                                            # STEP 156
str1 += 'd'                                                            # STEP 157
str0 += 'e'                                                            # STEP 158
str1 += 'o'                                                            # STEP 159
str3 += 'k'                                                            # STEP 160
os0.link(path1,path1)                                                  # STEP 161
str0 += 'y'                                                            # STEP 162
stat4 = os0.stat(path4)                                                # STEP 163
os0.path.getsize(path0)                                                # STEP 164
str1 += 'j'                                                            # STEP 165
fd0 = os0.open(path0, os.O_CREAT | os.O_WRONLY | os.O_TRUNC | os.O_EXCL)  # STEP 166
os0.link(path4,path1)                                                  # STEP 167
str3 += 'z'                                                            # STEP 168
str1 += 'w'                                                            # STEP 169
bytes3 = 0                                                             # STEP 170
file0.seek(bytes0)                                                     # STEP 171
result = file0.read(bytes3)                                            # STEP 172
bytes4 += 1                                                            # STEP 173
bytes2 = 0                                                             # STEP 174
os0.link(path1,path4)                                                  # STEP 175
str0 += 'k'                                                            # STEP 176
result = stat1.st_nlink                                                # STEP 177
os0.rename(path4,path1)                                                # STEP 178
str0 += 'k'                                                            # STEP 179
result = os0.path.abspath(path0)                                       # STEP 180
result = stat4.st_nlink                                                # STEP 181
str2 += 'y'                                                            # STEP 182
str0 += 'z'                                                            # STEP 183
str3 += 'w'                                                            # STEP 184
os0.path.getsize(path4)                                                # STEP 185
str0 += 'c'                                                            # STEP 186
stat1 = os0.lstat(path4)                                               # STEP 187
file0.seek(bytes3)                                                     # STEP 188
str3 += 'b'                                                            # STEP 189
result = os0.read(fd0,bytes2)                                          # STEP 190
str2 += 'y'                                                            # STEP 191
os0.link(path0,path1)                                                  # STEP 192
os0.symlink(path0,path1)                                               # STEP 193
str1 += 'l'                                                            # STEP 194
result = stat1.st_size                                                 # STEP 195
file0.seek(bytes4)                                                     # STEP 196
str2 += 'b'                                                            # STEP 197
os0.link(path1,path1)                                                  # STEP 198
str3 += 'o'                                                            # STEP 199
result = file0.read(bytes3)                                            # STEP 200
str1 += 'o'                                                            # STEP 201
str3 += 'f'                                                            # STEP 202
file0.flush()                                                          # STEP 203
str2 += 's'                                                            # STEP 204
str1 += 'g'                                                            # STEP 205
str2 += 'b'                                                            # STEP 206
str3 += 'z'                                                            # STEP 207
os0.path.getsize(path4)                                                # STEP 208
str2 += 'l'                                                            # STEP 209
os0.write(fd0,str2)                                                    # STEP 210
str3 += 'a'                                                            # STEP 211
stat1 = os0.lstat(path1)                                               # STEP 212
result = sorted(os0.listdir(path4))                                    # STEP 213
os0.link(path1,path1)                                                  # STEP 214
result = os0.readlink(path0)                                           # STEP 215
str3 += 'i'                                                            # STEP 216
bytes4 = 0                                                             # STEP 217
os0.rmdir(path4)                                                       # STEP 218
str1 += 'x'                                                            # STEP 219
str3 += 'i'                                                            # STEP 220
str2 += 'c'                                                            # STEP 221
stat4 = os0.stat(path4)                                                # STEP 222
result = file0.readlines()                                             # STEP 223
os0.link(path1,path4)                                                  # STEP 224
str0 += 'c'                                                            # STEP 225
str0 += 'b'                                                            # STEP 226
bytes1 = 0                                                             # STEP 227
file0.write(str0)                                                      # STEP 228
os0.makedirs(path1)                                                    # STEP 229
os0.close(fd0)                                                         # STEP 230
result = os0.read(fd0,bytes4)                                          # STEP 231
result = os0.path.isdir(path4)                                         # STEP 232
str2 += 'c'                                                            # STEP 233
str2 += 'g'                                                            # STEP 234
fd0 = os0.open(path1, os.O_CREAT | os.O_WRONLY | os.O_EXCL)            # STEP 235
path1 += "/" + component4                                              # STEP 236
str3 += 'o'                                                            # STEP 237
result = file0.read(bytes1)                                            # STEP 238
str1 += 't'                                                            # STEP 239
str1 += 'g'                                                            # STEP 240
os0.rename(path1,path0)                                                # STEP 241
path0 += "/" + component0                                              # STEP 242
component0 = "b"                                                       # STEP 243
result = os0.path.exists(path4)                                        # STEP 244
result = os0.path.islink(path4)                                        # STEP 245
bytes0 = 0                                                             # STEP 246
result = os0.path.isfile(path1)                                        # STEP 247
str0 += 'm'                                                            # STEP 248
str1 += 'i'                                                            # STEP 249
bytes0 += 1                                                            # STEP 250
result = os0.path.dirname(path4)                                       # STEP 251
str2 += 'j'                                                            # STEP 252
str3 += 'b'                                                            # STEP 253
result = file0.readlines()                                             # STEP 254
path3 = "/Volumes/ramdisk/test"                                        # STEP 255
result = os0.path.dirname(path1)                                       # STEP 256
os0.symlink(path3,path1)                                               # STEP 257
str0 += 'b'                                                            # STEP 258
result = os0.readlink(path1)                                           # STEP 259
component4 = "e"                                                       # STEP 260
os0.makedirs(path4)                                                    # STEP 261
bytes1 = 0                                                             # STEP 262
os0.rename(path1,path3)                                                # STEP 263
str1 += 'd'                                                            # STEP 264
result = sorted(os0.listdir(path3))                                    # STEP 265
result = file0.readline(bytes3)                                        # STEP 266
os0.makedirs(path1)                                                    # STEP 267
os0.link(path0,path4)                                                  # STEP 268
str2 += 'x'                                                            # STEP 269
str2 += 'u'                                                            # STEP 270
result = stat3.st_size                                                 # STEP 271
ERROR: (<type 'exceptions.AssertionError'>, AssertionError(' (11) == (0) ',), <traceback object at 0x106bfdef0>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 21936, in act460
    try: assert result == result_REF, " (%s) == (%s) " % (result, result_REF)
FAILURE IS NEW, STORING; NOW 7 DISTINCT FAILURES
UNCAUGHT EXCEPTION
ERROR: (<type 'exceptions.AssertionError'>, AssertionError(' (11) == (0) ',), <traceback object at 0x108e85ef0>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 21936, in act460
    try: assert result == result_REF, " (%s) == (%s) " % (result, result_REF)
Original test has 233 steps

SAVING TEST AS failure.4731.test.7
FINAL VERSION OF TEST, WITH LOGGED REPLAY:
component4 = "lambda"                                                    # STEP 0
component1 = "g"                                                         # STEP 1
bytes4 = 0                                                               # STEP 2
path4 = "/Volumes/ramdisk/test"                                          # STEP 3
component0 = "g"                                                         # STEP 4
component3 = "alpha"                                                     # STEP 5
component2 = "g"                                                         # STEP 6
str0 = ""                                                                # STEP 7
os0 = newFakeOS()                                                        # STEP 8
result = os0.readlink(path4)                                             # STEP 9
str0 += 'd'                                                             # STEP 10
str0 += 't'                                                             # STEP 11
str2 = ""                                                               # STEP 12
path4 += "/" + component1                                               # STEP 13
str0 += 'a'                                                             # STEP 14
os0.symlink(path4,path4)                                                # STEP 15
str2 += 'p'                                                             # STEP 16
str0 += 'i'                                                             # STEP 17
str2 += 'l'                                                             # STEP 18
str2 += 'u'                                                             # STEP 19
str0 = ""                                                               # STEP 20
str2 += 'a'                                                             # STEP 21
str2 += 'j'                                                             # STEP 22
str0 += 't'                                                             # STEP 23
result = os0.path.exists(path4)                                         # STEP 24
str0 += 'y'                                                             # STEP 25
str2 += " "                                                             # STEP 26
str0 += 'q'                                                             # STEP 27
str2 += 'j'                                                             # STEP 28
stat1 = os0.stat(path4)                                                 # STEP 29
fd0 = os0.open(path4, os.O_CREAT | os.O_WRONLY | os.O_TRUNC | os.O_EXCL)  # STEP 30
bytes0 = 0                                                              # STEP 31
component1 = "g"                                                        # STEP 32
str2 += 'z'                                                             # STEP 33
str3 = ""                                                               # STEP 34
str3 += 'n'                                                             # STEP 35
str0 += 'a'                                                             # STEP 36
str2 += 'z'                                                             # STEP 37
fd0 = os0.open(path4, os.O_CREAT | os.O_WRONLY)                         # STEP 38
str0 += 'i'                                                             # STEP 39
str0 += 'w'                                                             # STEP 40
str2 += 'n'                                                             # STEP 41
str2 += 'g'                                                             # STEP 42
str2 += 'g'                                                             # STEP 43
str0 += 'y'                                                             # STEP 44
str0 += 't'                                                             # STEP 45
str3 += " "                                                             # STEP 46
str2 += 'b'                                                             # STEP 47
str0 += 'g'                                                             # STEP 48
str0 += 'x'                                                             # STEP 49
str0 += 'x'                                                             # STEP 50
str3 += 't'                                                             # STEP 51
result = os0.path.exists(path4)                                         # STEP 52
str3 += " "                                                             # STEP 53
str0 += 'p'                                                             # STEP 54
str2 = ""                                                               # STEP 55
str3 += 'z'                                                             # STEP 56
str2 += 'h'                                                             # STEP 57
str2 += 'u'                                                             # STEP 58
str0 += 'm'                                                             # STEP 59
str0 = ""                                                               # STEP 60
str2 += 'n'                                                             # STEP 61
path1 = "/Volumes/ramdisk/test"                                         # STEP 62
str2 += 'c'                                                             # STEP 63
str2 += 'k'                                                             # STEP 64
result = os0.readlink(path4)                                            # STEP 65
opener0 = newFakeOpener(os0)                                            # STEP 66
str0 += 's'                                                             # STEP 67
result = os0.path.isabs(path1)                                          # STEP 68
str3 += 'w'                                                             # STEP 69
file0 = opener0(path1,'w')                                              # STEP 70
str1 = ""                                                               # STEP 71
result = os0.path.exists(path4)                                         # STEP 72
path1 += "/" + component4                                               # STEP 73
file0 = opener0(path1,'a')                                              # STEP 74
str0 += 'l'                                                             # STEP 75
str1 += 'u'                                                             # STEP 76
str2 += 'n'                                                             # STEP 77
str3 += 'u'                                                             # STEP 78
stat1 = os0.stat(path4)                                                 # STEP 79
str2 += 'l'                                                             # STEP 80
stat3 = os0.lstat(path4)                                                # STEP 81
str0 += 't'                                                             # STEP 82
component4 = "delta"                                                    # STEP 83
result = stat3.st_nlink                                                 # STEP 84
stat4 = os0.stat(path4)                                                 # STEP 85
str3 += 't'                                                             # STEP 86
bytes0 += 1                                                             # STEP 87
str2 += 't'                                                             # STEP 88
os0.removedirs(path4)                                                   # STEP 89
stat0 = os0.stat(path4)                                                 # STEP 90
fd0 = os0.open(path4, os.O_CREAT | os.O_WRONLY | os.O_EXCL)             # STEP 91
file0.next()                                                            # STEP 92
str1 += 's'                                                             # STEP 93
str1 += 'r'                                                             # STEP 94
os0.makedirs(path4)                                                     # STEP 95
os0.rmdir(path1)                                                        # STEP 96
fd0 = os0.open(path4, os.O_CREAT | os.O_WRONLY)                         # STEP 97
stat3 = os0.lstat(path4)                                                # STEP 98
path0 = "/Volumes/ramdisk/test"                                         # STEP 99
str2 += 'f'                                                            # STEP 100
path0 += "/" + component0                                              # STEP 101
os0.symlink(path1,path4)                                               # STEP 102
str2 += 'f'                                                            # STEP 103
str0 += 'h'                                                            # STEP 104
fd0 = os0.open(path0, os.O_WRONLY | os.O_APPEND)                       # STEP 105
str3 += 'b'                                                            # STEP 106
str2 += 't'                                                            # STEP 107
file0.flush()                                                          # STEP 108
result = os0.path.abspath(path4)                                       # STEP 109
str1 += 'f'                                                            # STEP 110
component0 = "d"                                                       # STEP 111
fd0 = os0.open(path4, os.O_CREAT | os.O_WRONLY | os.O_EXCL)            # STEP 112
result = os0.path.exists(path1)                                        # STEP 113
str0 += 'm'                                                            # STEP 114
result = os0.readlink(path1)                                           # STEP 115
result = os0.readlink(path1)                                           # STEP 116
os0.link(path0,path1)                                                  # STEP 117
stat1 = os0.stat(path1)                                                # STEP 118
result = stat3.st_size                                                 # STEP 119
path4 = "/Volumes/ramdisk/test"                                        # STEP 120
os0.remove(path0)                                                      # STEP 121
os0.link(path1,path0)                                                  # STEP 122
result = file0.read()                                                  # STEP 123
stat0 = os0.lstat(path0)                                               # STEP 124
fd0 = os0.open(path1, os.O_CREAT | os.O_WRONLY)                        # STEP 125
stat2 = os0.stat(path0)                                                # STEP 126
file0.write(str2)                                                      # STEP 127
str3 += 'd'                                                            # STEP 128
str3 += " "                                                            # STEP 129
result = sorted(os0.listdir(path0))                                    # STEP 130
result = os0.path.islink(path4)                                        # STEP 131
os0.rename(path1,path0)                                                # STEP 132
str1 += 'h'                                                            # STEP 133
str0 += 'w'                                                            # STEP 134
path4 += "/" + component2                                              # STEP 135
str2 += " "                                                            # STEP 136
str3 += 'y'                                                            # STEP 137
str0 += 'h'                                                            # STEP 138
component2 = "h"                                                       # STEP 139
str1 += 'a'                                                            # STEP 140
stat3 = os0.lstat(path1)                                               # STEP 141
str2 += 'x'                                                            # STEP 142
os0.mkdir(path1)                                                       # STEP 143
str1 += 'l'                                                            # STEP 144
str2 += 's'                                                            # STEP 145
str3 += 'q'                                                            # STEP 146
str3 += 'c'                                                            # STEP 147
os0.link(path1,path0)                                                  # STEP 148
file0.write(str2)                                                      # STEP 149
str1 += 'i'                                                            # STEP 150
result = os0.path.lexists(path1)                                       # STEP 151
os0.symlink(path4,path4)                                               # STEP 152
str2 += 'n'                                                            # STEP 153
os0.makedirs(path0)                                                    # STEP 154
os0.close(fd0)                                                         # STEP 155
str0 += 'g'                                                            # STEP 156
str1 += 'd'                                                            # STEP 157
str0 += 'e'                                                            # STEP 158
str1 += 'o'                                                            # STEP 159
str3 += 'k'                                                            # STEP 160
os0.link(path1,path1)                                                  # STEP 161
str0 += 'y'                                                            # STEP 162
stat4 = os0.stat(path4)                                                # STEP 163
os0.path.getsize(path0)                                                # STEP 164
str1 += 'j'                                                            # STEP 165
fd0 = os0.open(path0, os.O_CREAT | os.O_WRONLY | os.O_TRUNC | os.O_EXCL)  # STEP 166
os0.link(path4,path1)                                                  # STEP 167
str3 += 'z'                                                            # STEP 168
str1 += 'w'                                                            # STEP 169
bytes3 = 0                                                             # STEP 170
file0.seek(bytes0)                                                     # STEP 171
result = file0.read(bytes3)                                            # STEP 172
bytes4 += 1                                                            # STEP 173
bytes2 = 0                                                             # STEP 174
os0.link(path1,path4)                                                  # STEP 175
str0 += 'k'                                                            # STEP 176
result = stat1.st_nlink                                                # STEP 177
os0.rename(path4,path1)                                                # STEP 178
str0 += 'k'                                                            # STEP 179
result = os0.path.abspath(path0)                                       # STEP 180
result = stat4.st_nlink                                                # STEP 181
str2 += 'y'                                                            # STEP 182
str0 += 'z'                                                            # STEP 183
str3 += 'w'                                                            # STEP 184
os0.path.getsize(path4)                                                # STEP 185
str0 += 'c'                                                            # STEP 186
os0.rename(path4,path1)                                                # STEP 187
file0.seek(bytes3)                                                     # STEP 188
str3 += 'b'                                                            # STEP 189
result = os0.read(fd0,bytes2)                                          # STEP 190
file0.flush()                                                          # STEP 191
str1 += 'd'                                                            # STEP 192
str2 += 'g'                                                            # STEP 193
os0.rename(path1,path0)                                                # STEP 194
str3 += 'y'                                                            # STEP 195
str0 += 'y'                                                            # STEP 196
bytes2 = 0                                                             # STEP 197
str3 += 'j'                                                            # STEP 198
result = os0.path.dirname(path1)                                       # STEP 199
result = stat1.st_nlink                                                # STEP 200
os0.symlink(path0,path0)                                               # STEP 201
result = os0.path.islink(path1)                                        # STEP 202
result = sorted(os0.listdir(path1))                                    # STEP 203
str1 += 'i'                                                            # STEP 204
os0.mkdir(path0)                                                       # STEP 205
str0 += 'n'                                                            # STEP 206
result = file0.readline(bytes2)                                        # STEP 207
stat4 = os0.lstat(path1)                                               # STEP 208
bytes4 += 1                                                            # STEP 209
str0 += 'p'                                                            # STEP 210
str1 = ""                                                              # STEP 211
file0.seek(bytes0)                                                     # STEP 212
str3 += 'z'                                                            # STEP 213
bytes3 = 0                                                             # STEP 214
str1 += 'c'                                                            # STEP 215
str2 += 'a'                                                            # STEP 216
path1 = "/Volumes/ramdisk/test"                                        # STEP 217
str2 += 'y'                                                            # STEP 218
str3 += 'u'                                                            # STEP 219
str1 += 'h'                                                            # STEP 220
str3 += 'b'                                                            # STEP 221
str2 += 'c'                                                            # STEP 222
result = os0.path.exists(path0)                                        # STEP 223
stat1 = os0.lstat(path4)                                               # STEP 224
result = file0.read(bytes2)                                            # STEP 225
path2 = "/Volumes/ramdisk/test"                                        # STEP 226
os0.rename(path4,path1)                                                # STEP 227
path3 = "/Volumes/ramdisk/test"                                        # STEP 228
result = os0.path.isabs(path4)                                         # STEP 229
str1 += 'j'                                                            # STEP 230
os0.path.getsize(path0)                                                # STEP 231
result = stat3.st_size                                                 # STEP 232
ERROR: (<type 'exceptions.AssertionError'>, AssertionError(' (11) == (0) ',), <traceback object at 0x106ef87e8>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 21936, in act460
    try: assert result == result_REF, " (%s) == (%s) " % (result, result_REF)
FAILURE IS NEW, STORING; NOW 8 DISTINCT FAILURES
TEST #83 STEP #0 (0:00:30.426400) Sat Jul 22 01:55:04 2017 [ 887 stmts 1152 branches ] 7792 TOTAL ACTIONS (256.093393033/s)
UNCAUGHT EXCEPTION
ERROR: (<type 'exceptions.AssertionError'>, AssertionError(' (42) == (0) ',), <traceback object at 0x108aabf38>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 21826, in act458
    try: assert result == result_REF, " (%s) == (%s) " % (result, result_REF)
Original test has 516 steps

SAVING TEST AS failure.4731.test.8
FINAL VERSION OF TEST, WITH LOGGED REPLAY:
component4 = "lambda"                                                    # STEP 0
component1 = "g"                                                         # STEP 1
bytes4 = 0                                                               # STEP 2
path4 = "/Volumes/ramdisk/test"                                          # STEP 3
component0 = "g"                                                         # STEP 4
component3 = "alpha"                                                     # STEP 5
component2 = "g"                                                         # STEP 6
str0 = ""                                                                # STEP 7
os0 = newFakeOS()                                                        # STEP 8
result = os0.readlink(path4)                                             # STEP 9
str0 += 'd'                                                             # STEP 10
str0 += 't'                                                             # STEP 11
str2 = ""                                                               # STEP 12
path4 += "/" + component1                                               # STEP 13
str0 += 'a'                                                             # STEP 14
os0.symlink(path4,path4)                                                # STEP 15
str2 += 'p'                                                             # STEP 16
str0 += 'i'                                                             # STEP 17
str2 += 'l'                                                             # STEP 18
str2 += 'u'                                                             # STEP 19
str0 = ""                                                               # STEP 20
str2 += 'a'                                                             # STEP 21
str2 += 'j'                                                             # STEP 22
str0 += 't'                                                             # STEP 23
result = os0.path.exists(path4)                                         # STEP 24
str0 += 'y'                                                             # STEP 25
str2 += " "                                                             # STEP 26
str0 += 'q'                                                             # STEP 27
str2 += 'j'                                                             # STEP 28
stat1 = os0.stat(path4)                                                 # STEP 29
fd0 = os0.open(path4, os.O_CREAT | os.O_WRONLY | os.O_TRUNC | os.O_EXCL)  # STEP 30
bytes0 = 0                                                              # STEP 31
component1 = "g"                                                        # STEP 32
str2 += 'z'                                                             # STEP 33
str3 = ""                                                               # STEP 34
str3 += 'n'                                                             # STEP 35
str0 += 'a'                                                             # STEP 36
str2 += 'z'                                                             # STEP 37
fd0 = os0.open(path4, os.O_CREAT | os.O_WRONLY)                         # STEP 38
str0 += 'i'                                                             # STEP 39
str0 += 'w'                                                             # STEP 40
str2 += 'n'                                                             # STEP 41
str2 += 'g'                                                             # STEP 42
str2 += 'g'                                                             # STEP 43
str0 += 'y'                                                             # STEP 44
str0 += 't'                                                             # STEP 45
str3 += " "                                                             # STEP 46
str2 += 'b'                                                             # STEP 47
str0 += 'g'                                                             # STEP 48
str0 += 'x'                                                             # STEP 49
str0 += 'x'                                                             # STEP 50
str3 += 't'                                                             # STEP 51
result = os0.path.exists(path4)                                         # STEP 52
str3 += " "                                                             # STEP 53
str0 += 'p'                                                             # STEP 54
str2 = ""                                                               # STEP 55
str3 += 'z'                                                             # STEP 56
str2 += 'h'                                                             # STEP 57
str2 += 'u'                                                             # STEP 58
str0 += 'm'                                                             # STEP 59
str0 = ""                                                               # STEP 60
str2 += 'n'                                                             # STEP 61
path1 = "/Volumes/ramdisk/test"                                         # STEP 62
str2 += 'c'                                                             # STEP 63
str2 += 'k'                                                             # STEP 64
result = os0.readlink(path4)                                            # STEP 65
opener0 = newFakeOpener(os0)                                            # STEP 66
str0 += 's'                                                             # STEP 67
result = os0.path.isabs(path1)                                          # STEP 68
str3 += 'w'                                                             # STEP 69
file0 = opener0(path1,'w')                                              # STEP 70
str1 = ""                                                               # STEP 71
result = os0.path.exists(path4)                                         # STEP 72
path1 += "/" + component4                                               # STEP 73
file0 = opener0(path1,'a')                                              # STEP 74
str0 += 'l'                                                             # STEP 75
str1 += 'u'                                                             # STEP 76
str2 += 'n'                                                             # STEP 77
str3 += 'u'                                                             # STEP 78
stat1 = os0.stat(path4)                                                 # STEP 79
str2 += 'l'                                                             # STEP 80
str0 += 't'                                                             # STEP 81
component4 = "delta"                                                    # STEP 82
stat4 = os0.stat(path4)                                                 # STEP 83
str3 += 't'                                                             # STEP 84
str0 += 'p'                                                             # STEP 85
str2 += 't'                                                             # STEP 86
os0.removedirs(path4)                                                   # STEP 87
stat0 = os0.stat(path4)                                                 # STEP 88
fd0 = os0.open(path4, os.O_CREAT | os.O_WRONLY | os.O_EXCL)             # STEP 89
file0.next()                                                            # STEP 90
str1 += 's'                                                             # STEP 91
str1 += 'r'                                                             # STEP 92
os0.makedirs(path4)                                                     # STEP 93
os0.rmdir(path1)                                                        # STEP 94
fd0 = os0.open(path4, os.O_CREAT | os.O_WRONLY)                         # STEP 95
stat3 = os0.lstat(path4)                                                # STEP 96
path0 = "/Volumes/ramdisk/test"                                         # STEP 97
str2 += 'f'                                                             # STEP 98
path0 += "/" + component0                                               # STEP 99
os0.symlink(path1,path4)                                               # STEP 100
str2 += 'f'                                                            # STEP 101
str0 += 'h'                                                            # STEP 102
fd0 = os0.open(path0, os.O_WRONLY | os.O_APPEND)                       # STEP 103
str3 += 'b'                                                            # STEP 104
str2 += 't'                                                            # STEP 105
file0.flush()                                                          # STEP 106
result = os0.path.abspath(path4)                                       # STEP 107
str1 += 'f'                                                            # STEP 108
component0 = "d"                                                       # STEP 109
fd0 = os0.open(path4, os.O_CREAT | os.O_WRONLY | os.O_EXCL)            # STEP 110
result = os0.path.exists(path1)                                        # STEP 111
str0 += 'm'                                                            # STEP 112
result = os0.readlink(path1)                                           # STEP 113
result = os0.readlink(path1)                                           # STEP 114
os0.link(path0,path1)                                                  # STEP 115
stat1 = os0.stat(path1)                                                # STEP 116
result = stat3.st_size                                                 # STEP 117
path4 = "/Volumes/ramdisk/test"                                        # STEP 118
os0.remove(path0)                                                      # STEP 119
os0.link(path1,path0)                                                  # STEP 120
result = file0.read()                                                  # STEP 121
stat0 = os0.lstat(path0)                                               # STEP 122
fd0 = os0.open(path1, os.O_CREAT | os.O_WRONLY)                        # STEP 123
stat2 = os0.stat(path0)                                                # STEP 124
file0.write(str2)                                                      # STEP 125
str3 += 'd'                                                            # STEP 126
str3 += " "                                                            # STEP 127
result = sorted(os0.listdir(path0))                                    # STEP 128
result = os0.path.islink(path4)                                        # STEP 129
os0.rename(path1,path0)                                                # STEP 130
str1 += 'h'                                                            # STEP 131
str0 += 'w'                                                            # STEP 132
path4 += "/" + component2                                              # STEP 133
str2 += " "                                                            # STEP 134
str3 += 'y'                                                            # STEP 135
str0 += 'h'                                                            # STEP 136
component2 = "h"                                                       # STEP 137
str1 += 'a'                                                            # STEP 138
stat3 = os0.lstat(path1)                                               # STEP 139
str2 += 'x'                                                            # STEP 140
os0.mkdir(path1)                                                       # STEP 141
str1 += 'l'                                                            # STEP 142
str2 += 's'                                                            # STEP 143
str3 += 'q'                                                            # STEP 144
str3 += 'c'                                                            # STEP 145
os0.link(path1,path0)                                                  # STEP 146
file0.write(str2)                                                      # STEP 147
str1 += 'i'                                                            # STEP 148
result = os0.path.lexists(path1)                                       # STEP 149
os0.symlink(path4,path4)                                               # STEP 150
str2 += 'n'                                                            # STEP 151
os0.makedirs(path0)                                                    # STEP 152
os0.close(fd0)                                                         # STEP 153
str0 += 'g'                                                            # STEP 154
str1 += 'd'                                                            # STEP 155
str0 += 'e'                                                            # STEP 156
str1 += 'o'                                                            # STEP 157
str3 += 'k'                                                            # STEP 158
os0.link(path1,path1)                                                  # STEP 159
str0 += 'y'                                                            # STEP 160
stat4 = os0.stat(path4)                                                # STEP 161
os0.path.getsize(path0)                                                # STEP 162
str1 += 'j'                                                            # STEP 163
fd0 = os0.open(path0, os.O_CREAT | os.O_WRONLY | os.O_TRUNC | os.O_EXCL)  # STEP 164
result = os0.path.islink(path1)                                        # STEP 165
str0 += 'e'                                                            # STEP 166
str1 += 'q'                                                            # STEP 167
result = os0.path.abspath(path0)                                       # STEP 168
result = stat1.st_nlink                                                # STEP 169
str3 += 'f'                                                            # STEP 170
result = stat3.st_nlink                                                # STEP 171
result = os0.path.isdir(path1)                                         # STEP 172
str1 += " "                                                            # STEP 173
os0.symlink(path4,path1)                                               # STEP 174
path4 += "/" + component2                                              # STEP 175
component2 = "epsilon"                                                 # STEP 176
path0 = "/Volumes/ramdisk/test"                                        # STEP 177
str3 += 'g'                                                            # STEP 178
str2 += 'e'                                                            # STEP 179
str2 += 'r'                                                            # STEP 180
str2 += 'd'                                                            # STEP 181
str0 += 'n'                                                            # STEP 182
str1 += 'j'                                                            # STEP 183
result = sorted(os0.listdir(path0))                                    # STEP 184
result = file0.readline(bytes4)                                        # STEP 185
os0.close(fd0)                                                         # STEP 186
path4 = "/Volumes/ramdisk/test"                                        # STEP 187
os0.mkdir(path0)                                                       # STEP 188
str1 += 'w'                                                            # STEP 189
str0 += 'd'                                                            # STEP 190
result = os0.path.isdir(path4)                                         # STEP 191
result = os0.path.abspath(path0)                                       # STEP 192
os0.symlink(path0,path4)                                               # STEP 193
result = os0.path.isabs(path0)                                         # STEP 194
str1 += 'z'                                                            # STEP 195
str1 += 't'                                                            # STEP 196
os0.symlink(path0,path4)                                               # STEP 197
path4 += "/" + component3                                              # STEP 198
file0.write(str3)                                                      # STEP 199
os0.makedirs(path1)                                                    # STEP 200
stat3 = os0.lstat(path1)                                               # STEP 201
str3 += 'e'                                                            # STEP 202
result = file0.readlines()                                             # STEP 203
str3 += 'u'                                                            # STEP 204
str1 += " "                                                            # STEP 205
str0 += 'x'                                                            # STEP 206
str2 += 'x'                                                            # STEP 207
path3 = "/Volumes/ramdisk/test"                                        # STEP 208
component3 = "e"                                                       # STEP 209
os0.remove(path1)                                                      # STEP 210
str1 += 'v'                                                            # STEP 211
os0.mkdir(path1)                                                       # STEP 212
str3 += 'a'                                                            # STEP 213
str3 += 'k'                                                            # STEP 214
result = stat1.st_nlink                                                # STEP 215
str1 += 'b'                                                            # STEP 216
str3 += 'c'                                                            # STEP 217
os0.symlink(path3,path4)                                               # STEP 218
os0.link(path4,path3)                                                  # STEP 219
result = stat3.st_nlink                                                # STEP 220
result = stat2.st_nlink                                                # STEP 221
path3 += "/" + component4                                              # STEP 222
fd0 = os0.open(path3, os.O_CREAT | os.O_WRONLY | os.O_TRUNC)           # STEP 223
path2 = "/Volumes/ramdisk/test"                                        # STEP 224
str3 += 'u'                                                            # STEP 225
str0 += 'd'                                                            # STEP 226
result = os0.read(fd0,bytes0)                                          # STEP 227
str0 += 'v'                                                            # STEP 228
path0 = "/Volumes/ramdisk/test"                                        # STEP 229
str0 += " "                                                            # STEP 230
path4 += "/" + component3                                              # STEP 231
result = os0.path.isfile(path1)                                        # STEP 232
os0.symlink(path2,path1)                                               # STEP 233
str2 += 'x'                                                            # STEP 234
str1 += 'z'                                                            # STEP 235
result = stat0.st_size                                                 # STEP 236
stat3 = os0.stat(path3)                                                # STEP 237
component3 = "gamma"                                                   # STEP 238
os0.link(path3,path2)                                                  # STEP 239
str0 += 'b'                                                            # STEP 240
os0.symlink(path3,path3)                                               # STEP 241
str2 += 'f'                                                            # STEP 242
result = os0.path.exists(path4)                                        # STEP 243
stat2 = os0.stat(path3)                                                # STEP 244
os0.link(path0,path4)                                                  # STEP 245
str3 += 'a'                                                            # STEP 246
component4 = "f"                                                       # STEP 247
bytes4 += 1                                                            # STEP 248
str3 += 'u'                                                            # STEP 249
path2 += "/" + component1                                              # STEP 250
path3 += "/" + component2                                              # STEP 251
os0.rmdir(path4)                                                       # STEP 252
component2 = "epsilon"                                                 # STEP 253
str3 += 'y'                                                            # STEP 254
stat0 = os0.stat(path1)                                                # STEP 255
os0.link(path0,path0)                                                  # STEP 256
os0.symlink(path4,path2)                                               # STEP 257
os0.makedirs(path4)                                                    # STEP 258
os0.link(path2,path1)                                                  # STEP 259
str1 += 'q'                                                            # STEP 260
str0 += 'h'                                                            # STEP 261
result = os0.path.isabs(path2)                                         # STEP 262
os0.symlink(path1,path1)                                               # STEP 263
component1 = "c"                                                       # STEP 264
str1 += 'c'                                                            # STEP 265
result = os0.path.dirname(path1)                                       # STEP 266
str1 += 'k'                                                            # STEP 267
stat1 = os0.stat(path2)                                                # STEP 268
os0.rmdir(path3)                                                       # STEP 269
os0.rename(path4,path1)                                                # STEP 270
str1 += 'i'                                                            # STEP 271
result = os0.path.isdir(path4)                                         # STEP 272
path2 += "/" + component1                                              # STEP 273
os0.symlink(path3,path1)                                               # STEP 274
os0.symlink(path3,path1)                                               # STEP 275
bytes4 = 0                                                             # STEP 276
os0.makedirs(path2)                                                    # STEP 277
str0 += 'j'                                                            # STEP 278
str2 += 'y'                                                            # STEP 279
os0.rmdir(path1)                                                       # STEP 280
path2 += "/" + component3                                              # STEP 281
str2 += 'r'                                                            # STEP 282
str1 += 'l'                                                            # STEP 283
os0.symlink(path4,path0)                                               # STEP 284
os0.mkdir(path1)                                                       # STEP 285
file0.write(str0)                                                      # STEP 286
file0.write(str1)                                                      # STEP 287
os0.removedirs(path2)                                                  # STEP 288
str0 += 'b'                                                            # STEP 289
os0.symlink(path4,path4)                                               # STEP 290
os0.link(path4,path0)                                                  # STEP 291
path4 = "/Volumes/ramdisk/test"                                        # STEP 292
component3 = "alpha"                                                   # STEP 293
str0 = ""                                                              # STEP 294
result = os0.readlink(path4)                                           # STEP 295
str0 += 'd'                                                            # STEP 296
str0 += 't'                                                            # STEP 297
str2 = ""                                                              # STEP 298
path4 += "/" + component1                                              # STEP 299
str0 += 'a'                                                            # STEP 300
os0.symlink(path4,path4)                                               # STEP 301
str2 += 'p'                                                            # STEP 302
str0 += 'i'                                                            # STEP 303
str2 += 'l'                                                            # STEP 304
str0 = ""                                                              # STEP 305
result = os0.readlink(path4)                                           # STEP 306
str0 += 'd'                                                            # STEP 307
str0 += 't'                                                            # STEP 308
str2 = ""                                                              # STEP 309
path4 += "/" + component1                                              # STEP 310
str0 += 'a'                                                            # STEP 311
os0.symlink(path4,path4)                                               # STEP 312
str2 += 'p'                                                            # STEP 313
str0 += 'i'                                                            # STEP 314
str2 += 'l'                                                            # STEP 315
str2 += 'u'                                                            # STEP 316
str0 = ""                                                              # STEP 317
str2 += 'a'                                                            # STEP 318
str2 += 'j'                                                            # STEP 319
str0 += 't'                                                            # STEP 320
path4 += "/" + component4                                              # STEP 321
result = os0.path.exists(path4)                                        # STEP 322
str0 += 'y'                                                            # STEP 323
str2 += " "                                                            # STEP 324
component4 = "b"                                                       # STEP 325
str0 += 'q'                                                            # STEP 326
str2 += 'j'                                                            # STEP 327
bytes0 = 0                                                             # STEP 328
component1 = "g"                                                       # STEP 329
str2 += 'z'                                                            # STEP 330
str3 = ""                                                              # STEP 331
str3 += 'n'                                                            # STEP 332
str0 += 'a'                                                            # STEP 333
str2 += 'z'                                                            # STEP 334
str0 += 'i'                                                            # STEP 335
str0 += 'w'                                                            # STEP 336
str2 += 'n'                                                            # STEP 337
str2 += 'g'                                                            # STEP 338
str2 += 'g'                                                            # STEP 339
str0 += 'y'                                                            # STEP 340
str0 += 't'                                                            # STEP 341
str3 += 'u'                                                            # STEP 342
str3 += " "                                                            # STEP 343
str3 += 'b'                                                            # STEP 344
bytes4 += 1                                                            # STEP 345
str3 += 's'                                                            # STEP 346
str3 += 's'                                                            # STEP 347
str3 += 'e'                                                            # STEP 348
str3 += 'i'                                                            # STEP 349
bytes1 = 0                                                             # STEP 350
str3 += 'g'                                                            # STEP 351
str3 += 'c'                                                            # STEP 352
bytes1 += 1                                                            # STEP 353
str3 += 'd'                                                            # STEP 354
path4 = "/Volumes/ramdisk/test"                                        # STEP 355
path4 += "/" + component2                                              # STEP 356
str3 += 'r'                                                            # STEP 357
str3 += 'n'                                                            # STEP 358
str3 += 'j'                                                            # STEP 359
bytes0 += 1                                                            # STEP 360
component2 = "a"                                                       # STEP 361
str3 += 'j'                                                            # STEP 362
str3 += 's'                                                            # STEP 363
path4 += "/" + component3                                              # STEP 364
component3 = "c"                                                       # STEP 365
str1 = ""                                                              # STEP 366
str1 += 'p'                                                            # STEP 367
bytes3 = 0                                                             # STEP 368
result = os0.path.isabs(path4)                                         # STEP 369
bytes3 += 1                                                            # STEP 370
str1 += 'b'                                                            # STEP 371
str1 += 'a'                                                            # STEP 372
str3 += 'w'                                                            # STEP 373
bytes1 = 0                                                             # STEP 374
str3 += 'p'                                                            # STEP 375
result = os0.path.abspath(path4)                                       # STEP 376
str1 += 'm'                                                            # STEP 377
str1 += 'w'                                                            # STEP 378
bytes0 = 0                                                             # STEP 379
str1 += 'b'                                                            # STEP 380
result = os0.path.isdir(path4)                                         # STEP 381
bytes3 = 0                                                             # STEP 382
str3 += 'y'                                                            # STEP 383
str1 += 'x'                                                            # STEP 384
str3 += 'u'                                                            # STEP 385
str1 += 'g'                                                            # STEP 386
path4 += "/" + component3                                              # STEP 387
str1 += 'n'                                                            # STEP 388
str3 += 'c'                                                            # STEP 389
str1 += 'y'                                                            # STEP 390
str3 += 'x'                                                            # STEP 391
str1 += 'l'                                                            # STEP 392
path2 = "/Volumes/ramdisk/test"                                        # STEP 393
result = os0.readlink(path4)                                           # STEP 394
str1 += 'p'                                                            # STEP 395
result = os0.readlink(path2)                                           # STEP 396
bytes1 += 1                                                            # STEP 397
path2 += "/" + component3                                              # STEP 398
result = os0.path.dirname(path2)                                       # STEP 399
os0.makedirs(path2)                                                    # STEP 400
str3 += 'w'                                                            # STEP 401
result = os0.path.isabs(path4)                                         # STEP 402
result = os0.path.lexists(path2)                                       # STEP 403
result = os0.path.exists(path2)                                        # STEP 404
component3 = "h"                                                       # STEP 405
os0.removedirs(path2)                                                  # STEP 406
str2 += 'v'                                                            # STEP 407
result = os0.path.isfile(path2)                                        # STEP 408
str3 += 'm'                                                            # STEP 409
os0.symlink(path2,path2)                                               # STEP 410
os0.mkdir(path2)                                                       # STEP 411
path1 = "/Volumes/ramdisk/test"                                        # STEP 412
os0.link(path4,path2)                                                  # STEP 413
str3 += 'd'                                                            # STEP 414
str2 += 'g'                                                            # STEP 415
result = os0.path.isfile(path4)                                        # STEP 416
bytes3 += 1                                                            # STEP 417
path1 += "/" + component2                                              # STEP 418
path4 += "/" + component1                                              # STEP 419
str2 += 'm'                                                            # STEP 420
str2 += 'y'                                                            # STEP 421
str3 += 'r'                                                            # STEP 422
str0 += 'j'                                                            # STEP 423
result = os0.path.isdir(path4)                                         # STEP 424
os0.remove(path1)                                                      # STEP 425
os0.remove(path1)                                                      # STEP 426
component1 = "c"                                                       # STEP 427
str0 += 'i'                                                            # STEP 428
str3 += 'l'                                                            # STEP 429
str2 += 'w'                                                            # STEP 430
os0.remove(path4)                                                      # STEP 431
str3 += 'h'                                                            # STEP 432
str3 += 'l'                                                            # STEP 433
result = os0.path.isabs(path4)                                         # STEP 434
str0 += 'o'                                                            # STEP 435
path2 += "/" + component3                                              # STEP 436
component3 = "h"                                                       # STEP 437
os0.makedirs(path4)                                                    # STEP 438
str3 += 'v'                                                            # STEP 439
result = sorted(os0.listdir(path4))                                    # STEP 440
os0.link(path4,path1)                                                  # STEP 441
str2 += 's'                                                            # STEP 442
str2 += 'z'                                                            # STEP 443
str2 += 'z'                                                            # STEP 444
str2 += 'x'                                                            # STEP 445
component2 = "beta"                                                    # STEP 446
result = os0.path.islink(path2)                                        # STEP 447
str2 += 'q'                                                            # STEP 448
result = os0.path.isfile(path2)                                        # STEP 449
str1 += 'y'                                                            # STEP 450
result = os0.path.isdir(path1)                                         # STEP 451
os0.link(path2,path4)                                                  # STEP 452
str3 += 'p'                                                            # STEP 453
os0.symlink(path1,path4)                                               # STEP 454
str2 += 'w'                                                            # STEP 455
str3 += 'x'                                                            # STEP 456
os0.write(fd0,str0)                                                    # STEP 457
str0 += 'f'                                                            # STEP 458
bytes1 = 0                                                             # STEP 459
result = os0.path.islink(path1)                                        # STEP 460
str0 += 'r'                                                            # STEP 461
result = sorted(os0.listdir(path1))                                    # STEP 462
result = os0.path.dirname(path4)                                       # STEP 463
str2 += 'x'                                                            # STEP 464
result = os0.path.lexists(path4)                                       # STEP 465
str0 += 'c'                                                            # STEP 466
os0.mkdir(path1)                                                       # STEP 467
str1 += 'j'                                                            # STEP 468
str3 += 'v'                                                            # STEP 469
os0.makedirs(path4)                                                    # STEP 470
bytes4 += 1                                                            # STEP 471
os0.link(path1,path1)                                                  # STEP 472
result = os0.path.dirname(path1)                                       # STEP 473
os0.makedirs(path4)                                                    # STEP 474
os0.remove(path4)                                                      # STEP 475
result = os0.path.lexists(path2)                                       # STEP 476
result = os0.path.dirname(path4)                                       # STEP 477
result = os0.read(fd0,bytes1)                                          # STEP 478
result = stat2.st_size                                                 # STEP 479
str3 += 's'                                                            # STEP 480
str1 += 'p'                                                            # STEP 481
str3 += 'c'                                                            # STEP 482
str3 += 't'                                                            # STEP 483
str0 += 's'                                                            # STEP 484
file0.seek(bytes1)                                                     # STEP 485
result = os0.path.isfile(path1)                                        # STEP 486
os0.close(fd0)                                                         # STEP 487
str3 += 'q'                                                            # STEP 488
bytes4 = 0                                                             # STEP 489
str0 += 't'                                                            # STEP 490
str2 += 'y'                                                            # STEP 491
str1 += 'z'                                                            # STEP 492
str1 += 'q'                                                            # STEP 493
str1 += 'l'                                                            # STEP 494
result = os0.path.abspath(path3)                                       # STEP 495
os0.rename(path2,path4)                                                # STEP 496
result = os0.path.isabs(path4)                                         # STEP 497
fd0 = os0.open(path3, os.O_CREAT | os.O_EXCL)                          # STEP 498
file0.seek(bytes0)                                                     # STEP 499
result = os0.path.isabs(path0)                                         # STEP 500
os0.symlink(path2,path2)                                               # STEP 501
str1 += 'c'                                                            # STEP 502
str0 = ""                                                              # STEP 503
str0 += 'x'                                                            # STEP 504
result = sorted(os0.listdir(path3))                                    # STEP 505
result = os0.path.isdir(path0)                                         # STEP 506
os0.removedirs(path1)                                                  # STEP 507
os0.symlink(path1,path2)                                               # STEP 508
result = os0.path.islink(path0)                                        # STEP 509
result = os0.path.lexists(path1)                                       # STEP 510
stat2 = os0.lstat(path4)                                               # STEP 511
path0 += "/" + component2                                              # STEP 512
bytes1 += 1                                                            # STEP 513
os0.removedirs(path3)                                                  # STEP 514
result = stat1.st_size                                                 # STEP 515
ERROR: (<type 'exceptions.AssertionError'>, AssertionError(' (42) == (0) ',), <traceback object at 0x105dea6c8>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 21826, in act458
    try: assert result == result_REF, " (%s) == (%s) " % (result, result_REF)
FAILURE IS NEW, STORING; NOW 9 DISTINCT FAILURES
UNCAUGHT EXCEPTION
ERROR: (<type 'exceptions.AssertionError'>, AssertionError(' (25) == (0) ',), <traceback object at 0x10b063368>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 21991, in act461
    try: assert result == result_REF, " (%s) == (%s) " % (result, result_REF)
Original test has 361 steps

SAVING TEST AS failure.4731.test.9
FINAL VERSION OF TEST, WITH LOGGED REPLAY:
component4 = "lambda"                                                    # STEP 0
component1 = "g"                                                         # STEP 1
bytes4 = 0                                                               # STEP 2
path4 = "/Volumes/ramdisk/test"                                          # STEP 3
component0 = "g"                                                         # STEP 4
component3 = "alpha"                                                     # STEP 5
component2 = "g"                                                         # STEP 6
str0 = ""                                                                # STEP 7
os0 = newFakeOS()                                                        # STEP 8
result = os0.readlink(path4)                                             # STEP 9
str0 += 'd'                                                             # STEP 10
str0 += 't'                                                             # STEP 11
str2 = ""                                                               # STEP 12
path4 += "/" + component1                                               # STEP 13
str0 += 'a'                                                             # STEP 14
os0.symlink(path4,path4)                                                # STEP 15
str2 += 'p'                                                             # STEP 16
str0 += 'i'                                                             # STEP 17
str2 += 'l'                                                             # STEP 18
str2 += 'u'                                                             # STEP 19
str0 = ""                                                               # STEP 20
str2 += 'a'                                                             # STEP 21
str2 += 'j'                                                             # STEP 22
str0 += 't'                                                             # STEP 23
result = os0.path.exists(path4)                                         # STEP 24
str0 += 'y'                                                             # STEP 25
str2 += " "                                                             # STEP 26
str0 += 'q'                                                             # STEP 27
str2 += 'j'                                                             # STEP 28
stat1 = os0.stat(path4)                                                 # STEP 29
fd0 = os0.open(path4, os.O_CREAT | os.O_WRONLY | os.O_TRUNC | os.O_EXCL)  # STEP 30
bytes0 = 0                                                              # STEP 31
component1 = "g"                                                        # STEP 32
str2 += 'z'                                                             # STEP 33
str3 = ""                                                               # STEP 34
str3 += 'n'                                                             # STEP 35
str0 += 'a'                                                             # STEP 36
str2 += 'z'                                                             # STEP 37
fd0 = os0.open(path4, os.O_CREAT | os.O_WRONLY)                         # STEP 38
str0 += 'i'                                                             # STEP 39
str0 += 'w'                                                             # STEP 40
str2 += 'n'                                                             # STEP 41
str2 += 'g'                                                             # STEP 42
str2 += 'g'                                                             # STEP 43
str0 += 'y'                                                             # STEP 44
str0 += 't'                                                             # STEP 45
str3 += " "                                                             # STEP 46
str2 += 'b'                                                             # STEP 47
str0 += 'g'                                                             # STEP 48
str0 += 'x'                                                             # STEP 49
str0 += 'x'                                                             # STEP 50
str3 += 't'                                                             # STEP 51
result = os0.path.exists(path4)                                         # STEP 52
str3 += " "                                                             # STEP 53
str0 += 'p'                                                             # STEP 54
str2 = ""                                                               # STEP 55
str3 += 'z'                                                             # STEP 56
str2 += 'h'                                                             # STEP 57
str2 += 'u'                                                             # STEP 58
str0 += 'm'                                                             # STEP 59
str0 = ""                                                               # STEP 60
str2 += 'n'                                                             # STEP 61
path1 = "/Volumes/ramdisk/test"                                         # STEP 62
str2 += 'c'                                                             # STEP 63
str2 += 'k'                                                             # STEP 64
result = os0.readlink(path4)                                            # STEP 65
opener0 = newFakeOpener(os0)                                            # STEP 66
str0 += 's'                                                             # STEP 67
result = os0.path.isabs(path1)                                          # STEP 68
str3 += 'w'                                                             # STEP 69
file0 = opener0(path1,'w')                                              # STEP 70
str1 = ""                                                               # STEP 71
result = os0.path.exists(path4)                                         # STEP 72
path1 += "/" + component4                                               # STEP 73
file0 = opener0(path1,'a')                                              # STEP 74
str0 += 'l'                                                             # STEP 75
str1 += 'u'                                                             # STEP 76
str2 += 'n'                                                             # STEP 77
str3 += 'u'                                                             # STEP 78
stat1 = os0.stat(path4)                                                 # STEP 79
str2 += 'l'                                                             # STEP 80
str0 += 't'                                                             # STEP 81
component4 = "delta"                                                    # STEP 82
stat4 = os0.stat(path4)                                                 # STEP 83
str3 += 't'                                                             # STEP 84
str0 += 'p'                                                             # STEP 85
str2 += 't'                                                             # STEP 86
os0.removedirs(path4)                                                   # STEP 87
stat0 = os0.stat(path4)                                                 # STEP 88
fd0 = os0.open(path4, os.O_CREAT | os.O_WRONLY | os.O_EXCL)             # STEP 89
file0.next()                                                            # STEP 90
str1 += 's'                                                             # STEP 91
str1 += 'r'                                                             # STEP 92
os0.makedirs(path4)                                                     # STEP 93
os0.rmdir(path1)                                                        # STEP 94
fd0 = os0.open(path4, os.O_CREAT | os.O_WRONLY)                         # STEP 95
stat3 = os0.lstat(path4)                                                # STEP 96
path0 = "/Volumes/ramdisk/test"                                         # STEP 97
str2 += 'f'                                                             # STEP 98
path0 += "/" + component0                                               # STEP 99
os0.symlink(path1,path4)                                               # STEP 100
str2 += 'f'                                                            # STEP 101
str0 += 'h'                                                            # STEP 102
fd0 = os0.open(path0, os.O_WRONLY | os.O_APPEND)                       # STEP 103
str3 += 'b'                                                            # STEP 104
str2 += 't'                                                            # STEP 105
file0.flush()                                                          # STEP 106
result = os0.path.abspath(path4)                                       # STEP 107
str1 += 'f'                                                            # STEP 108
component0 = "d"                                                       # STEP 109
fd0 = os0.open(path4, os.O_CREAT | os.O_WRONLY | os.O_EXCL)            # STEP 110
result = os0.path.exists(path1)                                        # STEP 111
str0 += 'm'                                                            # STEP 112
result = os0.readlink(path1)                                           # STEP 113
result = os0.readlink(path1)                                           # STEP 114
os0.link(path0,path1)                                                  # STEP 115
stat1 = os0.stat(path1)                                                # STEP 116
result = stat3.st_size                                                 # STEP 117
path4 = "/Volumes/ramdisk/test"                                        # STEP 118
os0.remove(path0)                                                      # STEP 119
os0.link(path1,path0)                                                  # STEP 120
result = file0.read()                                                  # STEP 121
stat0 = os0.lstat(path0)                                               # STEP 122
fd0 = os0.open(path1, os.O_CREAT | os.O_WRONLY)                        # STEP 123
stat2 = os0.stat(path0)                                                # STEP 124
file0.write(str2)                                                      # STEP 125
str3 += 'd'                                                            # STEP 126
str3 += " "                                                            # STEP 127
result = sorted(os0.listdir(path0))                                    # STEP 128
result = os0.path.islink(path4)                                        # STEP 129
os0.rename(path1,path0)                                                # STEP 130
str1 += 'h'                                                            # STEP 131
str0 += 'w'                                                            # STEP 132
path4 += "/" + component2                                              # STEP 133
str2 += " "                                                            # STEP 134
str3 += 'y'                                                            # STEP 135
str0 += 'h'                                                            # STEP 136
component2 = "h"                                                       # STEP 137
str1 += 'a'                                                            # STEP 138
stat3 = os0.lstat(path1)                                               # STEP 139
str2 += 'x'                                                            # STEP 140
os0.mkdir(path1)                                                       # STEP 141
str1 += 'l'                                                            # STEP 142
str2 += 's'                                                            # STEP 143
str3 += 'q'                                                            # STEP 144
str3 += 'c'                                                            # STEP 145
os0.link(path1,path0)                                                  # STEP 146
file0.write(str2)                                                      # STEP 147
str1 += 'i'                                                            # STEP 148
result = os0.path.lexists(path1)                                       # STEP 149
os0.symlink(path4,path4)                                               # STEP 150
str2 += 'n'                                                            # STEP 151
os0.makedirs(path0)                                                    # STEP 152
os0.close(fd0)                                                         # STEP 153
str0 += 'g'                                                            # STEP 154
str1 += 'd'                                                            # STEP 155
str0 += 'e'                                                            # STEP 156
str1 += 'o'                                                            # STEP 157
str3 += 'k'                                                            # STEP 158
os0.link(path1,path1)                                                  # STEP 159
str0 += 'y'                                                            # STEP 160
stat4 = os0.stat(path4)                                                # STEP 161
os0.path.getsize(path0)                                                # STEP 162
str1 += 'j'                                                            # STEP 163
fd0 = os0.open(path0, os.O_CREAT | os.O_WRONLY | os.O_TRUNC | os.O_EXCL)  # STEP 164
result = os0.path.islink(path1)                                        # STEP 165
str0 += 'e'                                                            # STEP 166
str1 += 'q'                                                            # STEP 167
result = os0.path.abspath(path0)                                       # STEP 168
result = stat1.st_nlink                                                # STEP 169
str3 += 'f'                                                            # STEP 170
result = stat3.st_nlink                                                # STEP 171
result = os0.path.isdir(path1)                                         # STEP 172
str1 += " "                                                            # STEP 173
os0.symlink(path4,path1)                                               # STEP 174
path4 += "/" + component2                                              # STEP 175
component2 = "epsilon"                                                 # STEP 176
path0 = "/Volumes/ramdisk/test"                                        # STEP 177
str3 += 'g'                                                            # STEP 178
str2 += 'e'                                                            # STEP 179
str2 += 'r'                                                            # STEP 180
str2 += 'd'                                                            # STEP 181
str0 += 'n'                                                            # STEP 182
str1 += 'j'                                                            # STEP 183
result = sorted(os0.listdir(path0))                                    # STEP 184
result = file0.readline(bytes4)                                        # STEP 185
os0.close(fd0)                                                         # STEP 186
path4 = "/Volumes/ramdisk/test"                                        # STEP 187
os0.mkdir(path0)                                                       # STEP 188
str1 += 'w'                                                            # STEP 189
str0 += 'd'                                                            # STEP 190
result = os0.path.isdir(path4)                                         # STEP 191
result = os0.path.abspath(path0)                                       # STEP 192
os0.symlink(path0,path4)                                               # STEP 193
result = os0.path.isabs(path0)                                         # STEP 194
str1 += 'z'                                                            # STEP 195
str1 += 't'                                                            # STEP 196
os0.symlink(path0,path4)                                               # STEP 197
path4 += "/" + component3                                              # STEP 198
file0.write(str3)                                                      # STEP 199
os0.makedirs(path1)                                                    # STEP 200
stat3 = os0.lstat(path1)                                               # STEP 201
str3 += 'e'                                                            # STEP 202
result = file0.readlines()                                             # STEP 203
str3 += 'u'                                                            # STEP 204
str1 += " "                                                            # STEP 205
str0 += 'x'                                                            # STEP 206
str2 += 'x'                                                            # STEP 207
path3 = "/Volumes/ramdisk/test"                                        # STEP 208
component3 = "e"                                                       # STEP 209
os0.remove(path1)                                                      # STEP 210
str1 += 'v'                                                            # STEP 211
os0.mkdir(path1)                                                       # STEP 212
str3 += 'a'                                                            # STEP 213
str3 += 'k'                                                            # STEP 214
result = stat1.st_nlink                                                # STEP 215
str1 += 'b'                                                            # STEP 216
str3 += 'c'                                                            # STEP 217
os0.symlink(path3,path4)                                               # STEP 218
os0.link(path4,path3)                                                  # STEP 219
result = stat3.st_nlink                                                # STEP 220
result = stat2.st_nlink                                                # STEP 221
path3 += "/" + component4                                              # STEP 222
fd0 = os0.open(path3, os.O_CREAT | os.O_WRONLY | os.O_TRUNC)           # STEP 223
path2 = "/Volumes/ramdisk/test"                                        # STEP 224
str3 += 'u'                                                            # STEP 225
str0 += 'd'                                                            # STEP 226
result = os0.read(fd0,bytes0)                                          # STEP 227
str0 += 'v'                                                            # STEP 228
path0 = "/Volumes/ramdisk/test"                                        # STEP 229
str0 += " "                                                            # STEP 230
path4 += "/" + component3                                              # STEP 231
result = os0.path.isfile(path1)                                        # STEP 232
os0.symlink(path2,path1)                                               # STEP 233
str2 += 'x'                                                            # STEP 234
str1 += 'z'                                                            # STEP 235
result = stat0.st_size                                                 # STEP 236
stat3 = os0.stat(path3)                                                # STEP 237
component3 = "gamma"                                                   # STEP 238
os0.link(path3,path2)                                                  # STEP 239
str0 += 'b'                                                            # STEP 240
os0.symlink(path3,path3)                                               # STEP 241
str2 += 'f'                                                            # STEP 242
result = os0.path.exists(path4)                                        # STEP 243
stat2 = os0.stat(path3)                                                # STEP 244
os0.link(path0,path4)                                                  # STEP 245
str3 += 'a'                                                            # STEP 246
component4 = "f"                                                       # STEP 247
bytes4 += 1                                                            # STEP 248
str3 += 'u'                                                            # STEP 249
path2 += "/" + component1                                              # STEP 250
path3 += "/" + component2                                              # STEP 251
os0.rmdir(path4)                                                       # STEP 252
component2 = "epsilon"                                                 # STEP 253
str3 += 'y'                                                            # STEP 254
stat0 = os0.stat(path1)                                                # STEP 255
os0.link(path0,path0)                                                  # STEP 256
os0.symlink(path4,path2)                                               # STEP 257
os0.makedirs(path4)                                                    # STEP 258
os0.link(path2,path1)                                                  # STEP 259
str1 += 'q'                                                            # STEP 260
str0 += 'h'                                                            # STEP 261
result = os0.path.isabs(path2)                                         # STEP 262
os0.symlink(path1,path1)                                               # STEP 263
component1 = "c"                                                       # STEP 264
str1 += 'c'                                                            # STEP 265
result = os0.path.dirname(path1)                                       # STEP 266
str1 += 'k'                                                            # STEP 267
stat1 = os0.stat(path2)                                                # STEP 268
os0.rmdir(path3)                                                       # STEP 269
os0.rename(path4,path1)                                                # STEP 270
str1 += 'i'                                                            # STEP 271
result = os0.path.isdir(path4)                                         # STEP 272
path2 += "/" + component1                                              # STEP 273
os0.symlink(path3,path1)                                               # STEP 274
os0.symlink(path3,path1)                                               # STEP 275
bytes4 = 0                                                             # STEP 276
os0.makedirs(path2)                                                    # STEP 277
str0 += 'j'                                                            # STEP 278
str2 += 'y'                                                            # STEP 279
os0.rmdir(path1)                                                       # STEP 280
path2 += "/" + component3                                              # STEP 281
str2 += 'r'                                                            # STEP 282
str1 += 'l'                                                            # STEP 283
os0.symlink(path4,path0)                                               # STEP 284
os0.mkdir(path1)                                                       # STEP 285
file0.write(str0)                                                      # STEP 286
file0.write(str1)                                                      # STEP 287
os0.removedirs(path2)                                                  # STEP 288
str0 += 'b'                                                            # STEP 289
os0.symlink(path4,path4)                                               # STEP 290
os0.link(path4,path0)                                                  # STEP 291
str2 += 'e'                                                            # STEP 292
component1 = "b"                                                       # STEP 293
str1 += 'v'                                                            # STEP 294
str2 += 'p'                                                            # STEP 295
result = os0.path.islink(path1)                                        # STEP 296
str3 += 'z'                                                            # STEP 297
result = os0.path.isfile(path3)                                        # STEP 298
result = os0.path.exists(path4)                                        # STEP 299
result = os0.readlink(path3)                                           # STEP 300
result = os0.path.islink(path4)                                        # STEP 301
path4 = "/Volumes/ramdisk/test"                                        # STEP 302
os0.link(path2,path3)                                                  # STEP 303
result = sorted(os0.listdir(path3))                                    # STEP 304
str1 += 'c'                                                            # STEP 305
str2 += 'b'                                                            # STEP 306
os0.link(path4,path3)                                                  # STEP 307
str3 += 'g'                                                            # STEP 308
path3 = "/Volumes/ramdisk/test"                                        # STEP 309
path2 = "/Volumes/ramdisk/test"                                        # STEP 310
str2 += 'p'                                                            # STEP 311
os0.makedirs(path0)                                                    # STEP 312
os0.link(path0,path3)                                                  # STEP 313
str1 += 'e'                                                            # STEP 314
result = os0.path.dirname(path0)                                       # STEP 315
result = stat3.st_size                                                 # STEP 316
result = os0.readlink(path0)                                           # STEP 317
file0.truncate()                                                       # STEP 318
result = sorted(os0.listdir(path2))                                    # STEP 319
os0.removedirs(path3)                                                  # STEP 320
str1 += 'y'                                                            # STEP 321
result = sorted(os0.listdir(path1))                                    # STEP 322
str0 += 'f'                                                            # STEP 323
str3 += 'h'                                                            # STEP 324
str2 += 'm'                                                            # STEP 325
str1 += 'g'                                                            # STEP 326
os0.removedirs(path0)                                                  # STEP 327
str3 += 'x'                                                            # STEP 328
os0.rename(path1,path2)                                                # STEP 329
os0.makedirs(path3)                                                    # STEP 330
str2 += 'n'                                                            # STEP 331
str0 += 'd'                                                            # STEP 332
os0.rename(path1,path0)                                                # STEP 333
os0.symlink(path3,path1)                                               # STEP 334
path0 += "/" + component1                                              # STEP 335
str1 += 'z'                                                            # STEP 336
result = os0.path.dirname(path4)                                       # STEP 337
result = os0.readlink(path2)                                           # STEP 338
str3 += 'v'                                                            # STEP 339
result = os0.path.isfile(path4)                                        # STEP 340
component3 = "a"                                                       # STEP 341
path2 += "/" + component2                                              # STEP 342
os0.link(path0,path1)                                                  # STEP 343
result = os0.path.islink(path3)                                        # STEP 344
str1 += 'a'                                                            # STEP 345
os0.link(path0,path0)                                                  # STEP 346
result = sorted(os0.listdir(path0))                                    # STEP 347
str1 += 'c'                                                            # STEP 348
result = sorted(os0.listdir(path3))                                    # STEP 349
str0 += 'p'                                                            # STEP 350
result = stat1.st_nlink                                                # STEP 351
str0 += 'z'                                                            # STEP 352
str2 += 'w'                                                            # STEP 353
os0.link(path4,path3)                                                  # STEP 354
os0.link(path1,path4)                                                  # STEP 355
str3 += 'w'                                                            # STEP 356
str1 += 'n'                                                            # STEP 357
file0.flush()                                                          # STEP 358
str2 += " "                                                            # STEP 359
result = stat4.st_size                                                 # STEP 360
ERROR: (<type 'exceptions.AssertionError'>, AssertionError(' (25) == (0) ',), <traceback object at 0x10834a1b8>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 21991, in act461
    try: assert result == result_REF, " (%s) == (%s) " % (result, result_REF)
FAILURE IS NEW, STORING; NOW 10 DISTINCT FAILURES
UNCAUGHT EXCEPTION
ERROR: (<type 'exceptions.AssertionError'>, AssertionError(' (z) == () ',), <traceback object at 0x10b06d128>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 28441, in act565
    try: assert result == result_REF, " (%s) == (%s) " % (result, result_REF)
Original test has 141 steps

SAVING TEST AS failure.4731.test.10
FINAL VERSION OF TEST, WITH LOGGED REPLAY:
str1 = ""                                                                # STEP 0
component3 = "beta"                                                      # STEP 1
component4 = "a"                                                         # STEP 2
component1 = "lambda"                                                    # STEP 3
str1 += 'z'                                                              # STEP 4
bytes4 = 0                                                               # STEP 5
str1 += 'm'                                                              # STEP 6
component0 = "g"                                                         # STEP 7
component2 = "d"                                                         # STEP 8
bytes0 = 0                                                               # STEP 9
str1 += 'o'                                                             # STEP 10
bytes0 += 1                                                             # STEP 11
os0 = newFakeOS()                                                       # STEP 12
str4 = ""                                                               # STEP 13
str4 += 'f'                                                             # STEP 14
str4 += 'k'                                                             # STEP 15
str4 += " "                                                             # STEP 16
str1 += 'l'                                                             # STEP 17
str1 += 'e'                                                             # STEP 18
str1 += 'q'                                                             # STEP 19
str1 += 'n'                                                             # STEP 20
opener0 = newFakeOpener(os0)                                            # STEP 21
bytes0 = 0                                                              # STEP 22
bytes1 = 0                                                              # STEP 23
str1 += 'k'                                                             # STEP 24
str4 += 'p'                                                             # STEP 25
str1 += 'h'                                                             # STEP 26
str1 += 'v'                                                             # STEP 27
path1 = "/Volumes/ramdisk/test"                                         # STEP 28
bytes0 += 1                                                             # STEP 29
result = os0.path.isabs(path1)                                          # STEP 30
str1 += " "                                                             # STEP 31
path1 += "/" + component0                                               # STEP 32
fd0 = os0.open(path1, os.O_CREAT | os.O_WRONLY | os.O_TRUNC | os.O_EXCL)  # STEP 33
component0 = "a"                                                        # STEP 34
result = sorted(os0.listdir(path1))                                     # STEP 35
str1 += 'k'                                                             # STEP 36
str4 += 'r'                                                             # STEP 37
str4 += 'v'                                                             # STEP 38
str4 += 'z'                                                             # STEP 39
str1 += 's'                                                             # STEP 40
str0 = ""                                                               # STEP 41
file0 = opener0(path1,'r')                                              # STEP 42
file0.next()                                                            # STEP 43
str1 += 'y'                                                             # STEP 44
str1 += 'v'                                                             # STEP 45
str2 = ""                                                               # STEP 46
str0 += 'c'                                                             # STEP 47
str2 += 'a'                                                             # STEP 48
str4 += 'y'                                                             # STEP 49
stat0 = os0.fstat(fd0)                                                  # STEP 50
str0 += 'i'                                                             # STEP 51
os0.rmdir(path1)                                                        # STEP 52
path1 += "/" + component4                                               # STEP 53
str4 += 's'                                                             # STEP 54
str1 += 'e'                                                             # STEP 55
str4 += 'z'                                                             # STEP 56
str0 += " "                                                             # STEP 57
component4 = "epsilon"                                                  # STEP 58
str1 += 'h'                                                             # STEP 59
str2 += 'm'                                                             # STEP 60
os0.link(path1,path1)                                                   # STEP 61
path2 = "/Volumes/ramdisk/test"                                         # STEP 62
result = os0.path.abspath(path2)                                        # STEP 63
str2 += 'l'                                                             # STEP 64
stat3 = os0.lstat(path1)                                                # STEP 65
path3 = "/Volumes/ramdisk/test"                                         # STEP 66
str1 += 'v'                                                             # STEP 67
result = file0.readline(bytes1)                                         # STEP 68
result = file0.readline(bytes0)                                         # STEP 69
file0.seek(bytes4)                                                      # STEP 70
str4 += 'g'                                                             # STEP 71
result = os0.path.exists(path2)                                         # STEP 72
str0 += 'g'                                                             # STEP 73
file0.next()                                                            # STEP 74
result = os0.path.islink(path1)                                         # STEP 75
stat1 = os0.lstat(path1)                                                # STEP 76
str1 += 'j'                                                             # STEP 77
result = os0.path.lexists(path1)                                        # STEP 78
os0.write(fd0,str1)                                                     # STEP 79
os0.makedirs(path2)                                                     # STEP 80
str4 += 'p'                                                             # STEP 81
str2 += 'v'                                                             # STEP 82
str0 += 'p'                                                             # STEP 83
str2 += 'o'                                                             # STEP 84
result = os0.path.isfile(path1)                                         # STEP 85
str0 += 'j'                                                             # STEP 86
os0.symlink(path3,path1)                                                # STEP 87
path3 += "/" + component0                                               # STEP 88
str4 += 'd'                                                             # STEP 89
result = os0.path.islink(path3)                                         # STEP 90
component0 = "alpha"                                                    # STEP 91
str1 += 'a'                                                             # STEP 92
os0.symlink(path2,path3)                                                # STEP 93
path1 += "/" + component3                                               # STEP 94
stat2 = os0.lstat(path3)                                                # STEP 95
stat1 = os0.stat(path1)                                                 # STEP 96
component3 = "epsilon"                                                  # STEP 97
str0 += 'z'                                                             # STEP 98
str1 += 'h'                                                             # STEP 99
os0.rename(path3,path2)                                                # STEP 100
result = os0.read(fd0,bytes1)                                          # STEP 101
str0 += 'r'                                                            # STEP 102
bytes1 += 1                                                            # STEP 103
str4 += 'w'                                                            # STEP 104
str0 += 'j'                                                            # STEP 105
result = file0.read(bytes4)                                            # STEP 106
os0.remove(path1)                                                      # STEP 107
path1 = "/Volumes/ramdisk/test"                                        # STEP 108
file0.truncate()                                                       # STEP 109
file0.write(str2)                                                      # STEP 110
os0.link(path3,path1)                                                  # STEP 111
str2 += 'v'                                                            # STEP 112
file0.write(str2)                                                      # STEP 113
os0.makedirs(path1)                                                    # STEP 114
str4 += 'f'                                                            # STEP 115
result = os0.path.exists(path2)                                        # STEP 116
str1 = ""                                                              # STEP 117
str0 += 'b'                                                            # STEP 118
str0 += 'o'                                                            # STEP 119
os0.mkdir(path1)                                                       # STEP 120
str2 += 'o'                                                            # STEP 121
os0.close(fd0)                                                         # STEP 122
str4 += 'z'                                                            # STEP 123
str1 += 'x'                                                            # STEP 124
str0 += 'o'                                                            # STEP 125
str4 += 'o'                                                            # STEP 126
path4 = "/Volumes/ramdisk/test"                                        # STEP 127
os0.rename(path3,path2)                                                # STEP 128
str0 += 'b'                                                            # STEP 129
file0.write(str1)                                                      # STEP 130
os0.link(path2,path3)                                                  # STEP 131
os0.write(fd0,str0)                                                    # STEP 132
result = os0.path.dirname(path4)                                       # STEP 133
os0.link(path2,path3)                                                  # STEP 134
os0.remove(path3)                                                      # STEP 135
os0.link(path4,path1)                                                  # STEP 136
result = os0.path.isabs(path2)                                         # STEP 137
path2 = "/Volumes/ramdisk/test"                                        # STEP 138
str1 += 'h'                                                            # STEP 139
result = file0.read(bytes1)                                            # STEP 140
ERROR: (<type 'exceptions.AssertionError'>, AssertionError(' (z) == () ',), <traceback object at 0x10b04a290>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 28441, in act565
    try: assert result == result_REF, " (%s) == (%s) " % (result, result_REF)
FAILURE IS NEW, STORING; NOW 11 DISTINCT FAILURES
STOPPING TEST DUE TO TIMEOUT, TERMINATED AT LENGTH 261
STOPPING TESTING DUE TO TIMEOUT
42.6607209216 PERCENT COVERED
60.6050491333 TOTAL RUNTIME
128 EXECUTED
12061 TOTAL TEST OPERATIONS
18.9356191158 TIME SPENT EXECUTING TEST OPERATIONS
0.428275108337 TIME SPENT EVALUATING GUARDS AND CHOOSING ACTIONS
0.00822901725769 TIME SPENT CHECKING PROPERTIES
18.9438481331 TOTAL TIME SPENT RUNNING SUT
0.386870622635 TIME SPENT RESTARTING
0.0 TIME SPENT REDUCING TEST CASES
11 FAILED
0 REPEATS OF FAILURES
11 ACTUAL DISTINCT FAILURES

FAILURE 0
str1 = ""                                                                # STEP 0
component3 = "beta"                                                      # STEP 1
component4 = "a"                                                         # STEP 2
component1 = "lambda"                                                    # STEP 3
str1 += 'z'                                                              # STEP 4
bytes4 = 0                                                               # STEP 5
str1 += 'm'                                                              # STEP 6
component0 = "g"                                                         # STEP 7
component2 = "d"                                                         # STEP 8
bytes0 = 0                                                               # STEP 9
str1 += 'o'                                                             # STEP 10
bytes0 += 1                                                             # STEP 11
os0 = newFakeOS()                                                       # STEP 12
str4 = ""                                                               # STEP 13
str4 += 'f'                                                             # STEP 14
str4 += 'k'                                                             # STEP 15
str4 += " "                                                             # STEP 16
str1 += 'l'                                                             # STEP 17
str1 += 'e'                                                             # STEP 18
str1 += 'q'                                                             # STEP 19
str1 += 'n'                                                             # STEP 20
opener0 = newFakeOpener(os0)                                            # STEP 21
bytes0 = 0                                                              # STEP 22
bytes1 = 0                                                              # STEP 23
str1 += 'k'                                                             # STEP 24
str4 += 'p'                                                             # STEP 25
str1 += 'h'                                                             # STEP 26
str1 += 'v'                                                             # STEP 27
path1 = "/Volumes/ramdisk/test"                                         # STEP 28
bytes0 += 1                                                             # STEP 29
result = os0.path.isabs(path1)                                          # STEP 30
str1 += " "                                                             # STEP 31
path1 += "/" + component0                                               # STEP 32
fd0 = os0.open(path1, os.O_CREAT | os.O_WRONLY | os.O_TRUNC | os.O_EXCL)  # STEP 33
component0 = "a"                                                        # STEP 34
result = sorted(os0.listdir(path1))                                     # STEP 35
str1 += 'k'                                                             # STEP 36
result = os0.path.exists(path1)                                         # STEP 37
str4 += 'v'                                                             # STEP 38
str4 += 'z'                                                             # STEP 39
str1 += 's'                                                             # STEP 40
str0 = ""                                                               # STEP 41
file0 = opener0(path1,'r')                                              # STEP 42
file0.next()                                                            # STEP 43
str1 += 'y'                                                             # STEP 44
str1 += 'v'                                                             # STEP 45
str2 = ""                                                               # STEP 46
str0 += 'c'                                                             # STEP 47
str2 += 'a'                                                             # STEP 48
str4 += 'y'                                                             # STEP 49
file0.write(str0)                                                       # STEP 50
stat0 = os0.fstat(fd0)                                                  # STEP 51
str0 += 'i'                                                             # STEP 52
os0.rmdir(path1)                                                        # STEP 53
path1 += "/" + component4                                               # STEP 54
str4 += 's'                                                             # STEP 55
str1 += 'e'                                                             # STEP 56
str4 += 'z'                                                             # STEP 57
str0 += " "                                                             # STEP 58
component4 = "epsilon"                                                  # STEP 59
str1 += 'h'                                                             # STEP 60
str2 += 'm'                                                             # STEP 61
os0.link(path1,path1)                                                   # STEP 62
path2 = "/Volumes/ramdisk/test"                                         # STEP 63
result = os0.path.abspath(path2)                                        # STEP 64
str2 += 'l'                                                             # STEP 65
stat3 = os0.lstat(path1)                                                # STEP 66
path3 = "/Volumes/ramdisk/test"                                         # STEP 67
str1 += 'v'                                                             # STEP 68
result = file0.readline(bytes1)                                         # STEP 69
result = file0.readline(bytes0)                                         # STEP 70
file0.seek(bytes4)                                                      # STEP 71
str4 += 'g'                                                             # STEP 72
result = os0.path.exists(path2)                                         # STEP 73
str0 += 'g'                                                             # STEP 74
file0.next()                                                            # STEP 75
result = os0.path.islink(path1)                                         # STEP 76
stat1 = os0.lstat(path1)                                                # STEP 77
str1 += 'j'                                                             # STEP 78
result = os0.path.lexists(path1)                                        # STEP 79
os0.write(fd0,str1)                                                     # STEP 80
os0.makedirs(path2)                                                     # STEP 81
str4 += 'p'                                                             # STEP 82
str2 += 'v'                                                             # STEP 83
str0 += 'p'                                                             # STEP 84
str2 += 'o'                                                             # STEP 85
result = os0.path.isfile(path1)                                         # STEP 86
str0 += 'j'                                                             # STEP 87
os0.symlink(path3,path1)                                                # STEP 88
path3 += "/" + component0                                               # STEP 89
str4 += 'd'                                                             # STEP 90
result = os0.path.islink(path3)                                         # STEP 91
component0 = "alpha"                                                    # STEP 92
str1 += 'a'                                                             # STEP 93
os0.symlink(path2,path3)                                                # STEP 94
path1 += "/" + component3                                               # STEP 95
stat2 = os0.lstat(path3)                                                # STEP 96
stat1 = os0.stat(path1)                                                 # STEP 97
component3 = "epsilon"                                                  # STEP 98
str0 += 'z'                                                             # STEP 99
str1 += 'h'                                                            # STEP 100
os0.rename(path3,path2)                                                # STEP 101
str1 += 'a'                                                            # STEP 102
str0 += 'b'                                                            # STEP 103
result = file0.readline(bytes1)                                        # STEP 104
os0.makedirs(path2)                                                    # STEP 105
str1 += 'a'                                                            # STEP 106
os0.mkdir(path1)                                                       # STEP 107
str2 += 'j'                                                            # STEP 108
os0.link(path2,path3)                                                  # STEP 109
str4 += 'm'                                                            # STEP 110
path0 = "/Volumes/ramdisk/test"                                        # STEP 111
result = file0.read(bytes1)                                            # STEP 112
os0.link(path3,path0)                                                  # STEP 113
result = os0.path.isabs(path0)                                         # STEP 114
str4 += 'o'                                                            # STEP 115
os0.rename(path3,path1)                                                # STEP 116
str4 += 'u'                                                            # STEP 117
str2 += 'e'                                                            # STEP 118
str0 += 'o'                                                            # STEP 119
os0.removedirs(path1)                                                  # STEP 120
str4 += 'z'                                                            # STEP 121
path3 += "/" + component1                                              # STEP 122
result = os0.path.exists(path0)                                        # STEP 123
str2 += 'm'                                                            # STEP 124
str1 += 'r'                                                            # STEP 125
str2 += 'w'                                                            # STEP 126
os0.mkdir(path2)                                                       # STEP 127
os0.mkdir(path1)                                                       # STEP 128
str1 += 'y'                                                            # STEP 129
str4 += 'k'                                                            # STEP 130
str4 += 'j'                                                            # STEP 131
path3 += "/" + component2                                              # STEP 132
path0 += "/" + component0                                              # STEP 133
file0.write(str2)                                                      # STEP 134
result = sorted(os0.listdir(path1))                                    # STEP 135
str4 += 'k'                                                            # STEP 136
result = file0.read()                                                  # STEP 137
ERROR: (<type 'exceptions.AssertionError'>, AssertionError(' (zmoleqnkhv ksyvehvj) == () ',), <traceback object at 0x109e12dd0>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 28322, in act563
    try: assert result == result_REF, " (%s) == (%s) " % (result, result_REF)
FAILURE 1
str1 = ""                                                                # STEP 0
component3 = "beta"                                                      # STEP 1
component4 = "a"                                                         # STEP 2
component1 = "lambda"                                                    # STEP 3
str1 += 'z'                                                              # STEP 4
bytes4 = 0                                                               # STEP 5
str1 += 'm'                                                              # STEP 6
component0 = "g"                                                         # STEP 7
component2 = "d"                                                         # STEP 8
bytes0 = 0                                                               # STEP 9
str1 += 'o'                                                             # STEP 10
bytes0 += 1                                                             # STEP 11
os0 = newFakeOS()                                                       # STEP 12
str4 = ""                                                               # STEP 13
str4 += 'f'                                                             # STEP 14
str4 += 'k'                                                             # STEP 15
str4 += " "                                                             # STEP 16
str1 += 'l'                                                             # STEP 17
str1 += 'e'                                                             # STEP 18
str1 += 'q'                                                             # STEP 19
str1 += 'n'                                                             # STEP 20
opener0 = newFakeOpener(os0)                                            # STEP 21
bytes0 = 0                                                              # STEP 22
bytes1 = 0                                                              # STEP 23
str1 += 'k'                                                             # STEP 24
str4 += 'p'                                                             # STEP 25
str1 += 'h'                                                             # STEP 26
str1 += 'v'                                                             # STEP 27
path1 = "/Volumes/ramdisk/test"                                         # STEP 28
bytes0 += 1                                                             # STEP 29
result = os0.path.isabs(path1)                                          # STEP 30
str1 += " "                                                             # STEP 31
path1 += "/" + component0                                               # STEP 32
fd0 = os0.open(path1, os.O_CREAT | os.O_WRONLY | os.O_TRUNC | os.O_EXCL)  # STEP 33
component0 = "a"                                                        # STEP 34
result = sorted(os0.listdir(path1))                                     # STEP 35
str1 += 'k'                                                             # STEP 36
result = os0.path.exists(path1)                                         # STEP 37
str4 += 'v'                                                             # STEP 38
str4 += 'z'                                                             # STEP 39
str1 += 's'                                                             # STEP 40
str0 = ""                                                               # STEP 41
file0 = opener0(path1,'r')                                              # STEP 42
file0.next()                                                            # STEP 43
str1 += 'y'                                                             # STEP 44
str1 += 'v'                                                             # STEP 45
str2 = ""                                                               # STEP 46
str0 += 'c'                                                             # STEP 47
str2 += 'a'                                                             # STEP 48
str4 += 'y'                                                             # STEP 49
file0.write(str0)                                                       # STEP 50
stat0 = os0.fstat(fd0)                                                  # STEP 51
str0 += 'i'                                                             # STEP 52
os0.rmdir(path1)                                                        # STEP 53
path1 += "/" + component4                                               # STEP 54
str4 += 's'                                                             # STEP 55
str1 += 'e'                                                             # STEP 56
bytes0 = 0                                                              # STEP 57
str2 += 'z'                                                             # STEP 58
str3 = ""                                                               # STEP 59
str3 += 'n'                                                             # STEP 60
str0 += 'a'                                                             # STEP 61
str2 += 'z'                                                             # STEP 62
str0 += 'i'                                                             # STEP 63
str0 += 'w'                                                             # STEP 64
str2 += 'n'                                                             # STEP 65
str2 += 'g'                                                             # STEP 66
str2 += 'g'                                                             # STEP 67
str0 += 'y'                                                             # STEP 68
str0 += 't'                                                             # STEP 69
str3 += " "                                                             # STEP 70
str2 += 'b'                                                             # STEP 71
str0 += 'g'                                                             # STEP 72
str0 += 'x'                                                             # STEP 73
str0 += 'x'                                                             # STEP 74
str3 += 't'                                                             # STEP 75
str3 += " "                                                             # STEP 76
str0 += 'p'                                                             # STEP 77
str2 = ""                                                               # STEP 78
str3 += 'z'                                                             # STEP 79
str2 += 'h'                                                             # STEP 80
str2 += 'u'                                                             # STEP 81
str0 += 'm'                                                             # STEP 82
str0 = ""                                                               # STEP 83
str2 += 'n'                                                             # STEP 84
path1 = "/Volumes/ramdisk/test"                                         # STEP 85
str2 += 'c'                                                             # STEP 86
str2 += 'k'                                                             # STEP 87
str0 += 's'                                                             # STEP 88
result = os0.path.isabs(path1)                                          # STEP 89
str3 += 'w'                                                             # STEP 90
str1 = ""                                                               # STEP 91
path1 += "/" + component4                                               # STEP 92
str0 += 'l'                                                             # STEP 93
str1 += 'u'                                                             # STEP 94
str2 += 'n'                                                             # STEP 95
str3 += 'u'                                                             # STEP 96
str2 += 'l'                                                             # STEP 97
str0 += 't'                                                             # STEP 98
component4 = "delta"                                                    # STEP 99
str3 += 't'                                                            # STEP 100
bytes0 += 1                                                            # STEP 101
str2 += 't'                                                            # STEP 102
file0.next()                                                           # STEP 103
str1 += 's'                                                            # STEP 104
str1 += 'r'                                                            # STEP 105
os0.rmdir(path1)                                                       # STEP 106
path0 = "/Volumes/ramdisk/test"                                        # STEP 107
str2 += 'f'                                                            # STEP 108
path0 += "/" + component0                                              # STEP 109
str2 += 'f'                                                            # STEP 110
str0 += 'h'                                                            # STEP 111
str3 += 'b'                                                            # STEP 112
str2 += 't'                                                            # STEP 113
file0.flush()                                                          # STEP 114
str1 += 'f'                                                            # STEP 115
component0 = "d"                                                       # STEP 116
result = os0.path.exists(path1)                                        # STEP 117
str0 += 'm'                                                            # STEP 118
result = os0.readlink(path1)                                           # STEP 119
result = os0.readlink(path1)                                           # STEP 120
os0.link(path0,path1)                                                  # STEP 121
stat1 = os0.stat(path1)                                                # STEP 122
path4 = "/Volumes/ramdisk/test"                                        # STEP 123
os0.remove(path0)                                                      # STEP 124
path1 += "/" + component0                                              # STEP 125
os0.write(fd0,str3)                                                    # STEP 126
os0.symlink(path4,path1)                                               # STEP 127
result = file0.readlines()                                             # STEP 128
ERROR: (<type 'exceptions.AssertionError'>, AssertionError(" (['n t zwutb']) == ([]) ",), <traceback object at 0x1067b96c8>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 29028, in act575
    try: assert result == result_REF, " (%s) == (%s) " % (result, result_REF)
FAILURE 2
component4 = "lambda"                                                    # STEP 0
component1 = "g"                                                         # STEP 1
bytes4 = 0                                                               # STEP 2
path4 = "/Volumes/ramdisk/test"                                          # STEP 3
component0 = "g"                                                         # STEP 4
component3 = "alpha"                                                     # STEP 5
component2 = "g"                                                         # STEP 6
str0 = ""                                                                # STEP 7
os0 = newFakeOS()                                                        # STEP 8
result = os0.readlink(path4)                                             # STEP 9
str0 += 'd'                                                             # STEP 10
str0 += 't'                                                             # STEP 11
str2 = ""                                                               # STEP 12
path4 += "/" + component1                                               # STEP 13
str0 += 'a'                                                             # STEP 14
os0.symlink(path4,path4)                                                # STEP 15
str2 += 'p'                                                             # STEP 16
str0 += 'i'                                                             # STEP 17
str2 += 'l'                                                             # STEP 18
str2 += 'u'                                                             # STEP 19
str0 = ""                                                               # STEP 20
str2 += 'a'                                                             # STEP 21
str2 += 'j'                                                             # STEP 22
str0 += 't'                                                             # STEP 23
result = os0.path.exists(path4)                                         # STEP 24
str0 += 'y'                                                             # STEP 25
str2 += " "                                                             # STEP 26
str0 += 'q'                                                             # STEP 27
str2 += 'j'                                                             # STEP 28
stat1 = os0.stat(path4)                                                 # STEP 29
fd0 = os0.open(path4, os.O_CREAT | os.O_WRONLY | os.O_TRUNC | os.O_EXCL)  # STEP 30
bytes0 = 0                                                              # STEP 31
component1 = "g"                                                        # STEP 32
str2 += 'z'                                                             # STEP 33
str3 = ""                                                               # STEP 34
str3 += 'n'                                                             # STEP 35
str0 += 'a'                                                             # STEP 36
str2 += 'z'                                                             # STEP 37
fd0 = os0.open(path4, os.O_CREAT | os.O_WRONLY)                         # STEP 38
str0 += 'i'                                                             # STEP 39
str0 += 'w'                                                             # STEP 40
str2 += 'n'                                                             # STEP 41
str2 += 'g'                                                             # STEP 42
str2 += 'g'                                                             # STEP 43
str0 += 'y'                                                             # STEP 44
str0 += 't'                                                             # STEP 45
str3 += " "                                                             # STEP 46
str2 += 'b'                                                             # STEP 47
str0 += 'g'                                                             # STEP 48
str0 += 'x'                                                             # STEP 49
str0 += 'x'                                                             # STEP 50
str3 += 't'                                                             # STEP 51
result = os0.path.exists(path4)                                         # STEP 52
str3 += " "                                                             # STEP 53
str0 += 'p'                                                             # STEP 54
str2 = ""                                                               # STEP 55
str3 += 'z'                                                             # STEP 56
str2 += 'h'                                                             # STEP 57
str2 += 'u'                                                             # STEP 58
str0 += 'm'                                                             # STEP 59
str0 = ""                                                               # STEP 60
str2 += 'n'                                                             # STEP 61
path1 = "/Volumes/ramdisk/test"                                         # STEP 62
str2 += 'c'                                                             # STEP 63
str2 += 'k'                                                             # STEP 64
result = os0.readlink(path4)                                            # STEP 65
opener0 = newFakeOpener(os0)                                            # STEP 66
str0 += 's'                                                             # STEP 67
result = os0.path.isabs(path1)                                          # STEP 68
str3 += 'w'                                                             # STEP 69
file0 = opener0(path1,'w')                                              # STEP 70
str1 = ""                                                               # STEP 71
result = os0.path.exists(path4)                                         # STEP 72
path1 += "/" + component4                                               # STEP 73
file0 = opener0(path1,'a')                                              # STEP 74
str0 += 'l'                                                             # STEP 75
str1 += 'u'                                                             # STEP 76
str2 += 'n'                                                             # STEP 77
str3 += 'u'                                                             # STEP 78
stat1 = os0.stat(path4)                                                 # STEP 79
str2 += 'l'                                                             # STEP 80
str0 += 't'                                                             # STEP 81
component4 = "delta"                                                    # STEP 82
stat4 = os0.stat(path4)                                                 # STEP 83
str3 += 't'                                                             # STEP 84
str0 += 'p'                                                             # STEP 85
str2 += 't'                                                             # STEP 86
os0.removedirs(path4)                                                   # STEP 87
stat0 = os0.stat(path4)                                                 # STEP 88
fd0 = os0.open(path4, os.O_CREAT | os.O_WRONLY | os.O_EXCL)             # STEP 89
file0.next()                                                            # STEP 90
str1 += 's'                                                             # STEP 91
str1 += 'r'                                                             # STEP 92
os0.makedirs(path4)                                                     # STEP 93
os0.rmdir(path1)                                                        # STEP 94
fd0 = os0.open(path4, os.O_CREAT | os.O_WRONLY)                         # STEP 95
stat3 = os0.lstat(path4)                                                # STEP 96
path0 = "/Volumes/ramdisk/test"                                         # STEP 97
str2 += 'f'                                                             # STEP 98
path0 += "/" + component0                                               # STEP 99
os0.symlink(path1,path4)                                               # STEP 100
str2 += 'f'                                                            # STEP 101
str0 += 'h'                                                            # STEP 102
fd0 = os0.open(path0, os.O_WRONLY | os.O_APPEND)                       # STEP 103
str3 += 'b'                                                            # STEP 104
str2 += 't'                                                            # STEP 105
file0.flush()                                                          # STEP 106
result = os0.path.abspath(path4)                                       # STEP 107
str1 += 'f'                                                            # STEP 108
component0 = "d"                                                       # STEP 109
fd0 = os0.open(path4, os.O_CREAT | os.O_WRONLY | os.O_EXCL)            # STEP 110
str0 += 'm'                                                            # STEP 111
result = os0.readlink(path1)                                           # STEP 112
result = os0.readlink(path1)                                           # STEP 113
os0.link(path0,path1)                                                  # STEP 114
stat1 = os0.stat(path1)                                                # STEP 115
result = stat3.st_size                                                 # STEP 116
path4 = "/Volumes/ramdisk/test"                                        # STEP 117
os0.remove(path0)                                                      # STEP 118
os0.link(path1,path0)                                                  # STEP 119
result = file0.read()                                                  # STEP 120
stat0 = os0.lstat(path0)                                               # STEP 121
fd0 = os0.open(path1, os.O_CREAT | os.O_WRONLY)                        # STEP 122
stat2 = os0.stat(path0)                                                # STEP 123
file0.write(str2)                                                      # STEP 124
str3 += 'd'                                                            # STEP 125
str3 += " "                                                            # STEP 126
result = sorted(os0.listdir(path0))                                    # STEP 127
result = os0.path.islink(path4)                                        # STEP 128
os0.rename(path1,path0)                                                # STEP 129
str1 += 'h'                                                            # STEP 130
str0 += 'w'                                                            # STEP 131
path4 += "/" + component2                                              # STEP 132
str2 += " "                                                            # STEP 133
str3 += 'y'                                                            # STEP 134
str0 += 'h'                                                            # STEP 135
component2 = "h"                                                       # STEP 136
str1 += 'a'                                                            # STEP 137
stat3 = os0.lstat(path1)                                               # STEP 138
str2 += 'x'                                                            # STEP 139
os0.mkdir(path1)                                                       # STEP 140
str1 += 'l'                                                            # STEP 141
str2 += 's'                                                            # STEP 142
str3 += 'q'                                                            # STEP 143
str3 += 'c'                                                            # STEP 144
os0.link(path1,path0)                                                  # STEP 145
file0.write(str2)                                                      # STEP 146
str1 += 'i'                                                            # STEP 147
result = os0.path.lexists(path1)                                       # STEP 148
os0.symlink(path4,path4)                                               # STEP 149
str2 += 'n'                                                            # STEP 150
os0.makedirs(path0)                                                    # STEP 151
os0.close(fd0)                                                         # STEP 152
str0 += 'g'                                                            # STEP 153
str1 += 'd'                                                            # STEP 154
str0 += 'e'                                                            # STEP 155
str1 += 'o'                                                            # STEP 156
str3 += 'k'                                                            # STEP 157
os0.link(path1,path1)                                                  # STEP 158
str0 += 'y'                                                            # STEP 159
stat4 = os0.stat(path4)                                                # STEP 160
os0.path.getsize(path0)                                                # STEP 161
str1 += 'j'                                                            # STEP 162
fd0 = os0.open(path0, os.O_CREAT | os.O_WRONLY | os.O_TRUNC | os.O_EXCL)  # STEP 163
result = os0.path.islink(path1)                                        # STEP 164
str0 += 'e'                                                            # STEP 165
str1 += 'q'                                                            # STEP 166
result = os0.path.abspath(path0)                                       # STEP 167
result = stat1.st_nlink                                                # STEP 168
str3 += 'f'                                                            # STEP 169
result = stat3.st_nlink                                                # STEP 170
result = os0.path.isdir(path1)                                         # STEP 171
str1 += " "                                                            # STEP 172
os0.symlink(path4,path1)                                               # STEP 173
path4 += "/" + component2                                              # STEP 174
component2 = "epsilon"                                                 # STEP 175
path0 = "/Volumes/ramdisk/test"                                        # STEP 176
str3 += 'g'                                                            # STEP 177
str2 += 'e'                                                            # STEP 178
str2 += 'r'                                                            # STEP 179
str2 += 'd'                                                            # STEP 180
str0 += 'n'                                                            # STEP 181
str1 += 'j'                                                            # STEP 182
result = sorted(os0.listdir(path0))                                    # STEP 183
result = file0.readline(bytes4)                                        # STEP 184
os0.close(fd0)                                                         # STEP 185
path4 = "/Volumes/ramdisk/test"                                        # STEP 186
os0.mkdir(path0)                                                       # STEP 187
str1 += 'w'                                                            # STEP 188
str0 += 'd'                                                            # STEP 189
result = os0.path.isdir(path4)                                         # STEP 190
result = os0.path.abspath(path0)                                       # STEP 191
os0.symlink(path0,path4)                                               # STEP 192
result = os0.path.isabs(path0)                                         # STEP 193
str1 += 'z'                                                            # STEP 194
str1 += 't'                                                            # STEP 195
os0.symlink(path0,path4)                                               # STEP 196
path4 += "/" + component3                                              # STEP 197
file0.write(str3)                                                      # STEP 198
os0.makedirs(path1)                                                    # STEP 199
stat3 = os0.lstat(path1)                                               # STEP 200
str3 += 'e'                                                            # STEP 201
result = file0.readlines()                                             # STEP 202
str3 += 'u'                                                            # STEP 203
str1 += " "                                                            # STEP 204
str0 += 'x'                                                            # STEP 205
str2 += 'x'                                                            # STEP 206
path3 = "/Volumes/ramdisk/test"                                        # STEP 207
component3 = "e"                                                       # STEP 208
os0.remove(path1)                                                      # STEP 209
str1 += 'v'                                                            # STEP 210
os0.mkdir(path1)                                                       # STEP 211
str3 += 'a'                                                            # STEP 212
str3 += 'k'                                                            # STEP 213
result = stat1.st_nlink                                                # STEP 214
str1 += 'b'                                                            # STEP 215
str3 += 'c'                                                            # STEP 216
os0.symlink(path3,path4)                                               # STEP 217
os0.link(path4,path3)                                                  # STEP 218
result = stat3.st_nlink                                                # STEP 219
result = stat2.st_nlink                                                # STEP 220
path3 += "/" + component4                                              # STEP 221
fd0 = os0.open(path3, os.O_CREAT | os.O_WRONLY | os.O_TRUNC)           # STEP 222
path2 = "/Volumes/ramdisk/test"                                        # STEP 223
str3 += 'u'                                                            # STEP 224
str0 += 'd'                                                            # STEP 225
result = os0.read(fd0,bytes0)                                          # STEP 226
str0 += 'v'                                                            # STEP 227
path0 = "/Volumes/ramdisk/test"                                        # STEP 228
str0 += " "                                                            # STEP 229
path4 += "/" + component3                                              # STEP 230
result = os0.path.isfile(path1)                                        # STEP 231
os0.symlink(path2,path1)                                               # STEP 232
str2 += 'x'                                                            # STEP 233
str1 += 'z'                                                            # STEP 234
result = stat0.st_size                                                 # STEP 235
stat3 = os0.stat(path3)                                                # STEP 236
component3 = "gamma"                                                   # STEP 237
os0.link(path3,path2)                                                  # STEP 238
str0 += 'b'                                                            # STEP 239
os0.symlink(path3,path3)                                               # STEP 240
str2 += 'f'                                                            # STEP 241
result = os0.path.exists(path4)                                        # STEP 242
stat2 = os0.stat(path3)                                                # STEP 243
os0.link(path0,path4)                                                  # STEP 244
str3 += 'a'                                                            # STEP 245
component4 = "f"                                                       # STEP 246
bytes4 += 1                                                            # STEP 247
str3 += 'u'                                                            # STEP 248
path2 += "/" + component1                                              # STEP 249
path3 += "/" + component2                                              # STEP 250
os0.rmdir(path4)                                                       # STEP 251
component2 = "epsilon"                                                 # STEP 252
str3 += 'y'                                                            # STEP 253
stat0 = os0.stat(path1)                                                # STEP 254
os0.link(path0,path0)                                                  # STEP 255
os0.symlink(path4,path2)                                               # STEP 256
os0.makedirs(path4)                                                    # STEP 257
os0.link(path2,path1)                                                  # STEP 258
str1 += 'q'                                                            # STEP 259
str0 += 'h'                                                            # STEP 260
result = os0.path.isabs(path2)                                         # STEP 261
os0.symlink(path1,path1)                                               # STEP 262
component1 = "c"                                                       # STEP 263
str1 += 'c'                                                            # STEP 264
result = os0.path.dirname(path1)                                       # STEP 265
str1 += 'k'                                                            # STEP 266
stat1 = os0.stat(path2)                                                # STEP 267
os0.rmdir(path3)                                                       # STEP 268
os0.rename(path4,path1)                                                # STEP 269
str1 += 'i'                                                            # STEP 270
result = os0.path.isdir(path4)                                         # STEP 271
path2 += "/" + component1                                              # STEP 272
os0.symlink(path3,path1)                                               # STEP 273
os0.symlink(path3,path1)                                               # STEP 274
bytes4 = 0                                                             # STEP 275
os0.makedirs(path2)                                                    # STEP 276
str0 += 'j'                                                            # STEP 277
str2 += 'y'                                                            # STEP 278
os0.rmdir(path1)                                                       # STEP 279
path2 += "/" + component3                                              # STEP 280
str2 += 'r'                                                            # STEP 281
str1 += 'l'                                                            # STEP 282
os0.symlink(path4,path0)                                               # STEP 283
os0.mkdir(path1)                                                       # STEP 284
file0.write(str0)                                                      # STEP 285
file0.write(str1)                                                      # STEP 286
os0.removedirs(path2)                                                  # STEP 287
str0 += 'b'                                                            # STEP 288
os0.symlink(path4,path4)                                               # STEP 289
os0.link(path4,path0)                                                  # STEP 290
str2 += 'e'                                                            # STEP 291
component1 = "b"                                                       # STEP 292
str1 += 'v'                                                            # STEP 293
str2 += 'p'                                                            # STEP 294
result = os0.path.islink(path1)                                        # STEP 295
str3 += 'z'                                                            # STEP 296
result = os0.path.isfile(path3)                                        # STEP 297
result = os0.path.exists(path4)                                        # STEP 298
result = os0.readlink(path3)                                           # STEP 299
result = os0.path.islink(path4)                                        # STEP 300
path4 = "/Volumes/ramdisk/test"                                        # STEP 301
os0.link(path2,path3)                                                  # STEP 302
result = sorted(os0.listdir(path3))                                    # STEP 303
str1 += 'c'                                                            # STEP 304
str2 += 'b'                                                            # STEP 305
os0.link(path4,path3)                                                  # STEP 306
str3 += 'g'                                                            # STEP 307
path3 = "/Volumes/ramdisk/test"                                        # STEP 308
path2 = "/Volumes/ramdisk/test"                                        # STEP 309
str2 += 'p'                                                            # STEP 310
os0.makedirs(path0)                                                    # STEP 311
result = file0.readline(bytes0)                                        # STEP 312
os0.link(path0,path3)                                                  # STEP 313
str1 += 'e'                                                            # STEP 314
result = os0.path.dirname(path0)                                       # STEP 315
result = stat3.st_size                                                 # STEP 316
result = os0.readlink(path0)                                           # STEP 317
file0.truncate()                                                       # STEP 318
result = os0.path.isabs(path0)                                         # STEP 319
str1 += 'n'                                                            # STEP 320
path0 += "/" + component2                                              # STEP 321
os0.link(path2,path1)                                                  # STEP 322
component2 = "e"                                                       # STEP 323
component3 = "beta"                                                    # STEP 324
os0.mkdir(path1)                                                       # STEP 325
os0.link(path0,path4)                                                  # STEP 326
os0.rename(path1,path4)                                                # STEP 327
str0 += " "                                                            # STEP 328
result = os0.path.islink(path1)                                        # STEP 329
path4 = "/Volumes/ramdisk/test"                                        # STEP 330
os0.remove(path2)                                                      # STEP 331
result = os0.readlink(path0)                                           # STEP 332
str1 += 's'                                                            # STEP 333
result = os0.path.isfile(path3)                                        # STEP 334
os0.rename(path1,path0)                                                # STEP 335
path4 += "/" + component0                                              # STEP 336
str3 += 'y'                                                            # STEP 337
path1 += "/" + component1                                              # STEP 338
str1 += 'c'                                                            # STEP 339
os0.link(path4,path4)                                                  # STEP 340
str0 += 'k'                                                            # STEP 341
str1 += 'u'                                                            # STEP 342
os0.rename(path4,path3)                                                # STEP 343
os0.rename(path1,path3)                                                # STEP 344
result = os0.path.abspath(path4)                                       # STEP 345
os0.link(path4,path0)                                                  # STEP 346
str0 += 'd'                                                            # STEP 347
os0.link(path3,path2)                                                  # STEP 348
os0.rename(path1,path4)                                                # STEP 349
os0.makedirs(path3)                                                    # STEP 350
os0.symlink(path3,path4)                                               # STEP 351
path3 += "/" + component2                                              # STEP 352
path4 = "/Volumes/ramdisk/test"                                        # STEP 353
path3 += "/" + component3                                              # STEP 354
os0.link(path1,path2)                                                  # STEP 355
str0 += 'z'                                                            # STEP 356
os0.symlink(path0,path1)                                               # STEP 357
str0 += 'i'                                                            # STEP 358
str2 += 'x'                                                            # STEP 359
str2 += 'd'                                                            # STEP 360
os0.link(path0,path3)                                                  # STEP 361
path2 += "/" + component2                                              # STEP 362
os0.path.getsize(path3)                                                # STEP 363
path2 += "/" + component4                                              # STEP 364
str3 += 'n'                                                            # STEP 365
os0.rmdir(path1)                                                       # STEP 366
component1 = "c"                                                       # STEP 367
str1 += 'k'                                                            # STEP 368
component3 = "d"                                                       # STEP 369
str2 += 'o'                                                            # STEP 370
component0 = "h"                                                       # STEP 371
str2 += 'f'                                                            # STEP 372
str0 += 'r'                                                            # STEP 373
result = os0.path.lexists(path2)                                       # STEP 374
os0.makedirs(path2)                                                    # STEP 375
component2 = "d"                                                       # STEP 376
str2 += 'c'                                                            # STEP 377
bytes1 = 0                                                             # STEP 378
str3 += 'w'                                                            # STEP 379
str0 += 'a'                                                            # STEP 380
component4 = "phi"                                                     # STEP 381
str0 += 'q'                                                            # STEP 382
os0.rename(path0,path1)                                                # STEP 383
str1 += 'm'                                                            # STEP 384
path2 += "/" + component4                                              # STEP 385
result = file0.read(bytes4)                                            # STEP 386
str1 += 'y'                                                            # STEP 387
os0.symlink(path3,path0)                                               # STEP 388
bytes4 = 0                                                             # STEP 389
str2 += 'f'                                                            # STEP 390
os0.symlink(path1,path1)                                               # STEP 391
os0.removedirs(path2)                                                  # STEP 392
os0.rename(path1,path0)                                                # STEP 393
str0 = ""                                                              # STEP 394
str1 += 'g'                                                            # STEP 395
result = stat2.st_nlink                                                # STEP 396
os0.link(path1,path2)                                                  # STEP 397
str3 += 'n'                                                            # STEP 398
result = file0.read(bytes0)                                            # STEP 399
path1 += "/" + component3                                              # STEP 400
bytes1 += 1                                                            # STEP 401
result = os0.path.abspath(path0)                                       # STEP 402
result = stat4.st_nlink                                                # STEP 403
path1 += "/" + component4                                              # STEP 404
str0 += 'l'                                                            # STEP 405
str2 += 'z'                                                            # STEP 406
str2 += 'b'                                                            # STEP 407
os0.symlink(path0,path2)                                               # STEP 408
result = os0.path.abspath(path0)                                       # STEP 409
str0 += 'u'                                                            # STEP 410
path3 += "/" + component3                                              # STEP 411
os0.remove(path4)                                                      # STEP 412
result = os0.path.islink(path3)                                        # STEP 413
result = os0.path.abspath(path4)                                       # STEP 414
os0.mkdir(path3)                                                       # STEP 415
file0.write(str0)                                                      # STEP 416
str0 += " "                                                            # STEP 417
str1 += 'q'                                                            # STEP 418
result = os0.path.dirname(path3)                                       # STEP 419
os0.symlink(path1,path1)                                               # STEP 420
os0.link(path2,path1)                                                  # STEP 421
os0.mkdir(path3)                                                       # STEP 422
result = os0.read(fd0,bytes4)                                          # STEP 423
component3 = "omega"                                                   # STEP 424
str3 += 'o'                                                            # STEP 425
result = os0.readlink(path2)                                           # STEP 426
file0.write(str0)                                                      # STEP 427
result = stat2.st_size                                                 # STEP 428
path4 += "/" + component1                                              # STEP 429
file0.flush()                                                          # STEP 430
path3 += "/" + component3                                              # STEP 431
stat4 = os0.stat(path4)                                                # STEP 432
str1 += 'k'                                                            # STEP 433
component3 = "g"                                                       # STEP 434
result = stat1.st_size                                                 # STEP 435
ERROR: (<type 'exceptions.AssertionError'>, AssertionError(' (42) == (0) ',), <traceback object at 0x1068908c0>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 21826, in act458
    try: assert result == result_REF, " (%s) == (%s) " % (result, result_REF)
FAILURE 3
str1 = ""                                                                # STEP 0
component3 = "beta"                                                      # STEP 1
component4 = "a"                                                         # STEP 2
component1 = "lambda"                                                    # STEP 3
str1 += 'z'                                                              # STEP 4
bytes4 = 0                                                               # STEP 5
str1 += 'm'                                                              # STEP 6
component0 = "g"                                                         # STEP 7
component2 = "d"                                                         # STEP 8
bytes0 = 0                                                               # STEP 9
str1 += 'o'                                                             # STEP 10
bytes0 += 1                                                             # STEP 11
os0 = newFakeOS()                                                       # STEP 12
str4 = ""                                                               # STEP 13
str4 += 'f'                                                             # STEP 14
str4 += 'k'                                                             # STEP 15
str4 += " "                                                             # STEP 16
str1 += 'l'                                                             # STEP 17
str1 += 'e'                                                             # STEP 18
str1 += 'q'                                                             # STEP 19
str1 += 'n'                                                             # STEP 20
opener0 = newFakeOpener(os0)                                            # STEP 21
bytes0 = 0                                                              # STEP 22
bytes1 = 0                                                              # STEP 23
str1 += 'k'                                                             # STEP 24
str4 += 'p'                                                             # STEP 25
str1 += 'h'                                                             # STEP 26
str1 += 'v'                                                             # STEP 27
path1 = "/Volumes/ramdisk/test"                                         # STEP 28
bytes0 += 1                                                             # STEP 29
result = os0.path.isabs(path1)                                          # STEP 30
str1 += " "                                                             # STEP 31
path1 += "/" + component0                                               # STEP 32
fd0 = os0.open(path1, os.O_CREAT | os.O_WRONLY | os.O_TRUNC | os.O_EXCL)  # STEP 33
component0 = "a"                                                        # STEP 34
result = sorted(os0.listdir(path1))                                     # STEP 35
str1 += 'k'                                                             # STEP 36
result = os0.path.exists(path1)                                         # STEP 37
str4 += 'v'                                                             # STEP 38
str4 += 'z'                                                             # STEP 39
str1 += 's'                                                             # STEP 40
str0 = ""                                                               # STEP 41
file0 = opener0(path1,'r')                                              # STEP 42
file0.next()                                                            # STEP 43
str1 += 'y'                                                             # STEP 44
str1 += 'v'                                                             # STEP 45
str2 = ""                                                               # STEP 46
str0 += 'c'                                                             # STEP 47
str2 += 'a'                                                             # STEP 48
str4 += 'y'                                                             # STEP 49
stat0 = os0.fstat(fd0)                                                  # STEP 50
str0 += 'i'                                                             # STEP 51
os0.rmdir(path1)                                                        # STEP 52
path1 += "/" + component4                                               # STEP 53
str4 += 's'                                                             # STEP 54
str1 += 'e'                                                             # STEP 55
str4 += 'z'                                                             # STEP 56
str0 += " "                                                             # STEP 57
component4 = "epsilon"                                                  # STEP 58
str1 += 'h'                                                             # STEP 59
str2 += 'm'                                                             # STEP 60
os0.link(path1,path1)                                                   # STEP 61
path2 = "/Volumes/ramdisk/test"                                         # STEP 62
result = os0.path.abspath(path2)                                        # STEP 63
str2 += 'l'                                                             # STEP 64
stat3 = os0.lstat(path1)                                                # STEP 65
path3 = "/Volumes/ramdisk/test"                                         # STEP 66
str1 += 'v'                                                             # STEP 67
result = file0.readline(bytes1)                                         # STEP 68
result = file0.readline(bytes0)                                         # STEP 69
file0.seek(bytes4)                                                      # STEP 70
str4 += 'g'                                                             # STEP 71
result = os0.path.exists(path2)                                         # STEP 72
str0 += 'g'                                                             # STEP 73
file0.next()                                                            # STEP 74
result = os0.path.islink(path1)                                         # STEP 75
stat1 = os0.lstat(path1)                                                # STEP 76
str1 += 'j'                                                             # STEP 77
result = os0.path.lexists(path1)                                        # STEP 78
os0.write(fd0,str1)                                                     # STEP 79
os0.makedirs(path2)                                                     # STEP 80
str4 += 'p'                                                             # STEP 81
str2 += 'v'                                                             # STEP 82
str0 += 'p'                                                             # STEP 83
str2 += 'o'                                                             # STEP 84
result = os0.path.isfile(path1)                                         # STEP 85
str0 += 'j'                                                             # STEP 86
os0.symlink(path3,path1)                                                # STEP 87
path3 += "/" + component0                                               # STEP 88
str4 += 'd'                                                             # STEP 89
result = os0.path.islink(path3)                                         # STEP 90
component0 = "alpha"                                                    # STEP 91
str1 += 'a'                                                             # STEP 92
os0.symlink(path2,path3)                                                # STEP 93
path1 += "/" + component3                                               # STEP 94
stat2 = os0.lstat(path3)                                                # STEP 95
stat1 = os0.stat(path1)                                                 # STEP 96
component3 = "epsilon"                                                  # STEP 97
str0 += 'z'                                                             # STEP 98
str1 += 'h'                                                             # STEP 99
os0.rename(path3,path2)                                                # STEP 100
result = os0.read(fd0,bytes1)                                          # STEP 101
str0 += 'r'                                                            # STEP 102
bytes1 += 1                                                            # STEP 103
str4 += 'w'                                                            # STEP 104
str0 += 'j'                                                            # STEP 105
result = file0.read(bytes4)                                            # STEP 106
os0.remove(path1)                                                      # STEP 107
path1 = "/Volumes/ramdisk/test"                                        # STEP 108
file0.truncate()                                                       # STEP 109
file0.write(str2)                                                      # STEP 110
os0.link(path3,path1)                                                  # STEP 111
str2 += 'v'                                                            # STEP 112
file0.write(str2)                                                      # STEP 113
os0.makedirs(path1)                                                    # STEP 114
str4 += 'f'                                                            # STEP 115
result = os0.path.exists(path2)                                        # STEP 116
str1 = ""                                                              # STEP 117
str0 += 'b'                                                            # STEP 118
str0 += 'o'                                                            # STEP 119
os0.mkdir(path1)                                                       # STEP 120
str2 += 'o'                                                            # STEP 121
os0.close(fd0)                                                         # STEP 122
str4 += 'z'                                                            # STEP 123
str1 += 'x'                                                            # STEP 124
str0 += 'o'                                                            # STEP 125
str4 += 'o'                                                            # STEP 126
path4 = "/Volumes/ramdisk/test"                                        # STEP 127
os0.rename(path3,path2)                                                # STEP 128
str0 += 'b'                                                            # STEP 129
file0.write(str1)                                                      # STEP 130
os0.link(path2,path3)                                                  # STEP 131
os0.write(fd0,str0)                                                    # STEP 132
result = os0.path.dirname(path4)                                       # STEP 133
os0.link(path2,path3)                                                  # STEP 134
os0.remove(path3)                                                      # STEP 135
path0 = "/Volumes/ramdisk/test"                                        # STEP 136
os0.makedirs(path2)                                                    # STEP 137
str0 += 'x'                                                            # STEP 138
path1 += "/" + component1                                              # STEP 139
component1 = "g"                                                       # STEP 140
path2 += "/" + component2                                              # STEP 141
fd0 = os0.open(path3, os.O_RDONLY)                                     # STEP 142
path3 = "/Volumes/ramdisk/test"                                        # STEP 143
str2 += 's'                                                            # STEP 144
stat3 = os0.stat(path1)                                                # STEP 145
str0 += 'i'                                                            # STEP 146
component2 = "h"                                                       # STEP 147
str0 += 'f'                                                            # STEP 148
os0.rename(path2,path4)                                                # STEP 149
result = os0.path.isdir(path4)                                         # STEP 150
stat1 = os0.lstat(path1)                                               # STEP 151
str4 += 'l'                                                            # STEP 152
str1 += 'd'                                                            # STEP 153
result = file0.read(bytes4)                                            # STEP 154
os0.remove(path1)                                                      # STEP 155
str0 += 'l'                                                            # STEP 156
os0.link(path4,path4)                                                  # STEP 157
os0.link(path1,path0)                                                  # STEP 158
os0.link(path0,path0)                                                  # STEP 159
str4 += 'z'                                                            # STEP 160
os0.symlink(path3,path0)                                               # STEP 161
result = os0.path.lexists(path2)                                       # STEP 162
os0.rename(path1,path2)                                                # STEP 163
os0.symlink(path2,path3)                                               # STEP 164
os0.link(path2,path2)                                                  # STEP 165
str4 += 'e'                                                            # STEP 166
path4 = "/Volumes/ramdisk/test"                                        # STEP 167
os0.symlink(path4,path0)                                               # STEP 168
str0 += 'b'                                                            # STEP 169
path0 += "/" + component2                                              # STEP 170
os0.rmdir(path2)                                                       # STEP 171
str4 += 'c'                                                            # STEP 172
str2 += 'r'                                                            # STEP 173
stat3 = os0.lstat(path1)                                               # STEP 174
os0.mkdir(path3)                                                       # STEP 175
os0.link(path4,path2)                                                  # STEP 176
os0.write(fd0,str1)                                                    # STEP 177
str0 += 'v'                                                            # STEP 178
result = sorted(os0.listdir(path0))                                    # STEP 179
result = os0.path.abspath(path2)                                       # STEP 180
str0 += 'r'                                                            # STEP 181
file0.write(str0)                                                      # STEP 182
path4 += "/" + component0                                              # STEP 183
result = file0.readlines()                                             # STEP 184
ERROR: (<type 'exceptions.AssertionError'>, AssertionError(" (['zmoleqnkhv ksyvehvj']) == ([]) ",), <traceback object at 0x107a4ee60>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 29028, in act575
    try: assert result == result_REF, " (%s) == (%s) " % (result, result_REF)
FAILURE 4
str1 = ""                                                                # STEP 0
component3 = "beta"                                                      # STEP 1
component4 = "a"                                                         # STEP 2
component1 = "lambda"                                                    # STEP 3
str1 += 'z'                                                              # STEP 4
bytes4 = 0                                                               # STEP 5
str1 += 'm'                                                              # STEP 6
component0 = "g"                                                         # STEP 7
component2 = "d"                                                         # STEP 8
bytes0 = 0                                                               # STEP 9
str1 += 'o'                                                             # STEP 10
bytes0 += 1                                                             # STEP 11
os0 = newFakeOS()                                                       # STEP 12
str4 = ""                                                               # STEP 13
str4 += 'f'                                                             # STEP 14
str4 += 'k'                                                             # STEP 15
str4 += " "                                                             # STEP 16
str1 += 'l'                                                             # STEP 17
str1 += 'e'                                                             # STEP 18
str1 += 'q'                                                             # STEP 19
str1 += 'n'                                                             # STEP 20
opener0 = newFakeOpener(os0)                                            # STEP 21
bytes0 = 0                                                              # STEP 22
bytes1 = 0                                                              # STEP 23
str1 += 'k'                                                             # STEP 24
str4 += 'p'                                                             # STEP 25
str1 += 'h'                                                             # STEP 26
path1 = "/Volumes/ramdisk/test"                                         # STEP 27
bytes0 += 1                                                             # STEP 28
result = os0.path.isabs(path1)                                          # STEP 29
str1 += " "                                                             # STEP 30
path1 += "/" + component0                                               # STEP 31
fd0 = os0.open(path1, os.O_CREAT | os.O_WRONLY | os.O_TRUNC | os.O_EXCL)  # STEP 32
component0 = "a"                                                        # STEP 33
result = sorted(os0.listdir(path1))                                     # STEP 34
str1 += 'k'                                                             # STEP 35
result = os0.path.exists(path1)                                         # STEP 36
str4 += 'v'                                                             # STEP 37
str4 += 'z'                                                             # STEP 38
str1 += 's'                                                             # STEP 39
str0 = ""                                                               # STEP 40
file0 = opener0(path1,'r')                                              # STEP 41
file0.next()                                                            # STEP 42
str1 += 'y'                                                             # STEP 43
str1 += 'v'                                                             # STEP 44
str2 = ""                                                               # STEP 45
str0 += 'c'                                                             # STEP 46
str2 += 'a'                                                             # STEP 47
str4 += 'y'                                                             # STEP 48
stat0 = os0.fstat(fd0)                                                  # STEP 49
str0 += 'i'                                                             # STEP 50
os0.rmdir(path1)                                                        # STEP 51
path1 += "/" + component4                                               # STEP 52
str4 += 's'                                                             # STEP 53
str1 += 'e'                                                             # STEP 54
str4 += 'z'                                                             # STEP 55
str0 += " "                                                             # STEP 56
component4 = "epsilon"                                                  # STEP 57
str1 += 'h'                                                             # STEP 58
str2 += 'm'                                                             # STEP 59
os0.link(path1,path1)                                                   # STEP 60
path2 = "/Volumes/ramdisk/test"                                         # STEP 61
result = os0.path.abspath(path2)                                        # STEP 62
str2 += 'l'                                                             # STEP 63
stat3 = os0.lstat(path1)                                                # STEP 64
path3 = "/Volumes/ramdisk/test"                                         # STEP 65
str1 += 'v'                                                             # STEP 66
result = file0.readline(bytes1)                                         # STEP 67
result = file0.readline(bytes0)                                         # STEP 68
file0.seek(bytes4)                                                      # STEP 69
str4 += 'g'                                                             # STEP 70
result = os0.path.exists(path2)                                         # STEP 71
str0 += 'g'                                                             # STEP 72
file0.next()                                                            # STEP 73
result = os0.path.islink(path1)                                         # STEP 74
stat1 = os0.lstat(path1)                                                # STEP 75
str1 += 'j'                                                             # STEP 76
result = os0.path.lexists(path1)                                        # STEP 77
os0.write(fd0,str1)                                                     # STEP 78
os0.makedirs(path2)                                                     # STEP 79
str4 += 'p'                                                             # STEP 80
str2 += 'v'                                                             # STEP 81
str0 += 'p'                                                             # STEP 82
str2 += 'o'                                                             # STEP 83
result = os0.path.isfile(path1)                                         # STEP 84
str0 += 'j'                                                             # STEP 85
os0.symlink(path3,path1)                                                # STEP 86
path3 += "/" + component0                                               # STEP 87
str4 += 'd'                                                             # STEP 88
result = os0.path.islink(path3)                                         # STEP 89
component0 = "alpha"                                                    # STEP 90
str1 += 'a'                                                             # STEP 91
os0.symlink(path2,path3)                                                # STEP 92
path1 += "/" + component3                                               # STEP 93
stat2 = os0.lstat(path3)                                                # STEP 94
stat1 = os0.stat(path1)                                                 # STEP 95
component3 = "epsilon"                                                  # STEP 96
str0 += 'z'                                                             # STEP 97
str1 += 'h'                                                             # STEP 98
os0.rename(path3,path2)                                                 # STEP 99
result = os0.read(fd0,bytes1)                                          # STEP 100
str0 += 'r'                                                            # STEP 101
bytes1 += 1                                                            # STEP 102
str4 += 'w'                                                            # STEP 103
str0 += 'j'                                                            # STEP 104
result = file0.read(bytes4)                                            # STEP 105
os0.remove(path1)                                                      # STEP 106
path1 = "/Volumes/ramdisk/test"                                        # STEP 107
file0.truncate()                                                       # STEP 108
file0.write(str2)                                                      # STEP 109
os0.link(path3,path1)                                                  # STEP 110
str2 += 'v'                                                            # STEP 111
file0.write(str2)                                                      # STEP 112
os0.makedirs(path1)                                                    # STEP 113
str4 += 'f'                                                            # STEP 114
result = os0.path.exists(path2)                                        # STEP 115
str1 = ""                                                              # STEP 116
str0 += 'b'                                                            # STEP 117
str0 += 'o'                                                            # STEP 118
os0.mkdir(path1)                                                       # STEP 119
str2 += 'o'                                                            # STEP 120
os0.close(fd0)                                                         # STEP 121
str4 += 'z'                                                            # STEP 122
str1 += 'x'                                                            # STEP 123
str0 += 'o'                                                            # STEP 124
str4 += 'o'                                                            # STEP 125
path4 = "/Volumes/ramdisk/test"                                        # STEP 126
os0.rename(path3,path2)                                                # STEP 127
str0 += 'b'                                                            # STEP 128
file0.write(str1)                                                      # STEP 129
os0.link(path2,path3)                                                  # STEP 130
os0.write(fd0,str0)                                                    # STEP 131
result = os0.path.dirname(path4)                                       # STEP 132
os0.link(path2,path3)                                                  # STEP 133
os0.remove(path3)                                                      # STEP 134
os0.symlink(path2,path3)                                               # STEP 135
str1 += 'h'                                                            # STEP 136
str2 += 'z'                                                            # STEP 137
path1 += "/" + component1                                              # STEP 138
os0.link(path1,path1)                                                  # STEP 139
result = stat0.st_size                                                 # STEP 140
str1 += 'v'                                                            # STEP 141
result = os0.path.isfile(path4)                                        # STEP 142
os0.removedirs(path3)                                                  # STEP 143
path3 += "/" + component1                                              # STEP 144
str4 += 'w'                                                            # STEP 145
str1 += 'c'                                                            # STEP 146
os0.remove(path1)                                                      # STEP 147
str1 = ""                                                              # STEP 148
result = os0.path.isdir(path4)                                         # STEP 149
str0 += 'r'                                                            # STEP 150
os0.link(path3,path3)                                                  # STEP 151
os0.rename(path1,path4)                                                # STEP 152
str0 += 'u'                                                            # STEP 153
os0.rmdir(path1)                                                       # STEP 154
result = file0.readline(bytes0)                                        # STEP 155
ERROR: (<type 'exceptions.AssertionError'>, AssertionError(' (z) == () ',), <traceback object at 0x108e820e0>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 28734, in act570
    try: assert result == result_REF, " (%s) == (%s) " % (result, result_REF)
FAILURE 5
component4 = "lambda"                                                    # STEP 0
component1 = "g"                                                         # STEP 1
bytes4 = 0                                                               # STEP 2
path4 = "/Volumes/ramdisk/test"                                          # STEP 3
component0 = "g"                                                         # STEP 4
component3 = "alpha"                                                     # STEP 5
component2 = "g"                                                         # STEP 6
str0 = ""                                                                # STEP 7
os0 = newFakeOS()                                                        # STEP 8
result = os0.readlink(path4)                                             # STEP 9
str0 += 'd'                                                             # STEP 10
str0 += 't'                                                             # STEP 11
str2 = ""                                                               # STEP 12
path4 += "/" + component1                                               # STEP 13
str0 += 'a'                                                             # STEP 14
os0.symlink(path4,path4)                                                # STEP 15
str2 += 'p'                                                             # STEP 16
str0 += 'i'                                                             # STEP 17
str2 += 'l'                                                             # STEP 18
str2 += 'u'                                                             # STEP 19
str0 = ""                                                               # STEP 20
str2 += 'a'                                                             # STEP 21
str2 += 'j'                                                             # STEP 22
str0 += 't'                                                             # STEP 23
result = os0.path.exists(path4)                                         # STEP 24
str0 += 'y'                                                             # STEP 25
str2 += " "                                                             # STEP 26
str0 += 'q'                                                             # STEP 27
str2 += 'j'                                                             # STEP 28
stat1 = os0.stat(path4)                                                 # STEP 29
fd0 = os0.open(path4, os.O_CREAT | os.O_WRONLY | os.O_TRUNC | os.O_EXCL)  # STEP 30
bytes0 = 0                                                              # STEP 31
component1 = "g"                                                        # STEP 32
str2 += 'z'                                                             # STEP 33
str3 = ""                                                               # STEP 34
str3 += 'n'                                                             # STEP 35
str0 += 'a'                                                             # STEP 36
str2 += 'z'                                                             # STEP 37
fd0 = os0.open(path4, os.O_CREAT | os.O_WRONLY)                         # STEP 38
str0 += 'i'                                                             # STEP 39
str0 += 'w'                                                             # STEP 40
str2 += 'n'                                                             # STEP 41
str2 += 'g'                                                             # STEP 42
str2 += 'g'                                                             # STEP 43
str0 += 'y'                                                             # STEP 44
str0 += 't'                                                             # STEP 45
str3 += " "                                                             # STEP 46
str2 += 'b'                                                             # STEP 47
str0 += 'g'                                                             # STEP 48
str0 += 'x'                                                             # STEP 49
str0 += 'x'                                                             # STEP 50
str3 += 't'                                                             # STEP 51
result = os0.path.exists(path4)                                         # STEP 52
str3 += " "                                                             # STEP 53
str0 += 'p'                                                             # STEP 54
str2 = ""                                                               # STEP 55
str3 += 'z'                                                             # STEP 56
str2 += 'h'                                                             # STEP 57
str2 += 'u'                                                             # STEP 58
str0 += 'm'                                                             # STEP 59
str0 = ""                                                               # STEP 60
str2 += 'n'                                                             # STEP 61
path1 = "/Volumes/ramdisk/test"                                         # STEP 62
str2 += 'c'                                                             # STEP 63
str2 += 'k'                                                             # STEP 64
result = os0.readlink(path4)                                            # STEP 65
opener0 = newFakeOpener(os0)                                            # STEP 66
str0 += 's'                                                             # STEP 67
result = os0.path.isabs(path1)                                          # STEP 68
str3 += 'w'                                                             # STEP 69
file0 = opener0(path1,'w')                                              # STEP 70
str1 = ""                                                               # STEP 71
result = os0.path.exists(path4)                                         # STEP 72
path1 += "/" + component4                                               # STEP 73
file0 = opener0(path1,'a')                                              # STEP 74
str0 += 'l'                                                             # STEP 75
str1 += 'u'                                                             # STEP 76
str2 += 'n'                                                             # STEP 77
str3 += 'u'                                                             # STEP 78
stat1 = os0.stat(path4)                                                 # STEP 79
str2 += 'l'                                                             # STEP 80
str0 += 't'                                                             # STEP 81
component4 = "delta"                                                    # STEP 82
stat4 = os0.stat(path4)                                                 # STEP 83
str3 += 't'                                                             # STEP 84
str0 += 'p'                                                             # STEP 85
str2 += 't'                                                             # STEP 86
os0.removedirs(path4)                                                   # STEP 87
stat0 = os0.stat(path4)                                                 # STEP 88
fd0 = os0.open(path4, os.O_CREAT | os.O_WRONLY | os.O_EXCL)             # STEP 89
file0.next()                                                            # STEP 90
str1 += 's'                                                             # STEP 91
str1 += 'r'                                                             # STEP 92
os0.makedirs(path4)                                                     # STEP 93
os0.rmdir(path1)                                                        # STEP 94
fd0 = os0.open(path4, os.O_CREAT | os.O_WRONLY)                         # STEP 95
stat3 = os0.lstat(path4)                                                # STEP 96
path0 = "/Volumes/ramdisk/test"                                         # STEP 97
str2 += 'f'                                                             # STEP 98
path0 += "/" + component0                                               # STEP 99
os0.symlink(path1,path4)                                               # STEP 100
str2 += 'f'                                                            # STEP 101
str0 += 'h'                                                            # STEP 102
fd0 = os0.open(path0, os.O_WRONLY | os.O_APPEND)                       # STEP 103
str3 += 'b'                                                            # STEP 104
str2 += 't'                                                            # STEP 105
file0.flush()                                                          # STEP 106
result = os0.path.abspath(path4)                                       # STEP 107
str1 += 'f'                                                            # STEP 108
component0 = "d"                                                       # STEP 109
fd0 = os0.open(path4, os.O_CREAT | os.O_WRONLY | os.O_EXCL)            # STEP 110
result = os0.path.exists(path1)                                        # STEP 111
str0 += 'm'                                                            # STEP 112
result = os0.readlink(path1)                                           # STEP 113
result = os0.readlink(path1)                                           # STEP 114
os0.link(path0,path1)                                                  # STEP 115
stat1 = os0.stat(path1)                                                # STEP 116
result = stat3.st_size                                                 # STEP 117
path4 = "/Volumes/ramdisk/test"                                        # STEP 118
os0.remove(path0)                                                      # STEP 119
os0.link(path1,path0)                                                  # STEP 120
result = file0.read()                                                  # STEP 121
stat0 = os0.lstat(path0)                                               # STEP 122
fd0 = os0.open(path1, os.O_CREAT | os.O_WRONLY)                        # STEP 123
stat2 = os0.stat(path0)                                                # STEP 124
file0.write(str2)                                                      # STEP 125
str3 += 'd'                                                            # STEP 126
str3 += " "                                                            # STEP 127
result = sorted(os0.listdir(path0))                                    # STEP 128
result = os0.path.islink(path4)                                        # STEP 129
os0.rename(path1,path0)                                                # STEP 130
str1 += 'h'                                                            # STEP 131
str0 += 'w'                                                            # STEP 132
path4 += "/" + component2                                              # STEP 133
str2 += " "                                                            # STEP 134
str3 += 'y'                                                            # STEP 135
str0 += 'h'                                                            # STEP 136
component2 = "h"                                                       # STEP 137
str1 += 'a'                                                            # STEP 138
stat3 = os0.lstat(path1)                                               # STEP 139
str2 += 'x'                                                            # STEP 140
os0.mkdir(path1)                                                       # STEP 141
str1 += 'l'                                                            # STEP 142
str2 += 's'                                                            # STEP 143
str3 += 'q'                                                            # STEP 144
str3 += 'c'                                                            # STEP 145
os0.link(path1,path0)                                                  # STEP 146
file0.write(str2)                                                      # STEP 147
str1 += 'i'                                                            # STEP 148
result = os0.path.lexists(path1)                                       # STEP 149
os0.symlink(path4,path4)                                               # STEP 150
str2 += 'n'                                                            # STEP 151
os0.makedirs(path0)                                                    # STEP 152
os0.close(fd0)                                                         # STEP 153
str0 += 'g'                                                            # STEP 154
str1 += 'd'                                                            # STEP 155
str0 += 'e'                                                            # STEP 156
str1 += 'o'                                                            # STEP 157
str3 += 'k'                                                            # STEP 158
os0.link(path1,path1)                                                  # STEP 159
str0 += 'y'                                                            # STEP 160
stat4 = os0.stat(path4)                                                # STEP 161
os0.path.getsize(path0)                                                # STEP 162
str1 += 'j'                                                            # STEP 163
fd0 = os0.open(path0, os.O_CREAT | os.O_WRONLY | os.O_TRUNC | os.O_EXCL)  # STEP 164
result = os0.path.islink(path1)                                        # STEP 165
str0 += 'e'                                                            # STEP 166
str1 += 'q'                                                            # STEP 167
result = os0.path.abspath(path0)                                       # STEP 168
result = stat1.st_nlink                                                # STEP 169
str3 += 'f'                                                            # STEP 170
result = stat3.st_nlink                                                # STEP 171
result = os0.path.isdir(path1)                                         # STEP 172
str1 += " "                                                            # STEP 173
os0.symlink(path4,path1)                                               # STEP 174
path4 += "/" + component2                                              # STEP 175
component2 = "epsilon"                                                 # STEP 176
path0 = "/Volumes/ramdisk/test"                                        # STEP 177
str3 += 'g'                                                            # STEP 178
str2 += 'e'                                                            # STEP 179
str2 += 'r'                                                            # STEP 180
str2 += 'd'                                                            # STEP 181
str0 += 'n'                                                            # STEP 182
str1 += 'j'                                                            # STEP 183
result = sorted(os0.listdir(path0))                                    # STEP 184
result = file0.readline(bytes4)                                        # STEP 185
os0.close(fd0)                                                         # STEP 186
path4 = "/Volumes/ramdisk/test"                                        # STEP 187
os0.mkdir(path0)                                                       # STEP 188
str1 += 'w'                                                            # STEP 189
str0 += 'd'                                                            # STEP 190
result = os0.path.isdir(path4)                                         # STEP 191
result = os0.path.abspath(path0)                                       # STEP 192
os0.symlink(path0,path4)                                               # STEP 193
result = os0.path.isabs(path0)                                         # STEP 194
str1 += 'z'                                                            # STEP 195
str1 += 't'                                                            # STEP 196
os0.symlink(path0,path4)                                               # STEP 197
path4 += "/" + component3                                              # STEP 198
file0.write(str3)                                                      # STEP 199
os0.makedirs(path1)                                                    # STEP 200
stat3 = os0.lstat(path1)                                               # STEP 201
str3 += 'e'                                                            # STEP 202
result = file0.readlines()                                             # STEP 203
str3 += 'u'                                                            # STEP 204
str1 += " "                                                            # STEP 205
str0 += 'x'                                                            # STEP 206
str2 += 'x'                                                            # STEP 207
path3 = "/Volumes/ramdisk/test"                                        # STEP 208
component3 = "e"                                                       # STEP 209
os0.remove(path1)                                                      # STEP 210
str1 += 'v'                                                            # STEP 211
os0.mkdir(path1)                                                       # STEP 212
str3 += 'a'                                                            # STEP 213
str3 += 'k'                                                            # STEP 214
result = stat1.st_nlink                                                # STEP 215
str1 += 'b'                                                            # STEP 216
str3 += 'c'                                                            # STEP 217
os0.symlink(path3,path4)                                               # STEP 218
os0.link(path4,path3)                                                  # STEP 219
result = stat3.st_nlink                                                # STEP 220
result = stat2.st_nlink                                                # STEP 221
path3 += "/" + component4                                              # STEP 222
fd0 = os0.open(path3, os.O_CREAT | os.O_WRONLY | os.O_TRUNC)           # STEP 223
path2 = "/Volumes/ramdisk/test"                                        # STEP 224
str3 += 'u'                                                            # STEP 225
str0 += 'd'                                                            # STEP 226
result = os0.read(fd0,bytes0)                                          # STEP 227
str0 += 'v'                                                            # STEP 228
path0 = "/Volumes/ramdisk/test"                                        # STEP 229
str0 += " "                                                            # STEP 230
path4 += "/" + component3                                              # STEP 231
result = os0.path.isfile(path1)                                        # STEP 232
os0.symlink(path2,path1)                                               # STEP 233
str2 += 'x'                                                            # STEP 234
str1 += 'z'                                                            # STEP 235
result = stat0.st_size                                                 # STEP 236
stat3 = os0.stat(path3)                                                # STEP 237
component3 = "gamma"                                                   # STEP 238
os0.link(path3,path2)                                                  # STEP 239
str0 += 'b'                                                            # STEP 240
os0.symlink(path3,path3)                                               # STEP 241
str2 += 'f'                                                            # STEP 242
result = os0.path.exists(path4)                                        # STEP 243
stat2 = os0.stat(path3)                                                # STEP 244
os0.link(path0,path4)                                                  # STEP 245
str3 += 'a'                                                            # STEP 246
component4 = "f"                                                       # STEP 247
bytes4 += 1                                                            # STEP 248
str3 += 'u'                                                            # STEP 249
path2 += "/" + component1                                              # STEP 250
path3 += "/" + component2                                              # STEP 251
os0.rmdir(path4)                                                       # STEP 252
component2 = "epsilon"                                                 # STEP 253
str3 += 'y'                                                            # STEP 254
stat0 = os0.stat(path1)                                                # STEP 255
os0.link(path0,path0)                                                  # STEP 256
os0.symlink(path4,path2)                                               # STEP 257
os0.makedirs(path4)                                                    # STEP 258
os0.link(path2,path1)                                                  # STEP 259
str1 += 'q'                                                            # STEP 260
str0 += 'h'                                                            # STEP 261
result = os0.path.isabs(path2)                                         # STEP 262
os0.symlink(path1,path1)                                               # STEP 263
component1 = "c"                                                       # STEP 264
str1 += 'c'                                                            # STEP 265
result = os0.path.dirname(path1)                                       # STEP 266
str1 += 'k'                                                            # STEP 267
stat1 = os0.stat(path2)                                                # STEP 268
os0.rmdir(path3)                                                       # STEP 269
os0.rename(path4,path1)                                                # STEP 270
str1 += 'i'                                                            # STEP 271
result = os0.path.isdir(path4)                                         # STEP 272
path2 += "/" + component1                                              # STEP 273
os0.symlink(path3,path1)                                               # STEP 274
os0.symlink(path3,path1)                                               # STEP 275
bytes4 = 0                                                             # STEP 276
os0.makedirs(path2)                                                    # STEP 277
str0 += 'j'                                                            # STEP 278
str2 += 'y'                                                            # STEP 279
os0.rmdir(path1)                                                       # STEP 280
path2 += "/" + component3                                              # STEP 281
str2 += 'r'                                                            # STEP 282
str1 += 'l'                                                            # STEP 283
os0.symlink(path4,path0)                                               # STEP 284
os0.mkdir(path1)                                                       # STEP 285
file0.write(str0)                                                      # STEP 286
file0.write(str1)                                                      # STEP 287
os0.removedirs(path2)                                                  # STEP 288
str0 += 'b'                                                            # STEP 289
os0.symlink(path4,path4)                                               # STEP 290
os0.link(path4,path0)                                                  # STEP 291
str2 += 'e'                                                            # STEP 292
component1 = "b"                                                       # STEP 293
str1 += 'v'                                                            # STEP 294
str2 += 'p'                                                            # STEP 295
result = os0.path.islink(path1)                                        # STEP 296
str3 += 'z'                                                            # STEP 297
result = os0.path.isfile(path3)                                        # STEP 298
result = os0.path.exists(path4)                                        # STEP 299
result = os0.readlink(path3)                                           # STEP 300
result = os0.path.islink(path4)                                        # STEP 301
path4 = "/Volumes/ramdisk/test"                                        # STEP 302
os0.link(path2,path3)                                                  # STEP 303
result = sorted(os0.listdir(path3))                                    # STEP 304
str1 += 'c'                                                            # STEP 305
str2 += 'b'                                                            # STEP 306
os0.link(path4,path3)                                                  # STEP 307
str3 += 'g'                                                            # STEP 308
path3 = "/Volumes/ramdisk/test"                                        # STEP 309
path2 = "/Volumes/ramdisk/test"                                        # STEP 310
str2 += 'p'                                                            # STEP 311
os0.makedirs(path0)                                                    # STEP 312
result = file0.readline(bytes0)                                        # STEP 313
os0.link(path0,path3)                                                  # STEP 314
str1 += 'e'                                                            # STEP 315
result = os0.path.dirname(path0)                                       # STEP 316
result = stat3.st_size                                                 # STEP 317
result = os0.readlink(path0)                                           # STEP 318
file0.truncate()                                                       # STEP 319
result = os0.path.isabs(path0)                                         # STEP 320
str1 += 'n'                                                            # STEP 321
path0 += "/" + component2                                              # STEP 322
os0.link(path2,path1)                                                  # STEP 323
component2 = "e"                                                       # STEP 324
component3 = "beta"                                                    # STEP 325
os0.mkdir(path1)                                                       # STEP 326
os0.link(path0,path4)                                                  # STEP 327
os0.rename(path1,path4)                                                # STEP 328
str0 += " "                                                            # STEP 329
result = os0.path.islink(path1)                                        # STEP 330
path4 = "/Volumes/ramdisk/test"                                        # STEP 331
os0.remove(path2)                                                      # STEP 332
result = os0.readlink(path0)                                           # STEP 333
str1 += 's'                                                            # STEP 334
result = os0.path.isfile(path3)                                        # STEP 335
os0.rename(path1,path0)                                                # STEP 336
str2 += 'v'                                                            # STEP 337
os0.rename(path1,path0)                                                # STEP 338
os0.link(path1,path3)                                                  # STEP 339
os0.write(fd0,str0)                                                    # STEP 340
result = os0.path.islink(path2)                                        # STEP 341
str2 += 'z'                                                            # STEP 342
os0.makedirs(path4)                                                    # STEP 343
os0.rmdir(path0)                                                       # STEP 344
path4 = "/Volumes/ramdisk/test"                                        # STEP 345
path4 += "/" + component3                                              # STEP 346
path1 = "/Volumes/ramdisk/test"                                        # STEP 347
result = os0.path.isabs(path0)                                         # STEP 348
str1 += 'g'                                                            # STEP 349
result = os0.path.dirname(path0)                                       # STEP 350
str2 += 'a'                                                            # STEP 351
str0 += 'v'                                                            # STEP 352
os0.symlink(path1,path4)                                               # STEP 353
os0.symlink(path1,path4)                                               # STEP 354
result = os0.path.dirname(path0)                                       # STEP 355
result = os0.readlink(path0)                                           # STEP 356
path2 += "/" + component4                                              # STEP 357
str1 += 'x'                                                            # STEP 358
str2 += 'b'                                                            # STEP 359
result = os0.path.dirname(path2)                                       # STEP 360
str3 += 'p'                                                            # STEP 361
str2 += 'r'                                                            # STEP 362
str0 += 'n'                                                            # STEP 363
os0.makedirs(path1)                                                    # STEP 364
os0.path.getsize(path0)                                                # STEP 365
str1 += 'c'                                                            # STEP 366
path4 += "/" + component0                                              # STEP 367
result = os0.path.abspath(path2)                                       # STEP 368
path0 += "/" + component3                                              # STEP 369
result = stat1.st_size                                                 # STEP 370
ERROR: (<type 'exceptions.AssertionError'>, AssertionError(' (42) == (0) ',), <traceback object at 0x106ad3440>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 21826, in act458
    try: assert result == result_REF, " (%s) == (%s) " % (result, result_REF)
FAILURE 6
component4 = "lambda"                                                    # STEP 0
component1 = "g"                                                         # STEP 1
bytes4 = 0                                                               # STEP 2
path4 = "/Volumes/ramdisk/test"                                          # STEP 3
component0 = "g"                                                         # STEP 4
component3 = "alpha"                                                     # STEP 5
component2 = "g"                                                         # STEP 6
str0 = ""                                                                # STEP 7
os0 = newFakeOS()                                                        # STEP 8
result = os0.readlink(path4)                                             # STEP 9
str0 += 'd'                                                             # STEP 10
str0 += 't'                                                             # STEP 11
str2 = ""                                                               # STEP 12
path4 += "/" + component1                                               # STEP 13
str0 += 'a'                                                             # STEP 14
os0.symlink(path4,path4)                                                # STEP 15
str2 += 'p'                                                             # STEP 16
str0 += 'i'                                                             # STEP 17
str2 += 'l'                                                             # STEP 18
str2 += 'u'                                                             # STEP 19
str0 = ""                                                               # STEP 20
str2 += 'a'                                                             # STEP 21
str2 += 'j'                                                             # STEP 22
str0 += 't'                                                             # STEP 23
result = os0.path.exists(path4)                                         # STEP 24
str0 += 'y'                                                             # STEP 25
str2 += " "                                                             # STEP 26
str0 += 'q'                                                             # STEP 27
str2 += 'j'                                                             # STEP 28
stat1 = os0.stat(path4)                                                 # STEP 29
fd0 = os0.open(path4, os.O_CREAT | os.O_WRONLY | os.O_TRUNC | os.O_EXCL)  # STEP 30
bytes0 = 0                                                              # STEP 31
component1 = "g"                                                        # STEP 32
str2 += 'z'                                                             # STEP 33
str3 = ""                                                               # STEP 34
str3 += 'n'                                                             # STEP 35
str0 += 'a'                                                             # STEP 36
str2 += 'z'                                                             # STEP 37
fd0 = os0.open(path4, os.O_CREAT | os.O_WRONLY)                         # STEP 38
str0 += 'i'                                                             # STEP 39
str0 += 'w'                                                             # STEP 40
str2 += 'n'                                                             # STEP 41
str2 += 'g'                                                             # STEP 42
str2 += 'g'                                                             # STEP 43
str0 += 'y'                                                             # STEP 44
str0 += 't'                                                             # STEP 45
str3 += " "                                                             # STEP 46
str2 += 'b'                                                             # STEP 47
str0 += 'g'                                                             # STEP 48
str0 += 'x'                                                             # STEP 49
str0 += 'x'                                                             # STEP 50
str3 += 't'                                                             # STEP 51
result = os0.path.exists(path4)                                         # STEP 52
str3 += " "                                                             # STEP 53
str0 += 'p'                                                             # STEP 54
str2 = ""                                                               # STEP 55
str3 += 'z'                                                             # STEP 56
str2 += 'h'                                                             # STEP 57
str2 += 'u'                                                             # STEP 58
str0 += 'm'                                                             # STEP 59
str0 = ""                                                               # STEP 60
str2 += 'n'                                                             # STEP 61
path1 = "/Volumes/ramdisk/test"                                         # STEP 62
str2 += 'c'                                                             # STEP 63
str2 += 'k'                                                             # STEP 64
result = os0.readlink(path4)                                            # STEP 65
opener0 = newFakeOpener(os0)                                            # STEP 66
str0 += 's'                                                             # STEP 67
result = os0.path.isabs(path1)                                          # STEP 68
str3 += 'w'                                                             # STEP 69
file0 = opener0(path1,'w')                                              # STEP 70
str1 = ""                                                               # STEP 71
result = os0.path.exists(path4)                                         # STEP 72
path1 += "/" + component4                                               # STEP 73
file0 = opener0(path1,'a')                                              # STEP 74
str0 += 'l'                                                             # STEP 75
str1 += 'u'                                                             # STEP 76
str2 += 'n'                                                             # STEP 77
str3 += 'u'                                                             # STEP 78
stat1 = os0.stat(path4)                                                 # STEP 79
str2 += 'l'                                                             # STEP 80
stat3 = os0.lstat(path4)                                                # STEP 81
str0 += 't'                                                             # STEP 82
component4 = "delta"                                                    # STEP 83
result = stat3.st_nlink                                                 # STEP 84
stat4 = os0.stat(path4)                                                 # STEP 85
str3 += 't'                                                             # STEP 86
bytes0 += 1                                                             # STEP 87
str2 += 't'                                                             # STEP 88
os0.removedirs(path4)                                                   # STEP 89
stat0 = os0.stat(path4)                                                 # STEP 90
fd0 = os0.open(path4, os.O_CREAT | os.O_WRONLY | os.O_EXCL)             # STEP 91
file0.next()                                                            # STEP 92
str1 += 's'                                                             # STEP 93
str1 += 'r'                                                             # STEP 94
os0.makedirs(path4)                                                     # STEP 95
os0.rmdir(path1)                                                        # STEP 96
fd0 = os0.open(path4, os.O_CREAT | os.O_WRONLY)                         # STEP 97
stat3 = os0.lstat(path4)                                                # STEP 98
path0 = "/Volumes/ramdisk/test"                                         # STEP 99
str2 += 'f'                                                            # STEP 100
path0 += "/" + component0                                              # STEP 101
os0.symlink(path1,path4)                                               # STEP 102
str2 += 'f'                                                            # STEP 103
str0 += 'h'                                                            # STEP 104
fd0 = os0.open(path0, os.O_WRONLY | os.O_APPEND)                       # STEP 105
str3 += 'b'                                                            # STEP 106
str2 += 't'                                                            # STEP 107
file0.flush()                                                          # STEP 108
result = os0.path.abspath(path4)                                       # STEP 109
str1 += 'f'                                                            # STEP 110
component0 = "d"                                                       # STEP 111
fd0 = os0.open(path4, os.O_CREAT | os.O_WRONLY | os.O_EXCL)            # STEP 112
result = os0.path.exists(path1)                                        # STEP 113
str0 += 'm'                                                            # STEP 114
result = os0.readlink(path1)                                           # STEP 115
result = os0.readlink(path1)                                           # STEP 116
os0.link(path0,path1)                                                  # STEP 117
stat1 = os0.stat(path1)                                                # STEP 118
result = stat3.st_size                                                 # STEP 119
path4 = "/Volumes/ramdisk/test"                                        # STEP 120
os0.remove(path0)                                                      # STEP 121
os0.link(path1,path0)                                                  # STEP 122
result = file0.read()                                                  # STEP 123
stat0 = os0.lstat(path0)                                               # STEP 124
fd0 = os0.open(path1, os.O_CREAT | os.O_WRONLY)                        # STEP 125
stat2 = os0.stat(path0)                                                # STEP 126
file0.write(str2)                                                      # STEP 127
str3 += 'd'                                                            # STEP 128
str3 += " "                                                            # STEP 129
result = sorted(os0.listdir(path0))                                    # STEP 130
result = os0.path.islink(path4)                                        # STEP 131
os0.rename(path1,path0)                                                # STEP 132
str1 += 'h'                                                            # STEP 133
str0 += 'w'                                                            # STEP 134
path4 += "/" + component2                                              # STEP 135
str2 += " "                                                            # STEP 136
str3 += 'y'                                                            # STEP 137
str0 += 'h'                                                            # STEP 138
component2 = "h"                                                       # STEP 139
str1 += 'a'                                                            # STEP 140
stat3 = os0.lstat(path1)                                               # STEP 141
str2 += 'x'                                                            # STEP 142
os0.mkdir(path1)                                                       # STEP 143
str1 += 'l'                                                            # STEP 144
str2 += 's'                                                            # STEP 145
str3 += 'q'                                                            # STEP 146
str3 += 'c'                                                            # STEP 147
os0.link(path1,path0)                                                  # STEP 148
file0.write(str2)                                                      # STEP 149
str1 += 'i'                                                            # STEP 150
result = os0.path.lexists(path1)                                       # STEP 151
os0.symlink(path4,path4)                                               # STEP 152
str2 += 'n'                                                            # STEP 153
os0.makedirs(path0)                                                    # STEP 154
os0.close(fd0)                                                         # STEP 155
str0 += 'g'                                                            # STEP 156
str1 += 'd'                                                            # STEP 157
str0 += 'e'                                                            # STEP 158
str1 += 'o'                                                            # STEP 159
str3 += 'k'                                                            # STEP 160
os0.link(path1,path1)                                                  # STEP 161
str0 += 'y'                                                            # STEP 162
stat4 = os0.stat(path4)                                                # STEP 163
os0.path.getsize(path0)                                                # STEP 164
str1 += 'j'                                                            # STEP 165
fd0 = os0.open(path0, os.O_CREAT | os.O_WRONLY | os.O_TRUNC | os.O_EXCL)  # STEP 166
os0.link(path4,path1)                                                  # STEP 167
str3 += 'z'                                                            # STEP 168
str1 += 'w'                                                            # STEP 169
bytes3 = 0                                                             # STEP 170
file0.seek(bytes0)                                                     # STEP 171
result = file0.read(bytes3)                                            # STEP 172
bytes4 += 1                                                            # STEP 173
bytes2 = 0                                                             # STEP 174
os0.link(path1,path4)                                                  # STEP 175
str0 += 'k'                                                            # STEP 176
result = stat1.st_nlink                                                # STEP 177
os0.rename(path4,path1)                                                # STEP 178
str0 += 'k'                                                            # STEP 179
result = os0.path.abspath(path0)                                       # STEP 180
result = stat4.st_nlink                                                # STEP 181
str2 += 'y'                                                            # STEP 182
str0 += 'z'                                                            # STEP 183
str3 += 'w'                                                            # STEP 184
os0.path.getsize(path4)                                                # STEP 185
str0 += 'c'                                                            # STEP 186
stat1 = os0.lstat(path4)                                               # STEP 187
file0.seek(bytes3)                                                     # STEP 188
str3 += 'b'                                                            # STEP 189
result = os0.read(fd0,bytes2)                                          # STEP 190
str2 += 'y'                                                            # STEP 191
os0.link(path0,path1)                                                  # STEP 192
os0.symlink(path0,path1)                                               # STEP 193
str1 += 'l'                                                            # STEP 194
result = stat1.st_size                                                 # STEP 195
file0.seek(bytes4)                                                     # STEP 196
str2 += 'b'                                                            # STEP 197
os0.link(path1,path1)                                                  # STEP 198
str3 += 'o'                                                            # STEP 199
result = file0.read(bytes3)                                            # STEP 200
str1 += 'o'                                                            # STEP 201
str3 += 'f'                                                            # STEP 202
file0.flush()                                                          # STEP 203
str2 += 's'                                                            # STEP 204
str1 += 'g'                                                            # STEP 205
str2 += 'b'                                                            # STEP 206
str3 += 'z'                                                            # STEP 207
os0.path.getsize(path4)                                                # STEP 208
str2 += 'l'                                                            # STEP 209
os0.write(fd0,str2)                                                    # STEP 210
str3 += 'a'                                                            # STEP 211
stat1 = os0.lstat(path1)                                               # STEP 212
result = sorted(os0.listdir(path4))                                    # STEP 213
os0.link(path1,path1)                                                  # STEP 214
result = os0.readlink(path0)                                           # STEP 215
str3 += 'i'                                                            # STEP 216
bytes4 = 0                                                             # STEP 217
os0.rmdir(path4)                                                       # STEP 218
str1 += 'x'                                                            # STEP 219
str3 += 'i'                                                            # STEP 220
str2 += 'c'                                                            # STEP 221
stat4 = os0.stat(path4)                                                # STEP 222
result = file0.readlines()                                             # STEP 223
os0.link(path1,path4)                                                  # STEP 224
str0 += 'c'                                                            # STEP 225
str0 += 'b'                                                            # STEP 226
bytes1 = 0                                                             # STEP 227
file0.write(str0)                                                      # STEP 228
os0.makedirs(path1)                                                    # STEP 229
os0.close(fd0)                                                         # STEP 230
result = os0.read(fd0,bytes4)                                          # STEP 231
result = os0.path.isdir(path4)                                         # STEP 232
str2 += 'c'                                                            # STEP 233
str2 += 'g'                                                            # STEP 234
fd0 = os0.open(path1, os.O_CREAT | os.O_WRONLY | os.O_EXCL)            # STEP 235
path1 += "/" + component4                                              # STEP 236
str3 += 'o'                                                            # STEP 237
result = file0.read(bytes1)                                            # STEP 238
str1 += 't'                                                            # STEP 239
str1 += 'g'                                                            # STEP 240
os0.rename(path1,path0)                                                # STEP 241
path0 += "/" + component0                                              # STEP 242
component0 = "b"                                                       # STEP 243
result = os0.path.exists(path4)                                        # STEP 244
result = os0.path.islink(path4)                                        # STEP 245
bytes0 = 0                                                             # STEP 246
result = os0.path.isfile(path1)                                        # STEP 247
str0 += 'm'                                                            # STEP 248
str1 += 'i'                                                            # STEP 249
bytes0 += 1                                                            # STEP 250
result = os0.path.dirname(path4)                                       # STEP 251
str2 += 'j'                                                            # STEP 252
str3 += 'b'                                                            # STEP 253
result = file0.readlines()                                             # STEP 254
path3 = "/Volumes/ramdisk/test"                                        # STEP 255
result = os0.path.dirname(path1)                                       # STEP 256
os0.symlink(path3,path1)                                               # STEP 257
str0 += 'b'                                                            # STEP 258
result = os0.readlink(path1)                                           # STEP 259
component4 = "e"                                                       # STEP 260
os0.makedirs(path4)                                                    # STEP 261
bytes1 = 0                                                             # STEP 262
os0.rename(path1,path3)                                                # STEP 263
str1 += 'd'                                                            # STEP 264
result = sorted(os0.listdir(path3))                                    # STEP 265
result = file0.readline(bytes3)                                        # STEP 266
os0.makedirs(path1)                                                    # STEP 267
os0.link(path0,path4)                                                  # STEP 268
str2 += 'x'                                                            # STEP 269
str2 += 'u'                                                            # STEP 270
result = stat3.st_size                                                 # STEP 271
ERROR: (<type 'exceptions.AssertionError'>, AssertionError(' (11) == (0) ',), <traceback object at 0x106bfdef0>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 21936, in act460
    try: assert result == result_REF, " (%s) == (%s) " % (result, result_REF)
FAILURE 7
component4 = "lambda"                                                    # STEP 0
component1 = "g"                                                         # STEP 1
bytes4 = 0                                                               # STEP 2
path4 = "/Volumes/ramdisk/test"                                          # STEP 3
component0 = "g"                                                         # STEP 4
component3 = "alpha"                                                     # STEP 5
component2 = "g"                                                         # STEP 6
str0 = ""                                                                # STEP 7
os0 = newFakeOS()                                                        # STEP 8
result = os0.readlink(path4)                                             # STEP 9
str0 += 'd'                                                             # STEP 10
str0 += 't'                                                             # STEP 11
str2 = ""                                                               # STEP 12
path4 += "/" + component1                                               # STEP 13
str0 += 'a'                                                             # STEP 14
os0.symlink(path4,path4)                                                # STEP 15
str2 += 'p'                                                             # STEP 16
str0 += 'i'                                                             # STEP 17
str2 += 'l'                                                             # STEP 18
str2 += 'u'                                                             # STEP 19
str0 = ""                                                               # STEP 20
str2 += 'a'                                                             # STEP 21
str2 += 'j'                                                             # STEP 22
str0 += 't'                                                             # STEP 23
result = os0.path.exists(path4)                                         # STEP 24
str0 += 'y'                                                             # STEP 25
str2 += " "                                                             # STEP 26
str0 += 'q'                                                             # STEP 27
str2 += 'j'                                                             # STEP 28
stat1 = os0.stat(path4)                                                 # STEP 29
fd0 = os0.open(path4, os.O_CREAT | os.O_WRONLY | os.O_TRUNC | os.O_EXCL)  # STEP 30
bytes0 = 0                                                              # STEP 31
component1 = "g"                                                        # STEP 32
str2 += 'z'                                                             # STEP 33
str3 = ""                                                               # STEP 34
str3 += 'n'                                                             # STEP 35
str0 += 'a'                                                             # STEP 36
str2 += 'z'                                                             # STEP 37
fd0 = os0.open(path4, os.O_CREAT | os.O_WRONLY)                         # STEP 38
str0 += 'i'                                                             # STEP 39
str0 += 'w'                                                             # STEP 40
str2 += 'n'                                                             # STEP 41
str2 += 'g'                                                             # STEP 42
str2 += 'g'                                                             # STEP 43
str0 += 'y'                                                             # STEP 44
str0 += 't'                                                             # STEP 45
str3 += " "                                                             # STEP 46
str2 += 'b'                                                             # STEP 47
str0 += 'g'                                                             # STEP 48
str0 += 'x'                                                             # STEP 49
str0 += 'x'                                                             # STEP 50
str3 += 't'                                                             # STEP 51
result = os0.path.exists(path4)                                         # STEP 52
str3 += " "                                                             # STEP 53
str0 += 'p'                                                             # STEP 54
str2 = ""                                                               # STEP 55
str3 += 'z'                                                             # STEP 56
str2 += 'h'                                                             # STEP 57
str2 += 'u'                                                             # STEP 58
str0 += 'm'                                                             # STEP 59
str0 = ""                                                               # STEP 60
str2 += 'n'                                                             # STEP 61
path1 = "/Volumes/ramdisk/test"                                         # STEP 62
str2 += 'c'                                                             # STEP 63
str2 += 'k'                                                             # STEP 64
result = os0.readlink(path4)                                            # STEP 65
opener0 = newFakeOpener(os0)                                            # STEP 66
str0 += 's'                                                             # STEP 67
result = os0.path.isabs(path1)                                          # STEP 68
str3 += 'w'                                                             # STEP 69
file0 = opener0(path1,'w')                                              # STEP 70
str1 = ""                                                               # STEP 71
result = os0.path.exists(path4)                                         # STEP 72
path1 += "/" + component4                                               # STEP 73
file0 = opener0(path1,'a')                                              # STEP 74
str0 += 'l'                                                             # STEP 75
str1 += 'u'                                                             # STEP 76
str2 += 'n'                                                             # STEP 77
str3 += 'u'                                                             # STEP 78
stat1 = os0.stat(path4)                                                 # STEP 79
str2 += 'l'                                                             # STEP 80
stat3 = os0.lstat(path4)                                                # STEP 81
str0 += 't'                                                             # STEP 82
component4 = "delta"                                                    # STEP 83
result = stat3.st_nlink                                                 # STEP 84
stat4 = os0.stat(path4)                                                 # STEP 85
str3 += 't'                                                             # STEP 86
bytes0 += 1                                                             # STEP 87
str2 += 't'                                                             # STEP 88
os0.removedirs(path4)                                                   # STEP 89
stat0 = os0.stat(path4)                                                 # STEP 90
fd0 = os0.open(path4, os.O_CREAT | os.O_WRONLY | os.O_EXCL)             # STEP 91
file0.next()                                                            # STEP 92
str1 += 's'                                                             # STEP 93
str1 += 'r'                                                             # STEP 94
os0.makedirs(path4)                                                     # STEP 95
os0.rmdir(path1)                                                        # STEP 96
fd0 = os0.open(path4, os.O_CREAT | os.O_WRONLY)                         # STEP 97
stat3 = os0.lstat(path4)                                                # STEP 98
path0 = "/Volumes/ramdisk/test"                                         # STEP 99
str2 += 'f'                                                            # STEP 100
path0 += "/" + component0                                              # STEP 101
os0.symlink(path1,path4)                                               # STEP 102
str2 += 'f'                                                            # STEP 103
str0 += 'h'                                                            # STEP 104
fd0 = os0.open(path0, os.O_WRONLY | os.O_APPEND)                       # STEP 105
str3 += 'b'                                                            # STEP 106
str2 += 't'                                                            # STEP 107
file0.flush()                                                          # STEP 108
result = os0.path.abspath(path4)                                       # STEP 109
str1 += 'f'                                                            # STEP 110
component0 = "d"                                                       # STEP 111
fd0 = os0.open(path4, os.O_CREAT | os.O_WRONLY | os.O_EXCL)            # STEP 112
result = os0.path.exists(path1)                                        # STEP 113
str0 += 'm'                                                            # STEP 114
result = os0.readlink(path1)                                           # STEP 115
result = os0.readlink(path1)                                           # STEP 116
os0.link(path0,path1)                                                  # STEP 117
stat1 = os0.stat(path1)                                                # STEP 118
result = stat3.st_size                                                 # STEP 119
path4 = "/Volumes/ramdisk/test"                                        # STEP 120
os0.remove(path0)                                                      # STEP 121
os0.link(path1,path0)                                                  # STEP 122
result = file0.read()                                                  # STEP 123
stat0 = os0.lstat(path0)                                               # STEP 124
fd0 = os0.open(path1, os.O_CREAT | os.O_WRONLY)                        # STEP 125
stat2 = os0.stat(path0)                                                # STEP 126
file0.write(str2)                                                      # STEP 127
str3 += 'd'                                                            # STEP 128
str3 += " "                                                            # STEP 129
result = sorted(os0.listdir(path0))                                    # STEP 130
result = os0.path.islink(path4)                                        # STEP 131
os0.rename(path1,path0)                                                # STEP 132
str1 += 'h'                                                            # STEP 133
str0 += 'w'                                                            # STEP 134
path4 += "/" + component2                                              # STEP 135
str2 += " "                                                            # STEP 136
str3 += 'y'                                                            # STEP 137
str0 += 'h'                                                            # STEP 138
component2 = "h"                                                       # STEP 139
str1 += 'a'                                                            # STEP 140
stat3 = os0.lstat(path1)                                               # STEP 141
str2 += 'x'                                                            # STEP 142
os0.mkdir(path1)                                                       # STEP 143
str1 += 'l'                                                            # STEP 144
str2 += 's'                                                            # STEP 145
str3 += 'q'                                                            # STEP 146
str3 += 'c'                                                            # STEP 147
os0.link(path1,path0)                                                  # STEP 148
file0.write(str2)                                                      # STEP 149
str1 += 'i'                                                            # STEP 150
result = os0.path.lexists(path1)                                       # STEP 151
os0.symlink(path4,path4)                                               # STEP 152
str2 += 'n'                                                            # STEP 153
os0.makedirs(path0)                                                    # STEP 154
os0.close(fd0)                                                         # STEP 155
str0 += 'g'                                                            # STEP 156
str1 += 'd'                                                            # STEP 157
str0 += 'e'                                                            # STEP 158
str1 += 'o'                                                            # STEP 159
str3 += 'k'                                                            # STEP 160
os0.link(path1,path1)                                                  # STEP 161
str0 += 'y'                                                            # STEP 162
stat4 = os0.stat(path4)                                                # STEP 163
os0.path.getsize(path0)                                                # STEP 164
str1 += 'j'                                                            # STEP 165
fd0 = os0.open(path0, os.O_CREAT | os.O_WRONLY | os.O_TRUNC | os.O_EXCL)  # STEP 166
os0.link(path4,path1)                                                  # STEP 167
str3 += 'z'                                                            # STEP 168
str1 += 'w'                                                            # STEP 169
bytes3 = 0                                                             # STEP 170
file0.seek(bytes0)                                                     # STEP 171
result = file0.read(bytes3)                                            # STEP 172
bytes4 += 1                                                            # STEP 173
bytes2 = 0                                                             # STEP 174
os0.link(path1,path4)                                                  # STEP 175
str0 += 'k'                                                            # STEP 176
result = stat1.st_nlink                                                # STEP 177
os0.rename(path4,path1)                                                # STEP 178
str0 += 'k'                                                            # STEP 179
result = os0.path.abspath(path0)                                       # STEP 180
result = stat4.st_nlink                                                # STEP 181
str2 += 'y'                                                            # STEP 182
str0 += 'z'                                                            # STEP 183
str3 += 'w'                                                            # STEP 184
os0.path.getsize(path4)                                                # STEP 185
str0 += 'c'                                                            # STEP 186
os0.rename(path4,path1)                                                # STEP 187
file0.seek(bytes3)                                                     # STEP 188
str3 += 'b'                                                            # STEP 189
result = os0.read(fd0,bytes2)                                          # STEP 190
file0.flush()                                                          # STEP 191
str1 += 'd'                                                            # STEP 192
str2 += 'g'                                                            # STEP 193
os0.rename(path1,path0)                                                # STEP 194
str3 += 'y'                                                            # STEP 195
str0 += 'y'                                                            # STEP 196
bytes2 = 0                                                             # STEP 197
str3 += 'j'                                                            # STEP 198
result = os0.path.dirname(path1)                                       # STEP 199
result = stat1.st_nlink                                                # STEP 200
os0.symlink(path0,path0)                                               # STEP 201
result = os0.path.islink(path1)                                        # STEP 202
result = sorted(os0.listdir(path1))                                    # STEP 203
str1 += 'i'                                                            # STEP 204
os0.mkdir(path0)                                                       # STEP 205
str0 += 'n'                                                            # STEP 206
result = file0.readline(bytes2)                                        # STEP 207
stat4 = os0.lstat(path1)                                               # STEP 208
bytes4 += 1                                                            # STEP 209
str0 += 'p'                                                            # STEP 210
str1 = ""                                                              # STEP 211
file0.seek(bytes0)                                                     # STEP 212
str3 += 'z'                                                            # STEP 213
bytes3 = 0                                                             # STEP 214
str1 += 'c'                                                            # STEP 215
str2 += 'a'                                                            # STEP 216
path1 = "/Volumes/ramdisk/test"                                        # STEP 217
str2 += 'y'                                                            # STEP 218
str3 += 'u'                                                            # STEP 219
str1 += 'h'                                                            # STEP 220
str3 += 'b'                                                            # STEP 221
str2 += 'c'                                                            # STEP 222
result = os0.path.exists(path0)                                        # STEP 223
stat1 = os0.lstat(path4)                                               # STEP 224
result = file0.read(bytes2)                                            # STEP 225
path2 = "/Volumes/ramdisk/test"                                        # STEP 226
os0.rename(path4,path1)                                                # STEP 227
path3 = "/Volumes/ramdisk/test"                                        # STEP 228
result = os0.path.isabs(path4)                                         # STEP 229
str1 += 'j'                                                            # STEP 230
os0.path.getsize(path0)                                                # STEP 231
result = stat3.st_size                                                 # STEP 232
ERROR: (<type 'exceptions.AssertionError'>, AssertionError(' (11) == (0) ',), <traceback object at 0x106ef87e8>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 21936, in act460
    try: assert result == result_REF, " (%s) == (%s) " % (result, result_REF)
FAILURE 8
component4 = "lambda"                                                    # STEP 0
component1 = "g"                                                         # STEP 1
bytes4 = 0                                                               # STEP 2
path4 = "/Volumes/ramdisk/test"                                          # STEP 3
component0 = "g"                                                         # STEP 4
component3 = "alpha"                                                     # STEP 5
component2 = "g"                                                         # STEP 6
str0 = ""                                                                # STEP 7
os0 = newFakeOS()                                                        # STEP 8
result = os0.readlink(path4)                                             # STEP 9
str0 += 'd'                                                             # STEP 10
str0 += 't'                                                             # STEP 11
str2 = ""                                                               # STEP 12
path4 += "/" + component1                                               # STEP 13
str0 += 'a'                                                             # STEP 14
os0.symlink(path4,path4)                                                # STEP 15
str2 += 'p'                                                             # STEP 16
str0 += 'i'                                                             # STEP 17
str2 += 'l'                                                             # STEP 18
str2 += 'u'                                                             # STEP 19
str0 = ""                                                               # STEP 20
str2 += 'a'                                                             # STEP 21
str2 += 'j'                                                             # STEP 22
str0 += 't'                                                             # STEP 23
result = os0.path.exists(path4)                                         # STEP 24
str0 += 'y'                                                             # STEP 25
str2 += " "                                                             # STEP 26
str0 += 'q'                                                             # STEP 27
str2 += 'j'                                                             # STEP 28
stat1 = os0.stat(path4)                                                 # STEP 29
fd0 = os0.open(path4, os.O_CREAT | os.O_WRONLY | os.O_TRUNC | os.O_EXCL)  # STEP 30
bytes0 = 0                                                              # STEP 31
component1 = "g"                                                        # STEP 32
str2 += 'z'                                                             # STEP 33
str3 = ""                                                               # STEP 34
str3 += 'n'                                                             # STEP 35
str0 += 'a'                                                             # STEP 36
str2 += 'z'                                                             # STEP 37
fd0 = os0.open(path4, os.O_CREAT | os.O_WRONLY)                         # STEP 38
str0 += 'i'                                                             # STEP 39
str0 += 'w'                                                             # STEP 40
str2 += 'n'                                                             # STEP 41
str2 += 'g'                                                             # STEP 42
str2 += 'g'                                                             # STEP 43
str0 += 'y'                                                             # STEP 44
str0 += 't'                                                             # STEP 45
str3 += " "                                                             # STEP 46
str2 += 'b'                                                             # STEP 47
str0 += 'g'                                                             # STEP 48
str0 += 'x'                                                             # STEP 49
str0 += 'x'                                                             # STEP 50
str3 += 't'                                                             # STEP 51
result = os0.path.exists(path4)                                         # STEP 52
str3 += " "                                                             # STEP 53
str0 += 'p'                                                             # STEP 54
str2 = ""                                                               # STEP 55
str3 += 'z'                                                             # STEP 56
str2 += 'h'                                                             # STEP 57
str2 += 'u'                                                             # STEP 58
str0 += 'm'                                                             # STEP 59
str0 = ""                                                               # STEP 60
str2 += 'n'                                                             # STEP 61
path1 = "/Volumes/ramdisk/test"                                         # STEP 62
str2 += 'c'                                                             # STEP 63
str2 += 'k'                                                             # STEP 64
result = os0.readlink(path4)                                            # STEP 65
opener0 = newFakeOpener(os0)                                            # STEP 66
str0 += 's'                                                             # STEP 67
result = os0.path.isabs(path1)                                          # STEP 68
str3 += 'w'                                                             # STEP 69
file0 = opener0(path1,'w')                                              # STEP 70
str1 = ""                                                               # STEP 71
result = os0.path.exists(path4)                                         # STEP 72
path1 += "/" + component4                                               # STEP 73
file0 = opener0(path1,'a')                                              # STEP 74
str0 += 'l'                                                             # STEP 75
str1 += 'u'                                                             # STEP 76
str2 += 'n'                                                             # STEP 77
str3 += 'u'                                                             # STEP 78
stat1 = os0.stat(path4)                                                 # STEP 79
str2 += 'l'                                                             # STEP 80
str0 += 't'                                                             # STEP 81
component4 = "delta"                                                    # STEP 82
stat4 = os0.stat(path4)                                                 # STEP 83
str3 += 't'                                                             # STEP 84
str0 += 'p'                                                             # STEP 85
str2 += 't'                                                             # STEP 86
os0.removedirs(path4)                                                   # STEP 87
stat0 = os0.stat(path4)                                                 # STEP 88
fd0 = os0.open(path4, os.O_CREAT | os.O_WRONLY | os.O_EXCL)             # STEP 89
file0.next()                                                            # STEP 90
str1 += 's'                                                             # STEP 91
str1 += 'r'                                                             # STEP 92
os0.makedirs(path4)                                                     # STEP 93
os0.rmdir(path1)                                                        # STEP 94
fd0 = os0.open(path4, os.O_CREAT | os.O_WRONLY)                         # STEP 95
stat3 = os0.lstat(path4)                                                # STEP 96
path0 = "/Volumes/ramdisk/test"                                         # STEP 97
str2 += 'f'                                                             # STEP 98
path0 += "/" + component0                                               # STEP 99
os0.symlink(path1,path4)                                               # STEP 100
str2 += 'f'                                                            # STEP 101
str0 += 'h'                                                            # STEP 102
fd0 = os0.open(path0, os.O_WRONLY | os.O_APPEND)                       # STEP 103
str3 += 'b'                                                            # STEP 104
str2 += 't'                                                            # STEP 105
file0.flush()                                                          # STEP 106
result = os0.path.abspath(path4)                                       # STEP 107
str1 += 'f'                                                            # STEP 108
component0 = "d"                                                       # STEP 109
fd0 = os0.open(path4, os.O_CREAT | os.O_WRONLY | os.O_EXCL)            # STEP 110
result = os0.path.exists(path1)                                        # STEP 111
str0 += 'm'                                                            # STEP 112
result = os0.readlink(path1)                                           # STEP 113
result = os0.readlink(path1)                                           # STEP 114
os0.link(path0,path1)                                                  # STEP 115
stat1 = os0.stat(path1)                                                # STEP 116
result = stat3.st_size                                                 # STEP 117
path4 = "/Volumes/ramdisk/test"                                        # STEP 118
os0.remove(path0)                                                      # STEP 119
os0.link(path1,path0)                                                  # STEP 120
result = file0.read()                                                  # STEP 121
stat0 = os0.lstat(path0)                                               # STEP 122
fd0 = os0.open(path1, os.O_CREAT | os.O_WRONLY)                        # STEP 123
stat2 = os0.stat(path0)                                                # STEP 124
file0.write(str2)                                                      # STEP 125
str3 += 'd'                                                            # STEP 126
str3 += " "                                                            # STEP 127
result = sorted(os0.listdir(path0))                                    # STEP 128
result = os0.path.islink(path4)                                        # STEP 129
os0.rename(path1,path0)                                                # STEP 130
str1 += 'h'                                                            # STEP 131
str0 += 'w'                                                            # STEP 132
path4 += "/" + component2                                              # STEP 133
str2 += " "                                                            # STEP 134
str3 += 'y'                                                            # STEP 135
str0 += 'h'                                                            # STEP 136
component2 = "h"                                                       # STEP 137
str1 += 'a'                                                            # STEP 138
stat3 = os0.lstat(path1)                                               # STEP 139
str2 += 'x'                                                            # STEP 140
os0.mkdir(path1)                                                       # STEP 141
str1 += 'l'                                                            # STEP 142
str2 += 's'                                                            # STEP 143
str3 += 'q'                                                            # STEP 144
str3 += 'c'                                                            # STEP 145
os0.link(path1,path0)                                                  # STEP 146
file0.write(str2)                                                      # STEP 147
str1 += 'i'                                                            # STEP 148
result = os0.path.lexists(path1)                                       # STEP 149
os0.symlink(path4,path4)                                               # STEP 150
str2 += 'n'                                                            # STEP 151
os0.makedirs(path0)                                                    # STEP 152
os0.close(fd0)                                                         # STEP 153
str0 += 'g'                                                            # STEP 154
str1 += 'd'                                                            # STEP 155
str0 += 'e'                                                            # STEP 156
str1 += 'o'                                                            # STEP 157
str3 += 'k'                                                            # STEP 158
os0.link(path1,path1)                                                  # STEP 159
str0 += 'y'                                                            # STEP 160
stat4 = os0.stat(path4)                                                # STEP 161
os0.path.getsize(path0)                                                # STEP 162
str1 += 'j'                                                            # STEP 163
fd0 = os0.open(path0, os.O_CREAT | os.O_WRONLY | os.O_TRUNC | os.O_EXCL)  # STEP 164
result = os0.path.islink(path1)                                        # STEP 165
str0 += 'e'                                                            # STEP 166
str1 += 'q'                                                            # STEP 167
result = os0.path.abspath(path0)                                       # STEP 168
result = stat1.st_nlink                                                # STEP 169
str3 += 'f'                                                            # STEP 170
result = stat3.st_nlink                                                # STEP 171
result = os0.path.isdir(path1)                                         # STEP 172
str1 += " "                                                            # STEP 173
os0.symlink(path4,path1)                                               # STEP 174
path4 += "/" + component2                                              # STEP 175
component2 = "epsilon"                                                 # STEP 176
path0 = "/Volumes/ramdisk/test"                                        # STEP 177
str3 += 'g'                                                            # STEP 178
str2 += 'e'                                                            # STEP 179
str2 += 'r'                                                            # STEP 180
str2 += 'd'                                                            # STEP 181
str0 += 'n'                                                            # STEP 182
str1 += 'j'                                                            # STEP 183
result = sorted(os0.listdir(path0))                                    # STEP 184
result = file0.readline(bytes4)                                        # STEP 185
os0.close(fd0)                                                         # STEP 186
path4 = "/Volumes/ramdisk/test"                                        # STEP 187
os0.mkdir(path0)                                                       # STEP 188
str1 += 'w'                                                            # STEP 189
str0 += 'd'                                                            # STEP 190
result = os0.path.isdir(path4)                                         # STEP 191
result = os0.path.abspath(path0)                                       # STEP 192
os0.symlink(path0,path4)                                               # STEP 193
result = os0.path.isabs(path0)                                         # STEP 194
str1 += 'z'                                                            # STEP 195
str1 += 't'                                                            # STEP 196
os0.symlink(path0,path4)                                               # STEP 197
path4 += "/" + component3                                              # STEP 198
file0.write(str3)                                                      # STEP 199
os0.makedirs(path1)                                                    # STEP 200
stat3 = os0.lstat(path1)                                               # STEP 201
str3 += 'e'                                                            # STEP 202
result = file0.readlines()                                             # STEP 203
str3 += 'u'                                                            # STEP 204
str1 += " "                                                            # STEP 205
str0 += 'x'                                                            # STEP 206
str2 += 'x'                                                            # STEP 207
path3 = "/Volumes/ramdisk/test"                                        # STEP 208
component3 = "e"                                                       # STEP 209
os0.remove(path1)                                                      # STEP 210
str1 += 'v'                                                            # STEP 211
os0.mkdir(path1)                                                       # STEP 212
str3 += 'a'                                                            # STEP 213
str3 += 'k'                                                            # STEP 214
result = stat1.st_nlink                                                # STEP 215
str1 += 'b'                                                            # STEP 216
str3 += 'c'                                                            # STEP 217
os0.symlink(path3,path4)                                               # STEP 218
os0.link(path4,path3)                                                  # STEP 219
result = stat3.st_nlink                                                # STEP 220
result = stat2.st_nlink                                                # STEP 221
path3 += "/" + component4                                              # STEP 222
fd0 = os0.open(path3, os.O_CREAT | os.O_WRONLY | os.O_TRUNC)           # STEP 223
path2 = "/Volumes/ramdisk/test"                                        # STEP 224
str3 += 'u'                                                            # STEP 225
str0 += 'd'                                                            # STEP 226
result = os0.read(fd0,bytes0)                                          # STEP 227
str0 += 'v'                                                            # STEP 228
path0 = "/Volumes/ramdisk/test"                                        # STEP 229
str0 += " "                                                            # STEP 230
path4 += "/" + component3                                              # STEP 231
result = os0.path.isfile(path1)                                        # STEP 232
os0.symlink(path2,path1)                                               # STEP 233
str2 += 'x'                                                            # STEP 234
str1 += 'z'                                                            # STEP 235
result = stat0.st_size                                                 # STEP 236
stat3 = os0.stat(path3)                                                # STEP 237
component3 = "gamma"                                                   # STEP 238
os0.link(path3,path2)                                                  # STEP 239
str0 += 'b'                                                            # STEP 240
os0.symlink(path3,path3)                                               # STEP 241
str2 += 'f'                                                            # STEP 242
result = os0.path.exists(path4)                                        # STEP 243
stat2 = os0.stat(path3)                                                # STEP 244
os0.link(path0,path4)                                                  # STEP 245
str3 += 'a'                                                            # STEP 246
component4 = "f"                                                       # STEP 247
bytes4 += 1                                                            # STEP 248
str3 += 'u'                                                            # STEP 249
path2 += "/" + component1                                              # STEP 250
path3 += "/" + component2                                              # STEP 251
os0.rmdir(path4)                                                       # STEP 252
component2 = "epsilon"                                                 # STEP 253
str3 += 'y'                                                            # STEP 254
stat0 = os0.stat(path1)                                                # STEP 255
os0.link(path0,path0)                                                  # STEP 256
os0.symlink(path4,path2)                                               # STEP 257
os0.makedirs(path4)                                                    # STEP 258
os0.link(path2,path1)                                                  # STEP 259
str1 += 'q'                                                            # STEP 260
str0 += 'h'                                                            # STEP 261
result = os0.path.isabs(path2)                                         # STEP 262
os0.symlink(path1,path1)                                               # STEP 263
component1 = "c"                                                       # STEP 264
str1 += 'c'                                                            # STEP 265
result = os0.path.dirname(path1)                                       # STEP 266
str1 += 'k'                                                            # STEP 267
stat1 = os0.stat(path2)                                                # STEP 268
os0.rmdir(path3)                                                       # STEP 269
os0.rename(path4,path1)                                                # STEP 270
str1 += 'i'                                                            # STEP 271
result = os0.path.isdir(path4)                                         # STEP 272
path2 += "/" + component1                                              # STEP 273
os0.symlink(path3,path1)                                               # STEP 274
os0.symlink(path3,path1)                                               # STEP 275
bytes4 = 0                                                             # STEP 276
os0.makedirs(path2)                                                    # STEP 277
str0 += 'j'                                                            # STEP 278
str2 += 'y'                                                            # STEP 279
os0.rmdir(path1)                                                       # STEP 280
path2 += "/" + component3                                              # STEP 281
str2 += 'r'                                                            # STEP 282
str1 += 'l'                                                            # STEP 283
os0.symlink(path4,path0)                                               # STEP 284
os0.mkdir(path1)                                                       # STEP 285
file0.write(str0)                                                      # STEP 286
file0.write(str1)                                                      # STEP 287
os0.removedirs(path2)                                                  # STEP 288
str0 += 'b'                                                            # STEP 289
os0.symlink(path4,path4)                                               # STEP 290
os0.link(path4,path0)                                                  # STEP 291
path4 = "/Volumes/ramdisk/test"                                        # STEP 292
component3 = "alpha"                                                   # STEP 293
str0 = ""                                                              # STEP 294
result = os0.readlink(path4)                                           # STEP 295
str0 += 'd'                                                            # STEP 296
str0 += 't'                                                            # STEP 297
str2 = ""                                                              # STEP 298
path4 += "/" + component1                                              # STEP 299
str0 += 'a'                                                            # STEP 300
os0.symlink(path4,path4)                                               # STEP 301
str2 += 'p'                                                            # STEP 302
str0 += 'i'                                                            # STEP 303
str2 += 'l'                                                            # STEP 304
str0 = ""                                                              # STEP 305
result = os0.readlink(path4)                                           # STEP 306
str0 += 'd'                                                            # STEP 307
str0 += 't'                                                            # STEP 308
str2 = ""                                                              # STEP 309
path4 += "/" + component1                                              # STEP 310
str0 += 'a'                                                            # STEP 311
os0.symlink(path4,path4)                                               # STEP 312
str2 += 'p'                                                            # STEP 313
str0 += 'i'                                                            # STEP 314
str2 += 'l'                                                            # STEP 315
str2 += 'u'                                                            # STEP 316
str0 = ""                                                              # STEP 317
str2 += 'a'                                                            # STEP 318
str2 += 'j'                                                            # STEP 319
str0 += 't'                                                            # STEP 320
path4 += "/" + component4                                              # STEP 321
result = os0.path.exists(path4)                                        # STEP 322
str0 += 'y'                                                            # STEP 323
str2 += " "                                                            # STEP 324
component4 = "b"                                                       # STEP 325
str0 += 'q'                                                            # STEP 326
str2 += 'j'                                                            # STEP 327
bytes0 = 0                                                             # STEP 328
component1 = "g"                                                       # STEP 329
str2 += 'z'                                                            # STEP 330
str3 = ""                                                              # STEP 331
str3 += 'n'                                                            # STEP 332
str0 += 'a'                                                            # STEP 333
str2 += 'z'                                                            # STEP 334
str0 += 'i'                                                            # STEP 335
str0 += 'w'                                                            # STEP 336
str2 += 'n'                                                            # STEP 337
str2 += 'g'                                                            # STEP 338
str2 += 'g'                                                            # STEP 339
str0 += 'y'                                                            # STEP 340
str0 += 't'                                                            # STEP 341
str3 += 'u'                                                            # STEP 342
str3 += " "                                                            # STEP 343
str3 += 'b'                                                            # STEP 344
bytes4 += 1                                                            # STEP 345
str3 += 's'                                                            # STEP 346
str3 += 's'                                                            # STEP 347
str3 += 'e'                                                            # STEP 348
str3 += 'i'                                                            # STEP 349
bytes1 = 0                                                             # STEP 350
str3 += 'g'                                                            # STEP 351
str3 += 'c'                                                            # STEP 352
bytes1 += 1                                                            # STEP 353
str3 += 'd'                                                            # STEP 354
path4 = "/Volumes/ramdisk/test"                                        # STEP 355
path4 += "/" + component2                                              # STEP 356
str3 += 'r'                                                            # STEP 357
str3 += 'n'                                                            # STEP 358
str3 += 'j'                                                            # STEP 359
bytes0 += 1                                                            # STEP 360
component2 = "a"                                                       # STEP 361
str3 += 'j'                                                            # STEP 362
str3 += 's'                                                            # STEP 363
path4 += "/" + component3                                              # STEP 364
component3 = "c"                                                       # STEP 365
str1 = ""                                                              # STEP 366
str1 += 'p'                                                            # STEP 367
bytes3 = 0                                                             # STEP 368
result = os0.path.isabs(path4)                                         # STEP 369
bytes3 += 1                                                            # STEP 370
str1 += 'b'                                                            # STEP 371
str1 += 'a'                                                            # STEP 372
str3 += 'w'                                                            # STEP 373
bytes1 = 0                                                             # STEP 374
str3 += 'p'                                                            # STEP 375
result = os0.path.abspath(path4)                                       # STEP 376
str1 += 'm'                                                            # STEP 377
str1 += 'w'                                                            # STEP 378
bytes0 = 0                                                             # STEP 379
str1 += 'b'                                                            # STEP 380
result = os0.path.isdir(path4)                                         # STEP 381
bytes3 = 0                                                             # STEP 382
str3 += 'y'                                                            # STEP 383
str1 += 'x'                                                            # STEP 384
str3 += 'u'                                                            # STEP 385
str1 += 'g'                                                            # STEP 386
path4 += "/" + component3                                              # STEP 387
str1 += 'n'                                                            # STEP 388
str3 += 'c'                                                            # STEP 389
str1 += 'y'                                                            # STEP 390
str3 += 'x'                                                            # STEP 391
str1 += 'l'                                                            # STEP 392
path2 = "/Volumes/ramdisk/test"                                        # STEP 393
result = os0.readlink(path4)                                           # STEP 394
str1 += 'p'                                                            # STEP 395
result = os0.readlink(path2)                                           # STEP 396
bytes1 += 1                                                            # STEP 397
path2 += "/" + component3                                              # STEP 398
result = os0.path.dirname(path2)                                       # STEP 399
os0.makedirs(path2)                                                    # STEP 400
str3 += 'w'                                                            # STEP 401
result = os0.path.isabs(path4)                                         # STEP 402
result = os0.path.lexists(path2)                                       # STEP 403
result = os0.path.exists(path2)                                        # STEP 404
component3 = "h"                                                       # STEP 405
os0.removedirs(path2)                                                  # STEP 406
str2 += 'v'                                                            # STEP 407
result = os0.path.isfile(path2)                                        # STEP 408
str3 += 'm'                                                            # STEP 409
os0.symlink(path2,path2)                                               # STEP 410
os0.mkdir(path2)                                                       # STEP 411
path1 = "/Volumes/ramdisk/test"                                        # STEP 412
os0.link(path4,path2)                                                  # STEP 413
str3 += 'd'                                                            # STEP 414
str2 += 'g'                                                            # STEP 415
result = os0.path.isfile(path4)                                        # STEP 416
bytes3 += 1                                                            # STEP 417
path1 += "/" + component2                                              # STEP 418
path4 += "/" + component1                                              # STEP 419
str2 += 'm'                                                            # STEP 420
str2 += 'y'                                                            # STEP 421
str3 += 'r'                                                            # STEP 422
str0 += 'j'                                                            # STEP 423
result = os0.path.isdir(path4)                                         # STEP 424
os0.remove(path1)                                                      # STEP 425
os0.remove(path1)                                                      # STEP 426
component1 = "c"                                                       # STEP 427
str0 += 'i'                                                            # STEP 428
str3 += 'l'                                                            # STEP 429
str2 += 'w'                                                            # STEP 430
os0.remove(path4)                                                      # STEP 431
str3 += 'h'                                                            # STEP 432
str3 += 'l'                                                            # STEP 433
result = os0.path.isabs(path4)                                         # STEP 434
str0 += 'o'                                                            # STEP 435
path2 += "/" + component3                                              # STEP 436
component3 = "h"                                                       # STEP 437
os0.makedirs(path4)                                                    # STEP 438
str3 += 'v'                                                            # STEP 439
result = sorted(os0.listdir(path4))                                    # STEP 440
os0.link(path4,path1)                                                  # STEP 441
str2 += 's'                                                            # STEP 442
str2 += 'z'                                                            # STEP 443
str2 += 'z'                                                            # STEP 444
str2 += 'x'                                                            # STEP 445
component2 = "beta"                                                    # STEP 446
result = os0.path.islink(path2)                                        # STEP 447
str2 += 'q'                                                            # STEP 448
result = os0.path.isfile(path2)                                        # STEP 449
str1 += 'y'                                                            # STEP 450
result = os0.path.isdir(path1)                                         # STEP 451
os0.link(path2,path4)                                                  # STEP 452
str3 += 'p'                                                            # STEP 453
os0.symlink(path1,path4)                                               # STEP 454
str2 += 'w'                                                            # STEP 455
str3 += 'x'                                                            # STEP 456
os0.write(fd0,str0)                                                    # STEP 457
str0 += 'f'                                                            # STEP 458
bytes1 = 0                                                             # STEP 459
result = os0.path.islink(path1)                                        # STEP 460
str0 += 'r'                                                            # STEP 461
result = sorted(os0.listdir(path1))                                    # STEP 462
result = os0.path.dirname(path4)                                       # STEP 463
str2 += 'x'                                                            # STEP 464
result = os0.path.lexists(path4)                                       # STEP 465
str0 += 'c'                                                            # STEP 466
os0.mkdir(path1)                                                       # STEP 467
str1 += 'j'                                                            # STEP 468
str3 += 'v'                                                            # STEP 469
os0.makedirs(path4)                                                    # STEP 470
bytes4 += 1                                                            # STEP 471
os0.link(path1,path1)                                                  # STEP 472
result = os0.path.dirname(path1)                                       # STEP 473
os0.makedirs(path4)                                                    # STEP 474
os0.remove(path4)                                                      # STEP 475
result = os0.path.lexists(path2)                                       # STEP 476
result = os0.path.dirname(path4)                                       # STEP 477
result = os0.read(fd0,bytes1)                                          # STEP 478
result = stat2.st_size                                                 # STEP 479
str3 += 's'                                                            # STEP 480
str1 += 'p'                                                            # STEP 481
str3 += 'c'                                                            # STEP 482
str3 += 't'                                                            # STEP 483
str0 += 's'                                                            # STEP 484
file0.seek(bytes1)                                                     # STEP 485
result = os0.path.isfile(path1)                                        # STEP 486
os0.close(fd0)                                                         # STEP 487
str3 += 'q'                                                            # STEP 488
bytes4 = 0                                                             # STEP 489
str0 += 't'                                                            # STEP 490
str2 += 'y'                                                            # STEP 491
str1 += 'z'                                                            # STEP 492
str1 += 'q'                                                            # STEP 493
str1 += 'l'                                                            # STEP 494
result = os0.path.abspath(path3)                                       # STEP 495
os0.rename(path2,path4)                                                # STEP 496
result = os0.path.isabs(path4)                                         # STEP 497
fd0 = os0.open(path3, os.O_CREAT | os.O_EXCL)                          # STEP 498
file0.seek(bytes0)                                                     # STEP 499
result = os0.path.isabs(path0)                                         # STEP 500
os0.symlink(path2,path2)                                               # STEP 501
str1 += 'c'                                                            # STEP 502
str0 = ""                                                              # STEP 503
str0 += 'x'                                                            # STEP 504
result = sorted(os0.listdir(path3))                                    # STEP 505
result = os0.path.isdir(path0)                                         # STEP 506
os0.removedirs(path1)                                                  # STEP 507
os0.symlink(path1,path2)                                               # STEP 508
result = os0.path.islink(path0)                                        # STEP 509
result = os0.path.lexists(path1)                                       # STEP 510
stat2 = os0.lstat(path4)                                               # STEP 511
path0 += "/" + component2                                              # STEP 512
bytes1 += 1                                                            # STEP 513
os0.removedirs(path3)                                                  # STEP 514
result = stat1.st_size                                                 # STEP 515
ERROR: (<type 'exceptions.AssertionError'>, AssertionError(' (42) == (0) ',), <traceback object at 0x105dea6c8>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 21826, in act458
    try: assert result == result_REF, " (%s) == (%s) " % (result, result_REF)
FAILURE 9
component4 = "lambda"                                                    # STEP 0
component1 = "g"                                                         # STEP 1
bytes4 = 0                                                               # STEP 2
path4 = "/Volumes/ramdisk/test"                                          # STEP 3
component0 = "g"                                                         # STEP 4
component3 = "alpha"                                                     # STEP 5
component2 = "g"                                                         # STEP 6
str0 = ""                                                                # STEP 7
os0 = newFakeOS()                                                        # STEP 8
result = os0.readlink(path4)                                             # STEP 9
str0 += 'd'                                                             # STEP 10
str0 += 't'                                                             # STEP 11
str2 = ""                                                               # STEP 12
path4 += "/" + component1                                               # STEP 13
str0 += 'a'                                                             # STEP 14
os0.symlink(path4,path4)                                                # STEP 15
str2 += 'p'                                                             # STEP 16
str0 += 'i'                                                             # STEP 17
str2 += 'l'                                                             # STEP 18
str2 += 'u'                                                             # STEP 19
str0 = ""                                                               # STEP 20
str2 += 'a'                                                             # STEP 21
str2 += 'j'                                                             # STEP 22
str0 += 't'                                                             # STEP 23
result = os0.path.exists(path4)                                         # STEP 24
str0 += 'y'                                                             # STEP 25
str2 += " "                                                             # STEP 26
str0 += 'q'                                                             # STEP 27
str2 += 'j'                                                             # STEP 28
stat1 = os0.stat(path4)                                                 # STEP 29
fd0 = os0.open(path4, os.O_CREAT | os.O_WRONLY | os.O_TRUNC | os.O_EXCL)  # STEP 30
bytes0 = 0                                                              # STEP 31
component1 = "g"                                                        # STEP 32
str2 += 'z'                                                             # STEP 33
str3 = ""                                                               # STEP 34
str3 += 'n'                                                             # STEP 35
str0 += 'a'                                                             # STEP 36
str2 += 'z'                                                             # STEP 37
fd0 = os0.open(path4, os.O_CREAT | os.O_WRONLY)                         # STEP 38
str0 += 'i'                                                             # STEP 39
str0 += 'w'                                                             # STEP 40
str2 += 'n'                                                             # STEP 41
str2 += 'g'                                                             # STEP 42
str2 += 'g'                                                             # STEP 43
str0 += 'y'                                                             # STEP 44
str0 += 't'                                                             # STEP 45
str3 += " "                                                             # STEP 46
str2 += 'b'                                                             # STEP 47
str0 += 'g'                                                             # STEP 48
str0 += 'x'                                                             # STEP 49
str0 += 'x'                                                             # STEP 50
str3 += 't'                                                             # STEP 51
result = os0.path.exists(path4)                                         # STEP 52
str3 += " "                                                             # STEP 53
str0 += 'p'                                                             # STEP 54
str2 = ""                                                               # STEP 55
str3 += 'z'                                                             # STEP 56
str2 += 'h'                                                             # STEP 57
str2 += 'u'                                                             # STEP 58
str0 += 'm'                                                             # STEP 59
str0 = ""                                                               # STEP 60
str2 += 'n'                                                             # STEP 61
path1 = "/Volumes/ramdisk/test"                                         # STEP 62
str2 += 'c'                                                             # STEP 63
str2 += 'k'                                                             # STEP 64
result = os0.readlink(path4)                                            # STEP 65
opener0 = newFakeOpener(os0)                                            # STEP 66
str0 += 's'                                                             # STEP 67
result = os0.path.isabs(path1)                                          # STEP 68
str3 += 'w'                                                             # STEP 69
file0 = opener0(path1,'w')                                              # STEP 70
str1 = ""                                                               # STEP 71
result = os0.path.exists(path4)                                         # STEP 72
path1 += "/" + component4                                               # STEP 73
file0 = opener0(path1,'a')                                              # STEP 74
str0 += 'l'                                                             # STEP 75
str1 += 'u'                                                             # STEP 76
str2 += 'n'                                                             # STEP 77
str3 += 'u'                                                             # STEP 78
stat1 = os0.stat(path4)                                                 # STEP 79
str2 += 'l'                                                             # STEP 80
str0 += 't'                                                             # STEP 81
component4 = "delta"                                                    # STEP 82
stat4 = os0.stat(path4)                                                 # STEP 83
str3 += 't'                                                             # STEP 84
str0 += 'p'                                                             # STEP 85
str2 += 't'                                                             # STEP 86
os0.removedirs(path4)                                                   # STEP 87
stat0 = os0.stat(path4)                                                 # STEP 88
fd0 = os0.open(path4, os.O_CREAT | os.O_WRONLY | os.O_EXCL)             # STEP 89
file0.next()                                                            # STEP 90
str1 += 's'                                                             # STEP 91
str1 += 'r'                                                             # STEP 92
os0.makedirs(path4)                                                     # STEP 93
os0.rmdir(path1)                                                        # STEP 94
fd0 = os0.open(path4, os.O_CREAT | os.O_WRONLY)                         # STEP 95
stat3 = os0.lstat(path4)                                                # STEP 96
path0 = "/Volumes/ramdisk/test"                                         # STEP 97
str2 += 'f'                                                             # STEP 98
path0 += "/" + component0                                               # STEP 99
os0.symlink(path1,path4)                                               # STEP 100
str2 += 'f'                                                            # STEP 101
str0 += 'h'                                                            # STEP 102
fd0 = os0.open(path0, os.O_WRONLY | os.O_APPEND)                       # STEP 103
str3 += 'b'                                                            # STEP 104
str2 += 't'                                                            # STEP 105
file0.flush()                                                          # STEP 106
result = os0.path.abspath(path4)                                       # STEP 107
str1 += 'f'                                                            # STEP 108
component0 = "d"                                                       # STEP 109
fd0 = os0.open(path4, os.O_CREAT | os.O_WRONLY | os.O_EXCL)            # STEP 110
result = os0.path.exists(path1)                                        # STEP 111
str0 += 'm'                                                            # STEP 112
result = os0.readlink(path1)                                           # STEP 113
result = os0.readlink(path1)                                           # STEP 114
os0.link(path0,path1)                                                  # STEP 115
stat1 = os0.stat(path1)                                                # STEP 116
result = stat3.st_size                                                 # STEP 117
path4 = "/Volumes/ramdisk/test"                                        # STEP 118
os0.remove(path0)                                                      # STEP 119
os0.link(path1,path0)                                                  # STEP 120
result = file0.read()                                                  # STEP 121
stat0 = os0.lstat(path0)                                               # STEP 122
fd0 = os0.open(path1, os.O_CREAT | os.O_WRONLY)                        # STEP 123
stat2 = os0.stat(path0)                                                # STEP 124
file0.write(str2)                                                      # STEP 125
str3 += 'd'                                                            # STEP 126
str3 += " "                                                            # STEP 127
result = sorted(os0.listdir(path0))                                    # STEP 128
result = os0.path.islink(path4)                                        # STEP 129
os0.rename(path1,path0)                                                # STEP 130
str1 += 'h'                                                            # STEP 131
str0 += 'w'                                                            # STEP 132
path4 += "/" + component2                                              # STEP 133
str2 += " "                                                            # STEP 134
str3 += 'y'                                                            # STEP 135
str0 += 'h'                                                            # STEP 136
component2 = "h"                                                       # STEP 137
str1 += 'a'                                                            # STEP 138
stat3 = os0.lstat(path1)                                               # STEP 139
str2 += 'x'                                                            # STEP 140
os0.mkdir(path1)                                                       # STEP 141
str1 += 'l'                                                            # STEP 142
str2 += 's'                                                            # STEP 143
str3 += 'q'                                                            # STEP 144
str3 += 'c'                                                            # STEP 145
os0.link(path1,path0)                                                  # STEP 146
file0.write(str2)                                                      # STEP 147
str1 += 'i'                                                            # STEP 148
result = os0.path.lexists(path1)                                       # STEP 149
os0.symlink(path4,path4)                                               # STEP 150
str2 += 'n'                                                            # STEP 151
os0.makedirs(path0)                                                    # STEP 152
os0.close(fd0)                                                         # STEP 153
str0 += 'g'                                                            # STEP 154
str1 += 'd'                                                            # STEP 155
str0 += 'e'                                                            # STEP 156
str1 += 'o'                                                            # STEP 157
str3 += 'k'                                                            # STEP 158
os0.link(path1,path1)                                                  # STEP 159
str0 += 'y'                                                            # STEP 160
stat4 = os0.stat(path4)                                                # STEP 161
os0.path.getsize(path0)                                                # STEP 162
str1 += 'j'                                                            # STEP 163
fd0 = os0.open(path0, os.O_CREAT | os.O_WRONLY | os.O_TRUNC | os.O_EXCL)  # STEP 164
result = os0.path.islink(path1)                                        # STEP 165
str0 += 'e'                                                            # STEP 166
str1 += 'q'                                                            # STEP 167
result = os0.path.abspath(path0)                                       # STEP 168
result = stat1.st_nlink                                                # STEP 169
str3 += 'f'                                                            # STEP 170
result = stat3.st_nlink                                                # STEP 171
result = os0.path.isdir(path1)                                         # STEP 172
str1 += " "                                                            # STEP 173
os0.symlink(path4,path1)                                               # STEP 174
path4 += "/" + component2                                              # STEP 175
component2 = "epsilon"                                                 # STEP 176
path0 = "/Volumes/ramdisk/test"                                        # STEP 177
str3 += 'g'                                                            # STEP 178
str2 += 'e'                                                            # STEP 179
str2 += 'r'                                                            # STEP 180
str2 += 'd'                                                            # STEP 181
str0 += 'n'                                                            # STEP 182
str1 += 'j'                                                            # STEP 183
result = sorted(os0.listdir(path0))                                    # STEP 184
result = file0.readline(bytes4)                                        # STEP 185
os0.close(fd0)                                                         # STEP 186
path4 = "/Volumes/ramdisk/test"                                        # STEP 187
os0.mkdir(path0)                                                       # STEP 188
str1 += 'w'                                                            # STEP 189
str0 += 'd'                                                            # STEP 190
result = os0.path.isdir(path4)                                         # STEP 191
result = os0.path.abspath(path0)                                       # STEP 192
os0.symlink(path0,path4)                                               # STEP 193
result = os0.path.isabs(path0)                                         # STEP 194
str1 += 'z'                                                            # STEP 195
str1 += 't'                                                            # STEP 196
os0.symlink(path0,path4)                                               # STEP 197
path4 += "/" + component3                                              # STEP 198
file0.write(str3)                                                      # STEP 199
os0.makedirs(path1)                                                    # STEP 200
stat3 = os0.lstat(path1)                                               # STEP 201
str3 += 'e'                                                            # STEP 202
result = file0.readlines()                                             # STEP 203
str3 += 'u'                                                            # STEP 204
str1 += " "                                                            # STEP 205
str0 += 'x'                                                            # STEP 206
str2 += 'x'                                                            # STEP 207
path3 = "/Volumes/ramdisk/test"                                        # STEP 208
component3 = "e"                                                       # STEP 209
os0.remove(path1)                                                      # STEP 210
str1 += 'v'                                                            # STEP 211
os0.mkdir(path1)                                                       # STEP 212
str3 += 'a'                                                            # STEP 213
str3 += 'k'                                                            # STEP 214
result = stat1.st_nlink                                                # STEP 215
str1 += 'b'                                                            # STEP 216
str3 += 'c'                                                            # STEP 217
os0.symlink(path3,path4)                                               # STEP 218
os0.link(path4,path3)                                                  # STEP 219
result = stat3.st_nlink                                                # STEP 220
result = stat2.st_nlink                                                # STEP 221
path3 += "/" + component4                                              # STEP 222
fd0 = os0.open(path3, os.O_CREAT | os.O_WRONLY | os.O_TRUNC)           # STEP 223
path2 = "/Volumes/ramdisk/test"                                        # STEP 224
str3 += 'u'                                                            # STEP 225
str0 += 'd'                                                            # STEP 226
result = os0.read(fd0,bytes0)                                          # STEP 227
str0 += 'v'                                                            # STEP 228
path0 = "/Volumes/ramdisk/test"                                        # STEP 229
str0 += " "                                                            # STEP 230
path4 += "/" + component3                                              # STEP 231
result = os0.path.isfile(path1)                                        # STEP 232
os0.symlink(path2,path1)                                               # STEP 233
str2 += 'x'                                                            # STEP 234
str1 += 'z'                                                            # STEP 235
result = stat0.st_size                                                 # STEP 236
stat3 = os0.stat(path3)                                                # STEP 237
component3 = "gamma"                                                   # STEP 238
os0.link(path3,path2)                                                  # STEP 239
str0 += 'b'                                                            # STEP 240
os0.symlink(path3,path3)                                               # STEP 241
str2 += 'f'                                                            # STEP 242
result = os0.path.exists(path4)                                        # STEP 243
stat2 = os0.stat(path3)                                                # STEP 244
os0.link(path0,path4)                                                  # STEP 245
str3 += 'a'                                                            # STEP 246
component4 = "f"                                                       # STEP 247
bytes4 += 1                                                            # STEP 248
str3 += 'u'                                                            # STEP 249
path2 += "/" + component1                                              # STEP 250
path3 += "/" + component2                                              # STEP 251
os0.rmdir(path4)                                                       # STEP 252
component2 = "epsilon"                                                 # STEP 253
str3 += 'y'                                                            # STEP 254
stat0 = os0.stat(path1)                                                # STEP 255
os0.link(path0,path0)                                                  # STEP 256
os0.symlink(path4,path2)                                               # STEP 257
os0.makedirs(path4)                                                    # STEP 258
os0.link(path2,path1)                                                  # STEP 259
str1 += 'q'                                                            # STEP 260
str0 += 'h'                                                            # STEP 261
result = os0.path.isabs(path2)                                         # STEP 262
os0.symlink(path1,path1)                                               # STEP 263
component1 = "c"                                                       # STEP 264
str1 += 'c'                                                            # STEP 265
result = os0.path.dirname(path1)                                       # STEP 266
str1 += 'k'                                                            # STEP 267
stat1 = os0.stat(path2)                                                # STEP 268
os0.rmdir(path3)                                                       # STEP 269
os0.rename(path4,path1)                                                # STEP 270
str1 += 'i'                                                            # STEP 271
result = os0.path.isdir(path4)                                         # STEP 272
path2 += "/" + component1                                              # STEP 273
os0.symlink(path3,path1)                                               # STEP 274
os0.symlink(path3,path1)                                               # STEP 275
bytes4 = 0                                                             # STEP 276
os0.makedirs(path2)                                                    # STEP 277
str0 += 'j'                                                            # STEP 278
str2 += 'y'                                                            # STEP 279
os0.rmdir(path1)                                                       # STEP 280
path2 += "/" + component3                                              # STEP 281
str2 += 'r'                                                            # STEP 282
str1 += 'l'                                                            # STEP 283
os0.symlink(path4,path0)                                               # STEP 284
os0.mkdir(path1)                                                       # STEP 285
file0.write(str0)                                                      # STEP 286
file0.write(str1)                                                      # STEP 287
os0.removedirs(path2)                                                  # STEP 288
str0 += 'b'                                                            # STEP 289
os0.symlink(path4,path4)                                               # STEP 290
os0.link(path4,path0)                                                  # STEP 291
str2 += 'e'                                                            # STEP 292
component1 = "b"                                                       # STEP 293
str1 += 'v'                                                            # STEP 294
str2 += 'p'                                                            # STEP 295
result = os0.path.islink(path1)                                        # STEP 296
str3 += 'z'                                                            # STEP 297
result = os0.path.isfile(path3)                                        # STEP 298
result = os0.path.exists(path4)                                        # STEP 299
result = os0.readlink(path3)                                           # STEP 300
result = os0.path.islink(path4)                                        # STEP 301
path4 = "/Volumes/ramdisk/test"                                        # STEP 302
os0.link(path2,path3)                                                  # STEP 303
result = sorted(os0.listdir(path3))                                    # STEP 304
str1 += 'c'                                                            # STEP 305
str2 += 'b'                                                            # STEP 306
os0.link(path4,path3)                                                  # STEP 307
str3 += 'g'                                                            # STEP 308
path3 = "/Volumes/ramdisk/test"                                        # STEP 309
path2 = "/Volumes/ramdisk/test"                                        # STEP 310
str2 += 'p'                                                            # STEP 311
os0.makedirs(path0)                                                    # STEP 312
os0.link(path0,path3)                                                  # STEP 313
str1 += 'e'                                                            # STEP 314
result = os0.path.dirname(path0)                                       # STEP 315
result = stat3.st_size                                                 # STEP 316
result = os0.readlink(path0)                                           # STEP 317
file0.truncate()                                                       # STEP 318
result = sorted(os0.listdir(path2))                                    # STEP 319
os0.removedirs(path3)                                                  # STEP 320
str1 += 'y'                                                            # STEP 321
result = sorted(os0.listdir(path1))                                    # STEP 322
str0 += 'f'                                                            # STEP 323
str3 += 'h'                                                            # STEP 324
str2 += 'm'                                                            # STEP 325
str1 += 'g'                                                            # STEP 326
os0.removedirs(path0)                                                  # STEP 327
str3 += 'x'                                                            # STEP 328
os0.rename(path1,path2)                                                # STEP 329
os0.makedirs(path3)                                                    # STEP 330
str2 += 'n'                                                            # STEP 331
str0 += 'd'                                                            # STEP 332
os0.rename(path1,path0)                                                # STEP 333
os0.symlink(path3,path1)                                               # STEP 334
path0 += "/" + component1                                              # STEP 335
str1 += 'z'                                                            # STEP 336
result = os0.path.dirname(path4)                                       # STEP 337
result = os0.readlink(path2)                                           # STEP 338
str3 += 'v'                                                            # STEP 339
result = os0.path.isfile(path4)                                        # STEP 340
component3 = "a"                                                       # STEP 341
path2 += "/" + component2                                              # STEP 342
os0.link(path0,path1)                                                  # STEP 343
result = os0.path.islink(path3)                                        # STEP 344
str1 += 'a'                                                            # STEP 345
os0.link(path0,path0)                                                  # STEP 346
result = sorted(os0.listdir(path0))                                    # STEP 347
str1 += 'c'                                                            # STEP 348
result = sorted(os0.listdir(path3))                                    # STEP 349
str0 += 'p'                                                            # STEP 350
result = stat1.st_nlink                                                # STEP 351
str0 += 'z'                                                            # STEP 352
str2 += 'w'                                                            # STEP 353
os0.link(path4,path3)                                                  # STEP 354
os0.link(path1,path4)                                                  # STEP 355
str3 += 'w'                                                            # STEP 356
str1 += 'n'                                                            # STEP 357
file0.flush()                                                          # STEP 358
str2 += " "                                                            # STEP 359
result = stat4.st_size                                                 # STEP 360
ERROR: (<type 'exceptions.AssertionError'>, AssertionError(' (25) == (0) ',), <traceback object at 0x10834a1b8>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 21991, in act461
    try: assert result == result_REF, " (%s) == (%s) " % (result, result_REF)
FAILURE 10
str1 = ""                                                                # STEP 0
component3 = "beta"                                                      # STEP 1
component4 = "a"                                                         # STEP 2
component1 = "lambda"                                                    # STEP 3
str1 += 'z'                                                              # STEP 4
bytes4 = 0                                                               # STEP 5
str1 += 'm'                                                              # STEP 6
component0 = "g"                                                         # STEP 7
component2 = "d"                                                         # STEP 8
bytes0 = 0                                                               # STEP 9
str1 += 'o'                                                             # STEP 10
bytes0 += 1                                                             # STEP 11
os0 = newFakeOS()                                                       # STEP 12
str4 = ""                                                               # STEP 13
str4 += 'f'                                                             # STEP 14
str4 += 'k'                                                             # STEP 15
str4 += " "                                                             # STEP 16
str1 += 'l'                                                             # STEP 17
str1 += 'e'                                                             # STEP 18
str1 += 'q'                                                             # STEP 19
str1 += 'n'                                                             # STEP 20
opener0 = newFakeOpener(os0)                                            # STEP 21
bytes0 = 0                                                              # STEP 22
bytes1 = 0                                                              # STEP 23
str1 += 'k'                                                             # STEP 24
str4 += 'p'                                                             # STEP 25
str1 += 'h'                                                             # STEP 26
str1 += 'v'                                                             # STEP 27
path1 = "/Volumes/ramdisk/test"                                         # STEP 28
bytes0 += 1                                                             # STEP 29
result = os0.path.isabs(path1)                                          # STEP 30
str1 += " "                                                             # STEP 31
path1 += "/" + component0                                               # STEP 32
fd0 = os0.open(path1, os.O_CREAT | os.O_WRONLY | os.O_TRUNC | os.O_EXCL)  # STEP 33
component0 = "a"                                                        # STEP 34
result = sorted(os0.listdir(path1))                                     # STEP 35
str1 += 'k'                                                             # STEP 36
str4 += 'r'                                                             # STEP 37
str4 += 'v'                                                             # STEP 38
str4 += 'z'                                                             # STEP 39
str1 += 's'                                                             # STEP 40
str0 = ""                                                               # STEP 41
file0 = opener0(path1,'r')                                              # STEP 42
file0.next()                                                            # STEP 43
str1 += 'y'                                                             # STEP 44
str1 += 'v'                                                             # STEP 45
str2 = ""                                                               # STEP 46
str0 += 'c'                                                             # STEP 47
str2 += 'a'                                                             # STEP 48
str4 += 'y'                                                             # STEP 49
stat0 = os0.fstat(fd0)                                                  # STEP 50
str0 += 'i'                                                             # STEP 51
os0.rmdir(path1)                                                        # STEP 52
path1 += "/" + component4                                               # STEP 53
str4 += 's'                                                             # STEP 54
str1 += 'e'                                                             # STEP 55
str4 += 'z'                                                             # STEP 56
str0 += " "                                                             # STEP 57
component4 = "epsilon"                                                  # STEP 58
str1 += 'h'                                                             # STEP 59
str2 += 'm'                                                             # STEP 60
os0.link(path1,path1)                                                   # STEP 61
path2 = "/Volumes/ramdisk/test"                                         # STEP 62
result = os0.path.abspath(path2)                                        # STEP 63
str2 += 'l'                                                             # STEP 64
stat3 = os0.lstat(path1)                                                # STEP 65
path3 = "/Volumes/ramdisk/test"                                         # STEP 66
str1 += 'v'                                                             # STEP 67
result = file0.readline(bytes1)                                         # STEP 68
result = file0.readline(bytes0)                                         # STEP 69
file0.seek(bytes4)                                                      # STEP 70
str4 += 'g'                                                             # STEP 71
result = os0.path.exists(path2)                                         # STEP 72
str0 += 'g'                                                             # STEP 73
file0.next()                                                            # STEP 74
result = os0.path.islink(path1)                                         # STEP 75
stat1 = os0.lstat(path1)                                                # STEP 76
str1 += 'j'                                                             # STEP 77
result = os0.path.lexists(path1)                                        # STEP 78
os0.write(fd0,str1)                                                     # STEP 79
os0.makedirs(path2)                                                     # STEP 80
str4 += 'p'                                                             # STEP 81
str2 += 'v'                                                             # STEP 82
str0 += 'p'                                                             # STEP 83
str2 += 'o'                                                             # STEP 84
result = os0.path.isfile(path1)                                         # STEP 85
str0 += 'j'                                                             # STEP 86
os0.symlink(path3,path1)                                                # STEP 87
path3 += "/" + component0                                               # STEP 88
str4 += 'd'                                                             # STEP 89
result = os0.path.islink(path3)                                         # STEP 90
component0 = "alpha"                                                    # STEP 91
str1 += 'a'                                                             # STEP 92
os0.symlink(path2,path3)                                                # STEP 93
path1 += "/" + component3                                               # STEP 94
stat2 = os0.lstat(path3)                                                # STEP 95
stat1 = os0.stat(path1)                                                 # STEP 96
component3 = "epsilon"                                                  # STEP 97
str0 += 'z'                                                             # STEP 98
str1 += 'h'                                                             # STEP 99
os0.rename(path3,path2)                                                # STEP 100
result = os0.read(fd0,bytes1)                                          # STEP 101
str0 += 'r'                                                            # STEP 102
bytes1 += 1                                                            # STEP 103
str4 += 'w'                                                            # STEP 104
str0 += 'j'                                                            # STEP 105
result = file0.read(bytes4)                                            # STEP 106
os0.remove(path1)                                                      # STEP 107
path1 = "/Volumes/ramdisk/test"                                        # STEP 108
file0.truncate()                                                       # STEP 109
file0.write(str2)                                                      # STEP 110
os0.link(path3,path1)                                                  # STEP 111
str2 += 'v'                                                            # STEP 112
file0.write(str2)                                                      # STEP 113
os0.makedirs(path1)                                                    # STEP 114
str4 += 'f'                                                            # STEP 115
result = os0.path.exists(path2)                                        # STEP 116
str1 = ""                                                              # STEP 117
str0 += 'b'                                                            # STEP 118
str0 += 'o'                                                            # STEP 119
os0.mkdir(path1)                                                       # STEP 120
str2 += 'o'                                                            # STEP 121
os0.close(fd0)                                                         # STEP 122
str4 += 'z'                                                            # STEP 123
str1 += 'x'                                                            # STEP 124
str0 += 'o'                                                            # STEP 125
str4 += 'o'                                                            # STEP 126
path4 = "/Volumes/ramdisk/test"                                        # STEP 127
os0.rename(path3,path2)                                                # STEP 128
str0 += 'b'                                                            # STEP 129
file0.write(str1)                                                      # STEP 130
os0.link(path2,path3)                                                  # STEP 131
os0.write(fd0,str0)                                                    # STEP 132
result = os0.path.dirname(path4)                                       # STEP 133
os0.link(path2,path3)                                                  # STEP 134
os0.remove(path3)                                                      # STEP 135
os0.link(path4,path1)                                                  # STEP 136
result = os0.path.isabs(path2)                                         # STEP 137
path2 = "/Volumes/ramdisk/test"                                        # STEP 138
str1 += 'h'                                                            # STEP 139
result = file0.read(bytes1)                                            # STEP 140
ERROR: (<type 'exceptions.AssertionError'>, AssertionError(' (z) == () ',), <traceback object at 0x10b04a290>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 28441, in act565
    try: assert result == result_REF, " (%s) == (%s) " % (result, result_REF)
1179 BRANCHES COVERED
906 STATEMENTS COVERED
