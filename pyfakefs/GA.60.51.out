Random testing using config=Config(swarmSwitch=None, verbose=False, reducePool=False, failedLogging=None, exploitBestHint=1, greedyStutter=False, internal=False, exploit=0.8, seed=None, generalize=False, useHints=False, localize=False, total=False, speed='FAST', probs=None, normalize=False, verboseExploit=False, highLowSwarm=None, replayable=False, essentials=False, noCoverageExploit=False, quickTests=False, relax=False, enumerateEnabled=False, uniqueValuesAnalysis=False, swarm=False, noReassign=False, html=None, fastQuickAnalysis=False, progress=False, swarmLength=None, noSwarmDependencies=False, profile=False, LOCBaseline=0.2, noEnumerateEnabled=False, full=True, multiple=True, timedProgress=30, silentFail=True, stopWhenStatements=None, swarmP=0.5, stopWhenBranches=None, noAlphaConvert=False, coverFile='coverage.out', readQuick=False, verboseActions=False, running=False, computeFeatureStats=False, compareFails=False, swarmProbs=None, output='failure.5068.test', genDepth=None, Pcrossover=0.2, quickAnalysis=False, keepLast=False, exploitCeiling=0.1, logging=None, LOCProbs=False, noCheck=False, maxTests=-1, noExceptionMatch=False, Pmutate=0.8, depth=100, showActions=False, throughput=False, noCover=False, timeout=60, stutter=None, uncaught=False, markov=None, startExploit=0)
TEST #108 STEP #0 (0:00:30.063977) Sat Jul 22 03:39:51 2017 [ 897 stmts 1167 branches ] 10700 TOTAL ACTIONS (355.907669797/s)
UNCAUGHT EXCEPTION
ERROR: (<type 'exceptions.OSError'>, OSError(9, 'File is not open for writing.'), <traceback object at 0x1072a3878>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 29099, in act577
    self.p_file[0].truncate()
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4294, in write_error
    self._raise('File is not open for writing.')
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4112, in _raise
    raise OSError(errno.EBADF, message)
Original test has 549 steps

SAVING TEST AS failure.5068.test.0
FINAL VERSION OF TEST, WITH LOGGED REPLAY:
component3 = "h"                                                         # STEP 0
component2 = "phi"                                                       # STEP 1
str3 = ""                                                                # STEP 2
component4 = "epsilon"                                                   # STEP 3
str3 += 'd'                                                              # STEP 4
path4 = "/Volumes/ramdisk/test"                                          # STEP 5
path0 = "/Volumes/ramdisk/test"                                          # STEP 6
str4 = ""                                                                # STEP 7
component1 = "phi"                                                       # STEP 8
component0 = "beta"                                                      # STEP 9
str3 += 'y'                                                             # STEP 10
str3 += 'a'                                                             # STEP 11
str3 += 's'                                                             # STEP 12
str4 += 'n'                                                             # STEP 13
str4 += 'q'                                                             # STEP 14
str4 += 'g'                                                             # STEP 15
str3 += 'i'                                                             # STEP 16
str3 += 'q'                                                             # STEP 17
str3 += 'p'                                                             # STEP 18
str3 += 'b'                                                             # STEP 19
str3 += 'd'                                                             # STEP 20
str3 += 'k'                                                             # STEP 21
str4 = ""                                                               # STEP 22
path4 += "/" + component1                                               # STEP 23
str4 += 'y'                                                             # STEP 24
component1 = "g"                                                        # STEP 25
str4 += 'b'                                                             # STEP 26
os0 = newFakeOS()                                                       # STEP 27
str3 += 'a'                                                             # STEP 28
str4 += 'g'                                                             # STEP 29
str3 += 'k'                                                             # STEP 30
stat4 = os0.lstat(path4)                                                # STEP 31
fd0 = os0.open(path4, os.O_CREAT | os.O_WRONLY | os.O_EXCL)             # STEP 32
os0.rename(path4,path0)                                                 # STEP 33
path4 += "/" + component1                                               # STEP 34
stat4 = os0.lstat(path4)                                                # STEP 35
stat2 = os0.stat(path4)                                                 # STEP 36
os0.write(fd0,str4)                                                     # STEP 37
str3 += 'q'                                                             # STEP 38
str3 += " "                                                             # STEP 39
str3 += 'h'                                                             # STEP 40
result = os0.path.isabs(path4)                                          # STEP 41
component1 = "d"                                                        # STEP 42
os0.remove(path4)                                                       # STEP 43
str3 += " "                                                             # STEP 44
str4 += 'v'                                                             # STEP 45
stat0 = os0.lstat(path4)                                                # STEP 46
str3 += 'n'                                                             # STEP 47
os0.symlink(path0,path0)                                                # STEP 48
result = sorted(os0.listdir(path0))                                     # STEP 49
str3 += 'a'                                                             # STEP 50
str4 += 'n'                                                             # STEP 51
stat2 = os0.fstat(fd0)                                                  # STEP 52
result = stat2.st_size                                                  # STEP 53
stat2 = os0.stat(path4)                                                 # STEP 54
str3 += 'r'                                                             # STEP 55
str4 += " "                                                             # STEP 56
path4 += "/" + component1                                               # STEP 57
str4 += 'q'                                                             # STEP 58
os0.symlink(path4,path0)                                                # STEP 59
result = os0.path.lexists(path4)                                        # STEP 60
str3 += 'd'                                                             # STEP 61
result = os0.path.isfile(path0)                                         # STEP 62
stat1 = os0.fstat(fd0)                                                  # STEP 63
os0.symlink(path0,path4)                                                # STEP 64
stat4 = os0.stat(path4)                                                 # STEP 65
str3 += 'n'                                                             # STEP 66
component1 = "alpha"                                                    # STEP 67
str3 += 'u'                                                             # STEP 68
str4 += 'f'                                                             # STEP 69
os0.remove(path0)                                                       # STEP 70
stat0 = os0.lstat(path4)                                                # STEP 71
str4 += 'j'                                                             # STEP 72
str4 += 'h'                                                             # STEP 73
opener0 = newFakeOpener(os0)                                            # STEP 74
str4 += 'p'                                                             # STEP 75
path4 += "/" + component3                                               # STEP 76
component3 = "phi"                                                      # STEP 77
path4 += "/" + component2                                               # STEP 78
os0.link(path4,path0)                                                   # STEP 79
component2 = "c"                                                        # STEP 80
os0.rename(path4,path0)                                                 # STEP 81
str4 += 'h'                                                             # STEP 82
str4 += 'z'                                                             # STEP 83
os0.symlink(path4,path0)                                                # STEP 84
path0 += "/" + component3                                               # STEP 85
str3 += 'd'                                                             # STEP 86
path1 = "/Volumes/ramdisk/test"                                         # STEP 87
stat3 = os0.stat(path0)                                                 # STEP 88
str3 += 'a'                                                             # STEP 89
result = stat2.st_size                                                  # STEP 90
str4 += 'j'                                                             # STEP 91
str3 += 'n'                                                             # STEP 92
os0.path.getsize(path0)                                                 # STEP 93
str3 += 'm'                                                             # STEP 94
os0.mkdir(path1)                                                        # STEP 95
os0.remove(path1)                                                       # STEP 96
result = os0.path.islink(path1)                                         # STEP 97
result = os0.readlink(path0)                                            # STEP 98
str4 += 'o'                                                             # STEP 99
path4 += "/" + component1                                              # STEP 100
result = os0.path.lexists(path4)                                       # STEP 101
os0.link(path4,path0)                                                  # STEP 102
path0 = "/Volumes/ramdisk/test"                                        # STEP 103
os0.link(path4,path1)                                                  # STEP 104
result = sorted(os0.listdir(path4))                                    # STEP 105
result = os0.path.exists(path1)                                        # STEP 106
str3 += 'w'                                                            # STEP 107
component3 = "d"                                                       # STEP 108
str3 += 'g'                                                            # STEP 109
os0.remove(path1)                                                      # STEP 110
result = os0.readlink(path4)                                           # STEP 111
component1 = "d"                                                       # STEP 112
str3 += 'z'                                                            # STEP 113
stat4 = os0.stat(path4)                                                # STEP 114
result = os0.readlink(path1)                                           # STEP 115
result = sorted(os0.listdir(path0))                                    # STEP 116
os0.link(path0,path4)                                                  # STEP 117
bytes0 = 0                                                             # STEP 118
os0.link(path4,path4)                                                  # STEP 119
path4 += "/" + component4                                              # STEP 120
os0.symlink(path0,path1)                                               # STEP 121
file0 = opener0(path1,'a')                                             # STEP 122
file0 = opener0(path1)                                                 # STEP 123
result = os0.path.islink(path1)                                        # STEP 124
path0 += "/" + component2                                              # STEP 125
str3 += 'x'                                                            # STEP 126
bytes0 += 1                                                            # STEP 127
str4 += 'n'                                                            # STEP 128
stat0 = os0.lstat(path4)                                               # STEP 129
result = stat3.st_nlink                                                # STEP 130
str4 += 'w'                                                            # STEP 131
os0.write(fd0,str3)                                                    # STEP 132
os0.path.getsize(path4)                                                # STEP 133
path1 += "/" + component1                                              # STEP 134
str3 = ""                                                              # STEP 135
component1 = "e"                                                       # STEP 136
result = stat1.st_size                                                 # STEP 137
os0.link(path4,path0)                                                  # STEP 138
str3 += " "                                                            # STEP 139
stat1 = os0.lstat(path0)                                               # STEP 140
component2 = "d"                                                       # STEP 141
os0.symlink(path1,path1)                                               # STEP 142
str3 = ""                                                              # STEP 143
os0.link(path1,path4)                                                  # STEP 144
result = os0.read(fd0,bytes0)                                          # STEP 145
str3 += 'j'                                                            # STEP 146
result = os0.path.isdir(path0)                                         # STEP 147
str3 += 't'                                                            # STEP 148
str4 += 'p'                                                            # STEP 149
os0.remove(path4)                                                      # STEP 150
result = stat2.st_nlink                                                # STEP 151
path1 += "/" + component0                                              # STEP 152
file0 = opener0(path0)                                                 # STEP 153
os0.link(path1,path1)                                                  # STEP 154
os0.rename(path4,path1)                                                # STEP 155
result = os0.path.exists(path1)                                        # STEP 156
path0 += "/" + component4                                              # STEP 157
component0 = "phi"                                                     # STEP 158
str3 += 'n'                                                            # STEP 159
file0 = opener0(path0)                                                 # STEP 160
os0.link(path4,path4)                                                  # STEP 161
os0.link(path4,path4)                                                  # STEP 162
os0.removedirs(path1)                                                  # STEP 163
str3 += 'p'                                                            # STEP 164
result = os0.path.isdir(path4)                                         # STEP 165
os0.rename(path1,path4)                                                # STEP 166
stat2 = os0.stat(path0)                                                # STEP 167
os0.mkdir(path0)                                                       # STEP 168
str3 += 'f'                                                            # STEP 169
os0.link(path1,path0)                                                  # STEP 170
stat0 = os0.stat(path0)                                                # STEP 171
component4 = "omega"                                                   # STEP 172
os0.symlink(path1,path1)                                               # STEP 173
str1 = ""                                                              # STEP 174
str4 += 'b'                                                            # STEP 175
str3 += 'e'                                                            # STEP 176
bytes0 = 0                                                             # STEP 177
str1 += 'i'                                                            # STEP 178
os0.write(fd0,str4)                                                    # STEP 179
os0.rename(path0,path4)                                                # STEP 180
str3 += 'g'                                                            # STEP 181
str1 += 'r'                                                            # STEP 182
file0 = opener0(path1,'r')                                             # STEP 183
str1 += 'u'                                                            # STEP 184
os0.rename(path0,path1)                                                # STEP 185
file0 = opener0(path4,'w')                                             # STEP 186
str1 = ""                                                              # STEP 187
path4 += "/" + component3                                              # STEP 188
stat3 = os0.stat(path4)                                                # STEP 189
file0 = opener0(path0,'r')                                             # STEP 190
os0.link(path0,path4)                                                  # STEP 191
os0.remove(path1)                                                      # STEP 192
file0 = opener0(path0,'a')                                             # STEP 193
str4 += 'o'                                                            # STEP 194
component3 = "alpha"                                                   # STEP 195
str3 += 'l'                                                            # STEP 196
result = os0.path.exists(path1)                                        # STEP 197
bytes2 = 0                                                             # STEP 198
bytes3 = 0                                                             # STEP 199
path0 = "/Volumes/ramdisk/test"                                        # STEP 200
path0 += "/" + component3                                              # STEP 201
path0 += "/" + component2                                              # STEP 202
component2 = "h"                                                       # STEP 203
os0.path.getsize(path0)                                                # STEP 204
path4 = "/Volumes/ramdisk/test"                                        # STEP 205
path0 += "/" + component1                                              # STEP 206
os0.link(path4,path0)                                                  # STEP 207
component3 = "d"                                                       # STEP 208
path4 += "/" + component1                                              # STEP 209
os0.rmdir(path4)                                                       # STEP 210
os0.path.getsize(path4)                                                # STEP 211
os0.rmdir(path0)                                                       # STEP 212
str4 = ""                                                              # STEP 213
str4 += 'f'                                                            # STEP 214
component1 = "g"                                                       # STEP 215
path0 += "/" + component2                                              # STEP 216
component2 = "b"                                                       # STEP 217
result = os0.path.dirname(path0)                                       # STEP 218
str4 += 'j'                                                            # STEP 219
path2 = "/Volumes/ramdisk/test"                                        # STEP 220
bytes1 = 0                                                             # STEP 221
str4 = ""                                                              # STEP 222
bytes2 += 1                                                            # STEP 223
str4 += 'v'                                                            # STEP 224
path4 += "/" + component4                                              # STEP 225
stat4 = os0.lstat(path0)                                               # STEP 226
str4 += 'a'                                                            # STEP 227
stat4 = os0.stat(path0)                                                # STEP 228
component4 = "delta"                                                   # STEP 229
path2 += "/" + component3                                              # STEP 230
result = os0.readlink(path4)                                           # STEP 231
str4 += 'd'                                                            # STEP 232
stat4 = os0.lstat(path2)                                               # STEP 233
file0 = opener0(path4)                                                 # STEP 234
str4 += 'a'                                                            # STEP 235
str4 += 'm'                                                            # STEP 236
component3 = "b"                                                       # STEP 237
result = os0.path.lexists(path2)                                       # STEP 238
bytes2 = 0                                                             # STEP 239
str4 = ""                                                              # STEP 240
result = os0.path.isdir(path0)                                         # STEP 241
str4 += 'd'                                                            # STEP 242
str4 += 'e'                                                            # STEP 243
os0.link(path4,path2)                                                  # STEP 244
result = os0.readlink(path4)                                           # STEP 245
stat0 = os0.stat(path0)                                                # STEP 246
os0.makedirs(path4)                                                    # STEP 247
os0.makedirs(path4)                                                    # STEP 248
file0 = opener0(path2,'a')                                             # STEP 249
str4 += 'c'                                                            # STEP 250
path4 += "/" + component4                                              # STEP 251
component4 = "d"                                                       # STEP 252
str4 += 'v'                                                            # STEP 253
path2 += "/" + component0                                              # STEP 254
str4 += 'g'                                                            # STEP 255
result = os0.path.dirname(path2)                                       # STEP 256
path4 = "/Volumes/ramdisk/test"                                        # STEP 257
component0 = "delta"                                                   # STEP 258
os0.removedirs(path4)                                                  # STEP 259
result = os0.path.isfile(path2)                                        # STEP 260
str4 += 'c'                                                            # STEP 261
str4 += 'f'                                                            # STEP 262
result = os0.read(fd0,bytes3)                                          # STEP 263
os0.mkdir(path2)                                                       # STEP 264
result = os0.path.exists(path2)                                        # STEP 265
os0.close(fd0)                                                         # STEP 266
path2 += "/" + component2                                              # STEP 267
bytes3 = 0                                                             # STEP 268
path1 = "/Volumes/ramdisk/test"                                        # STEP 269
component2 = "e"                                                       # STEP 270
fd0 = os0.open(path2, os.O_CREAT | os.O_EXCL)                          # STEP 271
os0.symlink(path2,path1)                                               # STEP 272
os0.symlink(path0,path2)                                               # STEP 273
path3 = "/Volumes/ramdisk/test"                                        # STEP 274
result = os0.read(fd0,bytes0)                                          # STEP 275
result = os0.path.isabs(path0)                                         # STEP 276
os0.symlink(path0,path1)                                               # STEP 277
os0.link(path3,path1)                                                  # STEP 278
os0.rename(path0,path3)                                                # STEP 279
str4 += 'w'                                                            # STEP 280
os0.link(path1,path2)                                                  # STEP 281
path4 += "/" + component2                                              # STEP 282
os0.removedirs(path3)                                                  # STEP 283
result = os0.path.exists(path0)                                        # STEP 284
path0 += "/" + component0                                              # STEP 285
os0.removedirs(path0)                                                  # STEP 286
result = os0.path.islink(path4)                                        # STEP 287
os0.link(path0,path0)                                                  # STEP 288
result = os0.path.dirname(path1)                                       # STEP 289
component0 = "h"                                                       # STEP 290
bytes0 += 1                                                            # STEP 291
os0.rmdir(path4)                                                       # STEP 292
os0.link(path1,path1)                                                  # STEP 293
os0.close(fd0)                                                         # STEP 294
str4 += 'p'                                                            # STEP 295
path0 = "/Volumes/ramdisk/test"                                        # STEP 296
fd0 = os0.open(path2, os.O_WRONLY | os.O_APPEND)                       # STEP 297
result = os0.path.lexists(path1)                                       # STEP 298
path3 += "/" + component2                                              # STEP 299
result = os0.path.abspath(path1)                                       # STEP 300
component2 = "beta"                                                    # STEP 301
os0.rename(path2,path3)                                                # STEP 302
path0 += "/" + component0                                              # STEP 303
result = os0.readlink(path4)                                           # STEP 304
os0.rename(path2,path0)                                                # STEP 305
component0 = "a"                                                       # STEP 306
path4 += "/" + component1                                              # STEP 307
component1 = "b"                                                       # STEP 308
os0.rmdir(path3)                                                       # STEP 309
result = os0.readlink(path0)                                           # STEP 310
os0.symlink(path1,path3)                                               # STEP 311
os0.symlink(path4,path3)                                               # STEP 312
str4 += 'f'                                                            # STEP 313
result = os0.path.lexists(path3)                                       # STEP 314
result = os0.read(fd0,bytes3)                                          # STEP 315
os0.link(path4,path2)                                                  # STEP 316
os0.symlink(path4,path2)                                               # STEP 317
result = os0.readlink(path4)                                           # STEP 318
str4 += 'a'                                                            # STEP 319
bytes3 += 1                                                            # STEP 320
result = os0.path.exists(path0)                                        # STEP 321
os0.mkdir(path2)                                                       # STEP 322
os0.link(path2,path2)                                                  # STEP 323
str4 += 'h'                                                            # STEP 324
result = sorted(os0.listdir(path0))                                    # STEP 325
os0.remove(path3)                                                      # STEP 326
path2 += "/" + component3                                              # STEP 327
os0.path.getsize(path0)                                                # STEP 328
result = os0.path.islink(path3)                                        # STEP 329
path0 += "/" + component1                                              # STEP 330
str4 += 'w'                                                            # STEP 331
component3 = "c"                                                       # STEP 332
path2 += "/" + component0                                              # STEP 333
component1 = "f"                                                       # STEP 334
str3 = ""                                                              # STEP 335
path2 += "/" + component3                                              # STEP 336
str3 += 'b'                                                            # STEP 337
result = os0.path.isdir(path3)                                         # STEP 338
str3 = ""                                                              # STEP 339
os0.rename(path3,path2)                                                # STEP 340
os0.link(path3,path2)                                                  # STEP 341
stat0 = os0.lstat(path0)                                               # STEP 342
os0.symlink(path0,path1)                                               # STEP 343
result = os0.path.isdir(path1)                                         # STEP 344
path4 += "/" + component4                                              # STEP 345
component4 = "phi"                                                     # STEP 346
result = os0.path.dirname(path4)                                       # STEP 347
path1 += "/" + component4                                              # STEP 348
result = os0.path.isdir(path3)                                         # STEP 349
component3 = "alpha"                                                   # STEP 350
os0.rename(path0,path1)                                                # STEP 351
component0 = "f"                                                       # STEP 352
result = os0.path.islink(path3)                                        # STEP 353
result = sorted(os0.listdir(path2))                                    # STEP 354
os0.path.getsize(path2)                                                # STEP 355
component4 = "f"                                                       # STEP 356
result = os0.path.dirname(path3)                                       # STEP 357
str3 += 't'                                                            # STEP 358
str4 += 'j'                                                            # STEP 359
os0.symlink(path1,path0)                                               # STEP 360
os0.rename(path3,path0)                                                # STEP 361
os0.rmdir(path2)                                                       # STEP 362
str4 = ""                                                              # STEP 363
path2 = "/Volumes/ramdisk/test"                                        # STEP 364
result = stat4.st_nlink                                                # STEP 365
str4 += 'q'                                                            # STEP 366
str4 += 'b'                                                            # STEP 367
bytes1 += 1                                                            # STEP 368
os0.makedirs(path0)                                                    # STEP 369
os0.symlink(path1,path0)                                               # STEP 370
str4 += 'h'                                                            # STEP 371
result = os0.path.isfile(path4)                                        # STEP 372
os0.write(fd0,str4)                                                    # STEP 373
str4 += 'r'                                                            # STEP 374
str4 += 'z'                                                            # STEP 375
str3 += 'z'                                                            # STEP 376
str4 += " "                                                            # STEP 377
os0.makedirs(path4)                                                    # STEP 378
bytes3 = 0                                                             # STEP 379
str3 += 'v'                                                            # STEP 380
str4 += 'w'                                                            # STEP 381
str3 += 's'                                                            # STEP 382
stat4 = os0.stat(path4)                                                # STEP 383
path0 = "/Volumes/ramdisk/test"                                        # STEP 384
str3 += 's'                                                            # STEP 385
path4 = "/Volumes/ramdisk/test"                                        # STEP 386
os0.symlink(path4,path4)                                               # STEP 387
os0.symlink(path4,path0)                                               # STEP 388
str4 = ""                                                              # STEP 389
str2 = ""                                                              # STEP 390
str2 += 'o'                                                            # STEP 391
result = os0.path.islink(path4)                                        # STEP 392
os0.mkdir(path0)                                                       # STEP 393
result = os0.path.islink(path0)                                        # STEP 394
result = os0.path.abspath(path4)                                       # STEP 395
path4 += "/" + component3                                              # STEP 396
str4 += 'x'                                                            # STEP 397
str2 += " "                                                            # STEP 398
path3 = "/Volumes/ramdisk/test"                                        # STEP 399
str3 += 'p'                                                            # STEP 400
os0.symlink(path3,path0)                                               # STEP 401
os0.rmdir(path4)                                                       # STEP 402
str2 += " "                                                            # STEP 403
file0 = opener0(path0,'a')                                             # STEP 404
file0 = opener0(path3,'w')                                             # STEP 405
str3 += 'g'                                                            # STEP 406
bytes3 += 1                                                            # STEP 407
result = os0.path.lexists(path3)                                       # STEP 408
str1 += 's'                                                            # STEP 409
path4 = "/Volumes/ramdisk/test"                                        # STEP 410
bytes3 += 1                                                            # STEP 411
component3 = "e"                                                       # STEP 412
str4 += 'p'                                                            # STEP 413
path0 += "/" + component0                                              # STEP 414
str3 += 'i'                                                            # STEP 415
str4 += 'j'                                                            # STEP 416
os0.symlink(path3,path0)                                               # STEP 417
str1 += 'f'                                                            # STEP 418
result = os0.path.exists(path4)                                        # STEP 419
os0.symlink(path4,path0)                                               # STEP 420
bytes4 = 0                                                             # STEP 421
str4 += 'o'                                                            # STEP 422
component0 = "f"                                                       # STEP 423
str2 += " "                                                            # STEP 424
str2 += 'y'                                                            # STEP 425
result = os0.path.lexists(path4)                                       # STEP 426
result = sorted(os0.listdir(path0))                                    # STEP 427
os0.write(fd0,str3)                                                    # STEP 428
str1 += 'j'                                                            # STEP 429
str2 += 'f'                                                            # STEP 430
result = os0.path.isfile(path3)                                        # STEP 431
result = os0.read(fd0,bytes3)                                          # STEP 432
str4 += 'y'                                                            # STEP 433
bytes1 = 0                                                             # STEP 434
os0.link(path3,path4)                                                  # STEP 435
stat0 = os0.stat(path0)                                                # STEP 436
str3 += 'v'                                                            # STEP 437
result = os0.path.abspath(path4)                                       # STEP 438
result = os0.path.isfile(path3)                                        # STEP 439
file0 = opener0(path4)                                                 # STEP 440
result = os0.readlink(path4)                                           # STEP 441
str4 += 'q'                                                            # STEP 442
str4 += 'i'                                                            # STEP 443
str2 = ""                                                              # STEP 444
str2 += 'x'                                                            # STEP 445
str1 += 'z'                                                            # STEP 446
os0.makedirs(path0)                                                    # STEP 447
str1 += 'b'                                                            # STEP 448
os0.makedirs(path4)                                                    # STEP 449
str2 += 'z'                                                            # STEP 450
str2 += 'u'                                                            # STEP 451
result = os0.readlink(path2)                                           # STEP 452
path3 = "/Volumes/ramdisk/test"                                        # STEP 453
path0 = "/Volumes/ramdisk/test"                                        # STEP 454
str4 += 'e'                                                            # STEP 455
bytes0 = 0                                                             # STEP 456
os0.symlink(path2,path4)                                               # STEP 457
result = os0.path.isdir(path3)                                         # STEP 458
path4 += "/" + component2                                              # STEP 459
result = os0.path.isfile(path0)                                        # STEP 460
str4 += 'z'                                                            # STEP 461
os0.write(fd0,str1)                                                    # STEP 462
str3 += 'i'                                                            # STEP 463
result = os0.path.isabs(path0)                                         # STEP 464
str2 += " "                                                            # STEP 465
path0 += "/" + component4                                              # STEP 466
path2 += "/" + component2                                              # STEP 467
str3 += 'j'                                                            # STEP 468
os0.rename(path0,path3)                                                # STEP 469
os0.rmdir(path4)                                                       # STEP 470
file0 = opener0(path2)                                                 # STEP 471
bytes4 += 1                                                            # STEP 472
component2 = "h"                                                       # STEP 473
str1 += 'o'                                                            # STEP 474
result = os0.path.isfile(path0)                                        # STEP 475
file0 = opener0(path1)                                                 # STEP 476
component4 = "g"                                                       # STEP 477
os0.path.getsize(path4)                                                # STEP 478
str4 += 'j'                                                            # STEP 479
os0.removedirs(path3)                                                  # STEP 480
os0.rename(path1,path0)                                                # STEP 481
str2 += 'v'                                                            # STEP 482
os0.rmdir(path0)                                                       # STEP 483
os0.link(path3,path0)                                                  # STEP 484
str4 += 'f'                                                            # STEP 485
os0.link(path3,path1)                                                  # STEP 486
result = os0.path.islink(path0)                                        # STEP 487
os0.link(path2,path2)                                                  # STEP 488
bytes2 += 1                                                            # STEP 489
os0.rename(path4,path1)                                                # STEP 490
str2 += 'e'                                                            # STEP 491
bytes0 += 1                                                            # STEP 492
result = os0.path.abspath(path1)                                       # STEP 493
os0.write(fd0,str4)                                                    # STEP 494
str1 += " "                                                            # STEP 495
os0.link(path4,path4)                                                  # STEP 496
os0.removedirs(path0)                                                  # STEP 497
result = os0.path.isdir(path3)                                         # STEP 498
path1 = "/Volumes/ramdisk/test"                                        # STEP 499
path1 += "/" + component4                                              # STEP 500
os0.symlink(path2,path2)                                               # STEP 501
str1 += 'i'                                                            # STEP 502
os0.symlink(path1,path0)                                               # STEP 503
path3 += "/" + component1                                              # STEP 504
path3 += "/" + component1                                              # STEP 505
os0.link(path3,path0)                                                  # STEP 506
str1 += 'r'                                                            # STEP 507
path4 += "/" + component1                                              # STEP 508
file0.seek(bytes1)                                                     # STEP 509
str1 += 't'                                                            # STEP 510
result = os0.path.exists(path4)                                        # STEP 511
str1 += 'n'                                                            # STEP 512
str2 = ""                                                              # STEP 513
str2 += 'r'                                                            # STEP 514
result = os0.path.exists(path2)                                        # STEP 515
result = os0.path.exists(path2)                                        # STEP 516
str1 += 'k'                                                            # STEP 517
os0.makedirs(path2)                                                    # STEP 518
os0.rmdir(path2)                                                       # STEP 519
os0.rmdir(path0)                                                       # STEP 520
result = stat1.st_nlink                                                # STEP 521
str2 = ""                                                              # STEP 522
os0.link(path0,path2)                                                  # STEP 523
os0.link(path1,path0)                                                  # STEP 524
os0.symlink(path1,path0)                                               # STEP 525
result = sorted(os0.listdir(path4))                                    # STEP 526
result = os0.path.isfile(path4)                                        # STEP 527
path4 += "/" + component4                                              # STEP 528
os0.path.getsize(path2)                                                # STEP 529
os0.symlink(path4,path3)                                               # STEP 530
bytes0 = 0                                                             # STEP 531
stat1 = os0.lstat(path4)                                               # STEP 532
str4 += 'o'                                                            # STEP 533
result = file0.read(bytes0)                                            # STEP 534
result = stat2.st_size                                                 # STEP 535
stat2 = os0.stat(path2)                                                # STEP 536
str1 += 'k'                                                            # STEP 537
os0.symlink(path2,path1)                                               # STEP 538
os0.symlink(path4,path1)                                               # STEP 539
component1 = "c"                                                       # STEP 540
result = os0.path.isfile(path3)                                        # STEP 541
str4 += 'd'                                                            # STEP 542
str0 = ""                                                              # STEP 543
str3 += 'r'                                                            # STEP 544
str4 += 'u'                                                            # STEP 545
path4 += "/" + component0                                              # STEP 546
str4 += " "                                                            # STEP 547
file0.truncate()                                                       # STEP 548
ERROR: (<type 'exceptions.OSError'>, OSError(9, 'File is not open for writing.'), <traceback object at 0x106352050>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 29099, in act577
    self.p_file[0].truncate()
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4294, in write_error
    self._raise('File is not open for writing.')
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4112, in _raise
    raise OSError(errno.EBADF, message)
FAILURE IS NEW, STORING; NOW 1 DISTINCT FAILURES
STOPPING TEST DUE TO TIMEOUT, TERMINATED AT LENGTH 84
STOPPING TESTING DUE TO TIMEOUT
42.474916388 PERCENT COVERED
60.3429968357 TOTAL RUNTIME
165 EXECUTED
16461 TOTAL TEST OPERATIONS
24.1923489571 TIME SPENT EXECUTING TEST OPERATIONS
0.591489553452 TIME SPENT EVALUATING GUARDS AND CHOOSING ACTIONS
0.0112478733063 TIME SPENT CHECKING PROPERTIES
24.2035968304 TOTAL TIME SPENT RUNNING SUT
0.475282669067 TIME SPENT RESTARTING
0.0 TIME SPENT REDUCING TEST CASES
1 FAILED
0 REPEATS OF FAILURES
1 ACTUAL DISTINCT FAILURES

FAILURE 0
component3 = "h"                                                         # STEP 0
component2 = "phi"                                                       # STEP 1
str3 = ""                                                                # STEP 2
component4 = "epsilon"                                                   # STEP 3
str3 += 'd'                                                              # STEP 4
path4 = "/Volumes/ramdisk/test"                                          # STEP 5
path0 = "/Volumes/ramdisk/test"                                          # STEP 6
str4 = ""                                                                # STEP 7
component1 = "phi"                                                       # STEP 8
component0 = "beta"                                                      # STEP 9
str3 += 'y'                                                             # STEP 10
str3 += 'a'                                                             # STEP 11
str3 += 's'                                                             # STEP 12
str4 += 'n'                                                             # STEP 13
str4 += 'q'                                                             # STEP 14
str4 += 'g'                                                             # STEP 15
str3 += 'i'                                                             # STEP 16
str3 += 'q'                                                             # STEP 17
str3 += 'p'                                                             # STEP 18
str3 += 'b'                                                             # STEP 19
str3 += 'd'                                                             # STEP 20
str3 += 'k'                                                             # STEP 21
str4 = ""                                                               # STEP 22
path4 += "/" + component1                                               # STEP 23
str4 += 'y'                                                             # STEP 24
component1 = "g"                                                        # STEP 25
str4 += 'b'                                                             # STEP 26
os0 = newFakeOS()                                                       # STEP 27
str3 += 'a'                                                             # STEP 28
str4 += 'g'                                                             # STEP 29
str3 += 'k'                                                             # STEP 30
stat4 = os0.lstat(path4)                                                # STEP 31
fd0 = os0.open(path4, os.O_CREAT | os.O_WRONLY | os.O_EXCL)             # STEP 32
os0.rename(path4,path0)                                                 # STEP 33
path4 += "/" + component1                                               # STEP 34
stat4 = os0.lstat(path4)                                                # STEP 35
stat2 = os0.stat(path4)                                                 # STEP 36
os0.write(fd0,str4)                                                     # STEP 37
str3 += 'q'                                                             # STEP 38
str3 += " "                                                             # STEP 39
str3 += 'h'                                                             # STEP 40
result = os0.path.isabs(path4)                                          # STEP 41
component1 = "d"                                                        # STEP 42
os0.remove(path4)                                                       # STEP 43
str3 += " "                                                             # STEP 44
str4 += 'v'                                                             # STEP 45
stat0 = os0.lstat(path4)                                                # STEP 46
str3 += 'n'                                                             # STEP 47
os0.symlink(path0,path0)                                                # STEP 48
result = sorted(os0.listdir(path0))                                     # STEP 49
str3 += 'a'                                                             # STEP 50
str4 += 'n'                                                             # STEP 51
stat2 = os0.fstat(fd0)                                                  # STEP 52
result = stat2.st_size                                                  # STEP 53
stat2 = os0.stat(path4)                                                 # STEP 54
str3 += 'r'                                                             # STEP 55
str4 += " "                                                             # STEP 56
path4 += "/" + component1                                               # STEP 57
str4 += 'q'                                                             # STEP 58
os0.symlink(path4,path0)                                                # STEP 59
result = os0.path.lexists(path4)                                        # STEP 60
str3 += 'd'                                                             # STEP 61
result = os0.path.isfile(path0)                                         # STEP 62
stat1 = os0.fstat(fd0)                                                  # STEP 63
os0.symlink(path0,path4)                                                # STEP 64
stat4 = os0.stat(path4)                                                 # STEP 65
str3 += 'n'                                                             # STEP 66
component1 = "alpha"                                                    # STEP 67
str3 += 'u'                                                             # STEP 68
str4 += 'f'                                                             # STEP 69
os0.remove(path0)                                                       # STEP 70
stat0 = os0.lstat(path4)                                                # STEP 71
str4 += 'j'                                                             # STEP 72
str4 += 'h'                                                             # STEP 73
opener0 = newFakeOpener(os0)                                            # STEP 74
str4 += 'p'                                                             # STEP 75
path4 += "/" + component3                                               # STEP 76
component3 = "phi"                                                      # STEP 77
path4 += "/" + component2                                               # STEP 78
os0.link(path4,path0)                                                   # STEP 79
component2 = "c"                                                        # STEP 80
os0.rename(path4,path0)                                                 # STEP 81
str4 += 'h'                                                             # STEP 82
str4 += 'z'                                                             # STEP 83
os0.symlink(path4,path0)                                                # STEP 84
path0 += "/" + component3                                               # STEP 85
str3 += 'd'                                                             # STEP 86
path1 = "/Volumes/ramdisk/test"                                         # STEP 87
stat3 = os0.stat(path0)                                                 # STEP 88
str3 += 'a'                                                             # STEP 89
result = stat2.st_size                                                  # STEP 90
str4 += 'j'                                                             # STEP 91
str3 += 'n'                                                             # STEP 92
os0.path.getsize(path0)                                                 # STEP 93
str3 += 'm'                                                             # STEP 94
os0.mkdir(path1)                                                        # STEP 95
os0.remove(path1)                                                       # STEP 96
result = os0.path.islink(path1)                                         # STEP 97
result = os0.readlink(path0)                                            # STEP 98
str4 += 'o'                                                             # STEP 99
path4 += "/" + component1                                              # STEP 100
result = os0.path.lexists(path4)                                       # STEP 101
os0.link(path4,path0)                                                  # STEP 102
path0 = "/Volumes/ramdisk/test"                                        # STEP 103
os0.link(path4,path1)                                                  # STEP 104
result = sorted(os0.listdir(path4))                                    # STEP 105
result = os0.path.exists(path1)                                        # STEP 106
str3 += 'w'                                                            # STEP 107
component3 = "d"                                                       # STEP 108
str3 += 'g'                                                            # STEP 109
os0.remove(path1)                                                      # STEP 110
result = os0.readlink(path4)                                           # STEP 111
component1 = "d"                                                       # STEP 112
str3 += 'z'                                                            # STEP 113
stat4 = os0.stat(path4)                                                # STEP 114
result = os0.readlink(path1)                                           # STEP 115
result = sorted(os0.listdir(path0))                                    # STEP 116
os0.link(path0,path4)                                                  # STEP 117
bytes0 = 0                                                             # STEP 118
os0.link(path4,path4)                                                  # STEP 119
path4 += "/" + component4                                              # STEP 120
os0.symlink(path0,path1)                                               # STEP 121
file0 = opener0(path1,'a')                                             # STEP 122
file0 = opener0(path1)                                                 # STEP 123
result = os0.path.islink(path1)                                        # STEP 124
path0 += "/" + component2                                              # STEP 125
str3 += 'x'                                                            # STEP 126
bytes0 += 1                                                            # STEP 127
str4 += 'n'                                                            # STEP 128
stat0 = os0.lstat(path4)                                               # STEP 129
result = stat3.st_nlink                                                # STEP 130
str4 += 'w'                                                            # STEP 131
os0.write(fd0,str3)                                                    # STEP 132
os0.path.getsize(path4)                                                # STEP 133
path1 += "/" + component1                                              # STEP 134
str3 = ""                                                              # STEP 135
component1 = "e"                                                       # STEP 136
result = stat1.st_size                                                 # STEP 137
os0.link(path4,path0)                                                  # STEP 138
str3 += " "                                                            # STEP 139
stat1 = os0.lstat(path0)                                               # STEP 140
component2 = "d"                                                       # STEP 141
os0.symlink(path1,path1)                                               # STEP 142
str3 = ""                                                              # STEP 143
os0.link(path1,path4)                                                  # STEP 144
result = os0.read(fd0,bytes0)                                          # STEP 145
str3 += 'j'                                                            # STEP 146
result = os0.path.isdir(path0)                                         # STEP 147
str3 += 't'                                                            # STEP 148
str4 += 'p'                                                            # STEP 149
os0.remove(path4)                                                      # STEP 150
result = stat2.st_nlink                                                # STEP 151
path1 += "/" + component0                                              # STEP 152
file0 = opener0(path0)                                                 # STEP 153
os0.link(path1,path1)                                                  # STEP 154
os0.rename(path4,path1)                                                # STEP 155
result = os0.path.exists(path1)                                        # STEP 156
path0 += "/" + component4                                              # STEP 157
component0 = "phi"                                                     # STEP 158
str3 += 'n'                                                            # STEP 159
file0 = opener0(path0)                                                 # STEP 160
os0.link(path4,path4)                                                  # STEP 161
os0.link(path4,path4)                                                  # STEP 162
os0.removedirs(path1)                                                  # STEP 163
str3 += 'p'                                                            # STEP 164
result = os0.path.isdir(path4)                                         # STEP 165
os0.rename(path1,path4)                                                # STEP 166
stat2 = os0.stat(path0)                                                # STEP 167
os0.mkdir(path0)                                                       # STEP 168
str3 += 'f'                                                            # STEP 169
os0.link(path1,path0)                                                  # STEP 170
stat0 = os0.stat(path0)                                                # STEP 171
component4 = "omega"                                                   # STEP 172
os0.symlink(path1,path1)                                               # STEP 173
str1 = ""                                                              # STEP 174
str4 += 'b'                                                            # STEP 175
str3 += 'e'                                                            # STEP 176
bytes0 = 0                                                             # STEP 177
str1 += 'i'                                                            # STEP 178
os0.write(fd0,str4)                                                    # STEP 179
os0.rename(path0,path4)                                                # STEP 180
str3 += 'g'                                                            # STEP 181
str1 += 'r'                                                            # STEP 182
file0 = opener0(path1,'r')                                             # STEP 183
str1 += 'u'                                                            # STEP 184
os0.rename(path0,path1)                                                # STEP 185
file0 = opener0(path4,'w')                                             # STEP 186
str1 = ""                                                              # STEP 187
path4 += "/" + component3                                              # STEP 188
stat3 = os0.stat(path4)                                                # STEP 189
file0 = opener0(path0,'r')                                             # STEP 190
os0.link(path0,path4)                                                  # STEP 191
os0.remove(path1)                                                      # STEP 192
file0 = opener0(path0,'a')                                             # STEP 193
str4 += 'o'                                                            # STEP 194
component3 = "alpha"                                                   # STEP 195
str3 += 'l'                                                            # STEP 196
result = os0.path.exists(path1)                                        # STEP 197
bytes2 = 0                                                             # STEP 198
bytes3 = 0                                                             # STEP 199
path0 = "/Volumes/ramdisk/test"                                        # STEP 200
path0 += "/" + component3                                              # STEP 201
path0 += "/" + component2                                              # STEP 202
component2 = "h"                                                       # STEP 203
os0.path.getsize(path0)                                                # STEP 204
path4 = "/Volumes/ramdisk/test"                                        # STEP 205
path0 += "/" + component1                                              # STEP 206
os0.link(path4,path0)                                                  # STEP 207
component3 = "d"                                                       # STEP 208
path4 += "/" + component1                                              # STEP 209
os0.rmdir(path4)                                                       # STEP 210
os0.path.getsize(path4)                                                # STEP 211
os0.rmdir(path0)                                                       # STEP 212
str4 = ""                                                              # STEP 213
str4 += 'f'                                                            # STEP 214
component1 = "g"                                                       # STEP 215
path0 += "/" + component2                                              # STEP 216
component2 = "b"                                                       # STEP 217
result = os0.path.dirname(path0)                                       # STEP 218
str4 += 'j'                                                            # STEP 219
path2 = "/Volumes/ramdisk/test"                                        # STEP 220
bytes1 = 0                                                             # STEP 221
str4 = ""                                                              # STEP 222
bytes2 += 1                                                            # STEP 223
str4 += 'v'                                                            # STEP 224
path4 += "/" + component4                                              # STEP 225
stat4 = os0.lstat(path0)                                               # STEP 226
str4 += 'a'                                                            # STEP 227
stat4 = os0.stat(path0)                                                # STEP 228
component4 = "delta"                                                   # STEP 229
path2 += "/" + component3                                              # STEP 230
result = os0.readlink(path4)                                           # STEP 231
str4 += 'd'                                                            # STEP 232
stat4 = os0.lstat(path2)                                               # STEP 233
file0 = opener0(path4)                                                 # STEP 234
str4 += 'a'                                                            # STEP 235
str4 += 'm'                                                            # STEP 236
component3 = "b"                                                       # STEP 237
result = os0.path.lexists(path2)                                       # STEP 238
bytes2 = 0                                                             # STEP 239
str4 = ""                                                              # STEP 240
result = os0.path.isdir(path0)                                         # STEP 241
str4 += 'd'                                                            # STEP 242
str4 += 'e'                                                            # STEP 243
os0.link(path4,path2)                                                  # STEP 244
result = os0.readlink(path4)                                           # STEP 245
stat0 = os0.stat(path0)                                                # STEP 246
os0.makedirs(path4)                                                    # STEP 247
os0.makedirs(path4)                                                    # STEP 248
file0 = opener0(path2,'a')                                             # STEP 249
str4 += 'c'                                                            # STEP 250
path4 += "/" + component4                                              # STEP 251
component4 = "d"                                                       # STEP 252
str4 += 'v'                                                            # STEP 253
path2 += "/" + component0                                              # STEP 254
str4 += 'g'                                                            # STEP 255
result = os0.path.dirname(path2)                                       # STEP 256
path4 = "/Volumes/ramdisk/test"                                        # STEP 257
component0 = "delta"                                                   # STEP 258
os0.removedirs(path4)                                                  # STEP 259
result = os0.path.isfile(path2)                                        # STEP 260
str4 += 'c'                                                            # STEP 261
str4 += 'f'                                                            # STEP 262
result = os0.read(fd0,bytes3)                                          # STEP 263
os0.mkdir(path2)                                                       # STEP 264
result = os0.path.exists(path2)                                        # STEP 265
os0.close(fd0)                                                         # STEP 266
path2 += "/" + component2                                              # STEP 267
bytes3 = 0                                                             # STEP 268
path1 = "/Volumes/ramdisk/test"                                        # STEP 269
component2 = "e"                                                       # STEP 270
fd0 = os0.open(path2, os.O_CREAT | os.O_EXCL)                          # STEP 271
os0.symlink(path2,path1)                                               # STEP 272
os0.symlink(path0,path2)                                               # STEP 273
path3 = "/Volumes/ramdisk/test"                                        # STEP 274
result = os0.read(fd0,bytes0)                                          # STEP 275
result = os0.path.isabs(path0)                                         # STEP 276
os0.symlink(path0,path1)                                               # STEP 277
os0.link(path3,path1)                                                  # STEP 278
os0.rename(path0,path3)                                                # STEP 279
str4 += 'w'                                                            # STEP 280
os0.link(path1,path2)                                                  # STEP 281
path4 += "/" + component2                                              # STEP 282
os0.removedirs(path3)                                                  # STEP 283
result = os0.path.exists(path0)                                        # STEP 284
path0 += "/" + component0                                              # STEP 285
os0.removedirs(path0)                                                  # STEP 286
result = os0.path.islink(path4)                                        # STEP 287
os0.link(path0,path0)                                                  # STEP 288
result = os0.path.dirname(path1)                                       # STEP 289
component0 = "h"                                                       # STEP 290
bytes0 += 1                                                            # STEP 291
os0.rmdir(path4)                                                       # STEP 292
os0.link(path1,path1)                                                  # STEP 293
os0.close(fd0)                                                         # STEP 294
str4 += 'p'                                                            # STEP 295
path0 = "/Volumes/ramdisk/test"                                        # STEP 296
fd0 = os0.open(path2, os.O_WRONLY | os.O_APPEND)                       # STEP 297
result = os0.path.lexists(path1)                                       # STEP 298
path3 += "/" + component2                                              # STEP 299
result = os0.path.abspath(path1)                                       # STEP 300
component2 = "beta"                                                    # STEP 301
os0.rename(path2,path3)                                                # STEP 302
path0 += "/" + component0                                              # STEP 303
result = os0.readlink(path4)                                           # STEP 304
os0.rename(path2,path0)                                                # STEP 305
component0 = "a"                                                       # STEP 306
path4 += "/" + component1                                              # STEP 307
component1 = "b"                                                       # STEP 308
os0.rmdir(path3)                                                       # STEP 309
result = os0.readlink(path0)                                           # STEP 310
os0.symlink(path1,path3)                                               # STEP 311
os0.symlink(path4,path3)                                               # STEP 312
str4 += 'f'                                                            # STEP 313
result = os0.path.lexists(path3)                                       # STEP 314
result = os0.read(fd0,bytes3)                                          # STEP 315
os0.link(path4,path2)                                                  # STEP 316
os0.symlink(path4,path2)                                               # STEP 317
result = os0.readlink(path4)                                           # STEP 318
str4 += 'a'                                                            # STEP 319
bytes3 += 1                                                            # STEP 320
result = os0.path.exists(path0)                                        # STEP 321
os0.mkdir(path2)                                                       # STEP 322
os0.link(path2,path2)                                                  # STEP 323
str4 += 'h'                                                            # STEP 324
result = sorted(os0.listdir(path0))                                    # STEP 325
os0.remove(path3)                                                      # STEP 326
path2 += "/" + component3                                              # STEP 327
os0.path.getsize(path0)                                                # STEP 328
result = os0.path.islink(path3)                                        # STEP 329
path0 += "/" + component1                                              # STEP 330
str4 += 'w'                                                            # STEP 331
component3 = "c"                                                       # STEP 332
path2 += "/" + component0                                              # STEP 333
component1 = "f"                                                       # STEP 334
str3 = ""                                                              # STEP 335
path2 += "/" + component3                                              # STEP 336
str3 += 'b'                                                            # STEP 337
result = os0.path.isdir(path3)                                         # STEP 338
str3 = ""                                                              # STEP 339
os0.rename(path3,path2)                                                # STEP 340
os0.link(path3,path2)                                                  # STEP 341
stat0 = os0.lstat(path0)                                               # STEP 342
os0.symlink(path0,path1)                                               # STEP 343
result = os0.path.isdir(path1)                                         # STEP 344
path4 += "/" + component4                                              # STEP 345
component4 = "phi"                                                     # STEP 346
result = os0.path.dirname(path4)                                       # STEP 347
path1 += "/" + component4                                              # STEP 348
result = os0.path.isdir(path3)                                         # STEP 349
component3 = "alpha"                                                   # STEP 350
os0.rename(path0,path1)                                                # STEP 351
component0 = "f"                                                       # STEP 352
result = os0.path.islink(path3)                                        # STEP 353
result = sorted(os0.listdir(path2))                                    # STEP 354
os0.path.getsize(path2)                                                # STEP 355
component4 = "f"                                                       # STEP 356
result = os0.path.dirname(path3)                                       # STEP 357
str3 += 't'                                                            # STEP 358
str4 += 'j'                                                            # STEP 359
os0.symlink(path1,path0)                                               # STEP 360
os0.rename(path3,path0)                                                # STEP 361
os0.rmdir(path2)                                                       # STEP 362
str4 = ""                                                              # STEP 363
path2 = "/Volumes/ramdisk/test"                                        # STEP 364
result = stat4.st_nlink                                                # STEP 365
str4 += 'q'                                                            # STEP 366
str4 += 'b'                                                            # STEP 367
bytes1 += 1                                                            # STEP 368
os0.makedirs(path0)                                                    # STEP 369
os0.symlink(path1,path0)                                               # STEP 370
str4 += 'h'                                                            # STEP 371
result = os0.path.isfile(path4)                                        # STEP 372
os0.write(fd0,str4)                                                    # STEP 373
str4 += 'r'                                                            # STEP 374
str4 += 'z'                                                            # STEP 375
str3 += 'z'                                                            # STEP 376
str4 += " "                                                            # STEP 377
os0.makedirs(path4)                                                    # STEP 378
bytes3 = 0                                                             # STEP 379
str3 += 'v'                                                            # STEP 380
str4 += 'w'                                                            # STEP 381
str3 += 's'                                                            # STEP 382
stat4 = os0.stat(path4)                                                # STEP 383
path0 = "/Volumes/ramdisk/test"                                        # STEP 384
str3 += 's'                                                            # STEP 385
path4 = "/Volumes/ramdisk/test"                                        # STEP 386
os0.symlink(path4,path4)                                               # STEP 387
os0.symlink(path4,path0)                                               # STEP 388
str4 = ""                                                              # STEP 389
str2 = ""                                                              # STEP 390
str2 += 'o'                                                            # STEP 391
result = os0.path.islink(path4)                                        # STEP 392
os0.mkdir(path0)                                                       # STEP 393
result = os0.path.islink(path0)                                        # STEP 394
result = os0.path.abspath(path4)                                       # STEP 395
path4 += "/" + component3                                              # STEP 396
str4 += 'x'                                                            # STEP 397
str2 += " "                                                            # STEP 398
path3 = "/Volumes/ramdisk/test"                                        # STEP 399
str3 += 'p'                                                            # STEP 400
os0.symlink(path3,path0)                                               # STEP 401
os0.rmdir(path4)                                                       # STEP 402
str2 += " "                                                            # STEP 403
file0 = opener0(path0,'a')                                             # STEP 404
file0 = opener0(path3,'w')                                             # STEP 405
str3 += 'g'                                                            # STEP 406
bytes3 += 1                                                            # STEP 407
result = os0.path.lexists(path3)                                       # STEP 408
str1 += 's'                                                            # STEP 409
path4 = "/Volumes/ramdisk/test"                                        # STEP 410
bytes3 += 1                                                            # STEP 411
component3 = "e"                                                       # STEP 412
str4 += 'p'                                                            # STEP 413
path0 += "/" + component0                                              # STEP 414
str3 += 'i'                                                            # STEP 415
str4 += 'j'                                                            # STEP 416
os0.symlink(path3,path0)                                               # STEP 417
str1 += 'f'                                                            # STEP 418
result = os0.path.exists(path4)                                        # STEP 419
os0.symlink(path4,path0)                                               # STEP 420
bytes4 = 0                                                             # STEP 421
str4 += 'o'                                                            # STEP 422
component0 = "f"                                                       # STEP 423
str2 += " "                                                            # STEP 424
str2 += 'y'                                                            # STEP 425
result = os0.path.lexists(path4)                                       # STEP 426
result = sorted(os0.listdir(path0))                                    # STEP 427
os0.write(fd0,str3)                                                    # STEP 428
str1 += 'j'                                                            # STEP 429
str2 += 'f'                                                            # STEP 430
result = os0.path.isfile(path3)                                        # STEP 431
result = os0.read(fd0,bytes3)                                          # STEP 432
str4 += 'y'                                                            # STEP 433
bytes1 = 0                                                             # STEP 434
os0.link(path3,path4)                                                  # STEP 435
stat0 = os0.stat(path0)                                                # STEP 436
str3 += 'v'                                                            # STEP 437
result = os0.path.abspath(path4)                                       # STEP 438
result = os0.path.isfile(path3)                                        # STEP 439
file0 = opener0(path4)                                                 # STEP 440
result = os0.readlink(path4)                                           # STEP 441
str4 += 'q'                                                            # STEP 442
str4 += 'i'                                                            # STEP 443
str2 = ""                                                              # STEP 444
str2 += 'x'                                                            # STEP 445
str1 += 'z'                                                            # STEP 446
os0.makedirs(path0)                                                    # STEP 447
str1 += 'b'                                                            # STEP 448
os0.makedirs(path4)                                                    # STEP 449
str2 += 'z'                                                            # STEP 450
str2 += 'u'                                                            # STEP 451
result = os0.readlink(path2)                                           # STEP 452
path3 = "/Volumes/ramdisk/test"                                        # STEP 453
path0 = "/Volumes/ramdisk/test"                                        # STEP 454
str4 += 'e'                                                            # STEP 455
bytes0 = 0                                                             # STEP 456
os0.symlink(path2,path4)                                               # STEP 457
result = os0.path.isdir(path3)                                         # STEP 458
path4 += "/" + component2                                              # STEP 459
result = os0.path.isfile(path0)                                        # STEP 460
str4 += 'z'                                                            # STEP 461
os0.write(fd0,str1)                                                    # STEP 462
str3 += 'i'                                                            # STEP 463
result = os0.path.isabs(path0)                                         # STEP 464
str2 += " "                                                            # STEP 465
path0 += "/" + component4                                              # STEP 466
path2 += "/" + component2                                              # STEP 467
str3 += 'j'                                                            # STEP 468
os0.rename(path0,path3)                                                # STEP 469
os0.rmdir(path4)                                                       # STEP 470
file0 = opener0(path2)                                                 # STEP 471
bytes4 += 1                                                            # STEP 472
component2 = "h"                                                       # STEP 473
str1 += 'o'                                                            # STEP 474
result = os0.path.isfile(path0)                                        # STEP 475
file0 = opener0(path1)                                                 # STEP 476
component4 = "g"                                                       # STEP 477
os0.path.getsize(path4)                                                # STEP 478
str4 += 'j'                                                            # STEP 479
os0.removedirs(path3)                                                  # STEP 480
os0.rename(path1,path0)                                                # STEP 481
str2 += 'v'                                                            # STEP 482
os0.rmdir(path0)                                                       # STEP 483
os0.link(path3,path0)                                                  # STEP 484
str4 += 'f'                                                            # STEP 485
os0.link(path3,path1)                                                  # STEP 486
result = os0.path.islink(path0)                                        # STEP 487
os0.link(path2,path2)                                                  # STEP 488
bytes2 += 1                                                            # STEP 489
os0.rename(path4,path1)                                                # STEP 490
str2 += 'e'                                                            # STEP 491
bytes0 += 1                                                            # STEP 492
result = os0.path.abspath(path1)                                       # STEP 493
os0.write(fd0,str4)                                                    # STEP 494
str1 += " "                                                            # STEP 495
os0.link(path4,path4)                                                  # STEP 496
os0.removedirs(path0)                                                  # STEP 497
result = os0.path.isdir(path3)                                         # STEP 498
path1 = "/Volumes/ramdisk/test"                                        # STEP 499
path1 += "/" + component4                                              # STEP 500
os0.symlink(path2,path2)                                               # STEP 501
str1 += 'i'                                                            # STEP 502
os0.symlink(path1,path0)                                               # STEP 503
path3 += "/" + component1                                              # STEP 504
path3 += "/" + component1                                              # STEP 505
os0.link(path3,path0)                                                  # STEP 506
str1 += 'r'                                                            # STEP 507
path4 += "/" + component1                                              # STEP 508
file0.seek(bytes1)                                                     # STEP 509
str1 += 't'                                                            # STEP 510
result = os0.path.exists(path4)                                        # STEP 511
str1 += 'n'                                                            # STEP 512
str2 = ""                                                              # STEP 513
str2 += 'r'                                                            # STEP 514
result = os0.path.exists(path2)                                        # STEP 515
result = os0.path.exists(path2)                                        # STEP 516
str1 += 'k'                                                            # STEP 517
os0.makedirs(path2)                                                    # STEP 518
os0.rmdir(path2)                                                       # STEP 519
os0.rmdir(path0)                                                       # STEP 520
result = stat1.st_nlink                                                # STEP 521
str2 = ""                                                              # STEP 522
os0.link(path0,path2)                                                  # STEP 523
os0.link(path1,path0)                                                  # STEP 524
os0.symlink(path1,path0)                                               # STEP 525
result = sorted(os0.listdir(path4))                                    # STEP 526
result = os0.path.isfile(path4)                                        # STEP 527
path4 += "/" + component4                                              # STEP 528
os0.path.getsize(path2)                                                # STEP 529
os0.symlink(path4,path3)                                               # STEP 530
bytes0 = 0                                                             # STEP 531
stat1 = os0.lstat(path4)                                               # STEP 532
str4 += 'o'                                                            # STEP 533
result = file0.read(bytes0)                                            # STEP 534
result = stat2.st_size                                                 # STEP 535
stat2 = os0.stat(path2)                                                # STEP 536
str1 += 'k'                                                            # STEP 537
os0.symlink(path2,path1)                                               # STEP 538
os0.symlink(path4,path1)                                               # STEP 539
component1 = "c"                                                       # STEP 540
result = os0.path.isfile(path3)                                        # STEP 541
str4 += 'd'                                                            # STEP 542
str0 = ""                                                              # STEP 543
str3 += 'r'                                                            # STEP 544
str4 += 'u'                                                            # STEP 545
path4 += "/" + component0                                              # STEP 546
str4 += " "                                                            # STEP 547
file0.truncate()                                                       # STEP 548
ERROR: (<type 'exceptions.OSError'>, OSError(9, 'File is not open for writing.'), <traceback object at 0x106352050>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 29099, in act577
    self.p_file[0].truncate()
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4294, in write_error
    self._raise('File is not open for writing.')
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4112, in _raise
    raise OSError(errno.EBADF, message)
1178 BRANCHES COVERED
902 STATEMENTS COVERED
