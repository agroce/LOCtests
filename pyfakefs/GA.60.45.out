Random testing using config=Config(swarmSwitch=None, verbose=False, reducePool=False, failedLogging=None, exploitBestHint=1, greedyStutter=False, internal=False, exploit=0.8, seed=None, generalize=False, useHints=False, localize=False, total=False, speed='FAST', probs=None, normalize=False, verboseExploit=False, highLowSwarm=None, replayable=False, essentials=False, noCoverageExploit=False, quickTests=False, relax=False, enumerateEnabled=False, uniqueValuesAnalysis=False, swarm=False, noReassign=False, html=None, fastQuickAnalysis=False, progress=False, swarmLength=None, noSwarmDependencies=False, profile=False, LOCBaseline=0.2, noEnumerateEnabled=False, full=True, multiple=True, timedProgress=30, silentFail=True, stopWhenStatements=None, swarmP=0.5, stopWhenBranches=None, noAlphaConvert=False, coverFile='coverage.out', readQuick=False, verboseActions=False, running=False, computeFeatureStats=False, compareFails=False, swarmProbs=None, output='failure.4907.test', genDepth=None, Pcrossover=0.2, quickAnalysis=False, keepLast=False, exploitCeiling=0.1, logging=None, LOCProbs=False, noCheck=False, maxTests=-1, noExceptionMatch=False, Pmutate=0.8, depth=100, showActions=False, throughput=False, noCover=False, timeout=60, stutter=None, uncaught=False, markov=None, startExploit=0)
UNCAUGHT EXCEPTION
ERROR: (<type 'exceptions.AssertionError'>, AssertionError(' (17) == (24) ',), <traceback object at 0x105a21320>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 21881, in act459
    try: assert result == result_REF, " (%s) == (%s) " % (result, result_REF)
Original test has 271 steps

SAVING TEST AS failure.4907.test.0
FINAL VERSION OF TEST, WITH LOGGED REPLAY:
component4 = "omega"                                                     # STEP 0
component0 = "lambda"                                                    # STEP 1
component3 = "b"                                                         # STEP 2
str0 = ""                                                                # STEP 3
os0 = newFakeOS()                                                        # STEP 4
path4 = "/Volumes/ramdisk/test"                                          # STEP 5
component1 = "g"                                                         # STEP 6
result = os0.path.abspath(path4)                                         # STEP 7
os0.remove(path4)                                                        # STEP 8
os0.makedirs(path4)                                                      # STEP 9
str1 = ""                                                               # STEP 10
os0.link(path4,path4)                                                   # STEP 11
str0 += 'n'                                                             # STEP 12
component2 = "h"                                                        # STEP 13
os0.remove(path4)                                                       # STEP 14
str1 += 'd'                                                             # STEP 15
path1 = "/Volumes/ramdisk/test"                                         # STEP 16
path1 += "/" + component1                                               # STEP 17
os0.symlink(path1,path1)                                                # STEP 18
os0.symlink(path1,path4)                                                # STEP 19
path1 += "/" + component3                                               # STEP 20
component3 = "a"                                                        # STEP 21
str1 += 'e'                                                             # STEP 22
str1 += 'r'                                                             # STEP 23
path1 += "/" + component3                                               # STEP 24
component3 = "a"                                                        # STEP 25
path3 = "/Volumes/ramdisk/test"                                         # STEP 26
os0.symlink(path3,path1)                                                # STEP 27
str1 += 'e'                                                             # STEP 28
str1 += 'r'                                                             # STEP 29
str0 += 'm'                                                             # STEP 30
stat0 = os0.lstat(path1)                                                # STEP 31
str1 += 'a'                                                             # STEP 32
stat1 = os0.stat(path1)                                                 # STEP 33
os0.link(path1,path4)                                                   # STEP 34
component1 = "lambda"                                                   # STEP 35
stat4 = os0.stat(path1)                                                 # STEP 36
str1 += 't'                                                             # STEP 37
path3 += "/" + component4                                               # STEP 38
fd0 = os0.open(path3, os.O_RDONLY)                                      # STEP 39
os0.link(path1,path4)                                                   # STEP 40
result = os0.path.dirname(path4)                                        # STEP 41
result = os0.path.islink(path3)                                         # STEP 42
result = os0.path.isabs(path1)                                          # STEP 43
stat2 = os0.lstat(path3)                                                # STEP 44
path1 += "/" + component4                                               # STEP 45
os0.makedirs(path1)                                                     # STEP 46
fd0 = os0.open(path1, os.O_CREAT)                                       # STEP 47
str2 = ""                                                               # STEP 48
os0.symlink(path4,path3)                                                # STEP 49
component4 = "b"                                                        # STEP 50
os0.remove(path1)                                                       # STEP 51
str2 += 'w'                                                             # STEP 52
os0.symlink(path4,path4)                                                # STEP 53
str0 += 'h'                                                             # STEP 54
stat3 = os0.stat(path3)                                                 # STEP 55
os0.removedirs(path1)                                                   # STEP 56
str0 += 'j'                                                             # STEP 57
str1 += 'i'                                                             # STEP 58
path4 += "/" + component4                                               # STEP 59
str1 += 's'                                                             # STEP 60
str2 += 'a'                                                             # STEP 61
os0.rmdir(path1)                                                        # STEP 62
result = os0.path.islink(path4)                                         # STEP 63
path1 = "/Volumes/ramdisk/test"                                         # STEP 64
stat0 = os0.lstat(path3)                                                # STEP 65
result = os0.path.isabs(path3)                                          # STEP 66
bytes2 = 0                                                              # STEP 67
str2 += 'o'                                                             # STEP 68
str0 += 'p'                                                             # STEP 69
str0 += 'v'                                                             # STEP 70
component4 = "g"                                                        # STEP 71
str2 += 'e'                                                             # STEP 72
result = os0.path.dirname(path1)                                        # STEP 73
str0 += 'w'                                                             # STEP 74
result = sorted(os0.listdir(path1))                                     # STEP 75
str0 += 'i'                                                             # STEP 76
stat4 = os0.lstat(path3)                                                # STEP 77
str0 = ""                                                               # STEP 78
path1 += "/" + component0                                               # STEP 79
fd0 = os0.open(path4, os.O_WRONLY | os.O_APPEND)                        # STEP 80
component0 = "phi"                                                      # STEP 81
str2 += 'i'                                                             # STEP 82
bytes0 = 0                                                              # STEP 83
path3 = "/Volumes/ramdisk/test"                                         # STEP 84
str0 += 'm'                                                             # STEP 85
opener0 = newFakeOpener(os0)                                            # STEP 86
str2 += 'j'                                                             # STEP 87
str1 += 'a'                                                             # STEP 88
result = stat4.st_nlink                                                 # STEP 89
str0 += 'h'                                                             # STEP 90
str1 += 'n'                                                             # STEP 91
str2 += 'a'                                                             # STEP 92
result = os0.path.exists(path1)                                         # STEP 93
str4 = ""                                                               # STEP 94
os0.link(path3,path1)                                                   # STEP 95
str0 += 'o'                                                             # STEP 96
stat1 = os0.stat(path4)                                                 # STEP 97
str1 += 'o'                                                             # STEP 98
result = os0.readlink(path4)                                            # STEP 99
path4 += "/" + component2                                              # STEP 100
str4 += 'y'                                                            # STEP 101
component2 = "omega"                                                   # STEP 102
os0.mkdir(path3)                                                       # STEP 103
str2 += 'e'                                                            # STEP 104
result = os0.path.islink(path3)                                        # STEP 105
str1 += 'b'                                                            # STEP 106
fd0 = os0.open(path4, os.O_CREAT | os.O_WRONLY)                        # STEP 107
os0.remove(path3)                                                      # STEP 108
result = os0.path.isdir(path3)                                         # STEP 109
fd0 = os0.open(path4, os.O_RDWR)                                       # STEP 110
str1 += 'y'                                                            # STEP 111
str0 += 'm'                                                            # STEP 112
str0 = ""                                                              # STEP 113
fd0 = os0.open(path1, os.O_RDONLY)                                     # STEP 114
str4 += 'g'                                                            # STEP 115
bytes2 += 1                                                            # STEP 116
str1 = ""                                                              # STEP 117
str2 += 'a'                                                            # STEP 118
file0 = opener0(path1,'a')                                             # STEP 119
stat4 = os0.lstat(path4)                                               # STEP 120
str4 += 'o'                                                            # STEP 121
fd0 = os0.open(path4, os.O_RDWR)                                       # STEP 122
fd0 = os0.open(path4, os.O_CREAT | os.O_WRONLY | os.O_TRUNC | os.O_EXCL)  # STEP 123
stat1 = os0.stat(path4)                                                # STEP 124
str4 += 'd'                                                            # STEP 125
str2 += 's'                                                            # STEP 126
str1 += 'p'                                                            # STEP 127
os0.link(path4,path3)                                                  # STEP 128
str0 += 'e'                                                            # STEP 129
os0.symlink(path1,path4)                                               # STEP 130
str0 = ""                                                              # STEP 131
str3 = ""                                                              # STEP 132
result = os0.path.isabs(path1)                                         # STEP 133
os0.makedirs(path3)                                                    # STEP 134
os0.remove(path3)                                                      # STEP 135
str2 += 'r'                                                            # STEP 136
str4 += 's'                                                            # STEP 137
result = file0.readline(bytes2)                                        # STEP 138
file0.next()                                                           # STEP 139
str3 += 'k'                                                            # STEP 140
str1 += " "                                                            # STEP 141
str2 += 'g'                                                            # STEP 142
path4 += "/" + component0                                              # STEP 143
str0 += 't'                                                            # STEP 144
path3 += "/" + component2                                              # STEP 145
fd0 = os0.open(path4, os.O_RDWR)                                       # STEP 146
str0 += 'd'                                                            # STEP 147
str1 += 'b'                                                            # STEP 148
result = file0.readline(bytes2)                                        # STEP 149
result = stat0.st_size                                                 # STEP 150
component0 = "h"                                                       # STEP 151
str0 += 'q'                                                            # STEP 152
os0.remove(path4)                                                      # STEP 153
os0.makedirs(path4)                                                    # STEP 154
os0.link(path4,path1)                                                  # STEP 155
str4 += 't'                                                            # STEP 156
str3 = ""                                                              # STEP 157
str4 += 'h'                                                            # STEP 158
bytes2 += 1                                                            # STEP 159
os0.link(path3,path3)                                                  # STEP 160
bytes3 = 0                                                             # STEP 161
str4 += " "                                                            # STEP 162
os0.symlink(path1,path4)                                               # STEP 163
path3 += "/" + component4                                              # STEP 164
os0.link(path3,path1)                                                  # STEP 165
str4 += 'g'                                                            # STEP 166
str4 += 'd'                                                            # STEP 167
str1 += 'a'                                                            # STEP 168
str0 += 'y'                                                            # STEP 169
str1 += 't'                                                            # STEP 170
fd0 = os0.open(path3, os.O_CREAT | os.O_WRONLY | os.O_TRUNC | os.O_EXCL)  # STEP 171
str2 += 'i'                                                            # STEP 172
result = os0.path.exists(path1)                                        # STEP 173
bytes2 += 1                                                            # STEP 174
str3 += 'q'                                                            # STEP 175
str1 += 'b'                                                            # STEP 176
str0 += 'm'                                                            # STEP 177
str2 += 'h'                                                            # STEP 178
str0 += 'l'                                                            # STEP 179
str4 += 'd'                                                            # STEP 180
str0 += 'w'                                                            # STEP 181
component4 = "phi"                                                     # STEP 182
result = os0.path.abspath(path1)                                       # STEP 183
str3 += 't'                                                            # STEP 184
path3 += "/" + component3                                              # STEP 185
str3 += 'z'                                                            # STEP 186
os0.rename(path4,path1)                                                # STEP 187
path3 += "/" + component3                                              # STEP 188
os0.link(path1,path1)                                                  # STEP 189
stat2 = os0.stat(path3)                                                # STEP 190
result = os0.path.exists(path4)                                        # STEP 191
result = os0.path.abspath(path3)                                       # STEP 192
str3 += 'd'                                                            # STEP 193
file0.write(str0)                                                      # STEP 194
component2 = "lambda"                                                  # STEP 195
str2 += 'i'                                                            # STEP 196
os0.link(path4,path1)                                                  # STEP 197
path4 = "/Volumes/ramdisk/test"                                        # STEP 198
os0.symlink(path1,path3)                                               # STEP 199
str2 += 'j'                                                            # STEP 200
str0 += 't'                                                            # STEP 201
result = os0.path.lexists(path4)                                       # STEP 202
result = sorted(os0.listdir(path3))                                    # STEP 203
component3 = "epsilon"                                                 # STEP 204
fd0 = os0.open(path1, os.O_CREAT | os.O_WRONLY)                        # STEP 205
str1 += 'p'                                                            # STEP 206
str2 += 'f'                                                            # STEP 207
result = os0.readlink(path3)                                           # STEP 208
str4 += 'y'                                                            # STEP 209
result = os0.path.isabs(path1)                                         # STEP 210
os0.link(path4,path1)                                                  # STEP 211
os0.write(fd0,str2)                                                    # STEP 212
str0 += 'k'                                                            # STEP 213
str1 += 't'                                                            # STEP 214
bytes2 = 0                                                             # STEP 215
str3 += 'l'                                                            # STEP 216
str2 += 'y'                                                            # STEP 217
str2 += 'x'                                                            # STEP 218
path3 = "/Volumes/ramdisk/test"                                        # STEP 219
os0.link(path4,path1)                                                  # STEP 220
os0.removedirs(path1)                                                  # STEP 221
bytes3 += 1                                                            # STEP 222
result = file0.readline(bytes3)                                        # STEP 223
path3 += "/" + component0                                              # STEP 224
os0.link(path1,path1)                                                  # STEP 225
str0 += 'm'                                                            # STEP 226
file0.seek(bytes0)                                                     # STEP 227
stat2 = os0.lstat(path1)                                               # STEP 228
str1 += 'k'                                                            # STEP 229
result = file0.read(bytes3)                                            # STEP 230
str3 += 'h'                                                            # STEP 231
str2 += 'l'                                                            # STEP 232
str4 = ""                                                              # STEP 233
path4 += "/" + component4                                              # STEP 234
os0.symlink(path4,path4)                                               # STEP 235
str0 += 'n'                                                            # STEP 236
str4 += 'q'                                                            # STEP 237
os0.symlink(path1,path4)                                               # STEP 238
path3 += "/" + component4                                              # STEP 239
stat0 = os0.lstat(path1)                                               # STEP 240
path1 += "/" + component3                                              # STEP 241
str2 += 'x'                                                            # STEP 242
component0 = "a"                                                       # STEP 243
str2 += 'd'                                                            # STEP 244
os0.rename(path3,path4)                                                # STEP 245
str3 += 'd'                                                            # STEP 246
result = os0.path.abspath(path3)                                       # STEP 247
stat1 = os0.lstat(path1)                                               # STEP 248
path1 += "/" + component1                                              # STEP 249
str3 += 'i'                                                            # STEP 250
os0.link(path1,path1)                                                  # STEP 251
str2 += 'm'                                                            # STEP 252
str2 += 'c'                                                            # STEP 253
str1 += 'z'                                                            # STEP 254
str2 += 'x'                                                            # STEP 255
str0 += 'c'                                                            # STEP 256
component4 = "delta"                                                   # STEP 257
str2 += 'w'                                                            # STEP 258
str1 += 's'                                                            # STEP 259
result = os0.readlink(path1)                                           # STEP 260
str0 += 'g'                                                            # STEP 261
component1 = "c"                                                       # STEP 262
str3 += 'r'                                                            # STEP 263
path4 += "/" + component0                                              # STEP 264
path3 += "/" + component2                                              # STEP 265
component2 = "epsilon"                                                 # STEP 266
str1 = ""                                                              # STEP 267
component3 = "epsilon"                                                 # STEP 268
str3 += 'k'                                                            # STEP 269
result = stat2.st_size                                                 # STEP 270
ERROR: (<type 'exceptions.AssertionError'>, AssertionError(' (17) == (24) ',), <traceback object at 0x1052422d8>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 21881, in act459
    try: assert result == result_REF, " (%s) == (%s) " % (result, result_REF)
FAILURE IS NEW, STORING; NOW 1 DISTINCT FAILURES
TEST #108 STEP #0 (0:00:30.175950) Sat Jul 22 03:00:33 2017 [ 894 stmts 1163 branches ] 10683 TOTAL ACTIONS (354.023650694/s)
UNCAUGHT EXCEPTION
ERROR: (<type 'exceptions.AssertionError'>, AssertionError(' (14) == (10) ',), <traceback object at 0x103a296c8>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 21936, in act460
    try: assert result == result_REF, " (%s) == (%s) " % (result, result_REF)
Original test has 313 steps

SAVING TEST AS failure.4907.test.1
FINAL VERSION OF TEST, WITH LOGGED REPLAY:
component4 = "omega"                                                     # STEP 0
component0 = "lambda"                                                    # STEP 1
component3 = "b"                                                         # STEP 2
str0 = ""                                                                # STEP 3
os0 = newFakeOS()                                                        # STEP 4
path4 = "/Volumes/ramdisk/test"                                          # STEP 5
component1 = "g"                                                         # STEP 6
result = os0.path.abspath(path4)                                         # STEP 7
os0.remove(path4)                                                        # STEP 8
os0.makedirs(path4)                                                      # STEP 9
str1 = ""                                                               # STEP 10
os0.link(path4,path4)                                                   # STEP 11
str0 += 'n'                                                             # STEP 12
component2 = "h"                                                        # STEP 13
os0.remove(path4)                                                       # STEP 14
str1 += 'd'                                                             # STEP 15
path1 = "/Volumes/ramdisk/test"                                         # STEP 16
path1 += "/" + component1                                               # STEP 17
os0.symlink(path1,path1)                                                # STEP 18
os0.symlink(path1,path4)                                                # STEP 19
path1 += "/" + component3                                               # STEP 20
component3 = "a"                                                        # STEP 21
str1 += 'e'                                                             # STEP 22
str1 += 'r'                                                             # STEP 23
str0 += 'm'                                                             # STEP 24
stat0 = os0.lstat(path1)                                                # STEP 25
str1 += 'a'                                                             # STEP 26
stat1 = os0.stat(path1)                                                 # STEP 27
os0.link(path1,path4)                                                   # STEP 28
component1 = "lambda"                                                   # STEP 29
stat4 = os0.stat(path1)                                                 # STEP 30
str1 += 't'                                                             # STEP 31
os0.link(path1,path4)                                                   # STEP 32
result = os0.path.dirname(path4)                                        # STEP 33
result = os0.path.isabs(path1)                                          # STEP 34
path1 += "/" + component4                                               # STEP 35
os0.makedirs(path1)                                                     # STEP 36
fd0 = os0.open(path1, os.O_CREAT)                                       # STEP 37
str2 = ""                                                               # STEP 38
component4 = "b"                                                        # STEP 39
os0.remove(path1)                                                       # STEP 40
str2 += 'w'                                                             # STEP 41
os0.symlink(path4,path4)                                                # STEP 42
str0 += 'h'                                                             # STEP 43
str0 += 'j'                                                             # STEP 44
str1 += 'i'                                                             # STEP 45
path4 += "/" + component4                                               # STEP 46
str1 += 's'                                                             # STEP 47
str2 += 'a'                                                             # STEP 48
os0.rmdir(path1)                                                        # STEP 49
result = os0.path.islink(path4)                                         # STEP 50
path1 = "/Volumes/ramdisk/test"                                         # STEP 51
bytes2 = 0                                                              # STEP 52
str2 += 'o'                                                             # STEP 53
str0 += 'p'                                                             # STEP 54
str0 += 'v'                                                             # STEP 55
component4 = "g"                                                        # STEP 56
str2 += 'e'                                                             # STEP 57
result = os0.path.dirname(path1)                                        # STEP 58
str0 += 'w'                                                             # STEP 59
result = sorted(os0.listdir(path1))                                     # STEP 60
str0 += 'i'                                                             # STEP 61
str0 = ""                                                               # STEP 62
path1 += "/" + component0                                               # STEP 63
fd0 = os0.open(path4, os.O_WRONLY | os.O_APPEND)                        # STEP 64
component0 = "phi"                                                      # STEP 65
str2 += 'i'                                                             # STEP 66
bytes0 = 0                                                              # STEP 67
path3 = "/Volumes/ramdisk/test"                                         # STEP 68
str0 += 'm'                                                             # STEP 69
opener0 = newFakeOpener(os0)                                            # STEP 70
str2 += 'j'                                                             # STEP 71
str1 += 'a'                                                             # STEP 72
str0 += 'h'                                                             # STEP 73
str1 += 'n'                                                             # STEP 74
str2 += 'a'                                                             # STEP 75
result = os0.path.exists(path1)                                         # STEP 76
str4 = ""                                                               # STEP 77
os0.link(path3,path1)                                                   # STEP 78
str0 += 'o'                                                             # STEP 79
str1 += 'o'                                                             # STEP 80
result = os0.readlink(path4)                                            # STEP 81
path4 += "/" + component2                                               # STEP 82
str4 += 'y'                                                             # STEP 83
component2 = "omega"                                                    # STEP 84
os0.mkdir(path3)                                                        # STEP 85
str2 += 'e'                                                             # STEP 86
result = os0.path.islink(path3)                                         # STEP 87
str1 += 'b'                                                             # STEP 88
fd0 = os0.open(path4, os.O_CREAT | os.O_WRONLY)                         # STEP 89
os0.remove(path3)                                                       # STEP 90
stat1 = os0.stat(path1)                                                 # STEP 91
fd0 = os0.open(path4, os.O_RDWR)                                        # STEP 92
str1 += 'y'                                                             # STEP 93
str0 += 'm'                                                             # STEP 94
str0 = ""                                                               # STEP 95
fd0 = os0.open(path1, os.O_RDONLY)                                      # STEP 96
str4 += 'g'                                                             # STEP 97
bytes2 += 1                                                             # STEP 98
str1 = ""                                                               # STEP 99
str2 += 'a'                                                            # STEP 100
file0 = opener0(path1,'a')                                             # STEP 101
stat4 = os0.lstat(path4)                                               # STEP 102
str4 += 'o'                                                            # STEP 103
fd0 = os0.open(path4, os.O_RDWR)                                       # STEP 104
fd0 = os0.open(path4, os.O_CREAT | os.O_WRONLY | os.O_TRUNC | os.O_EXCL)  # STEP 105
stat1 = os0.stat(path4)                                                # STEP 106
str4 += 'd'                                                            # STEP 107
str2 += 's'                                                            # STEP 108
str1 += 'p'                                                            # STEP 109
os0.link(path4,path3)                                                  # STEP 110
str0 += 'e'                                                            # STEP 111
os0.symlink(path1,path4)                                               # STEP 112
str0 = ""                                                              # STEP 113
str3 = ""                                                              # STEP 114
result = os0.path.isabs(path1)                                         # STEP 115
os0.makedirs(path3)                                                    # STEP 116
os0.remove(path3)                                                      # STEP 117
str2 += 'r'                                                            # STEP 118
str4 += 's'                                                            # STEP 119
result = file0.readline(bytes2)                                        # STEP 120
file0.next()                                                           # STEP 121
result = os0.path.lexists(path4)                                       # STEP 122
bytes3 = 0                                                             # STEP 123
fd0 = os0.open(path1, os.O_CREAT)                                      # STEP 124
path4 = "/Volumes/ramdisk/test"                                        # STEP 125
path1 += "/" + component3                                              # STEP 126
stat2 = os0.stat(path1)                                                # STEP 127
str0 += 'h'                                                            # STEP 128
os0.symlink(path1,path3)                                               # STEP 129
str4 += 'd'                                                            # STEP 130
os0.write(fd0,str3)                                                    # STEP 131
str0 += 'e'                                                            # STEP 132
str4 += 'e'                                                            # STEP 133
str3 += 'u'                                                            # STEP 134
component3 = "delta"                                                   # STEP 135
str0 += 'v'                                                            # STEP 136
path4 += "/" + component4                                              # STEP 137
result = os0.path.exists(path1)                                        # STEP 138
path1 += "/" + component2                                              # STEP 139
str0 += 'l'                                                            # STEP 140
str1 += 'z'                                                            # STEP 141
str2 += 'b'                                                            # STEP 142
str2 += 's'                                                            # STEP 143
stat1 = os0.lstat(path4)                                               # STEP 144
file0.write(str3)                                                      # STEP 145
component2 = "c"                                                       # STEP 146
str0 += 'w'                                                            # STEP 147
str2 += 'v'                                                            # STEP 148
result = os0.path.exists(path3)                                        # STEP 149
str0 += 'i'                                                            # STEP 150
os0.write(fd0,str1)                                                    # STEP 151
str1 += 'n'                                                            # STEP 152
result = file0.readline(bytes3)                                        # STEP 153
path4 += "/" + component0                                              # STEP 154
str4 += 'e'                                                            # STEP 155
os0.rmdir(path4)                                                       # STEP 156
result = os0.readlink(path1)                                           # STEP 157
str4 += 'x'                                                            # STEP 158
file0.seek(bytes2)                                                     # STEP 159
component4 = "gamma"                                                   # STEP 160
str0 += 'j'                                                            # STEP 161
str1 += 'v'                                                            # STEP 162
str3 += 'z'                                                            # STEP 163
component0 = "omega"                                                   # STEP 164
os0.close(fd0)                                                         # STEP 165
str1 += 'x'                                                            # STEP 166
result = file0.readline(bytes0)                                        # STEP 167
os0.mkdir(path4)                                                       # STEP 168
str1 += 'k'                                                            # STEP 169
str1 += 'h'                                                            # STEP 170
result = os0.readlink(path4)                                           # STEP 171
path4 += "/" + component4                                              # STEP 172
result = os0.path.isfile(path4)                                        # STEP 173
str3 += 'r'                                                            # STEP 174
str2 += 'n'                                                            # STEP 175
str1 += 'x'                                                            # STEP 176
str4 += 'c'                                                            # STEP 177
stat2 = os0.lstat(path4)                                               # STEP 178
path1 += "/" + component4                                              # STEP 179
result = os0.path.lexists(path3)                                       # STEP 180
fd0 = os0.open(path1, os.O_CREAT | os.O_EXCL)                          # STEP 181
result = os0.readlink(path3)                                           # STEP 182
path1 += "/" + component4                                              # STEP 183
os0.rename(path1,path4)                                                # STEP 184
os0.write(fd0,str0)                                                    # STEP 185
result = os0.path.isfile(path3)                                        # STEP 186
str3 += 'r'                                                            # STEP 187
component4 = "a"                                                       # STEP 188
file0.seek(bytes2)                                                     # STEP 189
str2 += 'e'                                                            # STEP 190
str4 += 'b'                                                            # STEP 191
stat4 = os0.stat(path1)                                                # STEP 192
result = sorted(os0.listdir(path4))                                    # STEP 193
os0.symlink(path1,path3)                                               # STEP 194
os0.symlink(path4,path4)                                               # STEP 195
bytes2 = 0                                                             # STEP 196
file0.write(str1)                                                      # STEP 197
result = os0.path.abspath(path3)                                       # STEP 198
path1 = "/Volumes/ramdisk/test"                                        # STEP 199
str4 += 'v'                                                            # STEP 200
bytes3 = 0                                                             # STEP 201
os0.remove(path1)                                                      # STEP 202
str2 += 'n'                                                            # STEP 203
os0.link(path1,path4)                                                  # STEP 204
result = file0.readline(bytes3)                                        # STEP 205
str1 += 'u'                                                            # STEP 206
str2 += 'q'                                                            # STEP 207
path2 = "/Volumes/ramdisk/test"                                        # STEP 208
os0.symlink(path3,path1)                                               # STEP 209
str3 += 'g'                                                            # STEP 210
str0 += 'u'                                                            # STEP 211
str0 += 't'                                                            # STEP 212
str1 += 'y'                                                            # STEP 213
result = os0.path.isdir(path2)                                         # STEP 214
os0.symlink(path4,path1)                                               # STEP 215
str3 += 'r'                                                            # STEP 216
str1 += 'g'                                                            # STEP 217
result = os0.path.abspath(path1)                                       # STEP 218
str1 += 'r'                                                            # STEP 219
str3 += 'u'                                                            # STEP 220
str0 += 'g'                                                            # STEP 221
str1 = ""                                                              # STEP 222
str4 = ""                                                              # STEP 223
str2 += 'm'                                                            # STEP 224
bytes0 += 1                                                            # STEP 225
result = os0.path.dirname(path4)                                       # STEP 226
str3 += 'c'                                                            # STEP 227
str4 += 'a'                                                            # STEP 228
file0.write(str4)                                                      # STEP 229
str0 += 'm'                                                            # STEP 230
str1 += 'k'                                                            # STEP 231
result = os0.path.exists(path3)                                        # STEP 232
os0.link(path1,path4)                                                  # STEP 233
str3 += 'o'                                                            # STEP 234
str1 += 'e'                                                            # STEP 235
result = os0.path.lexists(path1)                                       # STEP 236
os0.link(path1,path4)                                                  # STEP 237
result = os0.path.isfile(path3)                                        # STEP 238
result = sorted(os0.listdir(path1))                                    # STEP 239
str1 += 'x'                                                            # STEP 240
str1 += 'm'                                                            # STEP 241
result = os0.readlink(path3)                                           # STEP 242
file0.truncate()                                                       # STEP 243
result = os0.path.isdir(path1)                                         # STEP 244
str3 += 'i'                                                            # STEP 245
stat4 = os0.lstat(path4)                                               # STEP 246
path3 += "/" + component1                                              # STEP 247
str4 += 'v'                                                            # STEP 248
os0.link(path4,path1)                                                  # STEP 249
file0.write(str1)                                                      # STEP 250
str3 += 'x'                                                            # STEP 251
component1 = "b"                                                       # STEP 252
str0 += 'p'                                                            # STEP 253
str2 += 'e'                                                            # STEP 254
str3 += 'y'                                                            # STEP 255
str3 += 'e'                                                            # STEP 256
os0.rmdir(path3)                                                       # STEP 257
result = file0.read(bytes2)                                            # STEP 258
str0 += 'a'                                                            # STEP 259
result = os0.path.islink(path1)                                        # STEP 260
os0.rename(path3,path4)                                                # STEP 261
file0.next()                                                           # STEP 262
str3 += " "                                                            # STEP 263
str3 += 'h'                                                            # STEP 264
result = sorted(os0.listdir(path2))                                    # STEP 265
str4 += 'v'                                                            # STEP 266
bytes2 = 0                                                             # STEP 267
result = os0.path.abspath(path1)                                       # STEP 268
stat2 = os0.fstat(fd0)                                                 # STEP 269
result = os0.readlink(path1)                                           # STEP 270
str0 += 'z'                                                            # STEP 271
os0.symlink(path1,path1)                                               # STEP 272
str0 += 'z'                                                            # STEP 273
str1 += 'u'                                                            # STEP 274
stat3 = os0.stat(path3)                                                # STEP 275
str3 += 'p'                                                            # STEP 276
str3 += 'm'                                                            # STEP 277
result = stat3.st_nlink                                                # STEP 278
os0.mkdir(path4)                                                       # STEP 279
str4 += 'm'                                                            # STEP 280
file0.write(str0)                                                      # STEP 281
path2 += "/" + component0                                              # STEP 282
str0 = ""                                                              # STEP 283
os0.rename(path2,path4)                                                # STEP 284
str3 += 'm'                                                            # STEP 285
str3 += 'a'                                                            # STEP 286
result = os0.path.lexists(path1)                                       # STEP 287
os0.remove(path4)                                                      # STEP 288
bytes1 = 0                                                             # STEP 289
stat3 = os0.stat(path4)                                                # STEP 290
str3 += 'n'                                                            # STEP 291
result = os0.path.islink(path4)                                        # STEP 292
os0.symlink(path1,path2)                                               # STEP 293
component0 = "e"                                                       # STEP 294
bytes3 = 0                                                             # STEP 295
result = file0.readline(bytes2)                                        # STEP 296
result = stat1.st_size                                                 # STEP 297
path2 += "/" + component4                                              # STEP 298
str3 += 'j'                                                            # STEP 299
str3 += 's'                                                            # STEP 300
result = os0.path.lexists(path4)                                       # STEP 301
os0.rename(path2,path1)                                                # STEP 302
str4 += 'h'                                                            # STEP 303
result = os0.readlink(path2)                                           # STEP 304
stat0 = os0.lstat(path2)                                               # STEP 305
str4 += 'n'                                                            # STEP 306
result = os0.path.isabs(path2)                                         # STEP 307
component4 = "gamma"                                                   # STEP 308
stat0 = os0.lstat(path4)                                               # STEP 309
result = file0.readline(bytes2)                                        # STEP 310
stat4 = os0.stat(path4)                                                # STEP 311
result = stat3.st_size                                                 # STEP 312
ERROR: (<type 'exceptions.AssertionError'>, AssertionError(' (14) == (10) ',), <traceback object at 0x1026ae518>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 21936, in act460
    try: assert result == result_REF, " (%s) == (%s) " % (result, result_REF)
FAILURE IS NEW, STORING; NOW 2 DISTINCT FAILURES
UNCAUGHT EXCEPTION
ERROR: (<type 'exceptions.AssertionError'>, AssertionError(' (24) == (0) ',), <traceback object at 0x109de71b8>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 21991, in act461
    try: assert result == result_REF, " (%s) == (%s) " % (result, result_REF)
Original test has 213 steps

SAVING TEST AS failure.4907.test.2
FINAL VERSION OF TEST, WITH LOGGED REPLAY:
path2 = "/Volumes/ramdisk/test"                                          # STEP 0
os0 = newFakeOS()                                                        # STEP 1
component1 = "phi"                                                       # STEP 2
str2 = ""                                                                # STEP 3
str2 += 'p'                                                              # STEP 4
component3 = "h"                                                         # STEP 5
str2 += 'd'                                                              # STEP 6
component2 = "delta"                                                     # STEP 7
component0 = "c"                                                         # STEP 8
result = os0.path.abspath(path2)                                         # STEP 9
component4 = "omega"                                                    # STEP 10
str2 += 'b'                                                             # STEP 11
str0 = ""                                                               # STEP 12
str2 += 't'                                                             # STEP 13
str0 += 'b'                                                             # STEP 14
str2 += 'v'                                                             # STEP 15
str2 += 'b'                                                             # STEP 16
bytes3 = 0                                                              # STEP 17
str0 += 'a'                                                             # STEP 18
path2 = "/Volumes/ramdisk/test"                                         # STEP 19
str2 += 'd'                                                             # STEP 20
str0 += 'k'                                                             # STEP 21
path2 += "/" + component2                                               # STEP 22
str0 += 'k'                                                             # STEP 23
str0 += 'g'                                                             # STEP 24
str2 += 's'                                                             # STEP 25
opener0 = newFakeOpener(os0)                                            # STEP 26
os0.makedirs(path2)                                                     # STEP 27
str2 += 'o'                                                             # STEP 28
path2 += "/" + component2                                               # STEP 29
str2 += 'y'                                                             # STEP 30
str2 += 'i'                                                             # STEP 31
str0 += 'z'                                                             # STEP 32
stat3 = os0.stat(path2)                                                 # STEP 33
str2 += 'g'                                                             # STEP 34
str0 += 'a'                                                             # STEP 35
path1 = "/Volumes/ramdisk/test"                                         # STEP 36
fd0 = os0.open(path2, os.O_WRONLY | os.O_APPEND)                        # STEP 37
component2 = "beta"                                                     # STEP 38
result = os0.path.isdir(path2)                                          # STEP 39
path4 = "/Volumes/ramdisk/test"                                         # STEP 40
str0 += 'h'                                                             # STEP 41
str0 += 'j'                                                             # STEP 42
path0 = "/Volumes/ramdisk/test"                                         # STEP 43
os0.link(path2,path0)                                                   # STEP 44
bytes3 += 1                                                             # STEP 45
path2 += "/" + component1                                               # STEP 46
result = os0.readlink(path0)                                            # STEP 47
result = os0.path.isabs(path1)                                          # STEP 48
path1 += "/" + component0                                               # STEP 49
os0.symlink(path1,path4)                                                # STEP 50
component1 = "gamma"                                                    # STEP 51
os0.link(path4,path4)                                                   # STEP 52
stat2 = os0.lstat(path1)                                                # STEP 53
component0 = "epsilon"                                                  # STEP 54
os0.symlink(path0,path1)                                                # STEP 55
path0 = "/Volumes/ramdisk/test"                                         # STEP 56
fd0 = os0.open(path2, os.O_RDWR)                                        # STEP 57
os0.link(path4,path1)                                                   # STEP 58
stat4 = os0.lstat(path2)                                                # STEP 59
os0.rename(path1,path2)                                                 # STEP 60
file0 = opener0(path1,'w')                                              # STEP 61
os0.symlink(path2,path4)                                                # STEP 62
path4 += "/" + component0                                               # STEP 63
result = os0.readlink(path0)                                            # STEP 64
path4 += "/" + component0                                               # STEP 65
result = os0.path.abspath(path1)                                        # STEP 66
stat1 = os0.lstat(path1)                                                # STEP 67
stat0 = os0.stat(path2)                                                 # STEP 68
result = os0.path.islink(path4)                                         # STEP 69
str0 += 'o'                                                             # STEP 70
result = os0.path.lexists(path4)                                        # STEP 71
stat3 = os0.stat(path4)                                                 # STEP 72
path0 += "/" + component4                                               # STEP 73
os0.rmdir(path2)                                                        # STEP 74
os0.symlink(path4,path0)                                                # STEP 75
bytes4 = 0                                                              # STEP 76
component0 = "delta"                                                    # STEP 77
result = os0.path.lexists(path1)                                        # STEP 78
str0 += 'm'                                                             # STEP 79
str2 += 'w'                                                             # STEP 80
os0.link(path0,path2)                                                   # STEP 81
str2 += 's'                                                             # STEP 82
path0 += "/" + component0                                               # STEP 83
os0.makedirs(path0)                                                     # STEP 84
component4 = "d"                                                        # STEP 85
str2 += 'z'                                                             # STEP 86
str0 += 'y'                                                             # STEP 87
stat0 = os0.stat(path2)                                                 # STEP 88
os0.makedirs(path4)                                                     # STEP 89
result = os0.path.islink(path2)                                         # STEP 90
path1 += "/" + component2                                               # STEP 91
result = os0.path.abspath(path2)                                        # STEP 92
result = os0.path.abspath(path0)                                        # STEP 93
os0.symlink(path4,path1)                                                # STEP 94
path1 += "/" + component1                                               # STEP 95
result = os0.path.abspath(path4)                                        # STEP 96
str2 += 'a'                                                             # STEP 97
os0.rename(path4,path0)                                                 # STEP 98
path2 = "/Volumes/ramdisk/test"                                         # STEP 99
component2 = "phi"                                                     # STEP 100
str0 += 'd'                                                            # STEP 101
component1 = "phi"                                                     # STEP 102
result = os0.path.abspath(path1)                                       # STEP 103
os0.rename(path1,path2)                                                # STEP 104
str2 += 'g'                                                            # STEP 105
os0.remove(path4)                                                      # STEP 106
component0 = "f"                                                       # STEP 107
os0.symlink(path2,path2)                                               # STEP 108
stat0 = os0.stat(path4)                                                # STEP 109
result = os0.path.isabs(path1)                                         # STEP 110
os0.rename(path0,path1)                                                # STEP 111
str0 += 'x'                                                            # STEP 112
os0.link(path0,path0)                                                  # STEP 113
str0 += 's'                                                            # STEP 114
str0 += 'y'                                                            # STEP 115
os0.link(path4,path1)                                                  # STEP 116
stat2 = os0.stat(path1)                                                # STEP 117
result = os0.path.dirname(path2)                                       # STEP 118
path0 += "/" + component3                                              # STEP 119
str2 += 's'                                                            # STEP 120
os0.rename(path4,path1)                                                # STEP 121
os0.link(path4,path0)                                                  # STEP 122
str0 += 'j'                                                            # STEP 123
path0 += "/" + component2                                              # STEP 124
str2 += 'u'                                                            # STEP 125
os0.removedirs(path1)                                                  # STEP 126
stat4 = os0.stat(path0)                                                # STEP 127
os0.path.getsize(path0)                                                # STEP 128
result = stat1.st_size                                                 # STEP 129
result = os0.readlink(path1)                                           # STEP 130
str2 += 'j'                                                            # STEP 131
str2 += 'r'                                                            # STEP 132
stat2 = os0.lstat(path0)                                               # STEP 133
str0 += 'q'                                                            # STEP 134
os0.mkdir(path0)                                                       # STEP 135
result = os0.path.islink(path0)                                        # STEP 136
stat1 = os0.stat(path0)                                                # STEP 137
result = os0.path.isdir(path4)                                         # STEP 138
os0.symlink(path2,path2)                                               # STEP 139
str0 += 'r'                                                            # STEP 140
path2 += "/" + component0                                              # STEP 141
os0.link(path4,path2)                                                  # STEP 142
component3 = "c"                                                       # STEP 143
os0.rename(path1,path4)                                                # STEP 144
str0 += 'j'                                                            # STEP 145
os0.mkdir(path2)                                                       # STEP 146
stat2 = os0.lstat(path4)                                               # STEP 147
os0.link(path4,path4)                                                  # STEP 148
os0.link(path0,path4)                                                  # STEP 149
os0.rename(path4,path2)                                                # STEP 150
stat3 = os0.lstat(path0)                                               # STEP 151
os0.link(path0,path1)                                                  # STEP 152
component0 = "gamma"                                                   # STEP 153
str0 += 'j'                                                            # STEP 154
path1 += "/" + component1                                              # STEP 155
component1 = "d"                                                       # STEP 156
str0 += 'c'                                                            # STEP 157
str2 += 'k'                                                            # STEP 158
os0.symlink(path2,path0)                                               # STEP 159
os0.link(path2,path1)                                                  # STEP 160
path2 += "/" + component1                                              # STEP 161
os0.link(path2,path0)                                                  # STEP 162
str0 += 'i'                                                            # STEP 163
component1 = "gamma"                                                   # STEP 164
path4 += "/" + component0                                              # STEP 165
os0.link(path4,path2)                                                  # STEP 166
path4 = "/Volumes/ramdisk/test"                                        # STEP 167
result = os0.path.islink(path4)                                        # STEP 168
result = os0.readlink(path2)                                           # STEP 169
str2 += 'r'                                                            # STEP 170
result = os0.path.dirname(path0)                                       # STEP 171
path4 += "/" + component0                                              # STEP 172
os0.symlink(path4,path0)                                               # STEP 173
str2 += 'v'                                                            # STEP 174
file0 = opener0(path4,'a')                                             # STEP 175
str2 += 'p'                                                            # STEP 176
os0.rename(path4,path2)                                                # STEP 177
fd0 = os0.open(path1, os.O_RDWR)                                       # STEP 178
str2 += 'b'                                                            # STEP 179
component0 = "c"                                                       # STEP 180
os0.symlink(path4,path0)                                               # STEP 181
str2 += 'c'                                                            # STEP 182
stat3 = os0.lstat(path0)                                               # STEP 183
path4 += "/" + component0                                              # STEP 184
fd0 = os0.open(path1, os.O_CREAT)                                      # STEP 185
component0 = "lambda"                                                  # STEP 186
str0 += 'h'                                                            # STEP 187
os0.symlink(path1,path1)                                               # STEP 188
stat3 = os0.stat(path2)                                                # STEP 189
stat4 = os0.lstat(path1)                                               # STEP 190
os0.symlink(path4,path0)                                               # STEP 191
result = os0.path.dirname(path4)                                       # STEP 192
file0.write(str0)                                                      # STEP 193
str2 += 'k'                                                            # STEP 194
bytes3 += 1                                                            # STEP 195
result = os0.path.abspath(path1)                                       # STEP 196
stat4 = os0.stat(path2)                                                # STEP 197
str2 += 'a'                                                            # STEP 198
os0.symlink(path2,path4)                                               # STEP 199
str0 += 'p'                                                            # STEP 200
str2 += 't'                                                            # STEP 201
fd0 = os0.open(path0, os.O_RDWR)                                       # STEP 202
os0.link(path0,path4)                                                  # STEP 203
os0.link(path0,path2)                                                  # STEP 204
component2 = "g"                                                       # STEP 205
fd0 = os0.open(path0, os.O_RDWR)                                       # STEP 206
result = os0.path.isabs(path1)                                         # STEP 207
file0.seek(bytes3)                                                     # STEP 208
str0 += 'm'                                                            # STEP 209
str0 += 'g'                                                            # STEP 210
path0 = "/Volumes/ramdisk/test"                                        # STEP 211
result = stat4.st_size                                                 # STEP 212
ERROR: (<type 'exceptions.AssertionError'>, AssertionError(' (24) == (0) ',), <traceback object at 0x109ca1b48>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 21991, in act461
    try: assert result == result_REF, " (%s) == (%s) " % (result, result_REF)
FAILURE IS NEW, STORING; NOW 3 DISTINCT FAILURES
STOPPING TEST DUE TO TIMEOUT, TERMINATED AT LENGTH 112
STOPPING TESTING DUE TO TIMEOUT
42.6235600149 PERCENT COVERED
60.3951320648 TOTAL RUNTIME
187 EXECUTED
18514 TOTAL TEST OPERATIONS
28.1149230003 TIME SPENT EXECUTING TEST OPERATIONS
0.657976865768 TIME SPENT EVALUATING GUARDS AND CHOOSING ACTIONS
0.0122587680817 TIME SPENT CHECKING PROPERTIES
28.1271817684 TOTAL TIME SPENT RUNNING SUT
0.572956085205 TIME SPENT RESTARTING
0.0 TIME SPENT REDUCING TEST CASES
3 FAILED
0 REPEATS OF FAILURES
3 ACTUAL DISTINCT FAILURES

FAILURE 0
component4 = "omega"                                                     # STEP 0
component0 = "lambda"                                                    # STEP 1
component3 = "b"                                                         # STEP 2
str0 = ""                                                                # STEP 3
os0 = newFakeOS()                                                        # STEP 4
path4 = "/Volumes/ramdisk/test"                                          # STEP 5
component1 = "g"                                                         # STEP 6
result = os0.path.abspath(path4)                                         # STEP 7
os0.remove(path4)                                                        # STEP 8
os0.makedirs(path4)                                                      # STEP 9
str1 = ""                                                               # STEP 10
os0.link(path4,path4)                                                   # STEP 11
str0 += 'n'                                                             # STEP 12
component2 = "h"                                                        # STEP 13
os0.remove(path4)                                                       # STEP 14
str1 += 'd'                                                             # STEP 15
path1 = "/Volumes/ramdisk/test"                                         # STEP 16
path1 += "/" + component1                                               # STEP 17
os0.symlink(path1,path1)                                                # STEP 18
os0.symlink(path1,path4)                                                # STEP 19
path1 += "/" + component3                                               # STEP 20
component3 = "a"                                                        # STEP 21
str1 += 'e'                                                             # STEP 22
str1 += 'r'                                                             # STEP 23
path1 += "/" + component3                                               # STEP 24
component3 = "a"                                                        # STEP 25
path3 = "/Volumes/ramdisk/test"                                         # STEP 26
os0.symlink(path3,path1)                                                # STEP 27
str1 += 'e'                                                             # STEP 28
str1 += 'r'                                                             # STEP 29
str0 += 'm'                                                             # STEP 30
stat0 = os0.lstat(path1)                                                # STEP 31
str1 += 'a'                                                             # STEP 32
stat1 = os0.stat(path1)                                                 # STEP 33
os0.link(path1,path4)                                                   # STEP 34
component1 = "lambda"                                                   # STEP 35
stat4 = os0.stat(path1)                                                 # STEP 36
str1 += 't'                                                             # STEP 37
path3 += "/" + component4                                               # STEP 38
fd0 = os0.open(path3, os.O_RDONLY)                                      # STEP 39
os0.link(path1,path4)                                                   # STEP 40
result = os0.path.dirname(path4)                                        # STEP 41
result = os0.path.islink(path3)                                         # STEP 42
result = os0.path.isabs(path1)                                          # STEP 43
stat2 = os0.lstat(path3)                                                # STEP 44
path1 += "/" + component4                                               # STEP 45
os0.makedirs(path1)                                                     # STEP 46
fd0 = os0.open(path1, os.O_CREAT)                                       # STEP 47
str2 = ""                                                               # STEP 48
os0.symlink(path4,path3)                                                # STEP 49
component4 = "b"                                                        # STEP 50
os0.remove(path1)                                                       # STEP 51
str2 += 'w'                                                             # STEP 52
os0.symlink(path4,path4)                                                # STEP 53
str0 += 'h'                                                             # STEP 54
stat3 = os0.stat(path3)                                                 # STEP 55
os0.removedirs(path1)                                                   # STEP 56
str0 += 'j'                                                             # STEP 57
str1 += 'i'                                                             # STEP 58
path4 += "/" + component4                                               # STEP 59
str1 += 's'                                                             # STEP 60
str2 += 'a'                                                             # STEP 61
os0.rmdir(path1)                                                        # STEP 62
result = os0.path.islink(path4)                                         # STEP 63
path1 = "/Volumes/ramdisk/test"                                         # STEP 64
stat0 = os0.lstat(path3)                                                # STEP 65
result = os0.path.isabs(path3)                                          # STEP 66
bytes2 = 0                                                              # STEP 67
str2 += 'o'                                                             # STEP 68
str0 += 'p'                                                             # STEP 69
str0 += 'v'                                                             # STEP 70
component4 = "g"                                                        # STEP 71
str2 += 'e'                                                             # STEP 72
result = os0.path.dirname(path1)                                        # STEP 73
str0 += 'w'                                                             # STEP 74
result = sorted(os0.listdir(path1))                                     # STEP 75
str0 += 'i'                                                             # STEP 76
stat4 = os0.lstat(path3)                                                # STEP 77
str0 = ""                                                               # STEP 78
path1 += "/" + component0                                               # STEP 79
fd0 = os0.open(path4, os.O_WRONLY | os.O_APPEND)                        # STEP 80
component0 = "phi"                                                      # STEP 81
str2 += 'i'                                                             # STEP 82
bytes0 = 0                                                              # STEP 83
path3 = "/Volumes/ramdisk/test"                                         # STEP 84
str0 += 'm'                                                             # STEP 85
opener0 = newFakeOpener(os0)                                            # STEP 86
str2 += 'j'                                                             # STEP 87
str1 += 'a'                                                             # STEP 88
result = stat4.st_nlink                                                 # STEP 89
str0 += 'h'                                                             # STEP 90
str1 += 'n'                                                             # STEP 91
str2 += 'a'                                                             # STEP 92
result = os0.path.exists(path1)                                         # STEP 93
str4 = ""                                                               # STEP 94
os0.link(path3,path1)                                                   # STEP 95
str0 += 'o'                                                             # STEP 96
stat1 = os0.stat(path4)                                                 # STEP 97
str1 += 'o'                                                             # STEP 98
result = os0.readlink(path4)                                            # STEP 99
path4 += "/" + component2                                              # STEP 100
str4 += 'y'                                                            # STEP 101
component2 = "omega"                                                   # STEP 102
os0.mkdir(path3)                                                       # STEP 103
str2 += 'e'                                                            # STEP 104
result = os0.path.islink(path3)                                        # STEP 105
str1 += 'b'                                                            # STEP 106
fd0 = os0.open(path4, os.O_CREAT | os.O_WRONLY)                        # STEP 107
os0.remove(path3)                                                      # STEP 108
result = os0.path.isdir(path3)                                         # STEP 109
fd0 = os0.open(path4, os.O_RDWR)                                       # STEP 110
str1 += 'y'                                                            # STEP 111
str0 += 'm'                                                            # STEP 112
str0 = ""                                                              # STEP 113
fd0 = os0.open(path1, os.O_RDONLY)                                     # STEP 114
str4 += 'g'                                                            # STEP 115
bytes2 += 1                                                            # STEP 116
str1 = ""                                                              # STEP 117
str2 += 'a'                                                            # STEP 118
file0 = opener0(path1,'a')                                             # STEP 119
stat4 = os0.lstat(path4)                                               # STEP 120
str4 += 'o'                                                            # STEP 121
fd0 = os0.open(path4, os.O_RDWR)                                       # STEP 122
fd0 = os0.open(path4, os.O_CREAT | os.O_WRONLY | os.O_TRUNC | os.O_EXCL)  # STEP 123
stat1 = os0.stat(path4)                                                # STEP 124
str4 += 'd'                                                            # STEP 125
str2 += 's'                                                            # STEP 126
str1 += 'p'                                                            # STEP 127
os0.link(path4,path3)                                                  # STEP 128
str0 += 'e'                                                            # STEP 129
os0.symlink(path1,path4)                                               # STEP 130
str0 = ""                                                              # STEP 131
str3 = ""                                                              # STEP 132
result = os0.path.isabs(path1)                                         # STEP 133
os0.makedirs(path3)                                                    # STEP 134
os0.remove(path3)                                                      # STEP 135
str2 += 'r'                                                            # STEP 136
str4 += 's'                                                            # STEP 137
result = file0.readline(bytes2)                                        # STEP 138
file0.next()                                                           # STEP 139
str3 += 'k'                                                            # STEP 140
str1 += " "                                                            # STEP 141
str2 += 'g'                                                            # STEP 142
path4 += "/" + component0                                              # STEP 143
str0 += 't'                                                            # STEP 144
path3 += "/" + component2                                              # STEP 145
fd0 = os0.open(path4, os.O_RDWR)                                       # STEP 146
str0 += 'd'                                                            # STEP 147
str1 += 'b'                                                            # STEP 148
result = file0.readline(bytes2)                                        # STEP 149
result = stat0.st_size                                                 # STEP 150
component0 = "h"                                                       # STEP 151
str0 += 'q'                                                            # STEP 152
os0.remove(path4)                                                      # STEP 153
os0.makedirs(path4)                                                    # STEP 154
os0.link(path4,path1)                                                  # STEP 155
str4 += 't'                                                            # STEP 156
str3 = ""                                                              # STEP 157
str4 += 'h'                                                            # STEP 158
bytes2 += 1                                                            # STEP 159
os0.link(path3,path3)                                                  # STEP 160
bytes3 = 0                                                             # STEP 161
str4 += " "                                                            # STEP 162
os0.symlink(path1,path4)                                               # STEP 163
path3 += "/" + component4                                              # STEP 164
os0.link(path3,path1)                                                  # STEP 165
str4 += 'g'                                                            # STEP 166
str4 += 'd'                                                            # STEP 167
str1 += 'a'                                                            # STEP 168
str0 += 'y'                                                            # STEP 169
str1 += 't'                                                            # STEP 170
fd0 = os0.open(path3, os.O_CREAT | os.O_WRONLY | os.O_TRUNC | os.O_EXCL)  # STEP 171
str2 += 'i'                                                            # STEP 172
result = os0.path.exists(path1)                                        # STEP 173
bytes2 += 1                                                            # STEP 174
str3 += 'q'                                                            # STEP 175
str1 += 'b'                                                            # STEP 176
str0 += 'm'                                                            # STEP 177
str2 += 'h'                                                            # STEP 178
str0 += 'l'                                                            # STEP 179
str4 += 'd'                                                            # STEP 180
str0 += 'w'                                                            # STEP 181
component4 = "phi"                                                     # STEP 182
result = os0.path.abspath(path1)                                       # STEP 183
str3 += 't'                                                            # STEP 184
path3 += "/" + component3                                              # STEP 185
str3 += 'z'                                                            # STEP 186
os0.rename(path4,path1)                                                # STEP 187
path3 += "/" + component3                                              # STEP 188
os0.link(path1,path1)                                                  # STEP 189
stat2 = os0.stat(path3)                                                # STEP 190
result = os0.path.exists(path4)                                        # STEP 191
result = os0.path.abspath(path3)                                       # STEP 192
str3 += 'd'                                                            # STEP 193
file0.write(str0)                                                      # STEP 194
component2 = "lambda"                                                  # STEP 195
str2 += 'i'                                                            # STEP 196
os0.link(path4,path1)                                                  # STEP 197
path4 = "/Volumes/ramdisk/test"                                        # STEP 198
os0.symlink(path1,path3)                                               # STEP 199
str2 += 'j'                                                            # STEP 200
str0 += 't'                                                            # STEP 201
result = os0.path.lexists(path4)                                       # STEP 202
result = sorted(os0.listdir(path3))                                    # STEP 203
component3 = "epsilon"                                                 # STEP 204
fd0 = os0.open(path1, os.O_CREAT | os.O_WRONLY)                        # STEP 205
str1 += 'p'                                                            # STEP 206
str2 += 'f'                                                            # STEP 207
result = os0.readlink(path3)                                           # STEP 208
str4 += 'y'                                                            # STEP 209
result = os0.path.isabs(path1)                                         # STEP 210
os0.link(path4,path1)                                                  # STEP 211
os0.write(fd0,str2)                                                    # STEP 212
str0 += 'k'                                                            # STEP 213
str1 += 't'                                                            # STEP 214
bytes2 = 0                                                             # STEP 215
str3 += 'l'                                                            # STEP 216
str2 += 'y'                                                            # STEP 217
str2 += 'x'                                                            # STEP 218
path3 = "/Volumes/ramdisk/test"                                        # STEP 219
os0.link(path4,path1)                                                  # STEP 220
os0.removedirs(path1)                                                  # STEP 221
bytes3 += 1                                                            # STEP 222
result = file0.readline(bytes3)                                        # STEP 223
path3 += "/" + component0                                              # STEP 224
os0.link(path1,path1)                                                  # STEP 225
str0 += 'm'                                                            # STEP 226
file0.seek(bytes0)                                                     # STEP 227
stat2 = os0.lstat(path1)                                               # STEP 228
str1 += 'k'                                                            # STEP 229
result = file0.read(bytes3)                                            # STEP 230
str3 += 'h'                                                            # STEP 231
str2 += 'l'                                                            # STEP 232
str4 = ""                                                              # STEP 233
path4 += "/" + component4                                              # STEP 234
os0.symlink(path4,path4)                                               # STEP 235
str0 += 'n'                                                            # STEP 236
str4 += 'q'                                                            # STEP 237
os0.symlink(path1,path4)                                               # STEP 238
path3 += "/" + component4                                              # STEP 239
stat0 = os0.lstat(path1)                                               # STEP 240
path1 += "/" + component3                                              # STEP 241
str2 += 'x'                                                            # STEP 242
component0 = "a"                                                       # STEP 243
str2 += 'd'                                                            # STEP 244
os0.rename(path3,path4)                                                # STEP 245
str3 += 'd'                                                            # STEP 246
result = os0.path.abspath(path3)                                       # STEP 247
stat1 = os0.lstat(path1)                                               # STEP 248
path1 += "/" + component1                                              # STEP 249
str3 += 'i'                                                            # STEP 250
os0.link(path1,path1)                                                  # STEP 251
str2 += 'm'                                                            # STEP 252
str2 += 'c'                                                            # STEP 253
str1 += 'z'                                                            # STEP 254
str2 += 'x'                                                            # STEP 255
str0 += 'c'                                                            # STEP 256
component4 = "delta"                                                   # STEP 257
str2 += 'w'                                                            # STEP 258
str1 += 's'                                                            # STEP 259
result = os0.readlink(path1)                                           # STEP 260
str0 += 'g'                                                            # STEP 261
component1 = "c"                                                       # STEP 262
str3 += 'r'                                                            # STEP 263
path4 += "/" + component0                                              # STEP 264
path3 += "/" + component2                                              # STEP 265
component2 = "epsilon"                                                 # STEP 266
str1 = ""                                                              # STEP 267
component3 = "epsilon"                                                 # STEP 268
str3 += 'k'                                                            # STEP 269
result = stat2.st_size                                                 # STEP 270
ERROR: (<type 'exceptions.AssertionError'>, AssertionError(' (17) == (24) ',), <traceback object at 0x1052422d8>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 21881, in act459
    try: assert result == result_REF, " (%s) == (%s) " % (result, result_REF)
FAILURE 1
component4 = "omega"                                                     # STEP 0
component0 = "lambda"                                                    # STEP 1
component3 = "b"                                                         # STEP 2
str0 = ""                                                                # STEP 3
os0 = newFakeOS()                                                        # STEP 4
path4 = "/Volumes/ramdisk/test"                                          # STEP 5
component1 = "g"                                                         # STEP 6
result = os0.path.abspath(path4)                                         # STEP 7
os0.remove(path4)                                                        # STEP 8
os0.makedirs(path4)                                                      # STEP 9
str1 = ""                                                               # STEP 10
os0.link(path4,path4)                                                   # STEP 11
str0 += 'n'                                                             # STEP 12
component2 = "h"                                                        # STEP 13
os0.remove(path4)                                                       # STEP 14
str1 += 'd'                                                             # STEP 15
path1 = "/Volumes/ramdisk/test"                                         # STEP 16
path1 += "/" + component1                                               # STEP 17
os0.symlink(path1,path1)                                                # STEP 18
os0.symlink(path1,path4)                                                # STEP 19
path1 += "/" + component3                                               # STEP 20
component3 = "a"                                                        # STEP 21
str1 += 'e'                                                             # STEP 22
str1 += 'r'                                                             # STEP 23
str0 += 'm'                                                             # STEP 24
stat0 = os0.lstat(path1)                                                # STEP 25
str1 += 'a'                                                             # STEP 26
stat1 = os0.stat(path1)                                                 # STEP 27
os0.link(path1,path4)                                                   # STEP 28
component1 = "lambda"                                                   # STEP 29
stat4 = os0.stat(path1)                                                 # STEP 30
str1 += 't'                                                             # STEP 31
os0.link(path1,path4)                                                   # STEP 32
result = os0.path.dirname(path4)                                        # STEP 33
result = os0.path.isabs(path1)                                          # STEP 34
path1 += "/" + component4                                               # STEP 35
os0.makedirs(path1)                                                     # STEP 36
fd0 = os0.open(path1, os.O_CREAT)                                       # STEP 37
str2 = ""                                                               # STEP 38
component4 = "b"                                                        # STEP 39
os0.remove(path1)                                                       # STEP 40
str2 += 'w'                                                             # STEP 41
os0.symlink(path4,path4)                                                # STEP 42
str0 += 'h'                                                             # STEP 43
str0 += 'j'                                                             # STEP 44
str1 += 'i'                                                             # STEP 45
path4 += "/" + component4                                               # STEP 46
str1 += 's'                                                             # STEP 47
str2 += 'a'                                                             # STEP 48
os0.rmdir(path1)                                                        # STEP 49
result = os0.path.islink(path4)                                         # STEP 50
path1 = "/Volumes/ramdisk/test"                                         # STEP 51
bytes2 = 0                                                              # STEP 52
str2 += 'o'                                                             # STEP 53
str0 += 'p'                                                             # STEP 54
str0 += 'v'                                                             # STEP 55
component4 = "g"                                                        # STEP 56
str2 += 'e'                                                             # STEP 57
result = os0.path.dirname(path1)                                        # STEP 58
str0 += 'w'                                                             # STEP 59
result = sorted(os0.listdir(path1))                                     # STEP 60
str0 += 'i'                                                             # STEP 61
str0 = ""                                                               # STEP 62
path1 += "/" + component0                                               # STEP 63
fd0 = os0.open(path4, os.O_WRONLY | os.O_APPEND)                        # STEP 64
component0 = "phi"                                                      # STEP 65
str2 += 'i'                                                             # STEP 66
bytes0 = 0                                                              # STEP 67
path3 = "/Volumes/ramdisk/test"                                         # STEP 68
str0 += 'm'                                                             # STEP 69
opener0 = newFakeOpener(os0)                                            # STEP 70
str2 += 'j'                                                             # STEP 71
str1 += 'a'                                                             # STEP 72
str0 += 'h'                                                             # STEP 73
str1 += 'n'                                                             # STEP 74
str2 += 'a'                                                             # STEP 75
result = os0.path.exists(path1)                                         # STEP 76
str4 = ""                                                               # STEP 77
os0.link(path3,path1)                                                   # STEP 78
str0 += 'o'                                                             # STEP 79
str1 += 'o'                                                             # STEP 80
result = os0.readlink(path4)                                            # STEP 81
path4 += "/" + component2                                               # STEP 82
str4 += 'y'                                                             # STEP 83
component2 = "omega"                                                    # STEP 84
os0.mkdir(path3)                                                        # STEP 85
str2 += 'e'                                                             # STEP 86
result = os0.path.islink(path3)                                         # STEP 87
str1 += 'b'                                                             # STEP 88
fd0 = os0.open(path4, os.O_CREAT | os.O_WRONLY)                         # STEP 89
os0.remove(path3)                                                       # STEP 90
stat1 = os0.stat(path1)                                                 # STEP 91
fd0 = os0.open(path4, os.O_RDWR)                                        # STEP 92
str1 += 'y'                                                             # STEP 93
str0 += 'm'                                                             # STEP 94
str0 = ""                                                               # STEP 95
fd0 = os0.open(path1, os.O_RDONLY)                                      # STEP 96
str4 += 'g'                                                             # STEP 97
bytes2 += 1                                                             # STEP 98
str1 = ""                                                               # STEP 99
str2 += 'a'                                                            # STEP 100
file0 = opener0(path1,'a')                                             # STEP 101
stat4 = os0.lstat(path4)                                               # STEP 102
str4 += 'o'                                                            # STEP 103
fd0 = os0.open(path4, os.O_RDWR)                                       # STEP 104
fd0 = os0.open(path4, os.O_CREAT | os.O_WRONLY | os.O_TRUNC | os.O_EXCL)  # STEP 105
stat1 = os0.stat(path4)                                                # STEP 106
str4 += 'd'                                                            # STEP 107
str2 += 's'                                                            # STEP 108
str1 += 'p'                                                            # STEP 109
os0.link(path4,path3)                                                  # STEP 110
str0 += 'e'                                                            # STEP 111
os0.symlink(path1,path4)                                               # STEP 112
str0 = ""                                                              # STEP 113
str3 = ""                                                              # STEP 114
result = os0.path.isabs(path1)                                         # STEP 115
os0.makedirs(path3)                                                    # STEP 116
os0.remove(path3)                                                      # STEP 117
str2 += 'r'                                                            # STEP 118
str4 += 's'                                                            # STEP 119
result = file0.readline(bytes2)                                        # STEP 120
file0.next()                                                           # STEP 121
result = os0.path.lexists(path4)                                       # STEP 122
bytes3 = 0                                                             # STEP 123
fd0 = os0.open(path1, os.O_CREAT)                                      # STEP 124
path4 = "/Volumes/ramdisk/test"                                        # STEP 125
path1 += "/" + component3                                              # STEP 126
stat2 = os0.stat(path1)                                                # STEP 127
str0 += 'h'                                                            # STEP 128
os0.symlink(path1,path3)                                               # STEP 129
str4 += 'd'                                                            # STEP 130
os0.write(fd0,str3)                                                    # STEP 131
str0 += 'e'                                                            # STEP 132
str4 += 'e'                                                            # STEP 133
str3 += 'u'                                                            # STEP 134
component3 = "delta"                                                   # STEP 135
str0 += 'v'                                                            # STEP 136
path4 += "/" + component4                                              # STEP 137
result = os0.path.exists(path1)                                        # STEP 138
path1 += "/" + component2                                              # STEP 139
str0 += 'l'                                                            # STEP 140
str1 += 'z'                                                            # STEP 141
str2 += 'b'                                                            # STEP 142
str2 += 's'                                                            # STEP 143
stat1 = os0.lstat(path4)                                               # STEP 144
file0.write(str3)                                                      # STEP 145
component2 = "c"                                                       # STEP 146
str0 += 'w'                                                            # STEP 147
str2 += 'v'                                                            # STEP 148
result = os0.path.exists(path3)                                        # STEP 149
str0 += 'i'                                                            # STEP 150
os0.write(fd0,str1)                                                    # STEP 151
str1 += 'n'                                                            # STEP 152
result = file0.readline(bytes3)                                        # STEP 153
path4 += "/" + component0                                              # STEP 154
str4 += 'e'                                                            # STEP 155
os0.rmdir(path4)                                                       # STEP 156
result = os0.readlink(path1)                                           # STEP 157
str4 += 'x'                                                            # STEP 158
file0.seek(bytes2)                                                     # STEP 159
component4 = "gamma"                                                   # STEP 160
str0 += 'j'                                                            # STEP 161
str1 += 'v'                                                            # STEP 162
str3 += 'z'                                                            # STEP 163
component0 = "omega"                                                   # STEP 164
os0.close(fd0)                                                         # STEP 165
str1 += 'x'                                                            # STEP 166
result = file0.readline(bytes0)                                        # STEP 167
os0.mkdir(path4)                                                       # STEP 168
str1 += 'k'                                                            # STEP 169
str1 += 'h'                                                            # STEP 170
result = os0.readlink(path4)                                           # STEP 171
path4 += "/" + component4                                              # STEP 172
result = os0.path.isfile(path4)                                        # STEP 173
str3 += 'r'                                                            # STEP 174
str2 += 'n'                                                            # STEP 175
str1 += 'x'                                                            # STEP 176
str4 += 'c'                                                            # STEP 177
stat2 = os0.lstat(path4)                                               # STEP 178
path1 += "/" + component4                                              # STEP 179
result = os0.path.lexists(path3)                                       # STEP 180
fd0 = os0.open(path1, os.O_CREAT | os.O_EXCL)                          # STEP 181
result = os0.readlink(path3)                                           # STEP 182
path1 += "/" + component4                                              # STEP 183
os0.rename(path1,path4)                                                # STEP 184
os0.write(fd0,str0)                                                    # STEP 185
result = os0.path.isfile(path3)                                        # STEP 186
str3 += 'r'                                                            # STEP 187
component4 = "a"                                                       # STEP 188
file0.seek(bytes2)                                                     # STEP 189
str2 += 'e'                                                            # STEP 190
str4 += 'b'                                                            # STEP 191
stat4 = os0.stat(path1)                                                # STEP 192
result = sorted(os0.listdir(path4))                                    # STEP 193
os0.symlink(path1,path3)                                               # STEP 194
os0.symlink(path4,path4)                                               # STEP 195
bytes2 = 0                                                             # STEP 196
file0.write(str1)                                                      # STEP 197
result = os0.path.abspath(path3)                                       # STEP 198
path1 = "/Volumes/ramdisk/test"                                        # STEP 199
str4 += 'v'                                                            # STEP 200
bytes3 = 0                                                             # STEP 201
os0.remove(path1)                                                      # STEP 202
str2 += 'n'                                                            # STEP 203
os0.link(path1,path4)                                                  # STEP 204
result = file0.readline(bytes3)                                        # STEP 205
str1 += 'u'                                                            # STEP 206
str2 += 'q'                                                            # STEP 207
path2 = "/Volumes/ramdisk/test"                                        # STEP 208
os0.symlink(path3,path1)                                               # STEP 209
str3 += 'g'                                                            # STEP 210
str0 += 'u'                                                            # STEP 211
str0 += 't'                                                            # STEP 212
str1 += 'y'                                                            # STEP 213
result = os0.path.isdir(path2)                                         # STEP 214
os0.symlink(path4,path1)                                               # STEP 215
str3 += 'r'                                                            # STEP 216
str1 += 'g'                                                            # STEP 217
result = os0.path.abspath(path1)                                       # STEP 218
str1 += 'r'                                                            # STEP 219
str3 += 'u'                                                            # STEP 220
str0 += 'g'                                                            # STEP 221
str1 = ""                                                              # STEP 222
str4 = ""                                                              # STEP 223
str2 += 'm'                                                            # STEP 224
bytes0 += 1                                                            # STEP 225
result = os0.path.dirname(path4)                                       # STEP 226
str3 += 'c'                                                            # STEP 227
str4 += 'a'                                                            # STEP 228
file0.write(str4)                                                      # STEP 229
str0 += 'm'                                                            # STEP 230
str1 += 'k'                                                            # STEP 231
result = os0.path.exists(path3)                                        # STEP 232
os0.link(path1,path4)                                                  # STEP 233
str3 += 'o'                                                            # STEP 234
str1 += 'e'                                                            # STEP 235
result = os0.path.lexists(path1)                                       # STEP 236
os0.link(path1,path4)                                                  # STEP 237
result = os0.path.isfile(path3)                                        # STEP 238
result = sorted(os0.listdir(path1))                                    # STEP 239
str1 += 'x'                                                            # STEP 240
str1 += 'm'                                                            # STEP 241
result = os0.readlink(path3)                                           # STEP 242
file0.truncate()                                                       # STEP 243
result = os0.path.isdir(path1)                                         # STEP 244
str3 += 'i'                                                            # STEP 245
stat4 = os0.lstat(path4)                                               # STEP 246
path3 += "/" + component1                                              # STEP 247
str4 += 'v'                                                            # STEP 248
os0.link(path4,path1)                                                  # STEP 249
file0.write(str1)                                                      # STEP 250
str3 += 'x'                                                            # STEP 251
component1 = "b"                                                       # STEP 252
str0 += 'p'                                                            # STEP 253
str2 += 'e'                                                            # STEP 254
str3 += 'y'                                                            # STEP 255
str3 += 'e'                                                            # STEP 256
os0.rmdir(path3)                                                       # STEP 257
result = file0.read(bytes2)                                            # STEP 258
str0 += 'a'                                                            # STEP 259
result = os0.path.islink(path1)                                        # STEP 260
os0.rename(path3,path4)                                                # STEP 261
file0.next()                                                           # STEP 262
str3 += " "                                                            # STEP 263
str3 += 'h'                                                            # STEP 264
result = sorted(os0.listdir(path2))                                    # STEP 265
str4 += 'v'                                                            # STEP 266
bytes2 = 0                                                             # STEP 267
result = os0.path.abspath(path1)                                       # STEP 268
stat2 = os0.fstat(fd0)                                                 # STEP 269
result = os0.readlink(path1)                                           # STEP 270
str0 += 'z'                                                            # STEP 271
os0.symlink(path1,path1)                                               # STEP 272
str0 += 'z'                                                            # STEP 273
str1 += 'u'                                                            # STEP 274
stat3 = os0.stat(path3)                                                # STEP 275
str3 += 'p'                                                            # STEP 276
str3 += 'm'                                                            # STEP 277
result = stat3.st_nlink                                                # STEP 278
os0.mkdir(path4)                                                       # STEP 279
str4 += 'm'                                                            # STEP 280
file0.write(str0)                                                      # STEP 281
path2 += "/" + component0                                              # STEP 282
str0 = ""                                                              # STEP 283
os0.rename(path2,path4)                                                # STEP 284
str3 += 'm'                                                            # STEP 285
str3 += 'a'                                                            # STEP 286
result = os0.path.lexists(path1)                                       # STEP 287
os0.remove(path4)                                                      # STEP 288
bytes1 = 0                                                             # STEP 289
stat3 = os0.stat(path4)                                                # STEP 290
str3 += 'n'                                                            # STEP 291
result = os0.path.islink(path4)                                        # STEP 292
os0.symlink(path1,path2)                                               # STEP 293
component0 = "e"                                                       # STEP 294
bytes3 = 0                                                             # STEP 295
result = file0.readline(bytes2)                                        # STEP 296
result = stat1.st_size                                                 # STEP 297
path2 += "/" + component4                                              # STEP 298
str3 += 'j'                                                            # STEP 299
str3 += 's'                                                            # STEP 300
result = os0.path.lexists(path4)                                       # STEP 301
os0.rename(path2,path1)                                                # STEP 302
str4 += 'h'                                                            # STEP 303
result = os0.readlink(path2)                                           # STEP 304
stat0 = os0.lstat(path2)                                               # STEP 305
str4 += 'n'                                                            # STEP 306
result = os0.path.isabs(path2)                                         # STEP 307
component4 = "gamma"                                                   # STEP 308
stat0 = os0.lstat(path4)                                               # STEP 309
result = file0.readline(bytes2)                                        # STEP 310
stat4 = os0.stat(path4)                                                # STEP 311
result = stat3.st_size                                                 # STEP 312
ERROR: (<type 'exceptions.AssertionError'>, AssertionError(' (14) == (10) ',), <traceback object at 0x1026ae518>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 21936, in act460
    try: assert result == result_REF, " (%s) == (%s) " % (result, result_REF)
FAILURE 2
path2 = "/Volumes/ramdisk/test"                                          # STEP 0
os0 = newFakeOS()                                                        # STEP 1
component1 = "phi"                                                       # STEP 2
str2 = ""                                                                # STEP 3
str2 += 'p'                                                              # STEP 4
component3 = "h"                                                         # STEP 5
str2 += 'd'                                                              # STEP 6
component2 = "delta"                                                     # STEP 7
component0 = "c"                                                         # STEP 8
result = os0.path.abspath(path2)                                         # STEP 9
component4 = "omega"                                                    # STEP 10
str2 += 'b'                                                             # STEP 11
str0 = ""                                                               # STEP 12
str2 += 't'                                                             # STEP 13
str0 += 'b'                                                             # STEP 14
str2 += 'v'                                                             # STEP 15
str2 += 'b'                                                             # STEP 16
bytes3 = 0                                                              # STEP 17
str0 += 'a'                                                             # STEP 18
path2 = "/Volumes/ramdisk/test"                                         # STEP 19
str2 += 'd'                                                             # STEP 20
str0 += 'k'                                                             # STEP 21
path2 += "/" + component2                                               # STEP 22
str0 += 'k'                                                             # STEP 23
str0 += 'g'                                                             # STEP 24
str2 += 's'                                                             # STEP 25
opener0 = newFakeOpener(os0)                                            # STEP 26
os0.makedirs(path2)                                                     # STEP 27
str2 += 'o'                                                             # STEP 28
path2 += "/" + component2                                               # STEP 29
str2 += 'y'                                                             # STEP 30
str2 += 'i'                                                             # STEP 31
str0 += 'z'                                                             # STEP 32
stat3 = os0.stat(path2)                                                 # STEP 33
str2 += 'g'                                                             # STEP 34
str0 += 'a'                                                             # STEP 35
path1 = "/Volumes/ramdisk/test"                                         # STEP 36
fd0 = os0.open(path2, os.O_WRONLY | os.O_APPEND)                        # STEP 37
component2 = "beta"                                                     # STEP 38
result = os0.path.isdir(path2)                                          # STEP 39
path4 = "/Volumes/ramdisk/test"                                         # STEP 40
str0 += 'h'                                                             # STEP 41
str0 += 'j'                                                             # STEP 42
path0 = "/Volumes/ramdisk/test"                                         # STEP 43
os0.link(path2,path0)                                                   # STEP 44
bytes3 += 1                                                             # STEP 45
path2 += "/" + component1                                               # STEP 46
result = os0.readlink(path0)                                            # STEP 47
result = os0.path.isabs(path1)                                          # STEP 48
path1 += "/" + component0                                               # STEP 49
os0.symlink(path1,path4)                                                # STEP 50
component1 = "gamma"                                                    # STEP 51
os0.link(path4,path4)                                                   # STEP 52
stat2 = os0.lstat(path1)                                                # STEP 53
component0 = "epsilon"                                                  # STEP 54
os0.symlink(path0,path1)                                                # STEP 55
path0 = "/Volumes/ramdisk/test"                                         # STEP 56
fd0 = os0.open(path2, os.O_RDWR)                                        # STEP 57
os0.link(path4,path1)                                                   # STEP 58
stat4 = os0.lstat(path2)                                                # STEP 59
os0.rename(path1,path2)                                                 # STEP 60
file0 = opener0(path1,'w')                                              # STEP 61
os0.symlink(path2,path4)                                                # STEP 62
path4 += "/" + component0                                               # STEP 63
result = os0.readlink(path0)                                            # STEP 64
path4 += "/" + component0                                               # STEP 65
result = os0.path.abspath(path1)                                        # STEP 66
stat1 = os0.lstat(path1)                                                # STEP 67
stat0 = os0.stat(path2)                                                 # STEP 68
result = os0.path.islink(path4)                                         # STEP 69
str0 += 'o'                                                             # STEP 70
result = os0.path.lexists(path4)                                        # STEP 71
stat3 = os0.stat(path4)                                                 # STEP 72
path0 += "/" + component4                                               # STEP 73
os0.rmdir(path2)                                                        # STEP 74
os0.symlink(path4,path0)                                                # STEP 75
bytes4 = 0                                                              # STEP 76
component0 = "delta"                                                    # STEP 77
result = os0.path.lexists(path1)                                        # STEP 78
str0 += 'm'                                                             # STEP 79
str2 += 'w'                                                             # STEP 80
os0.link(path0,path2)                                                   # STEP 81
str2 += 's'                                                             # STEP 82
path0 += "/" + component0                                               # STEP 83
os0.makedirs(path0)                                                     # STEP 84
component4 = "d"                                                        # STEP 85
str2 += 'z'                                                             # STEP 86
str0 += 'y'                                                             # STEP 87
stat0 = os0.stat(path2)                                                 # STEP 88
os0.makedirs(path4)                                                     # STEP 89
result = os0.path.islink(path2)                                         # STEP 90
path1 += "/" + component2                                               # STEP 91
result = os0.path.abspath(path2)                                        # STEP 92
result = os0.path.abspath(path0)                                        # STEP 93
os0.symlink(path4,path1)                                                # STEP 94
path1 += "/" + component1                                               # STEP 95
result = os0.path.abspath(path4)                                        # STEP 96
str2 += 'a'                                                             # STEP 97
os0.rename(path4,path0)                                                 # STEP 98
path2 = "/Volumes/ramdisk/test"                                         # STEP 99
component2 = "phi"                                                     # STEP 100
str0 += 'd'                                                            # STEP 101
component1 = "phi"                                                     # STEP 102
result = os0.path.abspath(path1)                                       # STEP 103
os0.rename(path1,path2)                                                # STEP 104
str2 += 'g'                                                            # STEP 105
os0.remove(path4)                                                      # STEP 106
component0 = "f"                                                       # STEP 107
os0.symlink(path2,path2)                                               # STEP 108
stat0 = os0.stat(path4)                                                # STEP 109
result = os0.path.isabs(path1)                                         # STEP 110
os0.rename(path0,path1)                                                # STEP 111
str0 += 'x'                                                            # STEP 112
os0.link(path0,path0)                                                  # STEP 113
str0 += 's'                                                            # STEP 114
str0 += 'y'                                                            # STEP 115
os0.link(path4,path1)                                                  # STEP 116
stat2 = os0.stat(path1)                                                # STEP 117
result = os0.path.dirname(path2)                                       # STEP 118
path0 += "/" + component3                                              # STEP 119
str2 += 's'                                                            # STEP 120
os0.rename(path4,path1)                                                # STEP 121
os0.link(path4,path0)                                                  # STEP 122
str0 += 'j'                                                            # STEP 123
path0 += "/" + component2                                              # STEP 124
str2 += 'u'                                                            # STEP 125
os0.removedirs(path1)                                                  # STEP 126
stat4 = os0.stat(path0)                                                # STEP 127
os0.path.getsize(path0)                                                # STEP 128
result = stat1.st_size                                                 # STEP 129
result = os0.readlink(path1)                                           # STEP 130
str2 += 'j'                                                            # STEP 131
str2 += 'r'                                                            # STEP 132
stat2 = os0.lstat(path0)                                               # STEP 133
str0 += 'q'                                                            # STEP 134
os0.mkdir(path0)                                                       # STEP 135
result = os0.path.islink(path0)                                        # STEP 136
stat1 = os0.stat(path0)                                                # STEP 137
result = os0.path.isdir(path4)                                         # STEP 138
os0.symlink(path2,path2)                                               # STEP 139
str0 += 'r'                                                            # STEP 140
path2 += "/" + component0                                              # STEP 141
os0.link(path4,path2)                                                  # STEP 142
component3 = "c"                                                       # STEP 143
os0.rename(path1,path4)                                                # STEP 144
str0 += 'j'                                                            # STEP 145
os0.mkdir(path2)                                                       # STEP 146
stat2 = os0.lstat(path4)                                               # STEP 147
os0.link(path4,path4)                                                  # STEP 148
os0.link(path0,path4)                                                  # STEP 149
os0.rename(path4,path2)                                                # STEP 150
stat3 = os0.lstat(path0)                                               # STEP 151
os0.link(path0,path1)                                                  # STEP 152
component0 = "gamma"                                                   # STEP 153
str0 += 'j'                                                            # STEP 154
path1 += "/" + component1                                              # STEP 155
component1 = "d"                                                       # STEP 156
str0 += 'c'                                                            # STEP 157
str2 += 'k'                                                            # STEP 158
os0.symlink(path2,path0)                                               # STEP 159
os0.link(path2,path1)                                                  # STEP 160
path2 += "/" + component1                                              # STEP 161
os0.link(path2,path0)                                                  # STEP 162
str0 += 'i'                                                            # STEP 163
component1 = "gamma"                                                   # STEP 164
path4 += "/" + component0                                              # STEP 165
os0.link(path4,path2)                                                  # STEP 166
path4 = "/Volumes/ramdisk/test"                                        # STEP 167
result = os0.path.islink(path4)                                        # STEP 168
result = os0.readlink(path2)                                           # STEP 169
str2 += 'r'                                                            # STEP 170
result = os0.path.dirname(path0)                                       # STEP 171
path4 += "/" + component0                                              # STEP 172
os0.symlink(path4,path0)                                               # STEP 173
str2 += 'v'                                                            # STEP 174
file0 = opener0(path4,'a')                                             # STEP 175
str2 += 'p'                                                            # STEP 176
os0.rename(path4,path2)                                                # STEP 177
fd0 = os0.open(path1, os.O_RDWR)                                       # STEP 178
str2 += 'b'                                                            # STEP 179
component0 = "c"                                                       # STEP 180
os0.symlink(path4,path0)                                               # STEP 181
str2 += 'c'                                                            # STEP 182
stat3 = os0.lstat(path0)                                               # STEP 183
path4 += "/" + component0                                              # STEP 184
fd0 = os0.open(path1, os.O_CREAT)                                      # STEP 185
component0 = "lambda"                                                  # STEP 186
str0 += 'h'                                                            # STEP 187
os0.symlink(path1,path1)                                               # STEP 188
stat3 = os0.stat(path2)                                                # STEP 189
stat4 = os0.lstat(path1)                                               # STEP 190
os0.symlink(path4,path0)                                               # STEP 191
result = os0.path.dirname(path4)                                       # STEP 192
file0.write(str0)                                                      # STEP 193
str2 += 'k'                                                            # STEP 194
bytes3 += 1                                                            # STEP 195
result = os0.path.abspath(path1)                                       # STEP 196
stat4 = os0.stat(path2)                                                # STEP 197
str2 += 'a'                                                            # STEP 198
os0.symlink(path2,path4)                                               # STEP 199
str0 += 'p'                                                            # STEP 200
str2 += 't'                                                            # STEP 201
fd0 = os0.open(path0, os.O_RDWR)                                       # STEP 202
os0.link(path0,path4)                                                  # STEP 203
os0.link(path0,path2)                                                  # STEP 204
component2 = "g"                                                       # STEP 205
fd0 = os0.open(path0, os.O_RDWR)                                       # STEP 206
result = os0.path.isabs(path1)                                         # STEP 207
file0.seek(bytes3)                                                     # STEP 208
str0 += 'm'                                                            # STEP 209
str0 += 'g'                                                            # STEP 210
path0 = "/Volumes/ramdisk/test"                                        # STEP 211
result = stat4.st_size                                                 # STEP 212
ERROR: (<type 'exceptions.AssertionError'>, AssertionError(' (24) == (0) ',), <traceback object at 0x109ca1b48>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 21991, in act461
    try: assert result == result_REF, " (%s) == (%s) " % (result, result_REF)
1184 BRANCHES COVERED
907 STATEMENTS COVERED
