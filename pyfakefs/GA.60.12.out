Random testing using config=Config(swarmSwitch=None, verbose=False, reducePool=False, failedLogging=None, exploitBestHint=1, greedyStutter=False, internal=False, exploit=0.8, seed=None, generalize=False, useHints=False, localize=False, total=False, speed='FAST', probs=None, normalize=False, verboseExploit=False, highLowSwarm=None, replayable=False, essentials=False, noCoverageExploit=False, quickTests=False, relax=False, enumerateEnabled=False, uniqueValuesAnalysis=False, swarm=False, noReassign=False, html=None, fastQuickAnalysis=False, progress=False, swarmLength=None, noSwarmDependencies=False, profile=False, LOCBaseline=0.2, noEnumerateEnabled=False, full=True, multiple=True, timedProgress=30, silentFail=True, stopWhenStatements=None, swarmP=0.5, stopWhenBranches=None, noAlphaConvert=False, coverFile='coverage.out', readQuick=False, verboseActions=False, running=False, computeFeatureStats=False, compareFails=False, swarmProbs=None, output='failure.4180.test', genDepth=None, Pcrossover=0.2, quickAnalysis=False, keepLast=False, exploitCeiling=0.1, logging=None, LOCProbs=False, noCheck=False, maxTests=-1, noExceptionMatch=False, Pmutate=0.8, depth=100, showActions=False, throughput=False, noCover=False, timeout=60, stutter=None, uncaught=False, markov=None, startExploit=0)
UNCAUGHT EXCEPTION
ERROR: (<type 'exceptions.OSError'>, OSError(9, 'File is not open for reading.'), <traceback object at 0x10a8789e0>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 28999, in act575
    result = self.p_file[0].readlines()
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4284, in read_error
    self._raise('File is not open for reading.')
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4112, in _raise
    raise OSError(errno.EBADF, message)
Original test has 471 steps

SAVING TEST AS failure.4180.test.0
FINAL VERSION OF TEST, WITH LOGGED REPLAY:
component4 = "e"                                                         # STEP 0
component2 = "h"                                                         # STEP 1
component1 = "a"                                                         # STEP 2
component3 = "alpha"                                                     # STEP 3
str1 = ""                                                                # STEP 4
component0 = "alpha"                                                     # STEP 5
str1 += 'd'                                                              # STEP 6
str3 = ""                                                                # STEP 7
str3 += " "                                                              # STEP 8
str3 += 'i'                                                              # STEP 9
str1 += 'v'                                                             # STEP 10
path1 = "/Volumes/ramdisk/test"                                         # STEP 11
str1 += 'f'                                                             # STEP 12
str1 += 'v'                                                             # STEP 13
str3 += 'e'                                                             # STEP 14
str1 += 'u'                                                             # STEP 15
path1 += "/" + component4                                               # STEP 16
component4 = "lambda"                                                   # STEP 17
str3 += 'z'                                                             # STEP 18
path1 += "/" + component2                                               # STEP 19
os0 = newFakeOS()                                                       # STEP 20
str1 += 't'                                                             # STEP 21
result = os0.path.isabs(path1)                                          # STEP 22
str1 = ""                                                               # STEP 23
str1 += 'k'                                                             # STEP 24
result = os0.path.exists(path1)                                         # STEP 25
str1 += 'k'                                                             # STEP 26
result = os0.path.exists(path1)                                         # STEP 27
component2 = "alpha"                                                    # STEP 28
fd0 = os0.open(path1, os.O_CREAT | os.O_WRONLY)                         # STEP 29
str1 += 'f'                                                             # STEP 30
str4 = ""                                                               # STEP 31
str1 += 'z'                                                             # STEP 32
path1 += "/" + component3                                               # STEP 33
str1 += 'j'                                                             # STEP 34
str3 += 't'                                                             # STEP 35
str3 += 'o'                                                             # STEP 36
path2 = "/Volumes/ramdisk/test"                                         # STEP 37
str3 += 'z'                                                             # STEP 38
component3 = "gamma"                                                    # STEP 39
stat0 = os0.lstat(path1)                                                # STEP 40
str4 += 'm'                                                             # STEP 41
str3 += 'z'                                                             # STEP 42
str1 += 'x'                                                             # STEP 43
result = os0.path.islink(path1)                                         # STEP 44
str3 += 'l'                                                             # STEP 45
os0.link(path1,path2)                                                   # STEP 46
str3 += 'c'                                                             # STEP 47
str1 += 's'                                                             # STEP 48
stat0 = os0.stat(path1)                                                 # STEP 49
result = os0.path.abspath(path1)                                        # STEP 50
path1 += "/" + component2                                               # STEP 51
str3 += 'v'                                                             # STEP 52
str1 += " "                                                             # STEP 53
str1 += 'y'                                                             # STEP 54
bytes0 = 0                                                              # STEP 55
str4 += 'q'                                                             # STEP 56
str1 += 'c'                                                             # STEP 57
os0.link(path1,path1)                                                   # STEP 58
str4 += 'r'                                                             # STEP 59
os0.remove(path1)                                                       # STEP 60
stat1 = os0.lstat(path1)                                                # STEP 61
os0.makedirs(path1)                                                     # STEP 62
bytes2 = 0                                                              # STEP 63
str4 += 'q'                                                             # STEP 64
str3 += 'g'                                                             # STEP 65
os0.mkdir(path1)                                                        # STEP 66
str4 = ""                                                               # STEP 67
str3 += 'k'                                                             # STEP 68
str3 += 'l'                                                             # STEP 69
result = os0.path.isdir(path1)                                          # STEP 70
str3 += 'q'                                                             # STEP 71
os0.link(path1,path1)                                                   # STEP 72
result = os0.path.isfile(path2)                                         # STEP 73
stat0 = os0.lstat(path1)                                                # STEP 74
path2 += "/" + component0                                               # STEP 75
os0.mkdir(path2)                                                        # STEP 76
stat2 = os0.stat(path1)                                                 # STEP 77
os0.removedirs(path2)                                                   # STEP 78
stat3 = os0.lstat(path2)                                                # STEP 79
str2 = ""                                                               # STEP 80
result = os0.path.abspath(path1)                                        # STEP 81
fd0 = os0.open(path2, os.O_CREAT | os.O_WRONLY | os.O_TRUNC | os.O_EXCL)  # STEP 82
str3 += 'f'                                                             # STEP 83
str2 += 'w'                                                             # STEP 84
component0 = "a"                                                        # STEP 85
component2 = "omega"                                                    # STEP 86
str1 += 'd'                                                             # STEP 87
str2 += 'l'                                                             # STEP 88
str3 += 'h'                                                             # STEP 89
str4 += 't'                                                             # STEP 90
result = os0.path.lexists(path1)                                        # STEP 91
str2 += 'd'                                                             # STEP 92
path1 = "/Volumes/ramdisk/test"                                         # STEP 93
bytes4 = 0                                                              # STEP 94
os0.close(fd0)                                                          # STEP 95
str3 += 'v'                                                             # STEP 96
os0.symlink(path1,path2)                                                # STEP 97
fd0 = os0.open(path2, os.O_WRONLY | os.O_APPEND)                        # STEP 98
path0 = "/Volumes/ramdisk/test"                                         # STEP 99
str2 += 'l'                                                            # STEP 100
str2 += 'k'                                                            # STEP 101
str3 += 'f'                                                            # STEP 102
str3 += 'x'                                                            # STEP 103
os0.link(path2,path1)                                                  # STEP 104
result = os0.path.exists(path2)                                        # STEP 105
str3 += 's'                                                            # STEP 106
str3 += 'y'                                                            # STEP 107
str3 += " "                                                            # STEP 108
str1 += 'x'                                                            # STEP 109
str1 += 'h'                                                            # STEP 110
os0.mkdir(path1)                                                       # STEP 111
result = os0.path.isfile(path0)                                        # STEP 112
str4 += 'n'                                                            # STEP 113
os0.rmdir(path2)                                                       # STEP 114
str3 += 'r'                                                            # STEP 115
os0.symlink(path0,path2)                                               # STEP 116
result = os0.path.exists(path0)                                        # STEP 117
str2 += 'x'                                                            # STEP 118
str2 += 'w'                                                            # STEP 119
str1 += 'q'                                                            # STEP 120
result = os0.path.abspath(path2)                                       # STEP 121
str4 += 'z'                                                            # STEP 122
str1 += 'o'                                                            # STEP 123
path2 += "/" + component2                                              # STEP 124
stat3 = os0.fstat(fd0)                                                 # STEP 125
str1 += 'w'                                                            # STEP 126
result = os0.path.isdir(path2)                                         # STEP 127
str4 += 'u'                                                            # STEP 128
str3 += 'f'                                                            # STEP 129
str2 += 'w'                                                            # STEP 130
component2 = "omega"                                                   # STEP 131
str1 += 'd'                                                            # STEP 132
str2 += 'l'                                                            # STEP 133
str3 += 'h'                                                            # STEP 134
str4 += 't'                                                            # STEP 135
result = os0.path.lexists(path1)                                       # STEP 136
str2 += 'd'                                                            # STEP 137
path1 = "/Volumes/ramdisk/test"                                        # STEP 138
os0.close(fd0)                                                         # STEP 139
str3 += 'v'                                                            # STEP 140
os0.symlink(path1,path2)                                               # STEP 141
fd0 = os0.open(path2, os.O_WRONLY | os.O_APPEND)                       # STEP 142
path0 = "/Volumes/ramdisk/test"                                        # STEP 143
str2 += 'l'                                                            # STEP 144
str2 += 'k'                                                            # STEP 145
str3 += 'f'                                                            # STEP 146
str3 += 'x'                                                            # STEP 147
os0.link(path2,path1)                                                  # STEP 148
result = os0.path.exists(path2)                                        # STEP 149
str3 += 's'                                                            # STEP 150
str3 += 'y'                                                            # STEP 151
str1 += 'x'                                                            # STEP 152
str1 += 'h'                                                            # STEP 153
os0.mkdir(path1)                                                       # STEP 154
result = os0.path.isfile(path0)                                        # STEP 155
str4 += 'n'                                                            # STEP 156
os0.rmdir(path2)                                                       # STEP 157
str3 += 'r'                                                            # STEP 158
os0.symlink(path0,path2)                                               # STEP 159
result = os0.path.exists(path0)                                        # STEP 160
str2 += 'x'                                                            # STEP 161
str2 += 'w'                                                            # STEP 162
str1 += 'q'                                                            # STEP 163
result = os0.path.abspath(path2)                                       # STEP 164
str4 += 'z'                                                            # STEP 165
str1 += 'o'                                                            # STEP 166
path2 += "/" + component2                                              # STEP 167
str1 += 'g'                                                            # STEP 168
str1 += 'w'                                                            # STEP 169
result = os0.path.isdir(path2)                                         # STEP 170
str4 += 'u'                                                            # STEP 171
str4 += 't'                                                            # STEP 172
path1 += "/" + component0                                              # STEP 173
component0 = "lambda"                                                  # STEP 174
result = os0.path.isdir(path1)                                         # STEP 175
str2 += 'g'                                                            # STEP 176
result = os0.path.abspath(path2)                                       # STEP 177
opener0 = newFakeOpener(os0)                                           # STEP 178
os0.symlink(path2,path1)                                               # STEP 179
str2 += 'n'                                                            # STEP 180
file0 = opener0(path2,'a')                                             # STEP 181
str4 += 'e'                                                            # STEP 182
os0.remove(path0)                                                      # STEP 183
result = os0.read(fd0,bytes2)                                          # STEP 184
str1 += 'n'                                                            # STEP 185
component2 = "epsilon"                                                 # STEP 186
str4 += 'h'                                                            # STEP 187
str3 += 'y'                                                            # STEP 188
str2 += 'm'                                                            # STEP 189
str2 += 'y'                                                            # STEP 190
path3 = "/Volumes/ramdisk/test"                                        # STEP 191
os0.symlink(path3,path1)                                               # STEP 192
str3 += 'a'                                                            # STEP 193
os0.write(fd0,str3)                                                    # STEP 194
result = os0.path.abspath(path1)                                       # STEP 195
str2 += 'v'                                                            # STEP 196
result = os0.path.isabs(path2)                                         # STEP 197
str3 += 'r'                                                            # STEP 198
str3 += 'y'                                                            # STEP 199
result = os0.path.exists(path2)                                        # STEP 200
path0 += "/" + component0                                              # STEP 201
result = os0.path.islink(path3)                                        # STEP 202
str2 += 'h'                                                            # STEP 203
component0 = "d"                                                       # STEP 204
result = os0.read(fd0,bytes4)                                          # STEP 205
str2 += 'x'                                                            # STEP 206
os0.link(path1,path2)                                                  # STEP 207
stat4 = os0.lstat(path0)                                               # STEP 208
str2 += 'o'                                                            # STEP 209
str2 += 'f'                                                            # STEP 210
bytes3 = 0                                                             # STEP 211
result = os0.path.dirname(path1)                                       # STEP 212
str2 += 'j'                                                            # STEP 213
str3 += 'q'                                                            # STEP 214
result = sorted(os0.listdir(path2))                                    # STEP 215
bytes2 += 1                                                            # STEP 216
str1 += 'z'                                                            # STEP 217
str3 += 't'                                                            # STEP 218
path2 += "/" + component2                                              # STEP 219
str3 += 'v'                                                            # STEP 220
str1 += 'l'                                                            # STEP 221
result = os0.path.isabs(path2)                                         # STEP 222
str1 += 'f'                                                            # STEP 223
os0.path.getsize(path1)                                                # STEP 224
str4 = ""                                                              # STEP 225
component2 = "omega"                                                   # STEP 226
result = os0.path.lexists(path2)                                       # STEP 227
str4 += " "                                                            # STEP 228
str1 += 'c'                                                            # STEP 229
str2 += 'k'                                                            # STEP 230
file0 = opener0(path3,'w')                                             # STEP 231
os0.rename(path2,path3)                                                # STEP 232
str4 += 'u'                                                            # STEP 233
file0 = opener0(path2,'r')                                             # STEP 234
path4 = "/Volumes/ramdisk/test"                                        # STEP 235
file0 = opener0(path2,'a')                                             # STEP 236
path0 += "/" + component0                                              # STEP 237
stat4 = os0.stat(path2)                                                # STEP 238
component0 = "beta"                                                    # STEP 239
str1 += 'd'                                                            # STEP 240
os0.link(path1,path4)                                                  # STEP 241
str3 += 'r'                                                            # STEP 242
os0.link(path1,path3)                                                  # STEP 243
str2 += 'r'                                                            # STEP 244
os0.mkdir(path1)                                                       # STEP 245
bytes4 = 0                                                             # STEP 246
file0 = opener0(path0)                                                 # STEP 247
str1 += 'k'                                                            # STEP 248
os0.link(path4,path4)                                                  # STEP 249
os0.symlink(path4,path3)                                               # STEP 250
os0.makedirs(path4)                                                    # STEP 251
result = os0.path.isdir(path4)                                         # STEP 252
result = os0.path.abspath(path2)                                       # STEP 253
result = os0.path.islink(path3)                                        # STEP 254
result = os0.path.islink(path4)                                        # STEP 255
result = os0.path.lexists(path0)                                       # STEP 256
str2 += 'd'                                                            # STEP 257
result = os0.readlink(path3)                                           # STEP 258
str4 += 'j'                                                            # STEP 259
os0.symlink(path0,path0)                                               # STEP 260
str2 += 'e'                                                            # STEP 261
file0 = opener0(path4,'a')                                             # STEP 262
str2 += 'h'                                                            # STEP 263
result = os0.path.lexists(path0)                                       # STEP 264
str1 += 'q'                                                            # STEP 265
file0 = opener0(path0,'r')                                             # STEP 266
str1 += 't'                                                            # STEP 267
os0.link(path1,path0)                                                  # STEP 268
os0.symlink(path4,path4)                                               # STEP 269
str4 += 'o'                                                            # STEP 270
result = os0.path.islink(path2)                                        # STEP 271
str2 += 'e'                                                            # STEP 272
stat4 = os0.stat(path1)                                                # STEP 273
str0 = ""                                                              # STEP 274
result = os0.path.exists(path4)                                        # STEP 275
result = os0.path.isabs(path3)                                         # STEP 276
os0.path.getsize(path2)                                                # STEP 277
path2 = "/Volumes/ramdisk/test"                                        # STEP 278
path1 += "/" + component4                                              # STEP 279
path3 += "/" + component3                                              # STEP 280
file0 = opener0(path1,'r')                                             # STEP 281
result = os0.readlink(path2)                                           # STEP 282
os0.rename(path0,path3)                                                # STEP 283
result = os0.path.isfile(path3)                                        # STEP 284
os0.symlink(path3,path3)                                               # STEP 285
str2 += 'i'                                                            # STEP 286
str2 += 'b'                                                            # STEP 287
str0 += 'a'                                                            # STEP 288
os0.path.getsize(path3)                                                # STEP 289
result = os0.path.isabs(path1)                                         # STEP 290
os0.mkdir(path4)                                                       # STEP 291
str0 += 'i'                                                            # STEP 292
file0 = opener0(path0)                                                 # STEP 293
component4 = "h"                                                       # STEP 294
os0.link(path0,path1)                                                  # STEP 295
os0.symlink(path3,path2)                                               # STEP 296
str3 += 't'                                                            # STEP 297
result = os0.read(fd0,bytes2)                                          # STEP 298
result = os0.path.islink(path4)                                        # STEP 299
result = os0.path.lexists(path4)                                       # STEP 300
result = stat3.st_nlink                                                # STEP 301
str1 += 'l'                                                            # STEP 302
path2 += "/" + component2                                              # STEP 303
os0.symlink(path3,path0)                                               # STEP 304
str2 += 's'                                                            # STEP 305
os0.makedirs(path4)                                                    # STEP 306
str0 += 'u'                                                            # STEP 307
str3 += 'r'                                                            # STEP 308
os0.rmdir(path3)                                                       # STEP 309
component2 = "a"                                                       # STEP 310
str0 += 'j'                                                            # STEP 311
path4 += "/" + component3                                              # STEP 312
os0.symlink(path3,path3)                                               # STEP 313
os0.write(fd0,str4)                                                    # STEP 314
str3 += 'g'                                                            # STEP 315
file0 = opener0(path3)                                                 # STEP 316
file0 = opener0(path3)                                                 # STEP 317
os0.link(path1,path1)                                                  # STEP 318
path1 = "/Volumes/ramdisk/test"                                        # STEP 319
str2 += 'l'                                                            # STEP 320
str2 += 'j'                                                            # STEP 321
os0.link(path3,path0)                                                  # STEP 322
result = os0.read(fd0,bytes0)                                          # STEP 323
file0 = opener0(path2,'w')                                             # STEP 324
os0.removedirs(path2)                                                  # STEP 325
result = sorted(os0.listdir(path4))                                    # STEP 326
bytes2 += 1                                                            # STEP 327
stat3 = os0.stat(path2)                                                # STEP 328
str1 += 'u'                                                            # STEP 329
os0.symlink(path0,path0)                                               # STEP 330
path3 += "/" + component1                                              # STEP 331
str1 += 't'                                                            # STEP 332
str3 += " "                                                            # STEP 333
result = os0.path.abspath(path2)                                       # STEP 334
os0.symlink(path1,path1)                                               # STEP 335
os0.mkdir(path4)                                                       # STEP 336
os0.link(path3,path1)                                                  # STEP 337
str1 += 'u'                                                            # STEP 338
result = os0.path.abspath(path2)                                       # STEP 339
os0.link(path3,path4)                                                  # STEP 340
str3 += 'c'                                                            # STEP 341
stat4 = os0.stat(path3)                                                # STEP 342
path3 += "/" + component3                                              # STEP 343
str3 += " "                                                            # STEP 344
str1 += 'k'                                                            # STEP 345
file0.seek(bytes4)                                                     # STEP 346
result = os0.path.isfile(path4)                                        # STEP 347
str1 += 'w'                                                            # STEP 348
result = file0.read(bytes0)                                            # STEP 349
result = os0.path.isabs(path2)                                         # STEP 350
str4 += 'z'                                                            # STEP 351
os0.path.getsize(path4)                                                # STEP 352
str3 += 'w'                                                            # STEP 353
os0.symlink(path1,path1)                                               # STEP 354
file0.next()                                                           # STEP 355
bytes0 += 1                                                            # STEP 356
os0.makedirs(path3)                                                    # STEP 357
os0.rename(path4,path0)                                                # STEP 358
component1 = "alpha"                                                   # STEP 359
stat4 = os0.stat(path3)                                                # STEP 360
stat4 = os0.lstat(path4)                                               # STEP 361
result = os0.path.isdir(path2)                                         # STEP 362
os0.remove(path1)                                                      # STEP 363
os0.rename(path4,path2)                                                # STEP 364
result = file0.readline()                                              # STEP 365
result = os0.readlink(path4)                                           # STEP 366
os0.removedirs(path4)                                                  # STEP 367
str3 += 'e'                                                            # STEP 368
os0.makedirs(path4)                                                    # STEP 369
str4 += 's'                                                            # STEP 370
os0.symlink(path1,path3)                                               # STEP 371
os0.symlink(path1,path3)                                               # STEP 372
result = file0.read(bytes2)                                            # STEP 373
os0.rename(path0,path4)                                                # STEP 374
file0.truncate()                                                       # STEP 375
path3 += "/" + component2                                              # STEP 376
os0.remove(path3)                                                      # STEP 377
os0.rename(path0,path4)                                                # STEP 378
result = sorted(os0.listdir(path2))                                    # STEP 379
str0 += 'u'                                                            # STEP 380
str4 += 'u'                                                            # STEP 381
os0.symlink(path3,path2)                                               # STEP 382
os0.link(path1,path2)                                                  # STEP 383
os0.removedirs(path0)                                                  # STEP 384
os0.link(path0,path1)                                                  # STEP 385
str0 += 'q'                                                            # STEP 386
str3 += 's'                                                            # STEP 387
file0.flush()                                                          # STEP 388
os0.link(path3,path3)                                                  # STEP 389
result = file0.readline(bytes4)                                        # STEP 390
path0 += "/" + component0                                              # STEP 391
os0.link(path3,path3)                                                  # STEP 392
result = os0.path.isfile(path0)                                        # STEP 393
os0.link(path2,path2)                                                  # STEP 394
str4 += 'x'                                                            # STEP 395
str1 += 'r'                                                            # STEP 396
os0.link(path4,path3)                                                  # STEP 397
result = os0.path.dirname(path1)                                       # STEP 398
result = os0.path.lexists(path1)                                       # STEP 399
path3 = "/Volumes/ramdisk/test"                                        # STEP 400
os0.symlink(path1,path1)                                               # STEP 401
os0.link(path2,path3)                                                  # STEP 402
str0 += 'w'                                                            # STEP 403
str1 += " "                                                            # STEP 404
os0.write(fd0,str2)                                                    # STEP 405
str2 += 'x'                                                            # STEP 406
str0 += 'g'                                                            # STEP 407
str0 += 'i'                                                            # STEP 408
result = os0.path.exists(path1)                                        # STEP 409
os0.link(path4,path1)                                                  # STEP 410
os0.symlink(path1,path4)                                               # STEP 411
os0.rename(path2,path3)                                                # STEP 412
str0 += 'h'                                                            # STEP 413
bytes2 = 0                                                             # STEP 414
path3 += "/" + component3                                              # STEP 415
os0.symlink(path0,path3)                                               # STEP 416
result = os0.path.dirname(path3)                                       # STEP 417
os0.symlink(path2,path4)                                               # STEP 418
component2 = "g"                                                       # STEP 419
path3 += "/" + component4                                              # STEP 420
result = os0.path.islink(path2)                                        # STEP 421
str0 += 'e'                                                            # STEP 422
os0.path.getsize(path0)                                                # STEP 423
str4 += 'd'                                                            # STEP 424
os0.mkdir(path2)                                                       # STEP 425
str0 += 'v'                                                            # STEP 426
bytes4 += 1                                                            # STEP 427
os0.symlink(path0,path3)                                               # STEP 428
os0.symlink(path0,path0)                                               # STEP 429
str2 += " "                                                            # STEP 430
file0.seek(bytes4)                                                     # STEP 431
str1 += 'u'                                                            # STEP 432
str2 += 'x'                                                            # STEP 433
str4 += 'r'                                                            # STEP 434
str1 += 'y'                                                            # STEP 435
result = os0.read(fd0,bytes3)                                          # STEP 436
str4 += 'd'                                                            # STEP 437
str2 += 'f'                                                            # STEP 438
component3 = "c"                                                       # STEP 439
str0 = ""                                                              # STEP 440
path2 += "/" + component2                                              # STEP 441
component2 = "e"                                                       # STEP 442
component0 = "c"                                                       # STEP 443
str0 += 's'                                                            # STEP 444
os0.makedirs(path2)                                                    # STEP 445
str0 += 'g'                                                            # STEP 446
result = os0.path.isabs(path1)                                         # STEP 447
os0.rmdir(path4)                                                       # STEP 448
result = os0.path.lexists(path1)                                       # STEP 449
os0.rename(path4,path1)                                                # STEP 450
str1 += 'b'                                                            # STEP 451
file0.truncate()                                                       # STEP 452
result = os0.path.isabs(path1)                                         # STEP 453
str0 += 'l'                                                            # STEP 454
str0 += 'a'                                                            # STEP 455
str2 += 'e'                                                            # STEP 456
component4 = "omega"                                                   # STEP 457
os0.symlink(path4,path2)                                               # STEP 458
str1 += 'w'                                                            # STEP 459
file0.write(str2)                                                      # STEP 460
os0.mkdir(path3)                                                       # STEP 461
str0 += 'f'                                                            # STEP 462
str0 += 'f'                                                            # STEP 463
os0.symlink(path3,path3)                                               # STEP 464
str4 += 'q'                                                            # STEP 465
path0 += "/" + component4                                              # STEP 466
str1 += 'm'                                                            # STEP 467
path4 = "/Volumes/ramdisk/test"                                        # STEP 468
component4 = "f"                                                       # STEP 469
result = file0.readlines()                                             # STEP 470
ERROR: (<type 'exceptions.OSError'>, OSError(9, 'File is not open for reading.'), <traceback object at 0x109cdd518>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 28999, in act575
    result = self.p_file[0].readlines()
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4284, in read_error
    self._raise('File is not open for reading.')
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4112, in _raise
    raise OSError(errno.EBADF, message)
FAILURE IS NEW, STORING; NOW 1 DISTINCT FAILURES
UNCAUGHT EXCEPTION
ERROR: (<type 'exceptions.OSError'>, OSError(9, 'File is not open for reading.'), <traceback object at 0x109fb5cb0>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 28701, in act570
    result = self.p_file[0].readline(self.p_bytes[0])
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4284, in read_error
    self._raise('File is not open for reading.')
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4112, in _raise
    raise OSError(errno.EBADF, message)
Original test has 470 steps

SAVING TEST AS failure.4180.test.1
FINAL VERSION OF TEST, WITH LOGGED REPLAY:
component4 = "e"                                                         # STEP 0
component2 = "h"                                                         # STEP 1
component1 = "a"                                                         # STEP 2
component3 = "alpha"                                                     # STEP 3
str1 = ""                                                                # STEP 4
component0 = "alpha"                                                     # STEP 5
str1 += 'd'                                                              # STEP 6
str3 = ""                                                                # STEP 7
str3 += " "                                                              # STEP 8
str3 += 'i'                                                              # STEP 9
str1 += 'v'                                                             # STEP 10
path1 = "/Volumes/ramdisk/test"                                         # STEP 11
str1 += 'f'                                                             # STEP 12
str1 += 'v'                                                             # STEP 13
str3 += 'e'                                                             # STEP 14
str1 += 'u'                                                             # STEP 15
path1 += "/" + component4                                               # STEP 16
component4 = "lambda"                                                   # STEP 17
str3 += 'z'                                                             # STEP 18
path1 += "/" + component2                                               # STEP 19
os0 = newFakeOS()                                                       # STEP 20
str1 += 't'                                                             # STEP 21
result = os0.path.isabs(path1)                                          # STEP 22
str1 = ""                                                               # STEP 23
str1 += 'k'                                                             # STEP 24
result = os0.path.exists(path1)                                         # STEP 25
str1 += 'k'                                                             # STEP 26
result = os0.path.exists(path1)                                         # STEP 27
component2 = "alpha"                                                    # STEP 28
fd0 = os0.open(path1, os.O_CREAT | os.O_WRONLY)                         # STEP 29
str1 += 'f'                                                             # STEP 30
str4 = ""                                                               # STEP 31
str1 += 'z'                                                             # STEP 32
path1 += "/" + component3                                               # STEP 33
str1 += 'j'                                                             # STEP 34
str3 += 't'                                                             # STEP 35
str3 += 'o'                                                             # STEP 36
path2 = "/Volumes/ramdisk/test"                                         # STEP 37
str3 += 'z'                                                             # STEP 38
component3 = "gamma"                                                    # STEP 39
stat0 = os0.lstat(path1)                                                # STEP 40
str4 += 'm'                                                             # STEP 41
str3 += 'z'                                                             # STEP 42
str1 += 'x'                                                             # STEP 43
result = os0.path.islink(path1)                                         # STEP 44
str3 += 'l'                                                             # STEP 45
os0.link(path1,path2)                                                   # STEP 46
str3 += 'c'                                                             # STEP 47
str1 += 's'                                                             # STEP 48
stat0 = os0.stat(path1)                                                 # STEP 49
result = os0.path.abspath(path1)                                        # STEP 50
path1 += "/" + component2                                               # STEP 51
str3 += 'v'                                                             # STEP 52
str1 += " "                                                             # STEP 53
str1 += 'y'                                                             # STEP 54
bytes0 = 0                                                              # STEP 55
str4 += 'q'                                                             # STEP 56
str1 += 'c'                                                             # STEP 57
os0.link(path1,path1)                                                   # STEP 58
str4 += 'r'                                                             # STEP 59
os0.remove(path1)                                                       # STEP 60
stat1 = os0.lstat(path1)                                                # STEP 61
os0.makedirs(path1)                                                     # STEP 62
bytes2 = 0                                                              # STEP 63
str4 += 'q'                                                             # STEP 64
str3 += 'g'                                                             # STEP 65
os0.mkdir(path1)                                                        # STEP 66
str4 = ""                                                               # STEP 67
str3 += 'k'                                                             # STEP 68
str3 += 'l'                                                             # STEP 69
result = os0.path.isdir(path1)                                          # STEP 70
str3 += 'q'                                                             # STEP 71
os0.link(path1,path1)                                                   # STEP 72
result = os0.path.isfile(path2)                                         # STEP 73
stat0 = os0.lstat(path1)                                                # STEP 74
path2 += "/" + component0                                               # STEP 75
os0.mkdir(path2)                                                        # STEP 76
stat2 = os0.stat(path1)                                                 # STEP 77
os0.removedirs(path2)                                                   # STEP 78
stat3 = os0.lstat(path2)                                                # STEP 79
str2 = ""                                                               # STEP 80
result = os0.path.abspath(path1)                                        # STEP 81
fd0 = os0.open(path2, os.O_CREAT | os.O_WRONLY | os.O_TRUNC | os.O_EXCL)  # STEP 82
str3 += 'f'                                                             # STEP 83
str2 += 'w'                                                             # STEP 84
component0 = "a"                                                        # STEP 85
component2 = "omega"                                                    # STEP 86
str1 += 'd'                                                             # STEP 87
str2 += 'l'                                                             # STEP 88
str3 += 'h'                                                             # STEP 89
str4 += 't'                                                             # STEP 90
result = os0.path.lexists(path1)                                        # STEP 91
str2 += 'd'                                                             # STEP 92
path1 = "/Volumes/ramdisk/test"                                         # STEP 93
bytes4 = 0                                                              # STEP 94
os0.close(fd0)                                                          # STEP 95
str3 += 'v'                                                             # STEP 96
os0.symlink(path1,path2)                                                # STEP 97
fd0 = os0.open(path2, os.O_WRONLY | os.O_APPEND)                        # STEP 98
path0 = "/Volumes/ramdisk/test"                                         # STEP 99
str2 += 'l'                                                            # STEP 100
str2 += 'k'                                                            # STEP 101
str3 += 'f'                                                            # STEP 102
str3 += 'x'                                                            # STEP 103
os0.link(path2,path1)                                                  # STEP 104
result = os0.path.exists(path2)                                        # STEP 105
str3 += 's'                                                            # STEP 106
str3 += 'y'                                                            # STEP 107
str3 += " "                                                            # STEP 108
str1 += 'x'                                                            # STEP 109
str1 += 'h'                                                            # STEP 110
os0.mkdir(path1)                                                       # STEP 111
result = os0.path.isfile(path0)                                        # STEP 112
str4 += 'n'                                                            # STEP 113
os0.rmdir(path2)                                                       # STEP 114
str3 += 'r'                                                            # STEP 115
os0.symlink(path0,path2)                                               # STEP 116
result = os0.path.exists(path0)                                        # STEP 117
str2 += 'x'                                                            # STEP 118
str2 += 'w'                                                            # STEP 119
str1 += 'q'                                                            # STEP 120
result = os0.path.abspath(path2)                                       # STEP 121
str4 += 'z'                                                            # STEP 122
str1 += 'o'                                                            # STEP 123
path2 += "/" + component2                                              # STEP 124
stat3 = os0.fstat(fd0)                                                 # STEP 125
str1 += 'w'                                                            # STEP 126
result = os0.path.isdir(path2)                                         # STEP 127
str4 += 'u'                                                            # STEP 128
str3 += 'f'                                                            # STEP 129
str2 += 'w'                                                            # STEP 130
component2 = "omega"                                                   # STEP 131
str1 += 'd'                                                            # STEP 132
str2 += 'l'                                                            # STEP 133
str3 += 'h'                                                            # STEP 134
str4 += 't'                                                            # STEP 135
result = os0.path.lexists(path1)                                       # STEP 136
str2 += 'd'                                                            # STEP 137
path1 = "/Volumes/ramdisk/test"                                        # STEP 138
os0.close(fd0)                                                         # STEP 139
str3 += 'v'                                                            # STEP 140
os0.symlink(path1,path2)                                               # STEP 141
fd0 = os0.open(path2, os.O_WRONLY | os.O_APPEND)                       # STEP 142
path0 = "/Volumes/ramdisk/test"                                        # STEP 143
str2 += 'l'                                                            # STEP 144
str2 += 'k'                                                            # STEP 145
str3 += 'f'                                                            # STEP 146
str3 += 'x'                                                            # STEP 147
os0.link(path2,path1)                                                  # STEP 148
result = os0.path.exists(path2)                                        # STEP 149
str3 += 's'                                                            # STEP 150
str3 += 'y'                                                            # STEP 151
str1 += 'x'                                                            # STEP 152
str1 += 'h'                                                            # STEP 153
os0.mkdir(path1)                                                       # STEP 154
result = os0.path.isfile(path0)                                        # STEP 155
str4 += 'n'                                                            # STEP 156
os0.rmdir(path2)                                                       # STEP 157
str3 += 'r'                                                            # STEP 158
os0.symlink(path0,path2)                                               # STEP 159
result = os0.path.exists(path0)                                        # STEP 160
str2 += 'x'                                                            # STEP 161
str2 += 'w'                                                            # STEP 162
str1 += 'q'                                                            # STEP 163
result = os0.path.abspath(path2)                                       # STEP 164
str4 += 'z'                                                            # STEP 165
str1 += 'o'                                                            # STEP 166
path2 += "/" + component2                                              # STEP 167
str1 += 'g'                                                            # STEP 168
str1 += 'w'                                                            # STEP 169
result = os0.path.isdir(path2)                                         # STEP 170
str4 += 'u'                                                            # STEP 171
str4 += 't'                                                            # STEP 172
path1 += "/" + component0                                              # STEP 173
component0 = "lambda"                                                  # STEP 174
result = os0.path.isdir(path1)                                         # STEP 175
str2 += 'g'                                                            # STEP 176
result = os0.path.abspath(path2)                                       # STEP 177
opener0 = newFakeOpener(os0)                                           # STEP 178
os0.symlink(path2,path1)                                               # STEP 179
str2 += 'n'                                                            # STEP 180
file0 = opener0(path2,'a')                                             # STEP 181
str4 += 'e'                                                            # STEP 182
os0.remove(path0)                                                      # STEP 183
result = os0.read(fd0,bytes2)                                          # STEP 184
str1 += 'n'                                                            # STEP 185
component2 = "epsilon"                                                 # STEP 186
str4 += 'h'                                                            # STEP 187
str3 += 'y'                                                            # STEP 188
str2 += 'm'                                                            # STEP 189
str2 += 'y'                                                            # STEP 190
path3 = "/Volumes/ramdisk/test"                                        # STEP 191
os0.symlink(path3,path1)                                               # STEP 192
str3 += 'a'                                                            # STEP 193
os0.write(fd0,str3)                                                    # STEP 194
result = os0.path.abspath(path1)                                       # STEP 195
str2 += 'v'                                                            # STEP 196
result = os0.path.isabs(path2)                                         # STEP 197
str3 += 'r'                                                            # STEP 198
str3 += 'y'                                                            # STEP 199
result = os0.path.exists(path2)                                        # STEP 200
path0 += "/" + component0                                              # STEP 201
result = os0.path.islink(path3)                                        # STEP 202
str2 += 'h'                                                            # STEP 203
component0 = "d"                                                       # STEP 204
result = os0.read(fd0,bytes4)                                          # STEP 205
str2 += 'x'                                                            # STEP 206
os0.link(path1,path2)                                                  # STEP 207
stat4 = os0.lstat(path0)                                               # STEP 208
str2 += 'o'                                                            # STEP 209
str2 += 'f'                                                            # STEP 210
bytes3 = 0                                                             # STEP 211
result = os0.path.dirname(path1)                                       # STEP 212
str2 += 'j'                                                            # STEP 213
str3 += 'q'                                                            # STEP 214
result = sorted(os0.listdir(path2))                                    # STEP 215
bytes2 += 1                                                            # STEP 216
str1 += 'z'                                                            # STEP 217
str3 += 't'                                                            # STEP 218
path2 += "/" + component2                                              # STEP 219
str3 += 'v'                                                            # STEP 220
str1 += 'l'                                                            # STEP 221
result = os0.path.isabs(path2)                                         # STEP 222
str1 += 'f'                                                            # STEP 223
os0.path.getsize(path1)                                                # STEP 224
str4 = ""                                                              # STEP 225
component2 = "omega"                                                   # STEP 226
result = os0.path.lexists(path2)                                       # STEP 227
str4 += " "                                                            # STEP 228
str1 += 'c'                                                            # STEP 229
str2 += 'k'                                                            # STEP 230
file0 = opener0(path3,'w')                                             # STEP 231
os0.rename(path2,path3)                                                # STEP 232
str4 += 'u'                                                            # STEP 233
file0 = opener0(path2,'r')                                             # STEP 234
path4 = "/Volumes/ramdisk/test"                                        # STEP 235
file0 = opener0(path2,'a')                                             # STEP 236
path0 += "/" + component0                                              # STEP 237
stat4 = os0.stat(path2)                                                # STEP 238
component0 = "beta"                                                    # STEP 239
str1 += 'd'                                                            # STEP 240
os0.link(path1,path4)                                                  # STEP 241
str3 += 'r'                                                            # STEP 242
os0.link(path1,path3)                                                  # STEP 243
str2 += 'r'                                                            # STEP 244
os0.mkdir(path1)                                                       # STEP 245
bytes4 = 0                                                             # STEP 246
file0 = opener0(path0)                                                 # STEP 247
str1 += 'k'                                                            # STEP 248
os0.link(path4,path4)                                                  # STEP 249
os0.symlink(path4,path3)                                               # STEP 250
os0.makedirs(path4)                                                    # STEP 251
result = os0.path.isdir(path4)                                         # STEP 252
result = os0.path.abspath(path2)                                       # STEP 253
result = os0.path.islink(path3)                                        # STEP 254
result = os0.path.islink(path4)                                        # STEP 255
result = os0.path.lexists(path0)                                       # STEP 256
str2 += 'd'                                                            # STEP 257
result = os0.readlink(path3)                                           # STEP 258
str4 += 'j'                                                            # STEP 259
os0.symlink(path0,path0)                                               # STEP 260
str2 += 'e'                                                            # STEP 261
file0 = opener0(path4,'a')                                             # STEP 262
str2 += 'h'                                                            # STEP 263
result = os0.path.lexists(path0)                                       # STEP 264
str1 += 'q'                                                            # STEP 265
file0 = opener0(path0,'r')                                             # STEP 266
str1 += 't'                                                            # STEP 267
os0.link(path1,path0)                                                  # STEP 268
os0.symlink(path4,path4)                                               # STEP 269
str4 += 'o'                                                            # STEP 270
result = os0.path.islink(path2)                                        # STEP 271
str2 += 'e'                                                            # STEP 272
stat4 = os0.stat(path1)                                                # STEP 273
str0 = ""                                                              # STEP 274
result = os0.path.exists(path4)                                        # STEP 275
result = os0.path.isabs(path3)                                         # STEP 276
os0.path.getsize(path2)                                                # STEP 277
path2 = "/Volumes/ramdisk/test"                                        # STEP 278
path1 += "/" + component4                                              # STEP 279
path3 += "/" + component3                                              # STEP 280
file0 = opener0(path1,'r')                                             # STEP 281
result = os0.readlink(path2)                                           # STEP 282
os0.rename(path0,path3)                                                # STEP 283
result = os0.path.isfile(path3)                                        # STEP 284
os0.symlink(path3,path3)                                               # STEP 285
str2 += 'i'                                                            # STEP 286
str2 += 'b'                                                            # STEP 287
str0 += 'a'                                                            # STEP 288
os0.path.getsize(path3)                                                # STEP 289
result = os0.path.isabs(path1)                                         # STEP 290
os0.mkdir(path4)                                                       # STEP 291
str0 += 'i'                                                            # STEP 292
file0 = opener0(path0)                                                 # STEP 293
component4 = "h"                                                       # STEP 294
os0.link(path0,path1)                                                  # STEP 295
os0.symlink(path3,path2)                                               # STEP 296
str3 += 't'                                                            # STEP 297
result = os0.read(fd0,bytes2)                                          # STEP 298
result = os0.path.islink(path4)                                        # STEP 299
result = os0.path.lexists(path4)                                       # STEP 300
result = stat3.st_nlink                                                # STEP 301
str1 += 'l'                                                            # STEP 302
path2 += "/" + component2                                              # STEP 303
os0.symlink(path3,path0)                                               # STEP 304
str2 += 's'                                                            # STEP 305
os0.makedirs(path4)                                                    # STEP 306
str0 += 'u'                                                            # STEP 307
str3 += 'r'                                                            # STEP 308
os0.rmdir(path3)                                                       # STEP 309
component2 = "a"                                                       # STEP 310
str0 += 'j'                                                            # STEP 311
path4 += "/" + component3                                              # STEP 312
os0.symlink(path3,path3)                                               # STEP 313
os0.write(fd0,str4)                                                    # STEP 314
str3 += 'g'                                                            # STEP 315
file0 = opener0(path3)                                                 # STEP 316
file0 = opener0(path3)                                                 # STEP 317
os0.link(path1,path1)                                                  # STEP 318
path1 = "/Volumes/ramdisk/test"                                        # STEP 319
str2 += 'l'                                                            # STEP 320
str2 += 'j'                                                            # STEP 321
os0.link(path3,path0)                                                  # STEP 322
result = os0.read(fd0,bytes0)                                          # STEP 323
file0 = opener0(path2,'w')                                             # STEP 324
os0.removedirs(path2)                                                  # STEP 325
result = sorted(os0.listdir(path4))                                    # STEP 326
bytes2 += 1                                                            # STEP 327
stat3 = os0.stat(path2)                                                # STEP 328
str1 += 'u'                                                            # STEP 329
os0.symlink(path0,path0)                                               # STEP 330
path3 += "/" + component1                                              # STEP 331
str1 += 't'                                                            # STEP 332
str3 += " "                                                            # STEP 333
result = os0.path.abspath(path2)                                       # STEP 334
os0.symlink(path1,path1)                                               # STEP 335
os0.mkdir(path4)                                                       # STEP 336
os0.link(path3,path1)                                                  # STEP 337
str1 += 'u'                                                            # STEP 338
result = os0.path.abspath(path2)                                       # STEP 339
os0.link(path3,path4)                                                  # STEP 340
str3 += 'c'                                                            # STEP 341
stat4 = os0.stat(path3)                                                # STEP 342
path3 += "/" + component3                                              # STEP 343
str3 += " "                                                            # STEP 344
str1 += 'k'                                                            # STEP 345
file0.seek(bytes4)                                                     # STEP 346
result = os0.path.isfile(path4)                                        # STEP 347
str1 += 'w'                                                            # STEP 348
result = file0.read(bytes0)                                            # STEP 349
result = os0.path.isabs(path2)                                         # STEP 350
str4 += 'z'                                                            # STEP 351
os0.path.getsize(path4)                                                # STEP 352
str3 += 'w'                                                            # STEP 353
os0.symlink(path1,path1)                                               # STEP 354
file0.next()                                                           # STEP 355
bytes0 += 1                                                            # STEP 356
os0.makedirs(path3)                                                    # STEP 357
os0.rename(path4,path0)                                                # STEP 358
component1 = "alpha"                                                   # STEP 359
stat4 = os0.stat(path3)                                                # STEP 360
stat4 = os0.lstat(path4)                                               # STEP 361
result = os0.path.isdir(path2)                                         # STEP 362
os0.remove(path1)                                                      # STEP 363
os0.rename(path4,path2)                                                # STEP 364
result = file0.readline()                                              # STEP 365
result = os0.readlink(path4)                                           # STEP 366
os0.removedirs(path4)                                                  # STEP 367
str3 += 'e'                                                            # STEP 368
os0.makedirs(path4)                                                    # STEP 369
str4 += 's'                                                            # STEP 370
os0.symlink(path1,path3)                                               # STEP 371
os0.symlink(path1,path3)                                               # STEP 372
result = file0.read(bytes2)                                            # STEP 373
os0.rename(path0,path4)                                                # STEP 374
file0.truncate()                                                       # STEP 375
path3 += "/" + component2                                              # STEP 376
os0.remove(path3)                                                      # STEP 377
os0.rename(path0,path4)                                                # STEP 378
result = sorted(os0.listdir(path2))                                    # STEP 379
str0 += 'u'                                                            # STEP 380
str4 += 'u'                                                            # STEP 381
os0.symlink(path3,path2)                                               # STEP 382
os0.link(path1,path2)                                                  # STEP 383
os0.removedirs(path0)                                                  # STEP 384
os0.link(path0,path1)                                                  # STEP 385
str0 += 'q'                                                            # STEP 386
str3 += 's'                                                            # STEP 387
file0.flush()                                                          # STEP 388
os0.link(path3,path3)                                                  # STEP 389
result = file0.readline(bytes4)                                        # STEP 390
path0 += "/" + component0                                              # STEP 391
os0.link(path3,path3)                                                  # STEP 392
result = os0.path.isfile(path0)                                        # STEP 393
os0.link(path2,path2)                                                  # STEP 394
str4 += 'x'                                                            # STEP 395
str1 += 'r'                                                            # STEP 396
os0.link(path4,path3)                                                  # STEP 397
result = os0.path.dirname(path1)                                       # STEP 398
result = os0.path.lexists(path1)                                       # STEP 399
path3 = "/Volumes/ramdisk/test"                                        # STEP 400
os0.symlink(path1,path1)                                               # STEP 401
os0.link(path2,path3)                                                  # STEP 402
str0 += 'w'                                                            # STEP 403
str1 += " "                                                            # STEP 404
os0.write(fd0,str2)                                                    # STEP 405
str2 += 'x'                                                            # STEP 406
str0 += 'g'                                                            # STEP 407
str0 += 'i'                                                            # STEP 408
result = os0.path.exists(path1)                                        # STEP 409
os0.link(path4,path1)                                                  # STEP 410
os0.symlink(path1,path4)                                               # STEP 411
os0.rename(path2,path3)                                                # STEP 412
str0 += 'h'                                                            # STEP 413
bytes2 = 0                                                             # STEP 414
path3 += "/" + component3                                              # STEP 415
os0.symlink(path0,path3)                                               # STEP 416
result = os0.path.dirname(path3)                                       # STEP 417
os0.symlink(path2,path4)                                               # STEP 418
component2 = "g"                                                       # STEP 419
path3 += "/" + component4                                              # STEP 420
result = os0.path.islink(path2)                                        # STEP 421
str0 += 'e'                                                            # STEP 422
os0.path.getsize(path0)                                                # STEP 423
str4 += 'd'                                                            # STEP 424
os0.mkdir(path2)                                                       # STEP 425
str0 += 'v'                                                            # STEP 426
bytes4 += 1                                                            # STEP 427
os0.symlink(path0,path3)                                               # STEP 428
os0.symlink(path0,path0)                                               # STEP 429
str2 += " "                                                            # STEP 430
file0.seek(bytes4)                                                     # STEP 431
str1 += 'u'                                                            # STEP 432
str2 += 'x'                                                            # STEP 433
str4 += 'r'                                                            # STEP 434
str1 += 'y'                                                            # STEP 435
result = os0.read(fd0,bytes3)                                          # STEP 436
str4 += 'd'                                                            # STEP 437
str2 += 'f'                                                            # STEP 438
component3 = "c"                                                       # STEP 439
str0 = ""                                                              # STEP 440
path2 += "/" + component2                                              # STEP 441
component2 = "e"                                                       # STEP 442
component0 = "c"                                                       # STEP 443
str0 += 's'                                                            # STEP 444
os0.makedirs(path2)                                                    # STEP 445
str0 += 'g'                                                            # STEP 446
result = os0.path.isabs(path1)                                         # STEP 447
os0.rmdir(path4)                                                       # STEP 448
str3 += 'z'                                                            # STEP 449
result = os0.readlink(path3)                                           # STEP 450
component4 = "lambda"                                                  # STEP 451
os0.symlink(path3,path4)                                               # STEP 452
os0.symlink(path4,path1)                                               # STEP 453
str4 += 'c'                                                            # STEP 454
result = os0.path.abspath(path0)                                       # STEP 455
str2 += 'w'                                                            # STEP 456
str0 += 'e'                                                            # STEP 457
str0 += 'i'                                                            # STEP 458
os0.link(path2,path1)                                                  # STEP 459
os0.mkdir(path4)                                                       # STEP 460
path0 += "/" + component0                                              # STEP 461
os0.symlink(path2,path4)                                               # STEP 462
os0.link(path3,path2)                                                  # STEP 463
path0 += "/" + component2                                              # STEP 464
component0 = "a"                                                       # STEP 465
os0.mkdir(path0)                                                       # STEP 466
str3 += 'm'                                                            # STEP 467
path1 += "/" + component1                                              # STEP 468
result = file0.readline(bytes0)                                        # STEP 469
ERROR: (<type 'exceptions.OSError'>, OSError(9, 'File is not open for reading.'), <traceback object at 0x10a20c0e0>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 28701, in act570
    result = self.p_file[0].readline(self.p_bytes[0])
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4284, in read_error
    self._raise('File is not open for reading.')
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4112, in _raise
    raise OSError(errno.EBADF, message)
FAILURE IS NEW, STORING; NOW 2 DISTINCT FAILURES
UNCAUGHT EXCEPTION
ERROR: (<type 'exceptions.OSError'>, OSError(9, 'File is not open for reading.'), <traceback object at 0x1074e1320>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 28468, in act566
    result = self.p_file[0].read(self.p_bytes[2])
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4284, in read_error
    self._raise('File is not open for reading.')
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4112, in _raise
    raise OSError(errno.EBADF, message)
Original test has 457 steps

SAVING TEST AS failure.4180.test.2
FINAL VERSION OF TEST, WITH LOGGED REPLAY:
component4 = "e"                                                         # STEP 0
component2 = "h"                                                         # STEP 1
component1 = "a"                                                         # STEP 2
component3 = "alpha"                                                     # STEP 3
str1 = ""                                                                # STEP 4
component0 = "alpha"                                                     # STEP 5
str1 += 'd'                                                              # STEP 6
str3 = ""                                                                # STEP 7
str3 += " "                                                              # STEP 8
str3 += 'i'                                                              # STEP 9
str1 += 'v'                                                             # STEP 10
path1 = "/Volumes/ramdisk/test"                                         # STEP 11
str1 += 'f'                                                             # STEP 12
str1 += 'v'                                                             # STEP 13
str3 += 'e'                                                             # STEP 14
str1 += 'u'                                                             # STEP 15
path1 += "/" + component4                                               # STEP 16
component4 = "lambda"                                                   # STEP 17
str3 += 'z'                                                             # STEP 18
path1 += "/" + component2                                               # STEP 19
os0 = newFakeOS()                                                       # STEP 20
str1 += 't'                                                             # STEP 21
result = os0.path.isabs(path1)                                          # STEP 22
str1 = ""                                                               # STEP 23
str1 += 'k'                                                             # STEP 24
result = os0.path.exists(path1)                                         # STEP 25
str1 += 'k'                                                             # STEP 26
result = os0.path.exists(path1)                                         # STEP 27
component2 = "alpha"                                                    # STEP 28
fd0 = os0.open(path1, os.O_CREAT | os.O_WRONLY)                         # STEP 29
str1 += 'f'                                                             # STEP 30
str4 = ""                                                               # STEP 31
str1 += 'z'                                                             # STEP 32
path1 += "/" + component3                                               # STEP 33
str1 += 'j'                                                             # STEP 34
str3 += 't'                                                             # STEP 35
str3 += 'o'                                                             # STEP 36
path2 = "/Volumes/ramdisk/test"                                         # STEP 37
str3 += 'z'                                                             # STEP 38
component3 = "gamma"                                                    # STEP 39
stat0 = os0.lstat(path1)                                                # STEP 40
str4 += 'm'                                                             # STEP 41
str3 += 'z'                                                             # STEP 42
str1 += 'x'                                                             # STEP 43
result = os0.path.islink(path1)                                         # STEP 44
str3 += 'l'                                                             # STEP 45
os0.link(path1,path2)                                                   # STEP 46
str3 += 'c'                                                             # STEP 47
str1 += 's'                                                             # STEP 48
stat0 = os0.stat(path1)                                                 # STEP 49
result = os0.path.abspath(path1)                                        # STEP 50
path1 += "/" + component2                                               # STEP 51
str3 += 'v'                                                             # STEP 52
str1 += " "                                                             # STEP 53
str1 += 'y'                                                             # STEP 54
bytes0 = 0                                                              # STEP 55
str4 += 'q'                                                             # STEP 56
str1 += 'c'                                                             # STEP 57
os0.link(path1,path1)                                                   # STEP 58
str4 += 'r'                                                             # STEP 59
os0.remove(path1)                                                       # STEP 60
stat1 = os0.lstat(path1)                                                # STEP 61
os0.makedirs(path1)                                                     # STEP 62
bytes2 = 0                                                              # STEP 63
str4 += 'q'                                                             # STEP 64
str3 += 'g'                                                             # STEP 65
os0.mkdir(path1)                                                        # STEP 66
str4 = ""                                                               # STEP 67
str3 += 'k'                                                             # STEP 68
str3 += 'l'                                                             # STEP 69
result = os0.path.isdir(path1)                                          # STEP 70
str3 += 'q'                                                             # STEP 71
os0.link(path1,path1)                                                   # STEP 72
result = os0.path.isfile(path2)                                         # STEP 73
stat0 = os0.lstat(path1)                                                # STEP 74
path2 += "/" + component0                                               # STEP 75
os0.mkdir(path2)                                                        # STEP 76
stat2 = os0.stat(path1)                                                 # STEP 77
os0.removedirs(path2)                                                   # STEP 78
stat3 = os0.lstat(path2)                                                # STEP 79
str2 = ""                                                               # STEP 80
result = os0.path.abspath(path1)                                        # STEP 81
fd0 = os0.open(path2, os.O_CREAT | os.O_WRONLY | os.O_TRUNC | os.O_EXCL)  # STEP 82
str3 += 'f'                                                             # STEP 83
str2 += 'w'                                                             # STEP 84
component0 = "a"                                                        # STEP 85
component2 = "omega"                                                    # STEP 86
str1 += 'd'                                                             # STEP 87
str2 += 'l'                                                             # STEP 88
str3 += 'h'                                                             # STEP 89
str4 += 't'                                                             # STEP 90
result = os0.path.lexists(path1)                                        # STEP 91
str2 += 'd'                                                             # STEP 92
path1 = "/Volumes/ramdisk/test"                                         # STEP 93
bytes4 = 0                                                              # STEP 94
os0.close(fd0)                                                          # STEP 95
str3 += 'v'                                                             # STEP 96
os0.symlink(path1,path2)                                                # STEP 97
fd0 = os0.open(path2, os.O_WRONLY | os.O_APPEND)                        # STEP 98
path0 = "/Volumes/ramdisk/test"                                         # STEP 99
str2 += 'l'                                                            # STEP 100
str2 += 'k'                                                            # STEP 101
str3 += 'f'                                                            # STEP 102
str3 += 'x'                                                            # STEP 103
os0.link(path2,path1)                                                  # STEP 104
result = os0.path.exists(path2)                                        # STEP 105
str3 += 's'                                                            # STEP 106
str3 += 'y'                                                            # STEP 107
str3 += " "                                                            # STEP 108
str1 += 'x'                                                            # STEP 109
str1 += 'h'                                                            # STEP 110
os0.mkdir(path1)                                                       # STEP 111
result = os0.path.isfile(path0)                                        # STEP 112
str4 += 'n'                                                            # STEP 113
os0.rmdir(path2)                                                       # STEP 114
str3 += 'r'                                                            # STEP 115
os0.symlink(path0,path2)                                               # STEP 116
result = os0.path.exists(path0)                                        # STEP 117
str2 += 'x'                                                            # STEP 118
str2 += 'w'                                                            # STEP 119
str1 += 'q'                                                            # STEP 120
result = os0.path.abspath(path2)                                       # STEP 121
str4 += 'z'                                                            # STEP 122
str1 += 'o'                                                            # STEP 123
path2 += "/" + component2                                              # STEP 124
stat3 = os0.fstat(fd0)                                                 # STEP 125
str1 += 'w'                                                            # STEP 126
result = os0.path.isdir(path2)                                         # STEP 127
str4 += 'u'                                                            # STEP 128
str3 += 'f'                                                            # STEP 129
str2 += 'w'                                                            # STEP 130
component2 = "omega"                                                   # STEP 131
str1 += 'd'                                                            # STEP 132
str2 += 'l'                                                            # STEP 133
str3 += 'h'                                                            # STEP 134
str4 += 't'                                                            # STEP 135
result = os0.path.lexists(path1)                                       # STEP 136
str2 += 'd'                                                            # STEP 137
path1 = "/Volumes/ramdisk/test"                                        # STEP 138
os0.close(fd0)                                                         # STEP 139
str3 += 'v'                                                            # STEP 140
os0.symlink(path1,path2)                                               # STEP 141
fd0 = os0.open(path2, os.O_WRONLY | os.O_APPEND)                       # STEP 142
path0 = "/Volumes/ramdisk/test"                                        # STEP 143
str2 += 'l'                                                            # STEP 144
str2 += 'k'                                                            # STEP 145
str3 += 'f'                                                            # STEP 146
str3 += 'x'                                                            # STEP 147
os0.link(path2,path1)                                                  # STEP 148
result = os0.path.exists(path2)                                        # STEP 149
str3 += 's'                                                            # STEP 150
str3 += 'y'                                                            # STEP 151
str1 += 'x'                                                            # STEP 152
str1 += 'h'                                                            # STEP 153
os0.mkdir(path1)                                                       # STEP 154
result = os0.path.isfile(path0)                                        # STEP 155
str4 += 'n'                                                            # STEP 156
os0.rmdir(path2)                                                       # STEP 157
str3 += 'r'                                                            # STEP 158
os0.symlink(path0,path2)                                               # STEP 159
result = os0.path.exists(path0)                                        # STEP 160
str2 += 'x'                                                            # STEP 161
str2 += 'w'                                                            # STEP 162
str1 += 'q'                                                            # STEP 163
result = os0.path.abspath(path2)                                       # STEP 164
str4 += 'z'                                                            # STEP 165
str1 += 'o'                                                            # STEP 166
path2 += "/" + component2                                              # STEP 167
str1 += 'g'                                                            # STEP 168
str1 += 'w'                                                            # STEP 169
result = os0.path.isdir(path2)                                         # STEP 170
str4 += 'u'                                                            # STEP 171
str4 += 't'                                                            # STEP 172
path1 += "/" + component0                                              # STEP 173
component0 = "lambda"                                                  # STEP 174
result = os0.path.isdir(path1)                                         # STEP 175
str2 += 'g'                                                            # STEP 176
result = os0.path.abspath(path2)                                       # STEP 177
opener0 = newFakeOpener(os0)                                           # STEP 178
os0.symlink(path2,path1)                                               # STEP 179
str2 += 'n'                                                            # STEP 180
file0 = opener0(path2,'a')                                             # STEP 181
str4 += 'e'                                                            # STEP 182
os0.remove(path0)                                                      # STEP 183
result = os0.read(fd0,bytes2)                                          # STEP 184
str1 += 'n'                                                            # STEP 185
component2 = "epsilon"                                                 # STEP 186
str4 += 'h'                                                            # STEP 187
str3 += 'y'                                                            # STEP 188
str2 += 'm'                                                            # STEP 189
str2 += 'y'                                                            # STEP 190
path3 = "/Volumes/ramdisk/test"                                        # STEP 191
os0.symlink(path3,path1)                                               # STEP 192
str3 += 'a'                                                            # STEP 193
os0.write(fd0,str3)                                                    # STEP 194
result = os0.path.abspath(path1)                                       # STEP 195
str2 += 'v'                                                            # STEP 196
result = os0.path.isabs(path2)                                         # STEP 197
str3 += 'r'                                                            # STEP 198
str3 += 'y'                                                            # STEP 199
result = os0.path.exists(path2)                                        # STEP 200
path0 += "/" + component0                                              # STEP 201
result = os0.path.islink(path3)                                        # STEP 202
str2 += 'h'                                                            # STEP 203
component0 = "d"                                                       # STEP 204
result = os0.read(fd0,bytes4)                                          # STEP 205
str2 += 'x'                                                            # STEP 206
os0.link(path1,path2)                                                  # STEP 207
stat4 = os0.lstat(path0)                                               # STEP 208
str2 += 'o'                                                            # STEP 209
str2 += 'f'                                                            # STEP 210
bytes3 = 0                                                             # STEP 211
result = os0.path.dirname(path1)                                       # STEP 212
str2 += 'j'                                                            # STEP 213
str3 += 'q'                                                            # STEP 214
result = sorted(os0.listdir(path2))                                    # STEP 215
bytes2 += 1                                                            # STEP 216
str1 += 'z'                                                            # STEP 217
str3 += 't'                                                            # STEP 218
path2 += "/" + component2                                              # STEP 219
str3 += 'v'                                                            # STEP 220
str1 += 'l'                                                            # STEP 221
result = os0.path.isabs(path2)                                         # STEP 222
str1 += 'f'                                                            # STEP 223
os0.path.getsize(path1)                                                # STEP 224
str4 = ""                                                              # STEP 225
component2 = "omega"                                                   # STEP 226
result = os0.path.lexists(path2)                                       # STEP 227
str4 += " "                                                            # STEP 228
str1 += 'c'                                                            # STEP 229
str2 += 'k'                                                            # STEP 230
file0 = opener0(path3,'w')                                             # STEP 231
os0.rename(path2,path3)                                                # STEP 232
str4 += 'u'                                                            # STEP 233
file0 = opener0(path2,'r')                                             # STEP 234
path4 = "/Volumes/ramdisk/test"                                        # STEP 235
file0 = opener0(path2,'a')                                             # STEP 236
path0 += "/" + component0                                              # STEP 237
stat4 = os0.stat(path2)                                                # STEP 238
component0 = "beta"                                                    # STEP 239
str1 += 'd'                                                            # STEP 240
os0.link(path1,path4)                                                  # STEP 241
str3 += 'r'                                                            # STEP 242
os0.link(path1,path3)                                                  # STEP 243
str2 += 'r'                                                            # STEP 244
os0.mkdir(path1)                                                       # STEP 245
bytes4 = 0                                                             # STEP 246
file0 = opener0(path0)                                                 # STEP 247
str1 += 'k'                                                            # STEP 248
os0.link(path4,path4)                                                  # STEP 249
os0.symlink(path4,path3)                                               # STEP 250
os0.makedirs(path4)                                                    # STEP 251
result = os0.path.isdir(path4)                                         # STEP 252
result = os0.path.abspath(path2)                                       # STEP 253
result = os0.path.islink(path3)                                        # STEP 254
result = os0.path.islink(path4)                                        # STEP 255
result = os0.path.lexists(path0)                                       # STEP 256
str2 += 'd'                                                            # STEP 257
result = os0.readlink(path3)                                           # STEP 258
str4 += 'j'                                                            # STEP 259
os0.symlink(path0,path0)                                               # STEP 260
str2 += 'e'                                                            # STEP 261
file0 = opener0(path4,'a')                                             # STEP 262
str2 += 'h'                                                            # STEP 263
result = os0.path.lexists(path0)                                       # STEP 264
str1 += 'q'                                                            # STEP 265
file0 = opener0(path0,'r')                                             # STEP 266
str1 += 't'                                                            # STEP 267
os0.link(path1,path0)                                                  # STEP 268
os0.symlink(path4,path4)                                               # STEP 269
str4 += 'o'                                                            # STEP 270
result = os0.path.islink(path2)                                        # STEP 271
str2 += 'e'                                                            # STEP 272
stat4 = os0.stat(path1)                                                # STEP 273
str0 = ""                                                              # STEP 274
result = os0.path.exists(path4)                                        # STEP 275
result = os0.path.isabs(path3)                                         # STEP 276
os0.path.getsize(path2)                                                # STEP 277
path2 = "/Volumes/ramdisk/test"                                        # STEP 278
path1 += "/" + component4                                              # STEP 279
path3 += "/" + component3                                              # STEP 280
file0 = opener0(path1,'r')                                             # STEP 281
result = os0.readlink(path2)                                           # STEP 282
os0.rename(path0,path3)                                                # STEP 283
result = os0.path.isfile(path3)                                        # STEP 284
os0.symlink(path3,path3)                                               # STEP 285
str2 += 'i'                                                            # STEP 286
str2 += 'b'                                                            # STEP 287
str0 += 'a'                                                            # STEP 288
os0.path.getsize(path3)                                                # STEP 289
result = os0.path.isabs(path1)                                         # STEP 290
os0.mkdir(path4)                                                       # STEP 291
str0 += 'i'                                                            # STEP 292
file0 = opener0(path0)                                                 # STEP 293
component4 = "h"                                                       # STEP 294
os0.link(path0,path1)                                                  # STEP 295
os0.symlink(path3,path2)                                               # STEP 296
str3 += 't'                                                            # STEP 297
result = os0.read(fd0,bytes2)                                          # STEP 298
result = os0.path.islink(path4)                                        # STEP 299
result = os0.path.lexists(path4)                                       # STEP 300
result = stat3.st_nlink                                                # STEP 301
str1 += 'l'                                                            # STEP 302
path2 += "/" + component2                                              # STEP 303
os0.symlink(path3,path0)                                               # STEP 304
str2 += 's'                                                            # STEP 305
os0.makedirs(path4)                                                    # STEP 306
str0 += 'u'                                                            # STEP 307
str3 += 'r'                                                            # STEP 308
os0.rmdir(path3)                                                       # STEP 309
component2 = "a"                                                       # STEP 310
str0 += 'j'                                                            # STEP 311
path4 += "/" + component3                                              # STEP 312
os0.symlink(path3,path3)                                               # STEP 313
os0.write(fd0,str4)                                                    # STEP 314
str3 += 'g'                                                            # STEP 315
file0 = opener0(path3)                                                 # STEP 316
file0 = opener0(path3)                                                 # STEP 317
os0.link(path1,path1)                                                  # STEP 318
path1 = "/Volumes/ramdisk/test"                                        # STEP 319
str2 += 'l'                                                            # STEP 320
str2 += 'j'                                                            # STEP 321
os0.link(path3,path0)                                                  # STEP 322
result = os0.read(fd0,bytes0)                                          # STEP 323
file0 = opener0(path2,'w')                                             # STEP 324
os0.removedirs(path2)                                                  # STEP 325
result = sorted(os0.listdir(path4))                                    # STEP 326
bytes2 += 1                                                            # STEP 327
stat3 = os0.stat(path2)                                                # STEP 328
str1 += 'u'                                                            # STEP 329
os0.symlink(path0,path0)                                               # STEP 330
path3 += "/" + component1                                              # STEP 331
str1 += 't'                                                            # STEP 332
str3 += " "                                                            # STEP 333
result = os0.path.abspath(path2)                                       # STEP 334
os0.symlink(path1,path1)                                               # STEP 335
os0.mkdir(path4)                                                       # STEP 336
os0.link(path3,path1)                                                  # STEP 337
str1 += 'u'                                                            # STEP 338
result = os0.path.abspath(path2)                                       # STEP 339
os0.link(path3,path4)                                                  # STEP 340
str3 += 'c'                                                            # STEP 341
stat4 = os0.stat(path3)                                                # STEP 342
path3 += "/" + component3                                              # STEP 343
str3 += " "                                                            # STEP 344
str1 += 'k'                                                            # STEP 345
file0.seek(bytes4)                                                     # STEP 346
result = os0.path.isfile(path4)                                        # STEP 347
str1 += 'w'                                                            # STEP 348
result = file0.read(bytes0)                                            # STEP 349
result = os0.path.isabs(path2)                                         # STEP 350
str4 += 'z'                                                            # STEP 351
os0.path.getsize(path4)                                                # STEP 352
str3 += 'w'                                                            # STEP 353
os0.symlink(path1,path1)                                               # STEP 354
file0.next()                                                           # STEP 355
bytes0 += 1                                                            # STEP 356
os0.rename(path4,path0)                                                # STEP 357
component1 = "alpha"                                                   # STEP 358
stat4 = os0.stat(path3)                                                # STEP 359
stat4 = os0.lstat(path4)                                               # STEP 360
result = os0.path.isdir(path2)                                         # STEP 361
os0.remove(path1)                                                      # STEP 362
os0.rename(path4,path2)                                                # STEP 363
result = file0.readline()                                              # STEP 364
result = os0.readlink(path4)                                           # STEP 365
os0.removedirs(path4)                                                  # STEP 366
str3 += 'e'                                                            # STEP 367
os0.makedirs(path4)                                                    # STEP 368
str4 += 's'                                                            # STEP 369
os0.symlink(path1,path3)                                               # STEP 370
os0.symlink(path1,path3)                                               # STEP 371
result = file0.read(bytes2)                                            # STEP 372
os0.rename(path0,path4)                                                # STEP 373
file0.truncate()                                                       # STEP 374
path3 += "/" + component2                                              # STEP 375
os0.remove(path3)                                                      # STEP 376
os0.rename(path0,path4)                                                # STEP 377
result = sorted(os0.listdir(path2))                                    # STEP 378
str0 += 'u'                                                            # STEP 379
str4 += 'u'                                                            # STEP 380
os0.symlink(path3,path2)                                               # STEP 381
os0.link(path1,path2)                                                  # STEP 382
os0.removedirs(path0)                                                  # STEP 383
os0.link(path0,path1)                                                  # STEP 384
str0 += 'q'                                                            # STEP 385
str3 += 's'                                                            # STEP 386
file0.flush()                                                          # STEP 387
os0.link(path3,path3)                                                  # STEP 388
result = file0.readline(bytes4)                                        # STEP 389
path0 += "/" + component0                                              # STEP 390
os0.link(path3,path3)                                                  # STEP 391
result = os0.path.isfile(path0)                                        # STEP 392
os0.link(path2,path2)                                                  # STEP 393
str4 += 'x'                                                            # STEP 394
str1 += 'r'                                                            # STEP 395
os0.link(path4,path3)                                                  # STEP 396
result = os0.path.dirname(path1)                                       # STEP 397
result = os0.path.lexists(path1)                                       # STEP 398
path3 = "/Volumes/ramdisk/test"                                        # STEP 399
os0.symlink(path1,path1)                                               # STEP 400
os0.link(path2,path3)                                                  # STEP 401
str0 += 'w'                                                            # STEP 402
str1 += " "                                                            # STEP 403
os0.write(fd0,str2)                                                    # STEP 404
str2 += 'x'                                                            # STEP 405
str0 += 'g'                                                            # STEP 406
str0 += 'i'                                                            # STEP 407
result = os0.path.exists(path1)                                        # STEP 408
os0.link(path4,path1)                                                  # STEP 409
os0.symlink(path1,path4)                                               # STEP 410
os0.rename(path2,path3)                                                # STEP 411
str0 += 'h'                                                            # STEP 412
bytes2 = 0                                                             # STEP 413
path3 += "/" + component3                                              # STEP 414
os0.symlink(path0,path3)                                               # STEP 415
result = os0.path.dirname(path3)                                       # STEP 416
os0.symlink(path2,path4)                                               # STEP 417
component2 = "g"                                                       # STEP 418
path3 += "/" + component4                                              # STEP 419
result = os0.path.islink(path2)                                        # STEP 420
str0 += 'e'                                                            # STEP 421
os0.path.getsize(path0)                                                # STEP 422
str4 += 'd'                                                            # STEP 423
os0.mkdir(path2)                                                       # STEP 424
str0 += 'v'                                                            # STEP 425
bytes4 += 1                                                            # STEP 426
os0.symlink(path0,path3)                                               # STEP 427
os0.symlink(path0,path0)                                               # STEP 428
str2 += " "                                                            # STEP 429
file0.seek(bytes4)                                                     # STEP 430
str1 += 'u'                                                            # STEP 431
str2 += 'x'                                                            # STEP 432
str4 += 'r'                                                            # STEP 433
str1 += 'y'                                                            # STEP 434
result = os0.read(fd0,bytes3)                                          # STEP 435
str4 += 'd'                                                            # STEP 436
str2 += 'f'                                                            # STEP 437
component3 = "c"                                                       # STEP 438
str0 = ""                                                              # STEP 439
path2 += "/" + component2                                              # STEP 440
component2 = "e"                                                       # STEP 441
component0 = "c"                                                       # STEP 442
str0 += 's'                                                            # STEP 443
os0.makedirs(path2)                                                    # STEP 444
str0 += 'g'                                                            # STEP 445
result = os0.path.isabs(path1)                                         # STEP 446
os0.rmdir(path4)                                                       # STEP 447
os0.symlink(path1,path0)                                               # STEP 448
file0.seek(bytes2)                                                     # STEP 449
result = sorted(os0.listdir(path4))                                    # STEP 450
result = sorted(os0.listdir(path2))                                    # STEP 451
file0.write(str2)                                                      # STEP 452
os0.link(path0,path2)                                                  # STEP 453
str3 += 'a'                                                            # STEP 454
str1 += 'g'                                                            # STEP 455
result = file0.read(bytes2)                                            # STEP 456
ERROR: (<type 'exceptions.OSError'>, OSError(9, 'File is not open for reading.'), <traceback object at 0x107567bd8>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 28468, in act566
    result = self.p_file[0].read(self.p_bytes[2])
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4284, in read_error
    self._raise('File is not open for reading.')
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4112, in _raise
    raise OSError(errno.EBADF, message)
FAILURE IS NEW, STORING; NOW 3 DISTINCT FAILURES
UNCAUGHT EXCEPTION
ERROR: (<type 'exceptions.OSError'>, OSError(9, 'File is not open for reading.'), <traceback object at 0x108cd78c0>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 28941, in act574
    result = self.p_file[0].readline(self.p_bytes[4])
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4284, in read_error
    self._raise('File is not open for reading.')
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4112, in _raise
    raise OSError(errno.EBADF, message)
Original test has 450 steps

SAVING TEST AS failure.4180.test.3
FINAL VERSION OF TEST, WITH LOGGED REPLAY:
component4 = "e"                                                         # STEP 0
component2 = "h"                                                         # STEP 1
component1 = "a"                                                         # STEP 2
component3 = "alpha"                                                     # STEP 3
str1 = ""                                                                # STEP 4
component0 = "alpha"                                                     # STEP 5
str1 += 'd'                                                              # STEP 6
str3 = ""                                                                # STEP 7
str3 += " "                                                              # STEP 8
str3 += 'i'                                                              # STEP 9
str1 += 'v'                                                             # STEP 10
path1 = "/Volumes/ramdisk/test"                                         # STEP 11
str1 += 'f'                                                             # STEP 12
str1 += 'v'                                                             # STEP 13
str3 += 'e'                                                             # STEP 14
str1 += 'u'                                                             # STEP 15
path1 += "/" + component4                                               # STEP 16
component4 = "lambda"                                                   # STEP 17
str3 += 'z'                                                             # STEP 18
path1 += "/" + component2                                               # STEP 19
os0 = newFakeOS()                                                       # STEP 20
str1 += 't'                                                             # STEP 21
result = os0.path.isabs(path1)                                          # STEP 22
str1 = ""                                                               # STEP 23
str1 += 'k'                                                             # STEP 24
result = os0.path.exists(path1)                                         # STEP 25
str1 += 'k'                                                             # STEP 26
result = os0.path.exists(path1)                                         # STEP 27
component2 = "alpha"                                                    # STEP 28
fd0 = os0.open(path1, os.O_CREAT | os.O_WRONLY)                         # STEP 29
str1 += 'f'                                                             # STEP 30
str4 = ""                                                               # STEP 31
str1 += 'z'                                                             # STEP 32
path1 += "/" + component3                                               # STEP 33
str1 += 'j'                                                             # STEP 34
str3 += 't'                                                             # STEP 35
str3 += 'o'                                                             # STEP 36
path2 = "/Volumes/ramdisk/test"                                         # STEP 37
str3 += 'z'                                                             # STEP 38
component3 = "gamma"                                                    # STEP 39
stat0 = os0.lstat(path1)                                                # STEP 40
str4 += 'm'                                                             # STEP 41
str3 += 'z'                                                             # STEP 42
str1 += 'x'                                                             # STEP 43
result = os0.path.islink(path1)                                         # STEP 44
str3 += 'l'                                                             # STEP 45
os0.link(path1,path2)                                                   # STEP 46
str3 += 'c'                                                             # STEP 47
str1 += 's'                                                             # STEP 48
stat0 = os0.stat(path1)                                                 # STEP 49
result = os0.path.abspath(path1)                                        # STEP 50
path1 += "/" + component2                                               # STEP 51
str3 += 'v'                                                             # STEP 52
str1 += " "                                                             # STEP 53
str1 += 'y'                                                             # STEP 54
bytes0 = 0                                                              # STEP 55
str4 += 'q'                                                             # STEP 56
str1 += 'c'                                                             # STEP 57
os0.link(path1,path1)                                                   # STEP 58
str4 += 'r'                                                             # STEP 59
os0.remove(path1)                                                       # STEP 60
stat1 = os0.lstat(path1)                                                # STEP 61
os0.makedirs(path1)                                                     # STEP 62
bytes2 = 0                                                              # STEP 63
str4 += 'q'                                                             # STEP 64
str3 += 'g'                                                             # STEP 65
os0.mkdir(path1)                                                        # STEP 66
str4 = ""                                                               # STEP 67
str3 += 'k'                                                             # STEP 68
str3 += 'l'                                                             # STEP 69
result = os0.path.isdir(path1)                                          # STEP 70
str3 += 'q'                                                             # STEP 71
os0.link(path1,path1)                                                   # STEP 72
result = os0.path.isfile(path2)                                         # STEP 73
stat0 = os0.lstat(path1)                                                # STEP 74
path2 += "/" + component0                                               # STEP 75
os0.mkdir(path2)                                                        # STEP 76
stat2 = os0.stat(path1)                                                 # STEP 77
os0.removedirs(path2)                                                   # STEP 78
stat3 = os0.lstat(path2)                                                # STEP 79
str2 = ""                                                               # STEP 80
result = os0.path.abspath(path1)                                        # STEP 81
fd0 = os0.open(path2, os.O_CREAT | os.O_WRONLY | os.O_TRUNC | os.O_EXCL)  # STEP 82
str3 += 'f'                                                             # STEP 83
str2 += 'w'                                                             # STEP 84
component0 = "a"                                                        # STEP 85
component2 = "omega"                                                    # STEP 86
str1 += 'd'                                                             # STEP 87
str2 += 'l'                                                             # STEP 88
str3 += 'h'                                                             # STEP 89
str4 += 't'                                                             # STEP 90
result = os0.path.lexists(path1)                                        # STEP 91
str2 += 'd'                                                             # STEP 92
path1 = "/Volumes/ramdisk/test"                                         # STEP 93
bytes4 = 0                                                              # STEP 94
os0.close(fd0)                                                          # STEP 95
str3 += 'v'                                                             # STEP 96
os0.symlink(path1,path2)                                                # STEP 97
fd0 = os0.open(path2, os.O_WRONLY | os.O_APPEND)                        # STEP 98
path0 = "/Volumes/ramdisk/test"                                         # STEP 99
str2 += 'l'                                                            # STEP 100
str2 += 'k'                                                            # STEP 101
str3 += 'f'                                                            # STEP 102
str3 += 'x'                                                            # STEP 103
os0.link(path2,path1)                                                  # STEP 104
result = os0.path.exists(path2)                                        # STEP 105
str3 += 's'                                                            # STEP 106
str3 += 'y'                                                            # STEP 107
str3 += " "                                                            # STEP 108
str1 += 'x'                                                            # STEP 109
str1 += 'h'                                                            # STEP 110
os0.mkdir(path1)                                                       # STEP 111
result = os0.path.isfile(path0)                                        # STEP 112
str4 += 'n'                                                            # STEP 113
os0.rmdir(path2)                                                       # STEP 114
str3 += 'r'                                                            # STEP 115
os0.symlink(path0,path2)                                               # STEP 116
result = os0.path.exists(path0)                                        # STEP 117
str2 += 'x'                                                            # STEP 118
str2 += 'w'                                                            # STEP 119
str1 += 'q'                                                            # STEP 120
result = os0.path.abspath(path2)                                       # STEP 121
str4 += 'z'                                                            # STEP 122
str1 += 'o'                                                            # STEP 123
path2 += "/" + component2                                              # STEP 124
stat3 = os0.fstat(fd0)                                                 # STEP 125
str1 += 'w'                                                            # STEP 126
result = os0.path.isdir(path2)                                         # STEP 127
str4 += 'u'                                                            # STEP 128
str3 += 'f'                                                            # STEP 129
str2 += 'w'                                                            # STEP 130
component2 = "omega"                                                   # STEP 131
str1 += 'd'                                                            # STEP 132
str2 += 'l'                                                            # STEP 133
str3 += 'h'                                                            # STEP 134
str4 += 't'                                                            # STEP 135
result = os0.path.lexists(path1)                                       # STEP 136
str2 += 'd'                                                            # STEP 137
path1 = "/Volumes/ramdisk/test"                                        # STEP 138
os0.close(fd0)                                                         # STEP 139
str3 += 'v'                                                            # STEP 140
os0.symlink(path1,path2)                                               # STEP 141
fd0 = os0.open(path2, os.O_WRONLY | os.O_APPEND)                       # STEP 142
path0 = "/Volumes/ramdisk/test"                                        # STEP 143
str2 += 'l'                                                            # STEP 144
str2 += 'k'                                                            # STEP 145
str3 += 'f'                                                            # STEP 146
str3 += 'x'                                                            # STEP 147
os0.link(path2,path1)                                                  # STEP 148
result = os0.path.exists(path2)                                        # STEP 149
str3 += 's'                                                            # STEP 150
str3 += 'y'                                                            # STEP 151
str1 += 'x'                                                            # STEP 152
str1 += 'h'                                                            # STEP 153
os0.mkdir(path1)                                                       # STEP 154
result = os0.path.isfile(path0)                                        # STEP 155
str4 += 'n'                                                            # STEP 156
os0.rmdir(path2)                                                       # STEP 157
str3 += 'r'                                                            # STEP 158
os0.symlink(path0,path2)                                               # STEP 159
result = os0.path.exists(path0)                                        # STEP 160
str2 += 'x'                                                            # STEP 161
str2 += 'w'                                                            # STEP 162
str1 += 'q'                                                            # STEP 163
result = os0.path.abspath(path2)                                       # STEP 164
str4 += 'z'                                                            # STEP 165
str1 += 'o'                                                            # STEP 166
path2 += "/" + component2                                              # STEP 167
str1 += 'g'                                                            # STEP 168
str1 += 'w'                                                            # STEP 169
result = os0.path.isdir(path2)                                         # STEP 170
str4 += 'u'                                                            # STEP 171
str4 += 't'                                                            # STEP 172
path1 += "/" + component0                                              # STEP 173
component0 = "lambda"                                                  # STEP 174
result = os0.path.isdir(path1)                                         # STEP 175
str2 += 'g'                                                            # STEP 176
result = os0.path.abspath(path2)                                       # STEP 177
opener0 = newFakeOpener(os0)                                           # STEP 178
os0.symlink(path2,path1)                                               # STEP 179
str2 += 'n'                                                            # STEP 180
file0 = opener0(path2,'a')                                             # STEP 181
str4 += 'e'                                                            # STEP 182
os0.remove(path0)                                                      # STEP 183
result = os0.read(fd0,bytes2)                                          # STEP 184
str1 += 'n'                                                            # STEP 185
component2 = "epsilon"                                                 # STEP 186
str4 += 'h'                                                            # STEP 187
str3 += 'y'                                                            # STEP 188
str2 += 'm'                                                            # STEP 189
str2 += 'y'                                                            # STEP 190
path3 = "/Volumes/ramdisk/test"                                        # STEP 191
os0.symlink(path3,path1)                                               # STEP 192
str3 += 'a'                                                            # STEP 193
os0.write(fd0,str3)                                                    # STEP 194
result = os0.path.abspath(path1)                                       # STEP 195
str2 += 'v'                                                            # STEP 196
result = os0.path.isabs(path2)                                         # STEP 197
str3 += 'r'                                                            # STEP 198
str3 += 'y'                                                            # STEP 199
result = os0.path.exists(path2)                                        # STEP 200
path0 += "/" + component0                                              # STEP 201
result = os0.path.islink(path3)                                        # STEP 202
str2 += 'h'                                                            # STEP 203
component0 = "d"                                                       # STEP 204
result = os0.read(fd0,bytes4)                                          # STEP 205
str2 += 'x'                                                            # STEP 206
os0.link(path1,path2)                                                  # STEP 207
stat4 = os0.lstat(path0)                                               # STEP 208
str2 += 'o'                                                            # STEP 209
str2 += 'f'                                                            # STEP 210
bytes3 = 0                                                             # STEP 211
result = os0.path.dirname(path1)                                       # STEP 212
path3 += "/" + component1                                              # STEP 213
str3 += 'q'                                                            # STEP 214
result = sorted(os0.listdir(path2))                                    # STEP 215
bytes2 += 1                                                            # STEP 216
str1 += 'z'                                                            # STEP 217
str3 += 't'                                                            # STEP 218
path2 += "/" + component2                                              # STEP 219
str3 += 'v'                                                            # STEP 220
str1 += 'l'                                                            # STEP 221
result = os0.path.isabs(path2)                                         # STEP 222
str1 += 'f'                                                            # STEP 223
os0.path.getsize(path1)                                                # STEP 224
str4 = ""                                                              # STEP 225
component2 = "omega"                                                   # STEP 226
result = os0.path.lexists(path2)                                       # STEP 227
str4 += " "                                                            # STEP 228
str1 += 'c'                                                            # STEP 229
str2 += 'k'                                                            # STEP 230
file0 = opener0(path3,'w')                                             # STEP 231
os0.rename(path2,path3)                                                # STEP 232
str4 += 'u'                                                            # STEP 233
file0 = opener0(path2,'r')                                             # STEP 234
path4 = "/Volumes/ramdisk/test"                                        # STEP 235
file0 = opener0(path2,'a')                                             # STEP 236
path0 += "/" + component0                                              # STEP 237
stat4 = os0.stat(path2)                                                # STEP 238
component0 = "beta"                                                    # STEP 239
str1 += 'd'                                                            # STEP 240
os0.link(path1,path4)                                                  # STEP 241
str3 += 'r'                                                            # STEP 242
os0.link(path1,path3)                                                  # STEP 243
str2 += 'r'                                                            # STEP 244
os0.mkdir(path1)                                                       # STEP 245
bytes4 = 0                                                             # STEP 246
file0 = opener0(path0)                                                 # STEP 247
str1 += 'k'                                                            # STEP 248
os0.link(path4,path4)                                                  # STEP 249
os0.symlink(path4,path3)                                               # STEP 250
os0.makedirs(path4)                                                    # STEP 251
result = os0.path.isdir(path4)                                         # STEP 252
result = os0.path.abspath(path2)                                       # STEP 253
result = os0.path.islink(path3)                                        # STEP 254
result = os0.path.islink(path4)                                        # STEP 255
result = os0.path.lexists(path0)                                       # STEP 256
str2 += 'd'                                                            # STEP 257
result = os0.readlink(path3)                                           # STEP 258
str4 += 'j'                                                            # STEP 259
os0.symlink(path0,path0)                                               # STEP 260
str2 += 'e'                                                            # STEP 261
file0 = opener0(path4,'a')                                             # STEP 262
str2 += 'h'                                                            # STEP 263
result = os0.path.lexists(path0)                                       # STEP 264
str1 += 'q'                                                            # STEP 265
file0 = opener0(path0,'r')                                             # STEP 266
str1 += 't'                                                            # STEP 267
os0.link(path1,path0)                                                  # STEP 268
os0.symlink(path4,path4)                                               # STEP 269
str4 += 'o'                                                            # STEP 270
result = os0.path.islink(path2)                                        # STEP 271
str2 += 'e'                                                            # STEP 272
stat4 = os0.stat(path1)                                                # STEP 273
str0 = ""                                                              # STEP 274
result = os0.path.exists(path4)                                        # STEP 275
result = os0.path.isabs(path3)                                         # STEP 276
os0.path.getsize(path2)                                                # STEP 277
path2 = "/Volumes/ramdisk/test"                                        # STEP 278
path1 += "/" + component4                                              # STEP 279
path3 += "/" + component3                                              # STEP 280
file0 = opener0(path1,'r')                                             # STEP 281
result = os0.readlink(path2)                                           # STEP 282
os0.rename(path0,path3)                                                # STEP 283
result = os0.path.isfile(path3)                                        # STEP 284
os0.symlink(path3,path3)                                               # STEP 285
str2 += 'i'                                                            # STEP 286
str2 += 'b'                                                            # STEP 287
str0 += 'a'                                                            # STEP 288
os0.path.getsize(path3)                                                # STEP 289
result = os0.path.isabs(path1)                                         # STEP 290
os0.mkdir(path4)                                                       # STEP 291
str0 += 'i'                                                            # STEP 292
file0 = opener0(path0)                                                 # STEP 293
component4 = "h"                                                       # STEP 294
os0.link(path0,path1)                                                  # STEP 295
os0.symlink(path3,path2)                                               # STEP 296
str3 += 't'                                                            # STEP 297
result = os0.read(fd0,bytes2)                                          # STEP 298
result = os0.path.islink(path4)                                        # STEP 299
result = os0.path.lexists(path4)                                       # STEP 300
result = stat3.st_nlink                                                # STEP 301
str1 += 'l'                                                            # STEP 302
path2 += "/" + component2                                              # STEP 303
os0.symlink(path3,path0)                                               # STEP 304
str2 += 's'                                                            # STEP 305
os0.makedirs(path4)                                                    # STEP 306
str0 += 'u'                                                            # STEP 307
str3 += 'r'                                                            # STEP 308
os0.rmdir(path3)                                                       # STEP 309
component2 = "a"                                                       # STEP 310
str0 += 'j'                                                            # STEP 311
path4 += "/" + component3                                              # STEP 312
os0.symlink(path3,path3)                                               # STEP 313
os0.write(fd0,str4)                                                    # STEP 314
str3 += 'g'                                                            # STEP 315
file0 = opener0(path3)                                                 # STEP 316
file0 = opener0(path3)                                                 # STEP 317
os0.link(path1,path1)                                                  # STEP 318
path1 = "/Volumes/ramdisk/test"                                        # STEP 319
str2 += 'l'                                                            # STEP 320
str2 += 'j'                                                            # STEP 321
os0.link(path3,path0)                                                  # STEP 322
result = os0.read(fd0,bytes0)                                          # STEP 323
file0 = opener0(path2,'w')                                             # STEP 324
os0.removedirs(path2)                                                  # STEP 325
result = sorted(os0.listdir(path4))                                    # STEP 326
bytes2 += 1                                                            # STEP 327
stat3 = os0.stat(path2)                                                # STEP 328
str1 += 'u'                                                            # STEP 329
os0.symlink(path0,path0)                                               # STEP 330
path3 += "/" + component1                                              # STEP 331
str1 += 't'                                                            # STEP 332
str3 += " "                                                            # STEP 333
result = os0.path.abspath(path2)                                       # STEP 334
os0.symlink(path1,path1)                                               # STEP 335
os0.mkdir(path4)                                                       # STEP 336
os0.link(path3,path1)                                                  # STEP 337
str1 += 'u'                                                            # STEP 338
result = os0.path.abspath(path2)                                       # STEP 339
os0.link(path3,path4)                                                  # STEP 340
str3 += 'c'                                                            # STEP 341
stat4 = os0.stat(path3)                                                # STEP 342
path3 += "/" + component3                                              # STEP 343
str3 += " "                                                            # STEP 344
str1 += 'k'                                                            # STEP 345
file0.seek(bytes4)                                                     # STEP 346
result = os0.path.isfile(path4)                                        # STEP 347
str1 += 'w'                                                            # STEP 348
result = file0.read(bytes0)                                            # STEP 349
result = os0.path.isabs(path2)                                         # STEP 350
str4 += 'z'                                                            # STEP 351
str3 += 'w'                                                            # STEP 352
os0.symlink(path1,path1)                                               # STEP 353
file0.next()                                                           # STEP 354
bytes0 += 1                                                            # STEP 355
os0.makedirs(path3)                                                    # STEP 356
os0.rename(path4,path0)                                                # STEP 357
component1 = "alpha"                                                   # STEP 358
stat4 = os0.stat(path3)                                                # STEP 359
stat4 = os0.lstat(path4)                                               # STEP 360
result = os0.path.isdir(path2)                                         # STEP 361
os0.remove(path1)                                                      # STEP 362
os0.rename(path4,path2)                                                # STEP 363
result = file0.readline()                                              # STEP 364
result = os0.readlink(path4)                                           # STEP 365
os0.removedirs(path4)                                                  # STEP 366
str3 += 'e'                                                            # STEP 367
os0.makedirs(path4)                                                    # STEP 368
str4 += 's'                                                            # STEP 369
os0.symlink(path1,path3)                                               # STEP 370
os0.symlink(path1,path3)                                               # STEP 371
result = file0.read(bytes2)                                            # STEP 372
os0.rename(path0,path4)                                                # STEP 373
file0.truncate()                                                       # STEP 374
path3 += "/" + component2                                              # STEP 375
os0.remove(path3)                                                      # STEP 376
os0.rename(path0,path4)                                                # STEP 377
result = sorted(os0.listdir(path2))                                    # STEP 378
str0 += 'u'                                                            # STEP 379
str4 += 'u'                                                            # STEP 380
os0.symlink(path3,path2)                                               # STEP 381
os0.link(path1,path2)                                                  # STEP 382
os0.removedirs(path0)                                                  # STEP 383
os0.link(path0,path1)                                                  # STEP 384
str0 += 'q'                                                            # STEP 385
str3 += 's'                                                            # STEP 386
file0.flush()                                                          # STEP 387
os0.link(path3,path3)                                                  # STEP 388
result = file0.readline(bytes4)                                        # STEP 389
path0 += "/" + component0                                              # STEP 390
os0.link(path3,path3)                                                  # STEP 391
result = os0.path.isfile(path0)                                        # STEP 392
os0.link(path2,path2)                                                  # STEP 393
str4 += 'x'                                                            # STEP 394
str1 += 'r'                                                            # STEP 395
os0.link(path4,path3)                                                  # STEP 396
result = os0.path.dirname(path1)                                       # STEP 397
result = os0.path.lexists(path1)                                       # STEP 398
path3 = "/Volumes/ramdisk/test"                                        # STEP 399
os0.symlink(path1,path1)                                               # STEP 400
os0.link(path2,path3)                                                  # STEP 401
str0 += 'w'                                                            # STEP 402
str1 += " "                                                            # STEP 403
os0.write(fd0,str2)                                                    # STEP 404
str2 += 'x'                                                            # STEP 405
str0 += 'g'                                                            # STEP 406
str0 += 'i'                                                            # STEP 407
result = os0.path.exists(path1)                                        # STEP 408
os0.link(path4,path1)                                                  # STEP 409
os0.symlink(path1,path4)                                               # STEP 410
os0.rename(path2,path3)                                                # STEP 411
str0 += 'h'                                                            # STEP 412
bytes2 = 0                                                             # STEP 413
path3 += "/" + component3                                              # STEP 414
os0.symlink(path0,path3)                                               # STEP 415
result = os0.path.dirname(path3)                                       # STEP 416
os0.symlink(path2,path4)                                               # STEP 417
component2 = "g"                                                       # STEP 418
path3 += "/" + component4                                              # STEP 419
result = os0.path.islink(path2)                                        # STEP 420
str0 += 'e'                                                            # STEP 421
os0.path.getsize(path0)                                                # STEP 422
str4 += 'd'                                                            # STEP 423
os0.mkdir(path2)                                                       # STEP 424
str0 += 'v'                                                            # STEP 425
bytes4 += 1                                                            # STEP 426
os0.symlink(path0,path3)                                               # STEP 427
os0.symlink(path0,path0)                                               # STEP 428
str2 += " "                                                            # STEP 429
file0.seek(bytes4)                                                     # STEP 430
str1 += 'u'                                                            # STEP 431
str2 += 'x'                                                            # STEP 432
str4 += 'r'                                                            # STEP 433
str1 += 'y'                                                            # STEP 434
result = os0.read(fd0,bytes3)                                          # STEP 435
str4 += 'd'                                                            # STEP 436
str2 += 'f'                                                            # STEP 437
component3 = "c"                                                       # STEP 438
str0 = ""                                                              # STEP 439
path2 += "/" + component2                                              # STEP 440
component2 = "e"                                                       # STEP 441
component0 = "c"                                                       # STEP 442
str0 += 's'                                                            # STEP 443
os0.makedirs(path2)                                                    # STEP 444
str0 += 'g'                                                            # STEP 445
result = os0.path.isabs(path1)                                         # STEP 446
os0.rmdir(path4)                                                       # STEP 447
component4 = "phi"                                                     # STEP 448
result = file0.readline(bytes4)                                        # STEP 449
ERROR: (<type 'exceptions.OSError'>, OSError(9, 'File is not open for reading.'), <traceback object at 0x108e72440>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 28941, in act574
    result = self.p_file[0].readline(self.p_bytes[4])
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4284, in read_error
    self._raise('File is not open for reading.')
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4112, in _raise
    raise OSError(errno.EBADF, message)
FAILURE IS NEW, STORING; NOW 4 DISTINCT FAILURES
TEST #70 STEP #60 (0:00:30.000044) Fri Jul 21 23:24:51 2017 [ 896 stmts 1162 branches ] 6650 TOTAL ACTIONS (221.666342524/s)
UNCAUGHT EXCEPTION
ERROR: (<type 'exceptions.OSError'>, OSError(9, 'File is not open for reading.'), <traceback object at 0x1070e19e0>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 28646, in act569
    result = self.p_file[0].readline()
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4284, in read_error
    self._raise('File is not open for reading.')
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4112, in _raise
    raise OSError(errno.EBADF, message)
Original test has 498 steps

SAVING TEST AS failure.4180.test.4
FINAL VERSION OF TEST, WITH LOGGED REPLAY:
component4 = "e"                                                         # STEP 0
component2 = "h"                                                         # STEP 1
component1 = "a"                                                         # STEP 2
component3 = "alpha"                                                     # STEP 3
str1 = ""                                                                # STEP 4
component0 = "alpha"                                                     # STEP 5
str1 += 'd'                                                              # STEP 6
str3 = ""                                                                # STEP 7
str3 += " "                                                              # STEP 8
str3 += 'i'                                                              # STEP 9
str1 += 'v'                                                             # STEP 10
path1 = "/Volumes/ramdisk/test"                                         # STEP 11
str1 += 'f'                                                             # STEP 12
str1 += 'v'                                                             # STEP 13
str3 += 'e'                                                             # STEP 14
str1 += 'u'                                                             # STEP 15
path1 += "/" + component4                                               # STEP 16
component4 = "lambda"                                                   # STEP 17
str3 += 'z'                                                             # STEP 18
path1 += "/" + component2                                               # STEP 19
os0 = newFakeOS()                                                       # STEP 20
str1 += 't'                                                             # STEP 21
result = os0.path.isabs(path1)                                          # STEP 22
str1 = ""                                                               # STEP 23
str1 += 'k'                                                             # STEP 24
result = os0.path.exists(path1)                                         # STEP 25
str1 += 'k'                                                             # STEP 26
result = os0.path.exists(path1)                                         # STEP 27
component2 = "alpha"                                                    # STEP 28
fd0 = os0.open(path1, os.O_CREAT | os.O_WRONLY)                         # STEP 29
str1 += 'f'                                                             # STEP 30
str4 = ""                                                               # STEP 31
str1 += 'z'                                                             # STEP 32
path1 += "/" + component3                                               # STEP 33
str1 += 'j'                                                             # STEP 34
str3 += 't'                                                             # STEP 35
str3 += 'o'                                                             # STEP 36
path2 = "/Volumes/ramdisk/test"                                         # STEP 37
str3 += 'z'                                                             # STEP 38
component3 = "gamma"                                                    # STEP 39
stat0 = os0.lstat(path1)                                                # STEP 40
str4 += 'm'                                                             # STEP 41
str3 += 'z'                                                             # STEP 42
str1 += 'x'                                                             # STEP 43
result = os0.path.islink(path1)                                         # STEP 44
str3 += 'l'                                                             # STEP 45
os0.link(path1,path2)                                                   # STEP 46
str3 += 'c'                                                             # STEP 47
str1 += 's'                                                             # STEP 48
stat0 = os0.stat(path1)                                                 # STEP 49
result = os0.path.abspath(path1)                                        # STEP 50
path1 += "/" + component2                                               # STEP 51
str3 += 'v'                                                             # STEP 52
str1 += " "                                                             # STEP 53
str1 += 'y'                                                             # STEP 54
bytes0 = 0                                                              # STEP 55
str4 += 'q'                                                             # STEP 56
str1 += 'c'                                                             # STEP 57
os0.link(path1,path1)                                                   # STEP 58
str4 += 'r'                                                             # STEP 59
os0.remove(path1)                                                       # STEP 60
stat1 = os0.lstat(path1)                                                # STEP 61
os0.makedirs(path1)                                                     # STEP 62
bytes2 = 0                                                              # STEP 63
str4 += 'q'                                                             # STEP 64
str3 += 'g'                                                             # STEP 65
os0.mkdir(path1)                                                        # STEP 66
str4 = ""                                                               # STEP 67
str3 += 'k'                                                             # STEP 68
str3 += 'l'                                                             # STEP 69
result = os0.path.isdir(path1)                                          # STEP 70
str3 += 'q'                                                             # STEP 71
os0.link(path1,path1)                                                   # STEP 72
result = os0.path.isfile(path2)                                         # STEP 73
stat0 = os0.lstat(path1)                                                # STEP 74
path2 += "/" + component0                                               # STEP 75
os0.mkdir(path2)                                                        # STEP 76
stat2 = os0.stat(path1)                                                 # STEP 77
os0.removedirs(path2)                                                   # STEP 78
stat3 = os0.lstat(path2)                                                # STEP 79
str2 = ""                                                               # STEP 80
result = os0.path.abspath(path1)                                        # STEP 81
fd0 = os0.open(path2, os.O_CREAT | os.O_WRONLY | os.O_TRUNC | os.O_EXCL)  # STEP 82
str3 += 'f'                                                             # STEP 83
str2 += 'w'                                                             # STEP 84
component0 = "a"                                                        # STEP 85
component2 = "omega"                                                    # STEP 86
str1 += 'd'                                                             # STEP 87
str2 += 'l'                                                             # STEP 88
str3 += 'h'                                                             # STEP 89
str4 += 't'                                                             # STEP 90
result = os0.path.lexists(path1)                                        # STEP 91
str2 += 'd'                                                             # STEP 92
path1 = "/Volumes/ramdisk/test"                                         # STEP 93
bytes4 = 0                                                              # STEP 94
os0.close(fd0)                                                          # STEP 95
str3 += 'v'                                                             # STEP 96
os0.symlink(path1,path2)                                                # STEP 97
fd0 = os0.open(path2, os.O_WRONLY | os.O_APPEND)                        # STEP 98
path0 = "/Volumes/ramdisk/test"                                         # STEP 99
str2 += 'l'                                                            # STEP 100
str2 += 'k'                                                            # STEP 101
str3 += 'f'                                                            # STEP 102
str3 += 'x'                                                            # STEP 103
os0.link(path2,path1)                                                  # STEP 104
result = os0.path.exists(path2)                                        # STEP 105
str3 += 's'                                                            # STEP 106
str3 += 'y'                                                            # STEP 107
str3 += " "                                                            # STEP 108
str1 += 'x'                                                            # STEP 109
str1 += 'h'                                                            # STEP 110
os0.mkdir(path1)                                                       # STEP 111
result = os0.path.isfile(path0)                                        # STEP 112
str4 += 'n'                                                            # STEP 113
os0.rmdir(path2)                                                       # STEP 114
str3 += 'r'                                                            # STEP 115
os0.symlink(path0,path2)                                               # STEP 116
result = os0.path.exists(path0)                                        # STEP 117
str2 += 'x'                                                            # STEP 118
str2 += 'w'                                                            # STEP 119
str1 += 'q'                                                            # STEP 120
result = os0.path.abspath(path2)                                       # STEP 121
str4 += 'z'                                                            # STEP 122
str1 += 'o'                                                            # STEP 123
path2 += "/" + component2                                              # STEP 124
stat3 = os0.fstat(fd0)                                                 # STEP 125
str1 += 'w'                                                            # STEP 126
result = os0.path.isdir(path2)                                         # STEP 127
str4 += 'u'                                                            # STEP 128
str3 += 'f'                                                            # STEP 129
str2 += 'w'                                                            # STEP 130
component2 = "omega"                                                   # STEP 131
str1 += 'd'                                                            # STEP 132
str2 += 'l'                                                            # STEP 133
str3 += 'h'                                                            # STEP 134
str4 += 't'                                                            # STEP 135
result = os0.path.lexists(path1)                                       # STEP 136
str2 += 'd'                                                            # STEP 137
path1 = "/Volumes/ramdisk/test"                                        # STEP 138
os0.close(fd0)                                                         # STEP 139
str3 += 'v'                                                            # STEP 140
os0.symlink(path1,path2)                                               # STEP 141
fd0 = os0.open(path2, os.O_WRONLY | os.O_APPEND)                       # STEP 142
path0 = "/Volumes/ramdisk/test"                                        # STEP 143
str2 += 'l'                                                            # STEP 144
str2 += 'k'                                                            # STEP 145
str3 += 'f'                                                            # STEP 146
str3 += 'x'                                                            # STEP 147
os0.link(path2,path1)                                                  # STEP 148
result = os0.path.exists(path2)                                        # STEP 149
str3 += 's'                                                            # STEP 150
str3 += 'y'                                                            # STEP 151
str1 += 'x'                                                            # STEP 152
str1 += 'h'                                                            # STEP 153
os0.mkdir(path1)                                                       # STEP 154
result = os0.path.isfile(path0)                                        # STEP 155
str4 += 'n'                                                            # STEP 156
os0.rmdir(path2)                                                       # STEP 157
str3 += 'r'                                                            # STEP 158
os0.symlink(path0,path2)                                               # STEP 159
result = os0.path.exists(path0)                                        # STEP 160
str2 += 'x'                                                            # STEP 161
str2 += 'w'                                                            # STEP 162
str1 += 'q'                                                            # STEP 163
result = os0.path.abspath(path2)                                       # STEP 164
str4 += 'z'                                                            # STEP 165
str1 += 'o'                                                            # STEP 166
path2 += "/" + component2                                              # STEP 167
str1 += 'g'                                                            # STEP 168
str1 += 'w'                                                            # STEP 169
result = os0.path.isdir(path2)                                         # STEP 170
str4 += 'u'                                                            # STEP 171
str4 += 't'                                                            # STEP 172
path1 += "/" + component0                                              # STEP 173
component0 = "lambda"                                                  # STEP 174
result = os0.path.isdir(path1)                                         # STEP 175
str2 += 'g'                                                            # STEP 176
result = os0.path.abspath(path2)                                       # STEP 177
opener0 = newFakeOpener(os0)                                           # STEP 178
os0.symlink(path2,path1)                                               # STEP 179
str2 += 'n'                                                            # STEP 180
file0 = opener0(path2,'a')                                             # STEP 181
str4 += 'e'                                                            # STEP 182
os0.remove(path0)                                                      # STEP 183
result = os0.read(fd0,bytes2)                                          # STEP 184
str1 += 'n'                                                            # STEP 185
component2 = "epsilon"                                                 # STEP 186
str4 += 'h'                                                            # STEP 187
str3 += 'y'                                                            # STEP 188
str2 += 'm'                                                            # STEP 189
str2 += 'y'                                                            # STEP 190
path3 = "/Volumes/ramdisk/test"                                        # STEP 191
os0.symlink(path3,path1)                                               # STEP 192
str3 += 'a'                                                            # STEP 193
os0.write(fd0,str3)                                                    # STEP 194
result = os0.path.abspath(path1)                                       # STEP 195
str2 += 'v'                                                            # STEP 196
result = os0.path.isabs(path2)                                         # STEP 197
str3 += 'r'                                                            # STEP 198
str3 += 'y'                                                            # STEP 199
result = os0.path.exists(path2)                                        # STEP 200
path0 += "/" + component0                                              # STEP 201
result = os0.path.islink(path3)                                        # STEP 202
str2 += 'h'                                                            # STEP 203
component0 = "d"                                                       # STEP 204
result = os0.read(fd0,bytes4)                                          # STEP 205
str2 += 'x'                                                            # STEP 206
os0.link(path1,path2)                                                  # STEP 207
stat4 = os0.lstat(path0)                                               # STEP 208
str2 += 'o'                                                            # STEP 209
str2 += 'f'                                                            # STEP 210
bytes3 = 0                                                             # STEP 211
result = os0.path.dirname(path1)                                       # STEP 212
str2 += 'j'                                                            # STEP 213
str3 += 'q'                                                            # STEP 214
result = sorted(os0.listdir(path2))                                    # STEP 215
bytes2 += 1                                                            # STEP 216
str1 += 'z'                                                            # STEP 217
str3 += 't'                                                            # STEP 218
path2 += "/" + component2                                              # STEP 219
str1 += 'l'                                                            # STEP 220
result = os0.path.isabs(path2)                                         # STEP 221
str1 += 'f'                                                            # STEP 222
os0.path.getsize(path1)                                                # STEP 223
str4 = ""                                                              # STEP 224
component2 = "omega"                                                   # STEP 225
result = os0.path.lexists(path2)                                       # STEP 226
str4 += " "                                                            # STEP 227
str1 += 'c'                                                            # STEP 228
str2 += 'k'                                                            # STEP 229
file0 = opener0(path3,'w')                                             # STEP 230
os0.rename(path2,path3)                                                # STEP 231
str4 += 'u'                                                            # STEP 232
file0 = opener0(path2,'r')                                             # STEP 233
path4 = "/Volumes/ramdisk/test"                                        # STEP 234
file0 = opener0(path2,'a')                                             # STEP 235
path0 += "/" + component0                                              # STEP 236
stat4 = os0.stat(path2)                                                # STEP 237
component0 = "beta"                                                    # STEP 238
str1 += 'd'                                                            # STEP 239
os0.link(path1,path4)                                                  # STEP 240
str3 += 'r'                                                            # STEP 241
os0.link(path1,path3)                                                  # STEP 242
str2 += 'r'                                                            # STEP 243
os0.mkdir(path1)                                                       # STEP 244
bytes4 = 0                                                             # STEP 245
file0 = opener0(path0)                                                 # STEP 246
str1 += 'k'                                                            # STEP 247
os0.link(path4,path4)                                                  # STEP 248
os0.symlink(path4,path3)                                               # STEP 249
os0.makedirs(path4)                                                    # STEP 250
result = os0.path.isdir(path4)                                         # STEP 251
result = os0.path.abspath(path2)                                       # STEP 252
result = os0.path.islink(path3)                                        # STEP 253
result = os0.path.islink(path4)                                        # STEP 254
result = os0.path.lexists(path0)                                       # STEP 255
str2 += 'd'                                                            # STEP 256
result = os0.readlink(path3)                                           # STEP 257
str4 += 'j'                                                            # STEP 258
os0.symlink(path0,path0)                                               # STEP 259
str2 += 'e'                                                            # STEP 260
file0 = opener0(path4,'a')                                             # STEP 261
str2 += 'h'                                                            # STEP 262
result = os0.path.lexists(path0)                                       # STEP 263
str1 += 'q'                                                            # STEP 264
file0 = opener0(path0,'r')                                             # STEP 265
str1 += 't'                                                            # STEP 266
os0.link(path1,path0)                                                  # STEP 267
os0.symlink(path4,path4)                                               # STEP 268
str4 += 'o'                                                            # STEP 269
result = os0.path.islink(path2)                                        # STEP 270
str2 += 'e'                                                            # STEP 271
stat4 = os0.stat(path1)                                                # STEP 272
str0 = ""                                                              # STEP 273
result = os0.path.exists(path4)                                        # STEP 274
result = os0.path.isabs(path3)                                         # STEP 275
os0.path.getsize(path2)                                                # STEP 276
path2 = "/Volumes/ramdisk/test"                                        # STEP 277
path1 += "/" + component4                                              # STEP 278
path3 += "/" + component3                                              # STEP 279
file0 = opener0(path1,'r')                                             # STEP 280
result = os0.readlink(path2)                                           # STEP 281
os0.rename(path0,path3)                                                # STEP 282
result = os0.path.isfile(path3)                                        # STEP 283
os0.symlink(path3,path3)                                               # STEP 284
str2 += 'i'                                                            # STEP 285
str2 += 'b'                                                            # STEP 286
str0 += 'a'                                                            # STEP 287
os0.path.getsize(path3)                                                # STEP 288
result = os0.path.isabs(path1)                                         # STEP 289
os0.mkdir(path4)                                                       # STEP 290
str0 += 'i'                                                            # STEP 291
file0 = opener0(path0)                                                 # STEP 292
component4 = "h"                                                       # STEP 293
os0.link(path0,path1)                                                  # STEP 294
os0.symlink(path3,path2)                                               # STEP 295
str3 += 't'                                                            # STEP 296
result = os0.read(fd0,bytes2)                                          # STEP 297
result = os0.path.islink(path4)                                        # STEP 298
result = os0.path.lexists(path4)                                       # STEP 299
result = stat3.st_nlink                                                # STEP 300
str1 += 'l'                                                            # STEP 301
path2 += "/" + component2                                              # STEP 302
os0.symlink(path3,path0)                                               # STEP 303
str2 += 's'                                                            # STEP 304
os0.makedirs(path4)                                                    # STEP 305
str0 += 'u'                                                            # STEP 306
str3 += 'r'                                                            # STEP 307
os0.rmdir(path3)                                                       # STEP 308
component2 = "a"                                                       # STEP 309
str0 += 'j'                                                            # STEP 310
path4 += "/" + component3                                              # STEP 311
os0.symlink(path3,path3)                                               # STEP 312
os0.write(fd0,str4)                                                    # STEP 313
str3 += 'g'                                                            # STEP 314
file0 = opener0(path3)                                                 # STEP 315
file0 = opener0(path3)                                                 # STEP 316
os0.link(path1,path1)                                                  # STEP 317
path1 = "/Volumes/ramdisk/test"                                        # STEP 318
str2 += 'l'                                                            # STEP 319
str2 += 'j'                                                            # STEP 320
os0.link(path3,path0)                                                  # STEP 321
result = os0.read(fd0,bytes0)                                          # STEP 322
file0 = opener0(path2,'w')                                             # STEP 323
os0.removedirs(path2)                                                  # STEP 324
result = sorted(os0.listdir(path4))                                    # STEP 325
bytes2 += 1                                                            # STEP 326
stat3 = os0.stat(path2)                                                # STEP 327
str1 += 'u'                                                            # STEP 328
os0.symlink(path0,path0)                                               # STEP 329
path3 += "/" + component1                                              # STEP 330
str1 += 't'                                                            # STEP 331
str3 += " "                                                            # STEP 332
result = os0.path.abspath(path2)                                       # STEP 333
os0.symlink(path1,path1)                                               # STEP 334
os0.mkdir(path4)                                                       # STEP 335
os0.link(path3,path1)                                                  # STEP 336
str1 += 'u'                                                            # STEP 337
result = os0.path.abspath(path2)                                       # STEP 338
os0.link(path3,path4)                                                  # STEP 339
str3 += 'c'                                                            # STEP 340
stat4 = os0.stat(path3)                                                # STEP 341
path3 += "/" + component3                                              # STEP 342
str3 += " "                                                            # STEP 343
str1 += 'k'                                                            # STEP 344
file0.seek(bytes4)                                                     # STEP 345
result = os0.path.isfile(path4)                                        # STEP 346
str1 += 'w'                                                            # STEP 347
result = file0.read(bytes0)                                            # STEP 348
result = os0.path.isabs(path2)                                         # STEP 349
str4 += 'z'                                                            # STEP 350
os0.path.getsize(path4)                                                # STEP 351
str3 += 'w'                                                            # STEP 352
os0.symlink(path1,path1)                                               # STEP 353
file0.next()                                                           # STEP 354
bytes0 += 1                                                            # STEP 355
os0.makedirs(path3)                                                    # STEP 356
os0.rename(path4,path0)                                                # STEP 357
component1 = "alpha"                                                   # STEP 358
stat4 = os0.stat(path3)                                                # STEP 359
stat4 = os0.lstat(path4)                                               # STEP 360
result = os0.path.isdir(path2)                                         # STEP 361
os0.remove(path1)                                                      # STEP 362
os0.rename(path4,path2)                                                # STEP 363
result = file0.readline()                                              # STEP 364
result = os0.readlink(path4)                                           # STEP 365
os0.removedirs(path4)                                                  # STEP 366
str3 += 'e'                                                            # STEP 367
os0.makedirs(path4)                                                    # STEP 368
str4 += 's'                                                            # STEP 369
os0.symlink(path1,path3)                                               # STEP 370
os0.symlink(path1,path3)                                               # STEP 371
result = file0.read(bytes2)                                            # STEP 372
os0.rename(path0,path4)                                                # STEP 373
file0.truncate()                                                       # STEP 374
path3 += "/" + component2                                              # STEP 375
os0.remove(path3)                                                      # STEP 376
os0.rename(path0,path4)                                                # STEP 377
result = sorted(os0.listdir(path2))                                    # STEP 378
str0 += 'u'                                                            # STEP 379
str4 += 'u'                                                            # STEP 380
os0.symlink(path3,path2)                                               # STEP 381
os0.link(path1,path2)                                                  # STEP 382
os0.removedirs(path0)                                                  # STEP 383
os0.link(path0,path1)                                                  # STEP 384
str0 += 'q'                                                            # STEP 385
str3 += 's'                                                            # STEP 386
file0.flush()                                                          # STEP 387
os0.link(path3,path3)                                                  # STEP 388
result = file0.readline(bytes4)                                        # STEP 389
path0 += "/" + component0                                              # STEP 390
os0.link(path3,path3)                                                  # STEP 391
result = os0.path.isfile(path0)                                        # STEP 392
os0.link(path2,path2)                                                  # STEP 393
str4 += 'x'                                                            # STEP 394
str1 += 'r'                                                            # STEP 395
os0.link(path4,path3)                                                  # STEP 396
result = os0.path.dirname(path1)                                       # STEP 397
result = os0.path.lexists(path1)                                       # STEP 398
path3 = "/Volumes/ramdisk/test"                                        # STEP 399
os0.symlink(path1,path1)                                               # STEP 400
os0.link(path2,path3)                                                  # STEP 401
str0 += 'w'                                                            # STEP 402
str1 += " "                                                            # STEP 403
os0.write(fd0,str2)                                                    # STEP 404
str2 += 'x'                                                            # STEP 405
str0 += 'g'                                                            # STEP 406
str0 += 'i'                                                            # STEP 407
result = os0.path.exists(path1)                                        # STEP 408
os0.link(path4,path1)                                                  # STEP 409
os0.symlink(path1,path4)                                               # STEP 410
os0.rename(path2,path3)                                                # STEP 411
str0 += 'h'                                                            # STEP 412
bytes2 = 0                                                             # STEP 413
path3 += "/" + component3                                              # STEP 414
os0.symlink(path0,path3)                                               # STEP 415
result = os0.path.dirname(path3)                                       # STEP 416
os0.symlink(path2,path4)                                               # STEP 417
component2 = "g"                                                       # STEP 418
path3 += "/" + component4                                              # STEP 419
result = os0.path.islink(path2)                                        # STEP 420
str0 += 'e'                                                            # STEP 421
os0.path.getsize(path0)                                                # STEP 422
str4 += 'd'                                                            # STEP 423
os0.mkdir(path2)                                                       # STEP 424
str0 += 'v'                                                            # STEP 425
bytes4 += 1                                                            # STEP 426
os0.symlink(path0,path3)                                               # STEP 427
os0.symlink(path0,path0)                                               # STEP 428
str2 += " "                                                            # STEP 429
file0.seek(bytes4)                                                     # STEP 430
str1 += 'u'                                                            # STEP 431
str2 += 'x'                                                            # STEP 432
str4 += 'r'                                                            # STEP 433
str1 += 'y'                                                            # STEP 434
result = os0.read(fd0,bytes3)                                          # STEP 435
str4 += 'd'                                                            # STEP 436
str2 += 'f'                                                            # STEP 437
component3 = "c"                                                       # STEP 438
str0 = ""                                                              # STEP 439
path2 += "/" + component2                                              # STEP 440
component2 = "e"                                                       # STEP 441
component0 = "c"                                                       # STEP 442
str0 += 's'                                                            # STEP 443
os0.makedirs(path2)                                                    # STEP 444
str0 += 'g'                                                            # STEP 445
result = os0.path.isabs(path1)                                         # STEP 446
os0.rmdir(path4)                                                       # STEP 447
result = os0.path.dirname(path4)                                       # STEP 448
path4 = "/Volumes/ramdisk/test"                                        # STEP 449
str0 += 'i'                                                            # STEP 450
os0.symlink(path4,path0)                                               # STEP 451
os0.write(fd0,str2)                                                    # STEP 452
str3 += " "                                                            # STEP 453
str1 += 'z'                                                            # STEP 454
str2 = ""                                                              # STEP 455
result = os0.path.abspath(path2)                                       # STEP 456
result = os0.path.exists(path1)                                        # STEP 457
result = os0.readlink(path1)                                           # STEP 458
os0.link(path4,path3)                                                  # STEP 459
os0.link(path3,path3)                                                  # STEP 460
str3 += 'k'                                                            # STEP 461
os0.write(fd0,str4)                                                    # STEP 462
bytes4 += 1                                                            # STEP 463
result = sorted(os0.listdir(path0))                                    # STEP 464
result = os0.read(fd0,bytes2)                                          # STEP 465
result = stat4.st_size                                                 # STEP 466
path2 = "/Volumes/ramdisk/test"                                        # STEP 467
component4 = "gamma"                                                   # STEP 468
os0.write(fd0,str0)                                                    # STEP 469
path0 = "/Volumes/ramdisk/test"                                        # STEP 470
str4 += 's'                                                            # STEP 471
os0.makedirs(path1)                                                    # STEP 472
str3 += 'w'                                                            # STEP 473
bytes4 = 0                                                             # STEP 474
path0 += "/" + component1                                              # STEP 475
str3 += 'a'                                                            # STEP 476
str0 += 'm'                                                            # STEP 477
result = os0.path.abspath(path0)                                       # STEP 478
str2 += 'm'                                                            # STEP 479
os0.write(fd0,str3)                                                    # STEP 480
str3 += 'h'                                                            # STEP 481
str2 += 'l'                                                            # STEP 482
os0.removedirs(path3)                                                  # STEP 483
result = os0.path.isdir(path0)                                         # STEP 484
str1 += 'u'                                                            # STEP 485
str2 += 'd'                                                            # STEP 486
result = os0.read(fd0,bytes3)                                          # STEP 487
result = os0.path.dirname(path4)                                       # STEP 488
result = os0.path.dirname(path1)                                       # STEP 489
str1 = ""                                                              # STEP 490
os0.symlink(path3,path3)                                               # STEP 491
str3 += 'g'                                                            # STEP 492
os0.symlink(path4,path1)                                               # STEP 493
os0.symlink(path3,path3)                                               # STEP 494
str1 += 'j'                                                            # STEP 495
str2 += 'h'                                                            # STEP 496
result = file0.readline()                                              # STEP 497
ERROR: (<type 'exceptions.OSError'>, OSError(9, 'File is not open for reading.'), <traceback object at 0x107122290>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 28646, in act569
    result = self.p_file[0].readline()
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4284, in read_error
    self._raise('File is not open for reading.')
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4112, in _raise
    raise OSError(errno.EBADF, message)
FAILURE IS NEW, STORING; NOW 5 DISTINCT FAILURES
UNCAUGHT EXCEPTION
ERROR: (<type 'exceptions.OSError'>, OSError(9, 'File is not open for reading.'), <traceback object at 0x107196830>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 28701, in act570
    result = self.p_file[0].readline(self.p_bytes[0])
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4284, in read_error
    self._raise('File is not open for reading.')
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4112, in _raise
    raise OSError(errno.EBADF, message)
Original test has 432 steps

SAVING TEST AS failure.4180.test.5
FINAL VERSION OF TEST, WITH LOGGED REPLAY:
component4 = "e"                                                         # STEP 0
component2 = "h"                                                         # STEP 1
component1 = "a"                                                         # STEP 2
component3 = "alpha"                                                     # STEP 3
str1 = ""                                                                # STEP 4
component0 = "alpha"                                                     # STEP 5
str1 += 'd'                                                              # STEP 6
str3 = ""                                                                # STEP 7
str3 += " "                                                              # STEP 8
str3 += 'i'                                                              # STEP 9
str1 += 'v'                                                             # STEP 10
path1 = "/Volumes/ramdisk/test"                                         # STEP 11
str1 += 'f'                                                             # STEP 12
str1 += 'v'                                                             # STEP 13
str3 += 'e'                                                             # STEP 14
str1 += 'u'                                                             # STEP 15
path1 += "/" + component4                                               # STEP 16
component4 = "lambda"                                                   # STEP 17
str3 += 'z'                                                             # STEP 18
path1 += "/" + component2                                               # STEP 19
os0 = newFakeOS()                                                       # STEP 20
str1 += 't'                                                             # STEP 21
result = os0.path.isabs(path1)                                          # STEP 22
str1 = ""                                                               # STEP 23
str1 += 'k'                                                             # STEP 24
result = os0.path.exists(path1)                                         # STEP 25
str1 += 'k'                                                             # STEP 26
result = os0.path.exists(path1)                                         # STEP 27
component2 = "alpha"                                                    # STEP 28
fd0 = os0.open(path1, os.O_CREAT | os.O_WRONLY)                         # STEP 29
str1 += 'f'                                                             # STEP 30
str4 = ""                                                               # STEP 31
str1 += 'z'                                                             # STEP 32
path1 += "/" + component3                                               # STEP 33
str1 += 'j'                                                             # STEP 34
str3 += 't'                                                             # STEP 35
str3 += 'o'                                                             # STEP 36
path2 = "/Volumes/ramdisk/test"                                         # STEP 37
str3 += 'z'                                                             # STEP 38
component3 = "gamma"                                                    # STEP 39
stat0 = os0.lstat(path1)                                                # STEP 40
str4 += 'm'                                                             # STEP 41
str3 += 'z'                                                             # STEP 42
str1 += 'x'                                                             # STEP 43
result = os0.path.islink(path1)                                         # STEP 44
str3 += 'l'                                                             # STEP 45
os0.link(path1,path2)                                                   # STEP 46
str3 += 'c'                                                             # STEP 47
str1 += 's'                                                             # STEP 48
stat0 = os0.stat(path1)                                                 # STEP 49
result = os0.path.abspath(path1)                                        # STEP 50
path1 += "/" + component2                                               # STEP 51
str3 += 'v'                                                             # STEP 52
str1 += " "                                                             # STEP 53
os0.makedirs(path1)                                                     # STEP 54
str1 += 'y'                                                             # STEP 55
bytes0 = 0                                                              # STEP 56
str4 += 'q'                                                             # STEP 57
str1 += 'c'                                                             # STEP 58
os0.link(path1,path1)                                                   # STEP 59
str4 += 'r'                                                             # STEP 60
os0.remove(path1)                                                       # STEP 61
stat1 = os0.lstat(path1)                                                # STEP 62
os0.makedirs(path1)                                                     # STEP 63
bytes2 = 0                                                              # STEP 64
str4 += 'q'                                                             # STEP 65
str3 += 'g'                                                             # STEP 66
os0.mkdir(path1)                                                        # STEP 67
str4 = ""                                                               # STEP 68
str3 += 'k'                                                             # STEP 69
str3 += 'l'                                                             # STEP 70
result = os0.path.isdir(path1)                                          # STEP 71
str3 += 'q'                                                             # STEP 72
os0.link(path1,path1)                                                   # STEP 73
result = os0.path.isfile(path2)                                         # STEP 74
stat0 = os0.lstat(path1)                                                # STEP 75
path2 += "/" + component0                                               # STEP 76
os0.mkdir(path2)                                                        # STEP 77
stat2 = os0.stat(path1)                                                 # STEP 78
os0.removedirs(path2)                                                   # STEP 79
stat3 = os0.lstat(path2)                                                # STEP 80
str2 = ""                                                               # STEP 81
result = os0.path.abspath(path1)                                        # STEP 82
fd0 = os0.open(path2, os.O_CREAT | os.O_WRONLY | os.O_TRUNC | os.O_EXCL)  # STEP 83
str3 += 'f'                                                             # STEP 84
str2 += 'w'                                                             # STEP 85
component0 = "a"                                                        # STEP 86
component2 = "omega"                                                    # STEP 87
str1 += 'd'                                                             # STEP 88
str2 += 'l'                                                             # STEP 89
str3 += 'h'                                                             # STEP 90
str4 += 't'                                                             # STEP 91
result = os0.path.lexists(path1)                                        # STEP 92
str2 += 'd'                                                             # STEP 93
path1 = "/Volumes/ramdisk/test"                                         # STEP 94
bytes4 = 0                                                              # STEP 95
os0.close(fd0)                                                          # STEP 96
str3 += 'v'                                                             # STEP 97
os0.symlink(path1,path2)                                                # STEP 98
fd0 = os0.open(path2, os.O_WRONLY | os.O_APPEND)                        # STEP 99
path0 = "/Volumes/ramdisk/test"                                        # STEP 100
str2 += 'l'                                                            # STEP 101
str2 += 'k'                                                            # STEP 102
str3 += 'f'                                                            # STEP 103
str3 += 'x'                                                            # STEP 104
os0.link(path2,path1)                                                  # STEP 105
result = os0.path.exists(path2)                                        # STEP 106
str3 += 's'                                                            # STEP 107
str3 += 'y'                                                            # STEP 108
str3 += " "                                                            # STEP 109
str1 += 'x'                                                            # STEP 110
str1 += 'h'                                                            # STEP 111
os0.mkdir(path1)                                                       # STEP 112
result = os0.path.isfile(path0)                                        # STEP 113
str4 += 'n'                                                            # STEP 114
os0.rmdir(path2)                                                       # STEP 115
str3 += 'r'                                                            # STEP 116
os0.symlink(path0,path2)                                               # STEP 117
result = os0.path.exists(path0)                                        # STEP 118
str2 += 'x'                                                            # STEP 119
str2 += 'w'                                                            # STEP 120
str1 += 'q'                                                            # STEP 121
result = os0.path.abspath(path2)                                       # STEP 122
str4 += 'z'                                                            # STEP 123
str1 += 'o'                                                            # STEP 124
path2 += "/" + component2                                              # STEP 125
stat3 = os0.fstat(fd0)                                                 # STEP 126
str1 += 'w'                                                            # STEP 127
result = os0.path.isdir(path2)                                         # STEP 128
str4 += 'u'                                                            # STEP 129
str3 += 'f'                                                            # STEP 130
str2 += 'w'                                                            # STEP 131
component2 = "omega"                                                   # STEP 132
str1 += 'd'                                                            # STEP 133
str2 += 'l'                                                            # STEP 134
str3 += 'h'                                                            # STEP 135
str4 += 't'                                                            # STEP 136
result = os0.path.lexists(path1)                                       # STEP 137
str2 += 'd'                                                            # STEP 138
path1 = "/Volumes/ramdisk/test"                                        # STEP 139
os0.close(fd0)                                                         # STEP 140
str3 += 'v'                                                            # STEP 141
os0.symlink(path1,path2)                                               # STEP 142
fd0 = os0.open(path2, os.O_WRONLY | os.O_APPEND)                       # STEP 143
path0 = "/Volumes/ramdisk/test"                                        # STEP 144
str2 += 'l'                                                            # STEP 145
str2 += 'k'                                                            # STEP 146
str3 += 'f'                                                            # STEP 147
str3 += 'x'                                                            # STEP 148
os0.link(path2,path1)                                                  # STEP 149
result = os0.path.exists(path2)                                        # STEP 150
str3 += 's'                                                            # STEP 151
str3 += 'y'                                                            # STEP 152
str1 += 'x'                                                            # STEP 153
str1 += 'h'                                                            # STEP 154
os0.mkdir(path1)                                                       # STEP 155
result = os0.path.isfile(path0)                                        # STEP 156
str4 += 'n'                                                            # STEP 157
os0.rmdir(path2)                                                       # STEP 158
str3 += 'r'                                                            # STEP 159
os0.symlink(path0,path2)                                               # STEP 160
result = os0.path.exists(path0)                                        # STEP 161
str2 += 'x'                                                            # STEP 162
str2 += 'w'                                                            # STEP 163
str1 += 'q'                                                            # STEP 164
result = os0.path.abspath(path2)                                       # STEP 165
str4 += 'z'                                                            # STEP 166
str1 += 'o'                                                            # STEP 167
path2 += "/" + component2                                              # STEP 168
str1 += 'g'                                                            # STEP 169
str1 += 'w'                                                            # STEP 170
result = os0.path.isdir(path2)                                         # STEP 171
str4 += 'u'                                                            # STEP 172
str4 += 't'                                                            # STEP 173
path1 += "/" + component0                                              # STEP 174
component0 = "lambda"                                                  # STEP 175
result = os0.path.isdir(path1)                                         # STEP 176
str2 += 'g'                                                            # STEP 177
result = os0.path.abspath(path2)                                       # STEP 178
opener0 = newFakeOpener(os0)                                           # STEP 179
os0.symlink(path2,path1)                                               # STEP 180
str2 += 'n'                                                            # STEP 181
file0 = opener0(path2,'a')                                             # STEP 182
str4 += 'e'                                                            # STEP 183
os0.remove(path0)                                                      # STEP 184
result = os0.read(fd0,bytes2)                                          # STEP 185
str1 += 'n'                                                            # STEP 186
component2 = "epsilon"                                                 # STEP 187
str4 += 'h'                                                            # STEP 188
str3 += 'y'                                                            # STEP 189
str2 += 'm'                                                            # STEP 190
str2 += 'y'                                                            # STEP 191
path3 = "/Volumes/ramdisk/test"                                        # STEP 192
os0.symlink(path3,path1)                                               # STEP 193
str3 += 'a'                                                            # STEP 194
os0.write(fd0,str3)                                                    # STEP 195
result = os0.path.abspath(path1)                                       # STEP 196
str2 += 'v'                                                            # STEP 197
result = os0.path.isabs(path2)                                         # STEP 198
str3 += 'r'                                                            # STEP 199
str3 += 'y'                                                            # STEP 200
result = os0.path.exists(path2)                                        # STEP 201
path0 += "/" + component0                                              # STEP 202
result = os0.path.islink(path3)                                        # STEP 203
str2 += 'h'                                                            # STEP 204
component0 = "d"                                                       # STEP 205
result = os0.read(fd0,bytes4)                                          # STEP 206
str2 += 'x'                                                            # STEP 207
os0.link(path1,path2)                                                  # STEP 208
stat4 = os0.lstat(path0)                                               # STEP 209
str2 += 'o'                                                            # STEP 210
str2 += 'f'                                                            # STEP 211
bytes3 = 0                                                             # STEP 212
result = os0.path.dirname(path1)                                       # STEP 213
str2 += 'j'                                                            # STEP 214
str3 += 'q'                                                            # STEP 215
str1 += 'z'                                                            # STEP 216
str1 += 'l'                                                            # STEP 217
path0 = "/Volumes/ramdisk/test"                                        # STEP 218
str1 += 'x'                                                            # STEP 219
path0 += "/" + component2                                              # STEP 220
component2 = "phi"                                                     # STEP 221
str2 = ""                                                              # STEP 222
str1 += 'a'                                                            # STEP 223
str1 += 'p'                                                            # STEP 224
str2 += 'e'                                                            # STEP 225
str1 += 'c'                                                            # STEP 226
str2 += 'd'                                                            # STEP 227
str2 += " "                                                            # STEP 228
path1 = "/Volumes/ramdisk/test"                                        # STEP 229
str1 += 'b'                                                            # STEP 230
path2 = "/Volumes/ramdisk/test"                                        # STEP 231
str1 += 'd'                                                            # STEP 232
str1 += 'w'                                                            # STEP 233
str3 = ""                                                              # STEP 234
str3 += 'j'                                                            # STEP 235
path2 += "/" + component4                                              # STEP 236
str2 += 'b'                                                            # STEP 237
path2 += "/" + component4                                              # STEP 238
component4 = "delta"                                                   # STEP 239
path4 = "/Volumes/ramdisk/test"                                        # STEP 240
path4 += "/" + component3                                              # STEP 241
str1 += 'f'                                                            # STEP 242
str1 += 't'                                                            # STEP 243
str2 += 's'                                                            # STEP 244
path4 += "/" + component1                                              # STEP 245
str3 += 'a'                                                            # STEP 246
str3 += 'p'                                                            # STEP 247
str2 += 'f'                                                            # STEP 248
str3 += 'y'                                                            # STEP 249
component3 = "a"                                                       # STEP 250
str2 += 'u'                                                            # STEP 251
path2 += "/" + component2                                              # STEP 252
str2 += 'f'                                                            # STEP 253
str2 += " "                                                            # STEP 254
component2 = "d"                                                       # STEP 255
component1 = "h"                                                       # STEP 256
str1 += 'j'                                                            # STEP 257
bytes2 = 0                                                             # STEP 258
str3 += 'c'                                                            # STEP 259
path3 = "/Volumes/ramdisk/test"                                        # STEP 260
str2 += 'r'                                                            # STEP 261
str3 += 'z'                                                            # STEP 262
str1 += 'u'                                                            # STEP 263
str1 += 'j'                                                            # STEP 264
path4 += "/" + component0                                              # STEP 265
str3 += 'w'                                                            # STEP 266
bytes2 += 1                                                            # STEP 267
str1 += 'g'                                                            # STEP 268
path4 = "/Volumes/ramdisk/test"                                        # STEP 269
os0.makedirs(path1)                                                    # STEP 270
str3 += 'g'                                                            # STEP 271
os0.remove(path1)                                                      # STEP 272
os0.makedirs(path0)                                                    # STEP 273
path1 += "/" + component1                                              # STEP 274
component1 = "delta"                                                   # STEP 275
os0.symlink(path0,path3)                                               # STEP 276
path0 += "/" + component3                                              # STEP 277
os0.symlink(path1,path0)                                               # STEP 278
str2 += 's'                                                            # STEP 279
os0.removedirs(path4)                                                  # STEP 280
os0.symlink(path0,path0)                                               # STEP 281
str1 += 'i'                                                            # STEP 282
path0 += "/" + component4                                              # STEP 283
str1 += " "                                                            # STEP 284
os0.rename(path1,path2)                                                # STEP 285
component3 = "a"                                                       # STEP 286
os0.path.getsize(path1)                                                # STEP 287
result = os0.read(fd0,bytes2)                                          # STEP 288
result = os0.path.isdir(path4)                                         # STEP 289
os0.makedirs(path2)                                                    # STEP 290
path0 += "/" + component4                                              # STEP 291
path2 += "/" + component1                                              # STEP 292
str1 += 'h'                                                            # STEP 293
str3 += 'k'                                                            # STEP 294
str2 += 'l'                                                            # STEP 295
str3 += 'p'                                                            # STEP 296
str3 += 'u'                                                            # STEP 297
os0.remove(path2)                                                      # STEP 298
file0 = opener0(path1,'a')                                             # STEP 299
os0.rename(path2,path1)                                                # STEP 300
result = os0.path.exists(path1)                                        # STEP 301
os0.rename(path2,path0)                                                # STEP 302
result = os0.path.islink(path3)                                        # STEP 303
os0.link(path3,path0)                                                  # STEP 304
os0.symlink(path3,path2)                                               # STEP 305
str1 += 'f'                                                            # STEP 306
result = file0.readline(bytes0)                                        # STEP 307
result = os0.path.isabs(path4)                                         # STEP 308
os0.link(path0,path1)                                                  # STEP 309
path0 += "/" + component1                                              # STEP 310
path2 += "/" + component1                                              # STEP 311
component4 = "phi"                                                     # STEP 312
path0 += "/" + component3                                              # STEP 313
component1 = "phi"                                                     # STEP 314
result = os0.path.islink(path4)                                        # STEP 315
path1 += "/" + component1                                              # STEP 316
str2 += 'j'                                                            # STEP 317
os0.symlink(path3,path1)                                               # STEP 318
str3 += 'd'                                                            # STEP 319
os0.rename(path0,path3)                                                # STEP 320
str2 += 'f'                                                            # STEP 321
result = os0.path.lexists(path4)                                       # STEP 322
os0.link(path1,path2)                                                  # STEP 323
result = os0.path.isfile(path3)                                        # STEP 324
str2 += 'p'                                                            # STEP 325
str3 += 'v'                                                            # STEP 326
str1 += 's'                                                            # STEP 327
path4 += "/" + component3                                              # STEP 328
os0.link(path1,path4)                                                  # STEP 329
file0.truncate()                                                       # STEP 330
os0.link(path0,path3)                                                  # STEP 331
os0.link(path3,path4)                                                  # STEP 332
os0.path.getsize(path2)                                                # STEP 333
file0.seek(bytes4)                                                     # STEP 334
str1 += 'b'                                                            # STEP 335
str3 += 'b'                                                            # STEP 336
path1 += "/" + component2                                              # STEP 337
os0.symlink(path3,path0)                                               # STEP 338
component0 = "epsilon"                                                 # STEP 339
component1 = "c"                                                       # STEP 340
str4 += 'e'                                                            # STEP 341
stat4 = os0.stat(path1)                                                # STEP 342
result = os0.path.exists(path0)                                        # STEP 343
os0.makedirs(path3)                                                    # STEP 344
str3 += 'h'                                                            # STEP 345
str2 += 'p'                                                            # STEP 346
component2 = "e"                                                       # STEP 347
str2 += " "                                                            # STEP 348
path0 += "/" + component1                                              # STEP 349
os0.makedirs(path1)                                                    # STEP 350
str4 += 'v'                                                            # STEP 351
str4 += 'e'                                                            # STEP 352
bytes0 += 1                                                            # STEP 353
os0.rename(path1,path2)                                                # STEP 354
str3 += 'x'                                                            # STEP 355
os0.rename(path0,path1)                                                # STEP 356
os0.rename(path2,path4)                                                # STEP 357
str4 += 'n'                                                            # STEP 358
str2 += 'l'                                                            # STEP 359
os0.rename(path2,path4)                                                # STEP 360
str4 += 'c'                                                            # STEP 361
str1 += 'v'                                                            # STEP 362
component1 = "phi"                                                     # STEP 363
str3 += 'c'                                                            # STEP 364
path1 += "/" + component4                                              # STEP 365
result = os0.path.isfile(path0)                                        # STEP 366
path0 = "/Volumes/ramdisk/test"                                        # STEP 367
os0.symlink(path1,path0)                                               # STEP 368
path0 += "/" + component3                                              # STEP 369
str2 += 'm'                                                            # STEP 370
str3 += " "                                                            # STEP 371
stat4 = os0.lstat(path1)                                               # STEP 372
os0.symlink(path3,path2)                                               # STEP 373
result = os0.path.exists(path2)                                        # STEP 374
component4 = "c"                                                       # STEP 375
os0.mkdir(path4)                                                       # STEP 376
os0.link(path0,path1)                                                  # STEP 377
os0.symlink(path2,path4)                                               # STEP 378
os0.symlink(path0,path3)                                               # STEP 379
os0.link(path4,path4)                                                  # STEP 380
os0.link(path4,path2)                                                  # STEP 381
result = os0.path.exists(path2)                                        # STEP 382
stat4 = os0.lstat(path4)                                               # STEP 383
os0.link(path3,path2)                                                  # STEP 384
str1 += " "                                                            # STEP 385
component3 = "a"                                                       # STEP 386
str1 += 'z'                                                            # STEP 387
str3 += 'a'                                                            # STEP 388
result = os0.path.exists(path4)                                        # STEP 389
os0.symlink(path1,path2)                                               # STEP 390
os0.link(path3,path0)                                                  # STEP 391
result = sorted(os0.listdir(path3))                                    # STEP 392
str3 += 'q'                                                            # STEP 393
str3 = ""                                                              # STEP 394
path3 += "/" + component0                                              # STEP 395
os0.makedirs(path1)                                                    # STEP 396
component0 = "b"                                                       # STEP 397
result = os0.readlink(path3)                                           # STEP 398
str3 += 't'                                                            # STEP 399
os0.remove(path2)                                                      # STEP 400
result = file0.read(bytes3)                                            # STEP 401
os0.symlink(path1,path3)                                               # STEP 402
path0 = "/Volumes/ramdisk/test"                                        # STEP 403
str3 += 'o'                                                            # STEP 404
os0.path.getsize(path2)                                                # STEP 405
os0.symlink(path3,path4)                                               # STEP 406
os0.removedirs(path4)                                                  # STEP 407
result = os0.readlink(path2)                                           # STEP 408
str3 = ""                                                              # STEP 409
result = os0.path.isdir(path0)                                         # STEP 410
str1 += 'm'                                                            # STEP 411
os0.symlink(path4,path3)                                               # STEP 412
path2 += "/" + component0                                              # STEP 413
os0.rename(path1,path0)                                                # STEP 414
os0.removedirs(path2)                                                  # STEP 415
str1 += 'q'                                                            # STEP 416
str2 += 'r'                                                            # STEP 417
path0 += "/" + component4                                              # STEP 418
file0.truncate()                                                       # STEP 419
file0.write(str4)                                                      # STEP 420
file0.seek(bytes2)                                                     # STEP 421
str1 += 'o'                                                            # STEP 422
os0.rename(path3,path0)                                                # STEP 423
str3 += 'z'                                                            # STEP 424
os0.rmdir(path0)                                                       # STEP 425
str1 += 'v'                                                            # STEP 426
os0.symlink(path2,path2)                                               # STEP 427
result = os0.read(fd0,bytes2)                                          # STEP 428
str3 += 'o'                                                            # STEP 429
str1 += 'a'                                                            # STEP 430
result = file0.readline(bytes0)                                        # STEP 431
ERROR: (<type 'exceptions.OSError'>, OSError(9, 'File is not open for reading.'), <traceback object at 0x1077ac908>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 28701, in act570
    result = self.p_file[0].readline(self.p_bytes[0])
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4284, in read_error
    self._raise('File is not open for reading.')
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4112, in _raise
    raise OSError(errno.EBADF, message)
FAILURE IS NEW, STORING; NOW 6 DISTINCT FAILURES
UNCAUGHT EXCEPTION
ERROR: (<type 'exceptions.OSError'>, OSError(9, 'File is not open for reading.'), <traceback object at 0x1077b02d8>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 28701, in act570
    result = self.p_file[0].readline(self.p_bytes[0])
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4284, in read_error
    self._raise('File is not open for reading.')
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4112, in _raise
    raise OSError(errno.EBADF, message)
Original test has 363 steps

SAVING TEST AS failure.4180.test.6
FINAL VERSION OF TEST, WITH LOGGED REPLAY:
component4 = "e"                                                         # STEP 0
component2 = "h"                                                         # STEP 1
component1 = "a"                                                         # STEP 2
component3 = "alpha"                                                     # STEP 3
str1 = ""                                                                # STEP 4
component0 = "alpha"                                                     # STEP 5
str1 += 'd'                                                              # STEP 6
str3 = ""                                                                # STEP 7
str3 += " "                                                              # STEP 8
str3 += 'i'                                                              # STEP 9
str1 += 'v'                                                             # STEP 10
path1 = "/Volumes/ramdisk/test"                                         # STEP 11
str1 += 'f'                                                             # STEP 12
str1 += 'v'                                                             # STEP 13
str3 += 'e'                                                             # STEP 14
str1 += 'u'                                                             # STEP 15
path1 += "/" + component4                                               # STEP 16
component4 = "lambda"                                                   # STEP 17
str3 += 'z'                                                             # STEP 18
path1 += "/" + component2                                               # STEP 19
os0 = newFakeOS()                                                       # STEP 20
str1 += 't'                                                             # STEP 21
result = os0.path.isabs(path1)                                          # STEP 22
str1 = ""                                                               # STEP 23
str1 += 'k'                                                             # STEP 24
result = os0.path.exists(path1)                                         # STEP 25
str1 += 'k'                                                             # STEP 26
result = os0.path.exists(path1)                                         # STEP 27
component2 = "alpha"                                                    # STEP 28
fd0 = os0.open(path1, os.O_CREAT | os.O_WRONLY)                         # STEP 29
str1 += 'f'                                                             # STEP 30
str4 = ""                                                               # STEP 31
str1 += 'z'                                                             # STEP 32
path1 += "/" + component3                                               # STEP 33
str1 += 'j'                                                             # STEP 34
str3 += 't'                                                             # STEP 35
str3 += 'o'                                                             # STEP 36
path2 = "/Volumes/ramdisk/test"                                         # STEP 37
str3 += 'z'                                                             # STEP 38
component3 = "gamma"                                                    # STEP 39
stat0 = os0.lstat(path1)                                                # STEP 40
str4 += 'm'                                                             # STEP 41
str3 += 'z'                                                             # STEP 42
str1 += 'x'                                                             # STEP 43
result = os0.path.islink(path1)                                         # STEP 44
str3 += 'l'                                                             # STEP 45
os0.link(path1,path2)                                                   # STEP 46
str3 += 'c'                                                             # STEP 47
str1 += 's'                                                             # STEP 48
stat0 = os0.stat(path1)                                                 # STEP 49
result = os0.path.abspath(path1)                                        # STEP 50
path1 += "/" + component2                                               # STEP 51
str3 += 'v'                                                             # STEP 52
str1 += " "                                                             # STEP 53
os0.makedirs(path1)                                                     # STEP 54
str1 += 'y'                                                             # STEP 55
bytes0 = 0                                                              # STEP 56
str4 += 'q'                                                             # STEP 57
str1 += 'c'                                                             # STEP 58
os0.link(path1,path1)                                                   # STEP 59
str4 += 'r'                                                             # STEP 60
os0.remove(path1)                                                       # STEP 61
stat1 = os0.lstat(path1)                                                # STEP 62
os0.makedirs(path1)                                                     # STEP 63
bytes2 = 0                                                              # STEP 64
str4 += 'q'                                                             # STEP 65
str3 += 'g'                                                             # STEP 66
os0.mkdir(path1)                                                        # STEP 67
str4 = ""                                                               # STEP 68
str3 += 'k'                                                             # STEP 69
str3 += 'l'                                                             # STEP 70
result = os0.path.isdir(path1)                                          # STEP 71
str3 += 'q'                                                             # STEP 72
os0.link(path1,path1)                                                   # STEP 73
result = os0.path.isfile(path2)                                         # STEP 74
stat0 = os0.lstat(path1)                                                # STEP 75
path2 += "/" + component0                                               # STEP 76
os0.mkdir(path2)                                                        # STEP 77
stat2 = os0.stat(path1)                                                 # STEP 78
os0.removedirs(path2)                                                   # STEP 79
stat3 = os0.lstat(path2)                                                # STEP 80
str2 = ""                                                               # STEP 81
result = os0.path.abspath(path1)                                        # STEP 82
fd0 = os0.open(path2, os.O_CREAT | os.O_WRONLY | os.O_TRUNC | os.O_EXCL)  # STEP 83
str3 += 'f'                                                             # STEP 84
str2 += 'w'                                                             # STEP 85
component0 = "a"                                                        # STEP 86
component2 = "omega"                                                    # STEP 87
str1 += 'd'                                                             # STEP 88
str2 += 'l'                                                             # STEP 89
str3 += 'h'                                                             # STEP 90
str4 += 't'                                                             # STEP 91
result = os0.path.lexists(path1)                                        # STEP 92
str2 += 'd'                                                             # STEP 93
path1 = "/Volumes/ramdisk/test"                                         # STEP 94
bytes4 = 0                                                              # STEP 95
os0.close(fd0)                                                          # STEP 96
str3 += 'v'                                                             # STEP 97
os0.symlink(path1,path2)                                                # STEP 98
fd0 = os0.open(path2, os.O_WRONLY | os.O_APPEND)                        # STEP 99
path0 = "/Volumes/ramdisk/test"                                        # STEP 100
str2 += 'l'                                                            # STEP 101
str2 += 'k'                                                            # STEP 102
str3 += 'f'                                                            # STEP 103
str3 += 'x'                                                            # STEP 104
os0.link(path2,path1)                                                  # STEP 105
result = os0.path.exists(path2)                                        # STEP 106
str3 += 's'                                                            # STEP 107
str3 += 'y'                                                            # STEP 108
str3 += " "                                                            # STEP 109
str1 += 'x'                                                            # STEP 110
str1 += 'h'                                                            # STEP 111
os0.mkdir(path1)                                                       # STEP 112
result = os0.path.isfile(path0)                                        # STEP 113
str4 += 'n'                                                            # STEP 114
os0.rmdir(path2)                                                       # STEP 115
str3 += 'r'                                                            # STEP 116
os0.symlink(path0,path2)                                               # STEP 117
result = os0.path.exists(path0)                                        # STEP 118
str2 += 'x'                                                            # STEP 119
str2 += 'w'                                                            # STEP 120
str1 += 'q'                                                            # STEP 121
result = os0.path.abspath(path2)                                       # STEP 122
str4 += 'z'                                                            # STEP 123
str1 += 'o'                                                            # STEP 124
path2 += "/" + component2                                              # STEP 125
stat3 = os0.fstat(fd0)                                                 # STEP 126
str1 += 'w'                                                            # STEP 127
result = os0.path.isdir(path2)                                         # STEP 128
str4 += 'u'                                                            # STEP 129
str3 += 'f'                                                            # STEP 130
str2 += 'w'                                                            # STEP 131
component2 = "omega"                                                   # STEP 132
str1 += 'd'                                                            # STEP 133
str2 += 'l'                                                            # STEP 134
str3 += 'h'                                                            # STEP 135
str4 += 't'                                                            # STEP 136
result = os0.path.lexists(path1)                                       # STEP 137
str2 += 'd'                                                            # STEP 138
path1 = "/Volumes/ramdisk/test"                                        # STEP 139
os0.close(fd0)                                                         # STEP 140
str3 += 'v'                                                            # STEP 141
os0.symlink(path1,path2)                                               # STEP 142
fd0 = os0.open(path2, os.O_WRONLY | os.O_APPEND)                       # STEP 143
path0 = "/Volumes/ramdisk/test"                                        # STEP 144
str2 += 'l'                                                            # STEP 145
str2 += 'k'                                                            # STEP 146
str3 += 'f'                                                            # STEP 147
str3 += 'x'                                                            # STEP 148
os0.link(path2,path1)                                                  # STEP 149
result = os0.path.exists(path2)                                        # STEP 150
str3 += 's'                                                            # STEP 151
str3 += 'y'                                                            # STEP 152
str1 += 'x'                                                            # STEP 153
str1 += 'h'                                                            # STEP 154
os0.mkdir(path1)                                                       # STEP 155
result = os0.path.isfile(path0)                                        # STEP 156
str4 += 'n'                                                            # STEP 157
os0.rmdir(path2)                                                       # STEP 158
str3 += 'r'                                                            # STEP 159
os0.symlink(path0,path2)                                               # STEP 160
result = os0.path.exists(path0)                                        # STEP 161
str2 += 'x'                                                            # STEP 162
str2 += 'w'                                                            # STEP 163
str1 += 'q'                                                            # STEP 164
result = os0.path.abspath(path2)                                       # STEP 165
str4 += 'z'                                                            # STEP 166
str1 += 'o'                                                            # STEP 167
path2 += "/" + component2                                              # STEP 168
str1 += 'g'                                                            # STEP 169
str1 += 'w'                                                            # STEP 170
result = os0.path.isdir(path2)                                         # STEP 171
str4 += 'u'                                                            # STEP 172
str4 += 't'                                                            # STEP 173
path1 += "/" + component0                                              # STEP 174
component0 = "lambda"                                                  # STEP 175
result = os0.path.isdir(path1)                                         # STEP 176
str2 += 'g'                                                            # STEP 177
result = os0.path.abspath(path2)                                       # STEP 178
opener0 = newFakeOpener(os0)                                           # STEP 179
os0.symlink(path2,path1)                                               # STEP 180
str2 += 'n'                                                            # STEP 181
file0 = opener0(path2,'a')                                             # STEP 182
str4 += 'e'                                                            # STEP 183
os0.remove(path0)                                                      # STEP 184
result = os0.read(fd0,bytes2)                                          # STEP 185
str1 += 'n'                                                            # STEP 186
component2 = "epsilon"                                                 # STEP 187
str4 += 'h'                                                            # STEP 188
str3 += 'y'                                                            # STEP 189
str2 += 'm'                                                            # STEP 190
str2 += 'y'                                                            # STEP 191
path3 = "/Volumes/ramdisk/test"                                        # STEP 192
os0.symlink(path3,path1)                                               # STEP 193
str3 += 'a'                                                            # STEP 194
os0.write(fd0,str3)                                                    # STEP 195
result = os0.path.abspath(path1)                                       # STEP 196
str2 += 'v'                                                            # STEP 197
result = os0.path.isabs(path2)                                         # STEP 198
str3 += 'r'                                                            # STEP 199
str3 += 'y'                                                            # STEP 200
result = os0.path.exists(path2)                                        # STEP 201
path0 += "/" + component0                                              # STEP 202
result = os0.path.islink(path3)                                        # STEP 203
str2 += 'h'                                                            # STEP 204
component0 = "d"                                                       # STEP 205
result = os0.read(fd0,bytes4)                                          # STEP 206
str2 += 'x'                                                            # STEP 207
os0.link(path1,path2)                                                  # STEP 208
stat4 = os0.lstat(path0)                                               # STEP 209
str2 += 'o'                                                            # STEP 210
str2 += 'f'                                                            # STEP 211
bytes3 = 0                                                             # STEP 212
result = os0.path.dirname(path1)                                       # STEP 213
str2 += 'j'                                                            # STEP 214
str3 += 'q'                                                            # STEP 215
result = sorted(os0.listdir(path2))                                    # STEP 216
bytes2 += 1                                                            # STEP 217
str1 += 'z'                                                            # STEP 218
str3 += 't'                                                            # STEP 219
path2 += "/" + component2                                              # STEP 220
str3 += 'v'                                                            # STEP 221
str1 += 'l'                                                            # STEP 222
result = os0.path.isabs(path2)                                         # STEP 223
str1 += 'f'                                                            # STEP 224
os0.path.getsize(path1)                                                # STEP 225
str4 = ""                                                              # STEP 226
component2 = "omega"                                                   # STEP 227
result = os0.path.lexists(path2)                                       # STEP 228
str3 += 'w'                                                            # STEP 229
bytes2 += 1                                                            # STEP 230
str1 += 'g'                                                            # STEP 231
path4 = "/Volumes/ramdisk/test"                                        # STEP 232
os0.makedirs(path1)                                                    # STEP 233
str3 += 'g'                                                            # STEP 234
os0.remove(path1)                                                      # STEP 235
os0.makedirs(path0)                                                    # STEP 236
path1 += "/" + component1                                              # STEP 237
component1 = "delta"                                                   # STEP 238
os0.symlink(path0,path3)                                               # STEP 239
path0 += "/" + component3                                              # STEP 240
os0.symlink(path1,path0)                                               # STEP 241
str2 += 's'                                                            # STEP 242
os0.removedirs(path4)                                                  # STEP 243
os0.symlink(path0,path0)                                               # STEP 244
str1 += 'i'                                                            # STEP 245
path0 += "/" + component4                                              # STEP 246
str1 += " "                                                            # STEP 247
os0.rename(path1,path2)                                                # STEP 248
component3 = "a"                                                       # STEP 249
os0.path.getsize(path1)                                                # STEP 250
result = os0.read(fd0,bytes2)                                          # STEP 251
result = os0.path.isdir(path4)                                         # STEP 252
os0.makedirs(path2)                                                    # STEP 253
path0 += "/" + component4                                              # STEP 254
path2 += "/" + component1                                              # STEP 255
str1 += 'h'                                                            # STEP 256
str3 += 'k'                                                            # STEP 257
str2 += 'l'                                                            # STEP 258
str3 += 'p'                                                            # STEP 259
str3 += 'u'                                                            # STEP 260
os0.remove(path2)                                                      # STEP 261
file0 = opener0(path1,'a')                                             # STEP 262
os0.rename(path2,path1)                                                # STEP 263
result = os0.path.exists(path1)                                        # STEP 264
os0.rename(path2,path0)                                                # STEP 265
result = os0.path.islink(path3)                                        # STEP 266
os0.link(path3,path0)                                                  # STEP 267
os0.symlink(path3,path2)                                               # STEP 268
str1 += 'f'                                                            # STEP 269
result = os0.path.isabs(path4)                                         # STEP 270
os0.link(path0,path1)                                                  # STEP 271
path0 += "/" + component1                                              # STEP 272
path2 += "/" + component1                                              # STEP 273
component4 = "phi"                                                     # STEP 274
path0 += "/" + component3                                              # STEP 275
component1 = "phi"                                                     # STEP 276
result = os0.path.islink(path4)                                        # STEP 277
path1 += "/" + component1                                              # STEP 278
str2 += 'j'                                                            # STEP 279
os0.symlink(path3,path1)                                               # STEP 280
str3 += 'd'                                                            # STEP 281
os0.rename(path0,path3)                                                # STEP 282
str2 += 'f'                                                            # STEP 283
result = os0.path.lexists(path4)                                       # STEP 284
os0.link(path1,path2)                                                  # STEP 285
result = os0.path.isfile(path3)                                        # STEP 286
str2 += 'p'                                                            # STEP 287
str3 += 'v'                                                            # STEP 288
str1 += 's'                                                            # STEP 289
path4 += "/" + component3                                              # STEP 290
os0.link(path1,path4)                                                  # STEP 291
os0.link(path0,path3)                                                  # STEP 292
os0.link(path3,path4)                                                  # STEP 293
os0.path.getsize(path2)                                                # STEP 294
path2 += "/" + component4                                              # STEP 295
component1 = "h"                                                       # STEP 296
os0.link(path0,path1)                                                  # STEP 297
str4 += 'w'                                                            # STEP 298
str4 += 'l'                                                            # STEP 299
os0.remove(path0)                                                      # STEP 300
os0.path.getsize(path2)                                                # STEP 301
file0 = opener0(path0,'w')                                             # STEP 302
os0.link(path4,path2)                                                  # STEP 303
os0.remove(path0)                                                      # STEP 304
file0 = opener0(path2,'r')                                             # STEP 305
str3 += 'w'                                                            # STEP 306
os0.rename(path2,path3)                                                # STEP 307
file0 = opener0(path3,'w')                                             # STEP 308
file0 = opener0(path0,'r')                                             # STEP 309
path0 = "/Volumes/ramdisk/test"                                        # STEP 310
str1 += 'p'                                                            # STEP 311
os0.write(fd0,str4)                                                    # STEP 312
file0 = opener0(path4,'w')                                             # STEP 313
str3 += 'j'                                                            # STEP 314
os0.rmdir(path1)                                                       # STEP 315
os0.link(path0,path0)                                                  # STEP 316
bytes2 = 0                                                             # STEP 317
str3 += 'h'                                                            # STEP 318
path2 = "/Volumes/ramdisk/test"                                        # STEP 319
bytes1 = 0                                                             # STEP 320
str3 += 'l'                                                            # STEP 321
path2 += "/" + component2                                              # STEP 322
str3 += 'f'                                                            # STEP 323
result = os0.path.isabs(path2)                                         # STEP 324
str2 += 'x'                                                            # STEP 325
str2 += 'r'                                                            # STEP 326
str3 += 'q'                                                            # STEP 327
str3 += 'p'                                                            # STEP 328
str2 = ""                                                              # STEP 329
os0.link(path0,path0)                                                  # STEP 330
str3 += 'u'                                                            # STEP 331
component2 = "f"                                                       # STEP 332
bytes4 = 0                                                             # STEP 333
result = os0.path.lexists(path0)                                       # STEP 334
str3 += 'u'                                                            # STEP 335
str3 += 'r'                                                            # STEP 336
os0.link(path0,path2)                                                  # STEP 337
result = os0.path.abspath(path2)                                       # STEP 338
str2 += 'o'                                                            # STEP 339
str2 += 'p'                                                            # STEP 340
os0.write(fd0,str2)                                                    # STEP 341
os0.symlink(path2,path2)                                               # STEP 342
os0.link(path0,path0)                                                  # STEP 343
str3 += 'a'                                                            # STEP 344
str2 += 'o'                                                            # STEP 345
str3 += 'r'                                                            # STEP 346
result = os0.path.isabs(path2)                                         # STEP 347
result = os0.readlink(path2)                                           # STEP 348
path2 += "/" + component2                                              # STEP 349
result = os0.readlink(path2)                                           # STEP 350
str2 += 'c'                                                            # STEP 351
os0.remove(path2)                                                      # STEP 352
os0.path.getsize(path1)                                                # STEP 353
str4 += 'j'                                                            # STEP 354
str4 += 'q'                                                            # STEP 355
str2 += 'z'                                                            # STEP 356
os0.symlink(path3,path0)                                               # STEP 357
str2 += 'p'                                                            # STEP 358
str2 += 'r'                                                            # STEP 359
os0.remove(path4)                                                      # STEP 360
os0.symlink(path0,path1)                                               # STEP 361
result = file0.readline(bytes0)                                        # STEP 362
ERROR: (<type 'exceptions.OSError'>, OSError(9, 'File is not open for reading.'), <traceback object at 0x107f5b2d8>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 28701, in act570
    result = self.p_file[0].readline(self.p_bytes[0])
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4284, in read_error
    self._raise('File is not open for reading.')
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4112, in _raise
    raise OSError(errno.EBADF, message)
FAILURE IS NEW, STORING; NOW 7 DISTINCT FAILURES
STOPPING TEST DUE TO TIMEOUT, TERMINATED AT LENGTH 449
STOPPING TESTING DUE TO TIMEOUT
42.2891118543 PERCENT COVERED
60.3229379654 TOTAL RUNTIME
123 EXECUTED
11747 TOTAL TEST OPERATIONS
18.7704370022 TIME SPENT EXECUTING TEST OPERATIONS
0.427715063095 TIME SPENT EVALUATING GUARDS AND CHOOSING ACTIONS
0.00776529312134 TIME SPENT CHECKING PROPERTIES
18.7782022953 TOTAL TIME SPENT RUNNING SUT
0.366568088531 TIME SPENT RESTARTING
0.0 TIME SPENT REDUCING TEST CASES
7 FAILED
0 REPEATS OF FAILURES
7 ACTUAL DISTINCT FAILURES

FAILURE 0
component4 = "e"                                                         # STEP 0
component2 = "h"                                                         # STEP 1
component1 = "a"                                                         # STEP 2
component3 = "alpha"                                                     # STEP 3
str1 = ""                                                                # STEP 4
component0 = "alpha"                                                     # STEP 5
str1 += 'd'                                                              # STEP 6
str3 = ""                                                                # STEP 7
str3 += " "                                                              # STEP 8
str3 += 'i'                                                              # STEP 9
str1 += 'v'                                                             # STEP 10
path1 = "/Volumes/ramdisk/test"                                         # STEP 11
str1 += 'f'                                                             # STEP 12
str1 += 'v'                                                             # STEP 13
str3 += 'e'                                                             # STEP 14
str1 += 'u'                                                             # STEP 15
path1 += "/" + component4                                               # STEP 16
component4 = "lambda"                                                   # STEP 17
str3 += 'z'                                                             # STEP 18
path1 += "/" + component2                                               # STEP 19
os0 = newFakeOS()                                                       # STEP 20
str1 += 't'                                                             # STEP 21
result = os0.path.isabs(path1)                                          # STEP 22
str1 = ""                                                               # STEP 23
str1 += 'k'                                                             # STEP 24
result = os0.path.exists(path1)                                         # STEP 25
str1 += 'k'                                                             # STEP 26
result = os0.path.exists(path1)                                         # STEP 27
component2 = "alpha"                                                    # STEP 28
fd0 = os0.open(path1, os.O_CREAT | os.O_WRONLY)                         # STEP 29
str1 += 'f'                                                             # STEP 30
str4 = ""                                                               # STEP 31
str1 += 'z'                                                             # STEP 32
path1 += "/" + component3                                               # STEP 33
str1 += 'j'                                                             # STEP 34
str3 += 't'                                                             # STEP 35
str3 += 'o'                                                             # STEP 36
path2 = "/Volumes/ramdisk/test"                                         # STEP 37
str3 += 'z'                                                             # STEP 38
component3 = "gamma"                                                    # STEP 39
stat0 = os0.lstat(path1)                                                # STEP 40
str4 += 'm'                                                             # STEP 41
str3 += 'z'                                                             # STEP 42
str1 += 'x'                                                             # STEP 43
result = os0.path.islink(path1)                                         # STEP 44
str3 += 'l'                                                             # STEP 45
os0.link(path1,path2)                                                   # STEP 46
str3 += 'c'                                                             # STEP 47
str1 += 's'                                                             # STEP 48
stat0 = os0.stat(path1)                                                 # STEP 49
result = os0.path.abspath(path1)                                        # STEP 50
path1 += "/" + component2                                               # STEP 51
str3 += 'v'                                                             # STEP 52
str1 += " "                                                             # STEP 53
str1 += 'y'                                                             # STEP 54
bytes0 = 0                                                              # STEP 55
str4 += 'q'                                                             # STEP 56
str1 += 'c'                                                             # STEP 57
os0.link(path1,path1)                                                   # STEP 58
str4 += 'r'                                                             # STEP 59
os0.remove(path1)                                                       # STEP 60
stat1 = os0.lstat(path1)                                                # STEP 61
os0.makedirs(path1)                                                     # STEP 62
bytes2 = 0                                                              # STEP 63
str4 += 'q'                                                             # STEP 64
str3 += 'g'                                                             # STEP 65
os0.mkdir(path1)                                                        # STEP 66
str4 = ""                                                               # STEP 67
str3 += 'k'                                                             # STEP 68
str3 += 'l'                                                             # STEP 69
result = os0.path.isdir(path1)                                          # STEP 70
str3 += 'q'                                                             # STEP 71
os0.link(path1,path1)                                                   # STEP 72
result = os0.path.isfile(path2)                                         # STEP 73
stat0 = os0.lstat(path1)                                                # STEP 74
path2 += "/" + component0                                               # STEP 75
os0.mkdir(path2)                                                        # STEP 76
stat2 = os0.stat(path1)                                                 # STEP 77
os0.removedirs(path2)                                                   # STEP 78
stat3 = os0.lstat(path2)                                                # STEP 79
str2 = ""                                                               # STEP 80
result = os0.path.abspath(path1)                                        # STEP 81
fd0 = os0.open(path2, os.O_CREAT | os.O_WRONLY | os.O_TRUNC | os.O_EXCL)  # STEP 82
str3 += 'f'                                                             # STEP 83
str2 += 'w'                                                             # STEP 84
component0 = "a"                                                        # STEP 85
component2 = "omega"                                                    # STEP 86
str1 += 'd'                                                             # STEP 87
str2 += 'l'                                                             # STEP 88
str3 += 'h'                                                             # STEP 89
str4 += 't'                                                             # STEP 90
result = os0.path.lexists(path1)                                        # STEP 91
str2 += 'd'                                                             # STEP 92
path1 = "/Volumes/ramdisk/test"                                         # STEP 93
bytes4 = 0                                                              # STEP 94
os0.close(fd0)                                                          # STEP 95
str3 += 'v'                                                             # STEP 96
os0.symlink(path1,path2)                                                # STEP 97
fd0 = os0.open(path2, os.O_WRONLY | os.O_APPEND)                        # STEP 98
path0 = "/Volumes/ramdisk/test"                                         # STEP 99
str2 += 'l'                                                            # STEP 100
str2 += 'k'                                                            # STEP 101
str3 += 'f'                                                            # STEP 102
str3 += 'x'                                                            # STEP 103
os0.link(path2,path1)                                                  # STEP 104
result = os0.path.exists(path2)                                        # STEP 105
str3 += 's'                                                            # STEP 106
str3 += 'y'                                                            # STEP 107
str3 += " "                                                            # STEP 108
str1 += 'x'                                                            # STEP 109
str1 += 'h'                                                            # STEP 110
os0.mkdir(path1)                                                       # STEP 111
result = os0.path.isfile(path0)                                        # STEP 112
str4 += 'n'                                                            # STEP 113
os0.rmdir(path2)                                                       # STEP 114
str3 += 'r'                                                            # STEP 115
os0.symlink(path0,path2)                                               # STEP 116
result = os0.path.exists(path0)                                        # STEP 117
str2 += 'x'                                                            # STEP 118
str2 += 'w'                                                            # STEP 119
str1 += 'q'                                                            # STEP 120
result = os0.path.abspath(path2)                                       # STEP 121
str4 += 'z'                                                            # STEP 122
str1 += 'o'                                                            # STEP 123
path2 += "/" + component2                                              # STEP 124
stat3 = os0.fstat(fd0)                                                 # STEP 125
str1 += 'w'                                                            # STEP 126
result = os0.path.isdir(path2)                                         # STEP 127
str4 += 'u'                                                            # STEP 128
str3 += 'f'                                                            # STEP 129
str2 += 'w'                                                            # STEP 130
component2 = "omega"                                                   # STEP 131
str1 += 'd'                                                            # STEP 132
str2 += 'l'                                                            # STEP 133
str3 += 'h'                                                            # STEP 134
str4 += 't'                                                            # STEP 135
result = os0.path.lexists(path1)                                       # STEP 136
str2 += 'd'                                                            # STEP 137
path1 = "/Volumes/ramdisk/test"                                        # STEP 138
os0.close(fd0)                                                         # STEP 139
str3 += 'v'                                                            # STEP 140
os0.symlink(path1,path2)                                               # STEP 141
fd0 = os0.open(path2, os.O_WRONLY | os.O_APPEND)                       # STEP 142
path0 = "/Volumes/ramdisk/test"                                        # STEP 143
str2 += 'l'                                                            # STEP 144
str2 += 'k'                                                            # STEP 145
str3 += 'f'                                                            # STEP 146
str3 += 'x'                                                            # STEP 147
os0.link(path2,path1)                                                  # STEP 148
result = os0.path.exists(path2)                                        # STEP 149
str3 += 's'                                                            # STEP 150
str3 += 'y'                                                            # STEP 151
str1 += 'x'                                                            # STEP 152
str1 += 'h'                                                            # STEP 153
os0.mkdir(path1)                                                       # STEP 154
result = os0.path.isfile(path0)                                        # STEP 155
str4 += 'n'                                                            # STEP 156
os0.rmdir(path2)                                                       # STEP 157
str3 += 'r'                                                            # STEP 158
os0.symlink(path0,path2)                                               # STEP 159
result = os0.path.exists(path0)                                        # STEP 160
str2 += 'x'                                                            # STEP 161
str2 += 'w'                                                            # STEP 162
str1 += 'q'                                                            # STEP 163
result = os0.path.abspath(path2)                                       # STEP 164
str4 += 'z'                                                            # STEP 165
str1 += 'o'                                                            # STEP 166
path2 += "/" + component2                                              # STEP 167
str1 += 'g'                                                            # STEP 168
str1 += 'w'                                                            # STEP 169
result = os0.path.isdir(path2)                                         # STEP 170
str4 += 'u'                                                            # STEP 171
str4 += 't'                                                            # STEP 172
path1 += "/" + component0                                              # STEP 173
component0 = "lambda"                                                  # STEP 174
result = os0.path.isdir(path1)                                         # STEP 175
str2 += 'g'                                                            # STEP 176
result = os0.path.abspath(path2)                                       # STEP 177
opener0 = newFakeOpener(os0)                                           # STEP 178
os0.symlink(path2,path1)                                               # STEP 179
str2 += 'n'                                                            # STEP 180
file0 = opener0(path2,'a')                                             # STEP 181
str4 += 'e'                                                            # STEP 182
os0.remove(path0)                                                      # STEP 183
result = os0.read(fd0,bytes2)                                          # STEP 184
str1 += 'n'                                                            # STEP 185
component2 = "epsilon"                                                 # STEP 186
str4 += 'h'                                                            # STEP 187
str3 += 'y'                                                            # STEP 188
str2 += 'm'                                                            # STEP 189
str2 += 'y'                                                            # STEP 190
path3 = "/Volumes/ramdisk/test"                                        # STEP 191
os0.symlink(path3,path1)                                               # STEP 192
str3 += 'a'                                                            # STEP 193
os0.write(fd0,str3)                                                    # STEP 194
result = os0.path.abspath(path1)                                       # STEP 195
str2 += 'v'                                                            # STEP 196
result = os0.path.isabs(path2)                                         # STEP 197
str3 += 'r'                                                            # STEP 198
str3 += 'y'                                                            # STEP 199
result = os0.path.exists(path2)                                        # STEP 200
path0 += "/" + component0                                              # STEP 201
result = os0.path.islink(path3)                                        # STEP 202
str2 += 'h'                                                            # STEP 203
component0 = "d"                                                       # STEP 204
result = os0.read(fd0,bytes4)                                          # STEP 205
str2 += 'x'                                                            # STEP 206
os0.link(path1,path2)                                                  # STEP 207
stat4 = os0.lstat(path0)                                               # STEP 208
str2 += 'o'                                                            # STEP 209
str2 += 'f'                                                            # STEP 210
bytes3 = 0                                                             # STEP 211
result = os0.path.dirname(path1)                                       # STEP 212
str2 += 'j'                                                            # STEP 213
str3 += 'q'                                                            # STEP 214
result = sorted(os0.listdir(path2))                                    # STEP 215
bytes2 += 1                                                            # STEP 216
str1 += 'z'                                                            # STEP 217
str3 += 't'                                                            # STEP 218
path2 += "/" + component2                                              # STEP 219
str3 += 'v'                                                            # STEP 220
str1 += 'l'                                                            # STEP 221
result = os0.path.isabs(path2)                                         # STEP 222
str1 += 'f'                                                            # STEP 223
os0.path.getsize(path1)                                                # STEP 224
str4 = ""                                                              # STEP 225
component2 = "omega"                                                   # STEP 226
result = os0.path.lexists(path2)                                       # STEP 227
str4 += " "                                                            # STEP 228
str1 += 'c'                                                            # STEP 229
str2 += 'k'                                                            # STEP 230
file0 = opener0(path3,'w')                                             # STEP 231
os0.rename(path2,path3)                                                # STEP 232
str4 += 'u'                                                            # STEP 233
file0 = opener0(path2,'r')                                             # STEP 234
path4 = "/Volumes/ramdisk/test"                                        # STEP 235
file0 = opener0(path2,'a')                                             # STEP 236
path0 += "/" + component0                                              # STEP 237
stat4 = os0.stat(path2)                                                # STEP 238
component0 = "beta"                                                    # STEP 239
str1 += 'd'                                                            # STEP 240
os0.link(path1,path4)                                                  # STEP 241
str3 += 'r'                                                            # STEP 242
os0.link(path1,path3)                                                  # STEP 243
str2 += 'r'                                                            # STEP 244
os0.mkdir(path1)                                                       # STEP 245
bytes4 = 0                                                             # STEP 246
file0 = opener0(path0)                                                 # STEP 247
str1 += 'k'                                                            # STEP 248
os0.link(path4,path4)                                                  # STEP 249
os0.symlink(path4,path3)                                               # STEP 250
os0.makedirs(path4)                                                    # STEP 251
result = os0.path.isdir(path4)                                         # STEP 252
result = os0.path.abspath(path2)                                       # STEP 253
result = os0.path.islink(path3)                                        # STEP 254
result = os0.path.islink(path4)                                        # STEP 255
result = os0.path.lexists(path0)                                       # STEP 256
str2 += 'd'                                                            # STEP 257
result = os0.readlink(path3)                                           # STEP 258
str4 += 'j'                                                            # STEP 259
os0.symlink(path0,path0)                                               # STEP 260
str2 += 'e'                                                            # STEP 261
file0 = opener0(path4,'a')                                             # STEP 262
str2 += 'h'                                                            # STEP 263
result = os0.path.lexists(path0)                                       # STEP 264
str1 += 'q'                                                            # STEP 265
file0 = opener0(path0,'r')                                             # STEP 266
str1 += 't'                                                            # STEP 267
os0.link(path1,path0)                                                  # STEP 268
os0.symlink(path4,path4)                                               # STEP 269
str4 += 'o'                                                            # STEP 270
result = os0.path.islink(path2)                                        # STEP 271
str2 += 'e'                                                            # STEP 272
stat4 = os0.stat(path1)                                                # STEP 273
str0 = ""                                                              # STEP 274
result = os0.path.exists(path4)                                        # STEP 275
result = os0.path.isabs(path3)                                         # STEP 276
os0.path.getsize(path2)                                                # STEP 277
path2 = "/Volumes/ramdisk/test"                                        # STEP 278
path1 += "/" + component4                                              # STEP 279
path3 += "/" + component3                                              # STEP 280
file0 = opener0(path1,'r')                                             # STEP 281
result = os0.readlink(path2)                                           # STEP 282
os0.rename(path0,path3)                                                # STEP 283
result = os0.path.isfile(path3)                                        # STEP 284
os0.symlink(path3,path3)                                               # STEP 285
str2 += 'i'                                                            # STEP 286
str2 += 'b'                                                            # STEP 287
str0 += 'a'                                                            # STEP 288
os0.path.getsize(path3)                                                # STEP 289
result = os0.path.isabs(path1)                                         # STEP 290
os0.mkdir(path4)                                                       # STEP 291
str0 += 'i'                                                            # STEP 292
file0 = opener0(path0)                                                 # STEP 293
component4 = "h"                                                       # STEP 294
os0.link(path0,path1)                                                  # STEP 295
os0.symlink(path3,path2)                                               # STEP 296
str3 += 't'                                                            # STEP 297
result = os0.read(fd0,bytes2)                                          # STEP 298
result = os0.path.islink(path4)                                        # STEP 299
result = os0.path.lexists(path4)                                       # STEP 300
result = stat3.st_nlink                                                # STEP 301
str1 += 'l'                                                            # STEP 302
path2 += "/" + component2                                              # STEP 303
os0.symlink(path3,path0)                                               # STEP 304
str2 += 's'                                                            # STEP 305
os0.makedirs(path4)                                                    # STEP 306
str0 += 'u'                                                            # STEP 307
str3 += 'r'                                                            # STEP 308
os0.rmdir(path3)                                                       # STEP 309
component2 = "a"                                                       # STEP 310
str0 += 'j'                                                            # STEP 311
path4 += "/" + component3                                              # STEP 312
os0.symlink(path3,path3)                                               # STEP 313
os0.write(fd0,str4)                                                    # STEP 314
str3 += 'g'                                                            # STEP 315
file0 = opener0(path3)                                                 # STEP 316
file0 = opener0(path3)                                                 # STEP 317
os0.link(path1,path1)                                                  # STEP 318
path1 = "/Volumes/ramdisk/test"                                        # STEP 319
str2 += 'l'                                                            # STEP 320
str2 += 'j'                                                            # STEP 321
os0.link(path3,path0)                                                  # STEP 322
result = os0.read(fd0,bytes0)                                          # STEP 323
file0 = opener0(path2,'w')                                             # STEP 324
os0.removedirs(path2)                                                  # STEP 325
result = sorted(os0.listdir(path4))                                    # STEP 326
bytes2 += 1                                                            # STEP 327
stat3 = os0.stat(path2)                                                # STEP 328
str1 += 'u'                                                            # STEP 329
os0.symlink(path0,path0)                                               # STEP 330
path3 += "/" + component1                                              # STEP 331
str1 += 't'                                                            # STEP 332
str3 += " "                                                            # STEP 333
result = os0.path.abspath(path2)                                       # STEP 334
os0.symlink(path1,path1)                                               # STEP 335
os0.mkdir(path4)                                                       # STEP 336
os0.link(path3,path1)                                                  # STEP 337
str1 += 'u'                                                            # STEP 338
result = os0.path.abspath(path2)                                       # STEP 339
os0.link(path3,path4)                                                  # STEP 340
str3 += 'c'                                                            # STEP 341
stat4 = os0.stat(path3)                                                # STEP 342
path3 += "/" + component3                                              # STEP 343
str3 += " "                                                            # STEP 344
str1 += 'k'                                                            # STEP 345
file0.seek(bytes4)                                                     # STEP 346
result = os0.path.isfile(path4)                                        # STEP 347
str1 += 'w'                                                            # STEP 348
result = file0.read(bytes0)                                            # STEP 349
result = os0.path.isabs(path2)                                         # STEP 350
str4 += 'z'                                                            # STEP 351
os0.path.getsize(path4)                                                # STEP 352
str3 += 'w'                                                            # STEP 353
os0.symlink(path1,path1)                                               # STEP 354
file0.next()                                                           # STEP 355
bytes0 += 1                                                            # STEP 356
os0.makedirs(path3)                                                    # STEP 357
os0.rename(path4,path0)                                                # STEP 358
component1 = "alpha"                                                   # STEP 359
stat4 = os0.stat(path3)                                                # STEP 360
stat4 = os0.lstat(path4)                                               # STEP 361
result = os0.path.isdir(path2)                                         # STEP 362
os0.remove(path1)                                                      # STEP 363
os0.rename(path4,path2)                                                # STEP 364
result = file0.readline()                                              # STEP 365
result = os0.readlink(path4)                                           # STEP 366
os0.removedirs(path4)                                                  # STEP 367
str3 += 'e'                                                            # STEP 368
os0.makedirs(path4)                                                    # STEP 369
str4 += 's'                                                            # STEP 370
os0.symlink(path1,path3)                                               # STEP 371
os0.symlink(path1,path3)                                               # STEP 372
result = file0.read(bytes2)                                            # STEP 373
os0.rename(path0,path4)                                                # STEP 374
file0.truncate()                                                       # STEP 375
path3 += "/" + component2                                              # STEP 376
os0.remove(path3)                                                      # STEP 377
os0.rename(path0,path4)                                                # STEP 378
result = sorted(os0.listdir(path2))                                    # STEP 379
str0 += 'u'                                                            # STEP 380
str4 += 'u'                                                            # STEP 381
os0.symlink(path3,path2)                                               # STEP 382
os0.link(path1,path2)                                                  # STEP 383
os0.removedirs(path0)                                                  # STEP 384
os0.link(path0,path1)                                                  # STEP 385
str0 += 'q'                                                            # STEP 386
str3 += 's'                                                            # STEP 387
file0.flush()                                                          # STEP 388
os0.link(path3,path3)                                                  # STEP 389
result = file0.readline(bytes4)                                        # STEP 390
path0 += "/" + component0                                              # STEP 391
os0.link(path3,path3)                                                  # STEP 392
result = os0.path.isfile(path0)                                        # STEP 393
os0.link(path2,path2)                                                  # STEP 394
str4 += 'x'                                                            # STEP 395
str1 += 'r'                                                            # STEP 396
os0.link(path4,path3)                                                  # STEP 397
result = os0.path.dirname(path1)                                       # STEP 398
result = os0.path.lexists(path1)                                       # STEP 399
path3 = "/Volumes/ramdisk/test"                                        # STEP 400
os0.symlink(path1,path1)                                               # STEP 401
os0.link(path2,path3)                                                  # STEP 402
str0 += 'w'                                                            # STEP 403
str1 += " "                                                            # STEP 404
os0.write(fd0,str2)                                                    # STEP 405
str2 += 'x'                                                            # STEP 406
str0 += 'g'                                                            # STEP 407
str0 += 'i'                                                            # STEP 408
result = os0.path.exists(path1)                                        # STEP 409
os0.link(path4,path1)                                                  # STEP 410
os0.symlink(path1,path4)                                               # STEP 411
os0.rename(path2,path3)                                                # STEP 412
str0 += 'h'                                                            # STEP 413
bytes2 = 0                                                             # STEP 414
path3 += "/" + component3                                              # STEP 415
os0.symlink(path0,path3)                                               # STEP 416
result = os0.path.dirname(path3)                                       # STEP 417
os0.symlink(path2,path4)                                               # STEP 418
component2 = "g"                                                       # STEP 419
path3 += "/" + component4                                              # STEP 420
result = os0.path.islink(path2)                                        # STEP 421
str0 += 'e'                                                            # STEP 422
os0.path.getsize(path0)                                                # STEP 423
str4 += 'd'                                                            # STEP 424
os0.mkdir(path2)                                                       # STEP 425
str0 += 'v'                                                            # STEP 426
bytes4 += 1                                                            # STEP 427
os0.symlink(path0,path3)                                               # STEP 428
os0.symlink(path0,path0)                                               # STEP 429
str2 += " "                                                            # STEP 430
file0.seek(bytes4)                                                     # STEP 431
str1 += 'u'                                                            # STEP 432
str2 += 'x'                                                            # STEP 433
str4 += 'r'                                                            # STEP 434
str1 += 'y'                                                            # STEP 435
result = os0.read(fd0,bytes3)                                          # STEP 436
str4 += 'd'                                                            # STEP 437
str2 += 'f'                                                            # STEP 438
component3 = "c"                                                       # STEP 439
str0 = ""                                                              # STEP 440
path2 += "/" + component2                                              # STEP 441
component2 = "e"                                                       # STEP 442
component0 = "c"                                                       # STEP 443
str0 += 's'                                                            # STEP 444
os0.makedirs(path2)                                                    # STEP 445
str0 += 'g'                                                            # STEP 446
result = os0.path.isabs(path1)                                         # STEP 447
os0.rmdir(path4)                                                       # STEP 448
result = os0.path.lexists(path1)                                       # STEP 449
os0.rename(path4,path1)                                                # STEP 450
str1 += 'b'                                                            # STEP 451
file0.truncate()                                                       # STEP 452
result = os0.path.isabs(path1)                                         # STEP 453
str0 += 'l'                                                            # STEP 454
str0 += 'a'                                                            # STEP 455
str2 += 'e'                                                            # STEP 456
component4 = "omega"                                                   # STEP 457
os0.symlink(path4,path2)                                               # STEP 458
str1 += 'w'                                                            # STEP 459
file0.write(str2)                                                      # STEP 460
os0.mkdir(path3)                                                       # STEP 461
str0 += 'f'                                                            # STEP 462
str0 += 'f'                                                            # STEP 463
os0.symlink(path3,path3)                                               # STEP 464
str4 += 'q'                                                            # STEP 465
path0 += "/" + component4                                              # STEP 466
str1 += 'm'                                                            # STEP 467
path4 = "/Volumes/ramdisk/test"                                        # STEP 468
component4 = "f"                                                       # STEP 469
result = file0.readlines()                                             # STEP 470
ERROR: (<type 'exceptions.OSError'>, OSError(9, 'File is not open for reading.'), <traceback object at 0x109cdd518>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 28999, in act575
    result = self.p_file[0].readlines()
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4284, in read_error
    self._raise('File is not open for reading.')
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4112, in _raise
    raise OSError(errno.EBADF, message)
FAILURE 1
component4 = "e"                                                         # STEP 0
component2 = "h"                                                         # STEP 1
component1 = "a"                                                         # STEP 2
component3 = "alpha"                                                     # STEP 3
str1 = ""                                                                # STEP 4
component0 = "alpha"                                                     # STEP 5
str1 += 'd'                                                              # STEP 6
str3 = ""                                                                # STEP 7
str3 += " "                                                              # STEP 8
str3 += 'i'                                                              # STEP 9
str1 += 'v'                                                             # STEP 10
path1 = "/Volumes/ramdisk/test"                                         # STEP 11
str1 += 'f'                                                             # STEP 12
str1 += 'v'                                                             # STEP 13
str3 += 'e'                                                             # STEP 14
str1 += 'u'                                                             # STEP 15
path1 += "/" + component4                                               # STEP 16
component4 = "lambda"                                                   # STEP 17
str3 += 'z'                                                             # STEP 18
path1 += "/" + component2                                               # STEP 19
os0 = newFakeOS()                                                       # STEP 20
str1 += 't'                                                             # STEP 21
result = os0.path.isabs(path1)                                          # STEP 22
str1 = ""                                                               # STEP 23
str1 += 'k'                                                             # STEP 24
result = os0.path.exists(path1)                                         # STEP 25
str1 += 'k'                                                             # STEP 26
result = os0.path.exists(path1)                                         # STEP 27
component2 = "alpha"                                                    # STEP 28
fd0 = os0.open(path1, os.O_CREAT | os.O_WRONLY)                         # STEP 29
str1 += 'f'                                                             # STEP 30
str4 = ""                                                               # STEP 31
str1 += 'z'                                                             # STEP 32
path1 += "/" + component3                                               # STEP 33
str1 += 'j'                                                             # STEP 34
str3 += 't'                                                             # STEP 35
str3 += 'o'                                                             # STEP 36
path2 = "/Volumes/ramdisk/test"                                         # STEP 37
str3 += 'z'                                                             # STEP 38
component3 = "gamma"                                                    # STEP 39
stat0 = os0.lstat(path1)                                                # STEP 40
str4 += 'm'                                                             # STEP 41
str3 += 'z'                                                             # STEP 42
str1 += 'x'                                                             # STEP 43
result = os0.path.islink(path1)                                         # STEP 44
str3 += 'l'                                                             # STEP 45
os0.link(path1,path2)                                                   # STEP 46
str3 += 'c'                                                             # STEP 47
str1 += 's'                                                             # STEP 48
stat0 = os0.stat(path1)                                                 # STEP 49
result = os0.path.abspath(path1)                                        # STEP 50
path1 += "/" + component2                                               # STEP 51
str3 += 'v'                                                             # STEP 52
str1 += " "                                                             # STEP 53
str1 += 'y'                                                             # STEP 54
bytes0 = 0                                                              # STEP 55
str4 += 'q'                                                             # STEP 56
str1 += 'c'                                                             # STEP 57
os0.link(path1,path1)                                                   # STEP 58
str4 += 'r'                                                             # STEP 59
os0.remove(path1)                                                       # STEP 60
stat1 = os0.lstat(path1)                                                # STEP 61
os0.makedirs(path1)                                                     # STEP 62
bytes2 = 0                                                              # STEP 63
str4 += 'q'                                                             # STEP 64
str3 += 'g'                                                             # STEP 65
os0.mkdir(path1)                                                        # STEP 66
str4 = ""                                                               # STEP 67
str3 += 'k'                                                             # STEP 68
str3 += 'l'                                                             # STEP 69
result = os0.path.isdir(path1)                                          # STEP 70
str3 += 'q'                                                             # STEP 71
os0.link(path1,path1)                                                   # STEP 72
result = os0.path.isfile(path2)                                         # STEP 73
stat0 = os0.lstat(path1)                                                # STEP 74
path2 += "/" + component0                                               # STEP 75
os0.mkdir(path2)                                                        # STEP 76
stat2 = os0.stat(path1)                                                 # STEP 77
os0.removedirs(path2)                                                   # STEP 78
stat3 = os0.lstat(path2)                                                # STEP 79
str2 = ""                                                               # STEP 80
result = os0.path.abspath(path1)                                        # STEP 81
fd0 = os0.open(path2, os.O_CREAT | os.O_WRONLY | os.O_TRUNC | os.O_EXCL)  # STEP 82
str3 += 'f'                                                             # STEP 83
str2 += 'w'                                                             # STEP 84
component0 = "a"                                                        # STEP 85
component2 = "omega"                                                    # STEP 86
str1 += 'd'                                                             # STEP 87
str2 += 'l'                                                             # STEP 88
str3 += 'h'                                                             # STEP 89
str4 += 't'                                                             # STEP 90
result = os0.path.lexists(path1)                                        # STEP 91
str2 += 'd'                                                             # STEP 92
path1 = "/Volumes/ramdisk/test"                                         # STEP 93
bytes4 = 0                                                              # STEP 94
os0.close(fd0)                                                          # STEP 95
str3 += 'v'                                                             # STEP 96
os0.symlink(path1,path2)                                                # STEP 97
fd0 = os0.open(path2, os.O_WRONLY | os.O_APPEND)                        # STEP 98
path0 = "/Volumes/ramdisk/test"                                         # STEP 99
str2 += 'l'                                                            # STEP 100
str2 += 'k'                                                            # STEP 101
str3 += 'f'                                                            # STEP 102
str3 += 'x'                                                            # STEP 103
os0.link(path2,path1)                                                  # STEP 104
result = os0.path.exists(path2)                                        # STEP 105
str3 += 's'                                                            # STEP 106
str3 += 'y'                                                            # STEP 107
str3 += " "                                                            # STEP 108
str1 += 'x'                                                            # STEP 109
str1 += 'h'                                                            # STEP 110
os0.mkdir(path1)                                                       # STEP 111
result = os0.path.isfile(path0)                                        # STEP 112
str4 += 'n'                                                            # STEP 113
os0.rmdir(path2)                                                       # STEP 114
str3 += 'r'                                                            # STEP 115
os0.symlink(path0,path2)                                               # STEP 116
result = os0.path.exists(path0)                                        # STEP 117
str2 += 'x'                                                            # STEP 118
str2 += 'w'                                                            # STEP 119
str1 += 'q'                                                            # STEP 120
result = os0.path.abspath(path2)                                       # STEP 121
str4 += 'z'                                                            # STEP 122
str1 += 'o'                                                            # STEP 123
path2 += "/" + component2                                              # STEP 124
stat3 = os0.fstat(fd0)                                                 # STEP 125
str1 += 'w'                                                            # STEP 126
result = os0.path.isdir(path2)                                         # STEP 127
str4 += 'u'                                                            # STEP 128
str3 += 'f'                                                            # STEP 129
str2 += 'w'                                                            # STEP 130
component2 = "omega"                                                   # STEP 131
str1 += 'd'                                                            # STEP 132
str2 += 'l'                                                            # STEP 133
str3 += 'h'                                                            # STEP 134
str4 += 't'                                                            # STEP 135
result = os0.path.lexists(path1)                                       # STEP 136
str2 += 'd'                                                            # STEP 137
path1 = "/Volumes/ramdisk/test"                                        # STEP 138
os0.close(fd0)                                                         # STEP 139
str3 += 'v'                                                            # STEP 140
os0.symlink(path1,path2)                                               # STEP 141
fd0 = os0.open(path2, os.O_WRONLY | os.O_APPEND)                       # STEP 142
path0 = "/Volumes/ramdisk/test"                                        # STEP 143
str2 += 'l'                                                            # STEP 144
str2 += 'k'                                                            # STEP 145
str3 += 'f'                                                            # STEP 146
str3 += 'x'                                                            # STEP 147
os0.link(path2,path1)                                                  # STEP 148
result = os0.path.exists(path2)                                        # STEP 149
str3 += 's'                                                            # STEP 150
str3 += 'y'                                                            # STEP 151
str1 += 'x'                                                            # STEP 152
str1 += 'h'                                                            # STEP 153
os0.mkdir(path1)                                                       # STEP 154
result = os0.path.isfile(path0)                                        # STEP 155
str4 += 'n'                                                            # STEP 156
os0.rmdir(path2)                                                       # STEP 157
str3 += 'r'                                                            # STEP 158
os0.symlink(path0,path2)                                               # STEP 159
result = os0.path.exists(path0)                                        # STEP 160
str2 += 'x'                                                            # STEP 161
str2 += 'w'                                                            # STEP 162
str1 += 'q'                                                            # STEP 163
result = os0.path.abspath(path2)                                       # STEP 164
str4 += 'z'                                                            # STEP 165
str1 += 'o'                                                            # STEP 166
path2 += "/" + component2                                              # STEP 167
str1 += 'g'                                                            # STEP 168
str1 += 'w'                                                            # STEP 169
result = os0.path.isdir(path2)                                         # STEP 170
str4 += 'u'                                                            # STEP 171
str4 += 't'                                                            # STEP 172
path1 += "/" + component0                                              # STEP 173
component0 = "lambda"                                                  # STEP 174
result = os0.path.isdir(path1)                                         # STEP 175
str2 += 'g'                                                            # STEP 176
result = os0.path.abspath(path2)                                       # STEP 177
opener0 = newFakeOpener(os0)                                           # STEP 178
os0.symlink(path2,path1)                                               # STEP 179
str2 += 'n'                                                            # STEP 180
file0 = opener0(path2,'a')                                             # STEP 181
str4 += 'e'                                                            # STEP 182
os0.remove(path0)                                                      # STEP 183
result = os0.read(fd0,bytes2)                                          # STEP 184
str1 += 'n'                                                            # STEP 185
component2 = "epsilon"                                                 # STEP 186
str4 += 'h'                                                            # STEP 187
str3 += 'y'                                                            # STEP 188
str2 += 'm'                                                            # STEP 189
str2 += 'y'                                                            # STEP 190
path3 = "/Volumes/ramdisk/test"                                        # STEP 191
os0.symlink(path3,path1)                                               # STEP 192
str3 += 'a'                                                            # STEP 193
os0.write(fd0,str3)                                                    # STEP 194
result = os0.path.abspath(path1)                                       # STEP 195
str2 += 'v'                                                            # STEP 196
result = os0.path.isabs(path2)                                         # STEP 197
str3 += 'r'                                                            # STEP 198
str3 += 'y'                                                            # STEP 199
result = os0.path.exists(path2)                                        # STEP 200
path0 += "/" + component0                                              # STEP 201
result = os0.path.islink(path3)                                        # STEP 202
str2 += 'h'                                                            # STEP 203
component0 = "d"                                                       # STEP 204
result = os0.read(fd0,bytes4)                                          # STEP 205
str2 += 'x'                                                            # STEP 206
os0.link(path1,path2)                                                  # STEP 207
stat4 = os0.lstat(path0)                                               # STEP 208
str2 += 'o'                                                            # STEP 209
str2 += 'f'                                                            # STEP 210
bytes3 = 0                                                             # STEP 211
result = os0.path.dirname(path1)                                       # STEP 212
str2 += 'j'                                                            # STEP 213
str3 += 'q'                                                            # STEP 214
result = sorted(os0.listdir(path2))                                    # STEP 215
bytes2 += 1                                                            # STEP 216
str1 += 'z'                                                            # STEP 217
str3 += 't'                                                            # STEP 218
path2 += "/" + component2                                              # STEP 219
str3 += 'v'                                                            # STEP 220
str1 += 'l'                                                            # STEP 221
result = os0.path.isabs(path2)                                         # STEP 222
str1 += 'f'                                                            # STEP 223
os0.path.getsize(path1)                                                # STEP 224
str4 = ""                                                              # STEP 225
component2 = "omega"                                                   # STEP 226
result = os0.path.lexists(path2)                                       # STEP 227
str4 += " "                                                            # STEP 228
str1 += 'c'                                                            # STEP 229
str2 += 'k'                                                            # STEP 230
file0 = opener0(path3,'w')                                             # STEP 231
os0.rename(path2,path3)                                                # STEP 232
str4 += 'u'                                                            # STEP 233
file0 = opener0(path2,'r')                                             # STEP 234
path4 = "/Volumes/ramdisk/test"                                        # STEP 235
file0 = opener0(path2,'a')                                             # STEP 236
path0 += "/" + component0                                              # STEP 237
stat4 = os0.stat(path2)                                                # STEP 238
component0 = "beta"                                                    # STEP 239
str1 += 'd'                                                            # STEP 240
os0.link(path1,path4)                                                  # STEP 241
str3 += 'r'                                                            # STEP 242
os0.link(path1,path3)                                                  # STEP 243
str2 += 'r'                                                            # STEP 244
os0.mkdir(path1)                                                       # STEP 245
bytes4 = 0                                                             # STEP 246
file0 = opener0(path0)                                                 # STEP 247
str1 += 'k'                                                            # STEP 248
os0.link(path4,path4)                                                  # STEP 249
os0.symlink(path4,path3)                                               # STEP 250
os0.makedirs(path4)                                                    # STEP 251
result = os0.path.isdir(path4)                                         # STEP 252
result = os0.path.abspath(path2)                                       # STEP 253
result = os0.path.islink(path3)                                        # STEP 254
result = os0.path.islink(path4)                                        # STEP 255
result = os0.path.lexists(path0)                                       # STEP 256
str2 += 'd'                                                            # STEP 257
result = os0.readlink(path3)                                           # STEP 258
str4 += 'j'                                                            # STEP 259
os0.symlink(path0,path0)                                               # STEP 260
str2 += 'e'                                                            # STEP 261
file0 = opener0(path4,'a')                                             # STEP 262
str2 += 'h'                                                            # STEP 263
result = os0.path.lexists(path0)                                       # STEP 264
str1 += 'q'                                                            # STEP 265
file0 = opener0(path0,'r')                                             # STEP 266
str1 += 't'                                                            # STEP 267
os0.link(path1,path0)                                                  # STEP 268
os0.symlink(path4,path4)                                               # STEP 269
str4 += 'o'                                                            # STEP 270
result = os0.path.islink(path2)                                        # STEP 271
str2 += 'e'                                                            # STEP 272
stat4 = os0.stat(path1)                                                # STEP 273
str0 = ""                                                              # STEP 274
result = os0.path.exists(path4)                                        # STEP 275
result = os0.path.isabs(path3)                                         # STEP 276
os0.path.getsize(path2)                                                # STEP 277
path2 = "/Volumes/ramdisk/test"                                        # STEP 278
path1 += "/" + component4                                              # STEP 279
path3 += "/" + component3                                              # STEP 280
file0 = opener0(path1,'r')                                             # STEP 281
result = os0.readlink(path2)                                           # STEP 282
os0.rename(path0,path3)                                                # STEP 283
result = os0.path.isfile(path3)                                        # STEP 284
os0.symlink(path3,path3)                                               # STEP 285
str2 += 'i'                                                            # STEP 286
str2 += 'b'                                                            # STEP 287
str0 += 'a'                                                            # STEP 288
os0.path.getsize(path3)                                                # STEP 289
result = os0.path.isabs(path1)                                         # STEP 290
os0.mkdir(path4)                                                       # STEP 291
str0 += 'i'                                                            # STEP 292
file0 = opener0(path0)                                                 # STEP 293
component4 = "h"                                                       # STEP 294
os0.link(path0,path1)                                                  # STEP 295
os0.symlink(path3,path2)                                               # STEP 296
str3 += 't'                                                            # STEP 297
result = os0.read(fd0,bytes2)                                          # STEP 298
result = os0.path.islink(path4)                                        # STEP 299
result = os0.path.lexists(path4)                                       # STEP 300
result = stat3.st_nlink                                                # STEP 301
str1 += 'l'                                                            # STEP 302
path2 += "/" + component2                                              # STEP 303
os0.symlink(path3,path0)                                               # STEP 304
str2 += 's'                                                            # STEP 305
os0.makedirs(path4)                                                    # STEP 306
str0 += 'u'                                                            # STEP 307
str3 += 'r'                                                            # STEP 308
os0.rmdir(path3)                                                       # STEP 309
component2 = "a"                                                       # STEP 310
str0 += 'j'                                                            # STEP 311
path4 += "/" + component3                                              # STEP 312
os0.symlink(path3,path3)                                               # STEP 313
os0.write(fd0,str4)                                                    # STEP 314
str3 += 'g'                                                            # STEP 315
file0 = opener0(path3)                                                 # STEP 316
file0 = opener0(path3)                                                 # STEP 317
os0.link(path1,path1)                                                  # STEP 318
path1 = "/Volumes/ramdisk/test"                                        # STEP 319
str2 += 'l'                                                            # STEP 320
str2 += 'j'                                                            # STEP 321
os0.link(path3,path0)                                                  # STEP 322
result = os0.read(fd0,bytes0)                                          # STEP 323
file0 = opener0(path2,'w')                                             # STEP 324
os0.removedirs(path2)                                                  # STEP 325
result = sorted(os0.listdir(path4))                                    # STEP 326
bytes2 += 1                                                            # STEP 327
stat3 = os0.stat(path2)                                                # STEP 328
str1 += 'u'                                                            # STEP 329
os0.symlink(path0,path0)                                               # STEP 330
path3 += "/" + component1                                              # STEP 331
str1 += 't'                                                            # STEP 332
str3 += " "                                                            # STEP 333
result = os0.path.abspath(path2)                                       # STEP 334
os0.symlink(path1,path1)                                               # STEP 335
os0.mkdir(path4)                                                       # STEP 336
os0.link(path3,path1)                                                  # STEP 337
str1 += 'u'                                                            # STEP 338
result = os0.path.abspath(path2)                                       # STEP 339
os0.link(path3,path4)                                                  # STEP 340
str3 += 'c'                                                            # STEP 341
stat4 = os0.stat(path3)                                                # STEP 342
path3 += "/" + component3                                              # STEP 343
str3 += " "                                                            # STEP 344
str1 += 'k'                                                            # STEP 345
file0.seek(bytes4)                                                     # STEP 346
result = os0.path.isfile(path4)                                        # STEP 347
str1 += 'w'                                                            # STEP 348
result = file0.read(bytes0)                                            # STEP 349
result = os0.path.isabs(path2)                                         # STEP 350
str4 += 'z'                                                            # STEP 351
os0.path.getsize(path4)                                                # STEP 352
str3 += 'w'                                                            # STEP 353
os0.symlink(path1,path1)                                               # STEP 354
file0.next()                                                           # STEP 355
bytes0 += 1                                                            # STEP 356
os0.makedirs(path3)                                                    # STEP 357
os0.rename(path4,path0)                                                # STEP 358
component1 = "alpha"                                                   # STEP 359
stat4 = os0.stat(path3)                                                # STEP 360
stat4 = os0.lstat(path4)                                               # STEP 361
result = os0.path.isdir(path2)                                         # STEP 362
os0.remove(path1)                                                      # STEP 363
os0.rename(path4,path2)                                                # STEP 364
result = file0.readline()                                              # STEP 365
result = os0.readlink(path4)                                           # STEP 366
os0.removedirs(path4)                                                  # STEP 367
str3 += 'e'                                                            # STEP 368
os0.makedirs(path4)                                                    # STEP 369
str4 += 's'                                                            # STEP 370
os0.symlink(path1,path3)                                               # STEP 371
os0.symlink(path1,path3)                                               # STEP 372
result = file0.read(bytes2)                                            # STEP 373
os0.rename(path0,path4)                                                # STEP 374
file0.truncate()                                                       # STEP 375
path3 += "/" + component2                                              # STEP 376
os0.remove(path3)                                                      # STEP 377
os0.rename(path0,path4)                                                # STEP 378
result = sorted(os0.listdir(path2))                                    # STEP 379
str0 += 'u'                                                            # STEP 380
str4 += 'u'                                                            # STEP 381
os0.symlink(path3,path2)                                               # STEP 382
os0.link(path1,path2)                                                  # STEP 383
os0.removedirs(path0)                                                  # STEP 384
os0.link(path0,path1)                                                  # STEP 385
str0 += 'q'                                                            # STEP 386
str3 += 's'                                                            # STEP 387
file0.flush()                                                          # STEP 388
os0.link(path3,path3)                                                  # STEP 389
result = file0.readline(bytes4)                                        # STEP 390
path0 += "/" + component0                                              # STEP 391
os0.link(path3,path3)                                                  # STEP 392
result = os0.path.isfile(path0)                                        # STEP 393
os0.link(path2,path2)                                                  # STEP 394
str4 += 'x'                                                            # STEP 395
str1 += 'r'                                                            # STEP 396
os0.link(path4,path3)                                                  # STEP 397
result = os0.path.dirname(path1)                                       # STEP 398
result = os0.path.lexists(path1)                                       # STEP 399
path3 = "/Volumes/ramdisk/test"                                        # STEP 400
os0.symlink(path1,path1)                                               # STEP 401
os0.link(path2,path3)                                                  # STEP 402
str0 += 'w'                                                            # STEP 403
str1 += " "                                                            # STEP 404
os0.write(fd0,str2)                                                    # STEP 405
str2 += 'x'                                                            # STEP 406
str0 += 'g'                                                            # STEP 407
str0 += 'i'                                                            # STEP 408
result = os0.path.exists(path1)                                        # STEP 409
os0.link(path4,path1)                                                  # STEP 410
os0.symlink(path1,path4)                                               # STEP 411
os0.rename(path2,path3)                                                # STEP 412
str0 += 'h'                                                            # STEP 413
bytes2 = 0                                                             # STEP 414
path3 += "/" + component3                                              # STEP 415
os0.symlink(path0,path3)                                               # STEP 416
result = os0.path.dirname(path3)                                       # STEP 417
os0.symlink(path2,path4)                                               # STEP 418
component2 = "g"                                                       # STEP 419
path3 += "/" + component4                                              # STEP 420
result = os0.path.islink(path2)                                        # STEP 421
str0 += 'e'                                                            # STEP 422
os0.path.getsize(path0)                                                # STEP 423
str4 += 'd'                                                            # STEP 424
os0.mkdir(path2)                                                       # STEP 425
str0 += 'v'                                                            # STEP 426
bytes4 += 1                                                            # STEP 427
os0.symlink(path0,path3)                                               # STEP 428
os0.symlink(path0,path0)                                               # STEP 429
str2 += " "                                                            # STEP 430
file0.seek(bytes4)                                                     # STEP 431
str1 += 'u'                                                            # STEP 432
str2 += 'x'                                                            # STEP 433
str4 += 'r'                                                            # STEP 434
str1 += 'y'                                                            # STEP 435
result = os0.read(fd0,bytes3)                                          # STEP 436
str4 += 'd'                                                            # STEP 437
str2 += 'f'                                                            # STEP 438
component3 = "c"                                                       # STEP 439
str0 = ""                                                              # STEP 440
path2 += "/" + component2                                              # STEP 441
component2 = "e"                                                       # STEP 442
component0 = "c"                                                       # STEP 443
str0 += 's'                                                            # STEP 444
os0.makedirs(path2)                                                    # STEP 445
str0 += 'g'                                                            # STEP 446
result = os0.path.isabs(path1)                                         # STEP 447
os0.rmdir(path4)                                                       # STEP 448
str3 += 'z'                                                            # STEP 449
result = os0.readlink(path3)                                           # STEP 450
component4 = "lambda"                                                  # STEP 451
os0.symlink(path3,path4)                                               # STEP 452
os0.symlink(path4,path1)                                               # STEP 453
str4 += 'c'                                                            # STEP 454
result = os0.path.abspath(path0)                                       # STEP 455
str2 += 'w'                                                            # STEP 456
str0 += 'e'                                                            # STEP 457
str0 += 'i'                                                            # STEP 458
os0.link(path2,path1)                                                  # STEP 459
os0.mkdir(path4)                                                       # STEP 460
path0 += "/" + component0                                              # STEP 461
os0.symlink(path2,path4)                                               # STEP 462
os0.link(path3,path2)                                                  # STEP 463
path0 += "/" + component2                                              # STEP 464
component0 = "a"                                                       # STEP 465
os0.mkdir(path0)                                                       # STEP 466
str3 += 'm'                                                            # STEP 467
path1 += "/" + component1                                              # STEP 468
result = file0.readline(bytes0)                                        # STEP 469
ERROR: (<type 'exceptions.OSError'>, OSError(9, 'File is not open for reading.'), <traceback object at 0x10a20c0e0>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 28701, in act570
    result = self.p_file[0].readline(self.p_bytes[0])
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4284, in read_error
    self._raise('File is not open for reading.')
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4112, in _raise
    raise OSError(errno.EBADF, message)
FAILURE 2
component4 = "e"                                                         # STEP 0
component2 = "h"                                                         # STEP 1
component1 = "a"                                                         # STEP 2
component3 = "alpha"                                                     # STEP 3
str1 = ""                                                                # STEP 4
component0 = "alpha"                                                     # STEP 5
str1 += 'd'                                                              # STEP 6
str3 = ""                                                                # STEP 7
str3 += " "                                                              # STEP 8
str3 += 'i'                                                              # STEP 9
str1 += 'v'                                                             # STEP 10
path1 = "/Volumes/ramdisk/test"                                         # STEP 11
str1 += 'f'                                                             # STEP 12
str1 += 'v'                                                             # STEP 13
str3 += 'e'                                                             # STEP 14
str1 += 'u'                                                             # STEP 15
path1 += "/" + component4                                               # STEP 16
component4 = "lambda"                                                   # STEP 17
str3 += 'z'                                                             # STEP 18
path1 += "/" + component2                                               # STEP 19
os0 = newFakeOS()                                                       # STEP 20
str1 += 't'                                                             # STEP 21
result = os0.path.isabs(path1)                                          # STEP 22
str1 = ""                                                               # STEP 23
str1 += 'k'                                                             # STEP 24
result = os0.path.exists(path1)                                         # STEP 25
str1 += 'k'                                                             # STEP 26
result = os0.path.exists(path1)                                         # STEP 27
component2 = "alpha"                                                    # STEP 28
fd0 = os0.open(path1, os.O_CREAT | os.O_WRONLY)                         # STEP 29
str1 += 'f'                                                             # STEP 30
str4 = ""                                                               # STEP 31
str1 += 'z'                                                             # STEP 32
path1 += "/" + component3                                               # STEP 33
str1 += 'j'                                                             # STEP 34
str3 += 't'                                                             # STEP 35
str3 += 'o'                                                             # STEP 36
path2 = "/Volumes/ramdisk/test"                                         # STEP 37
str3 += 'z'                                                             # STEP 38
component3 = "gamma"                                                    # STEP 39
stat0 = os0.lstat(path1)                                                # STEP 40
str4 += 'm'                                                             # STEP 41
str3 += 'z'                                                             # STEP 42
str1 += 'x'                                                             # STEP 43
result = os0.path.islink(path1)                                         # STEP 44
str3 += 'l'                                                             # STEP 45
os0.link(path1,path2)                                                   # STEP 46
str3 += 'c'                                                             # STEP 47
str1 += 's'                                                             # STEP 48
stat0 = os0.stat(path1)                                                 # STEP 49
result = os0.path.abspath(path1)                                        # STEP 50
path1 += "/" + component2                                               # STEP 51
str3 += 'v'                                                             # STEP 52
str1 += " "                                                             # STEP 53
str1 += 'y'                                                             # STEP 54
bytes0 = 0                                                              # STEP 55
str4 += 'q'                                                             # STEP 56
str1 += 'c'                                                             # STEP 57
os0.link(path1,path1)                                                   # STEP 58
str4 += 'r'                                                             # STEP 59
os0.remove(path1)                                                       # STEP 60
stat1 = os0.lstat(path1)                                                # STEP 61
os0.makedirs(path1)                                                     # STEP 62
bytes2 = 0                                                              # STEP 63
str4 += 'q'                                                             # STEP 64
str3 += 'g'                                                             # STEP 65
os0.mkdir(path1)                                                        # STEP 66
str4 = ""                                                               # STEP 67
str3 += 'k'                                                             # STEP 68
str3 += 'l'                                                             # STEP 69
result = os0.path.isdir(path1)                                          # STEP 70
str3 += 'q'                                                             # STEP 71
os0.link(path1,path1)                                                   # STEP 72
result = os0.path.isfile(path2)                                         # STEP 73
stat0 = os0.lstat(path1)                                                # STEP 74
path2 += "/" + component0                                               # STEP 75
os0.mkdir(path2)                                                        # STEP 76
stat2 = os0.stat(path1)                                                 # STEP 77
os0.removedirs(path2)                                                   # STEP 78
stat3 = os0.lstat(path2)                                                # STEP 79
str2 = ""                                                               # STEP 80
result = os0.path.abspath(path1)                                        # STEP 81
fd0 = os0.open(path2, os.O_CREAT | os.O_WRONLY | os.O_TRUNC | os.O_EXCL)  # STEP 82
str3 += 'f'                                                             # STEP 83
str2 += 'w'                                                             # STEP 84
component0 = "a"                                                        # STEP 85
component2 = "omega"                                                    # STEP 86
str1 += 'd'                                                             # STEP 87
str2 += 'l'                                                             # STEP 88
str3 += 'h'                                                             # STEP 89
str4 += 't'                                                             # STEP 90
result = os0.path.lexists(path1)                                        # STEP 91
str2 += 'd'                                                             # STEP 92
path1 = "/Volumes/ramdisk/test"                                         # STEP 93
bytes4 = 0                                                              # STEP 94
os0.close(fd0)                                                          # STEP 95
str3 += 'v'                                                             # STEP 96
os0.symlink(path1,path2)                                                # STEP 97
fd0 = os0.open(path2, os.O_WRONLY | os.O_APPEND)                        # STEP 98
path0 = "/Volumes/ramdisk/test"                                         # STEP 99
str2 += 'l'                                                            # STEP 100
str2 += 'k'                                                            # STEP 101
str3 += 'f'                                                            # STEP 102
str3 += 'x'                                                            # STEP 103
os0.link(path2,path1)                                                  # STEP 104
result = os0.path.exists(path2)                                        # STEP 105
str3 += 's'                                                            # STEP 106
str3 += 'y'                                                            # STEP 107
str3 += " "                                                            # STEP 108
str1 += 'x'                                                            # STEP 109
str1 += 'h'                                                            # STEP 110
os0.mkdir(path1)                                                       # STEP 111
result = os0.path.isfile(path0)                                        # STEP 112
str4 += 'n'                                                            # STEP 113
os0.rmdir(path2)                                                       # STEP 114
str3 += 'r'                                                            # STEP 115
os0.symlink(path0,path2)                                               # STEP 116
result = os0.path.exists(path0)                                        # STEP 117
str2 += 'x'                                                            # STEP 118
str2 += 'w'                                                            # STEP 119
str1 += 'q'                                                            # STEP 120
result = os0.path.abspath(path2)                                       # STEP 121
str4 += 'z'                                                            # STEP 122
str1 += 'o'                                                            # STEP 123
path2 += "/" + component2                                              # STEP 124
stat3 = os0.fstat(fd0)                                                 # STEP 125
str1 += 'w'                                                            # STEP 126
result = os0.path.isdir(path2)                                         # STEP 127
str4 += 'u'                                                            # STEP 128
str3 += 'f'                                                            # STEP 129
str2 += 'w'                                                            # STEP 130
component2 = "omega"                                                   # STEP 131
str1 += 'd'                                                            # STEP 132
str2 += 'l'                                                            # STEP 133
str3 += 'h'                                                            # STEP 134
str4 += 't'                                                            # STEP 135
result = os0.path.lexists(path1)                                       # STEP 136
str2 += 'd'                                                            # STEP 137
path1 = "/Volumes/ramdisk/test"                                        # STEP 138
os0.close(fd0)                                                         # STEP 139
str3 += 'v'                                                            # STEP 140
os0.symlink(path1,path2)                                               # STEP 141
fd0 = os0.open(path2, os.O_WRONLY | os.O_APPEND)                       # STEP 142
path0 = "/Volumes/ramdisk/test"                                        # STEP 143
str2 += 'l'                                                            # STEP 144
str2 += 'k'                                                            # STEP 145
str3 += 'f'                                                            # STEP 146
str3 += 'x'                                                            # STEP 147
os0.link(path2,path1)                                                  # STEP 148
result = os0.path.exists(path2)                                        # STEP 149
str3 += 's'                                                            # STEP 150
str3 += 'y'                                                            # STEP 151
str1 += 'x'                                                            # STEP 152
str1 += 'h'                                                            # STEP 153
os0.mkdir(path1)                                                       # STEP 154
result = os0.path.isfile(path0)                                        # STEP 155
str4 += 'n'                                                            # STEP 156
os0.rmdir(path2)                                                       # STEP 157
str3 += 'r'                                                            # STEP 158
os0.symlink(path0,path2)                                               # STEP 159
result = os0.path.exists(path0)                                        # STEP 160
str2 += 'x'                                                            # STEP 161
str2 += 'w'                                                            # STEP 162
str1 += 'q'                                                            # STEP 163
result = os0.path.abspath(path2)                                       # STEP 164
str4 += 'z'                                                            # STEP 165
str1 += 'o'                                                            # STEP 166
path2 += "/" + component2                                              # STEP 167
str1 += 'g'                                                            # STEP 168
str1 += 'w'                                                            # STEP 169
result = os0.path.isdir(path2)                                         # STEP 170
str4 += 'u'                                                            # STEP 171
str4 += 't'                                                            # STEP 172
path1 += "/" + component0                                              # STEP 173
component0 = "lambda"                                                  # STEP 174
result = os0.path.isdir(path1)                                         # STEP 175
str2 += 'g'                                                            # STEP 176
result = os0.path.abspath(path2)                                       # STEP 177
opener0 = newFakeOpener(os0)                                           # STEP 178
os0.symlink(path2,path1)                                               # STEP 179
str2 += 'n'                                                            # STEP 180
file0 = opener0(path2,'a')                                             # STEP 181
str4 += 'e'                                                            # STEP 182
os0.remove(path0)                                                      # STEP 183
result = os0.read(fd0,bytes2)                                          # STEP 184
str1 += 'n'                                                            # STEP 185
component2 = "epsilon"                                                 # STEP 186
str4 += 'h'                                                            # STEP 187
str3 += 'y'                                                            # STEP 188
str2 += 'm'                                                            # STEP 189
str2 += 'y'                                                            # STEP 190
path3 = "/Volumes/ramdisk/test"                                        # STEP 191
os0.symlink(path3,path1)                                               # STEP 192
str3 += 'a'                                                            # STEP 193
os0.write(fd0,str3)                                                    # STEP 194
result = os0.path.abspath(path1)                                       # STEP 195
str2 += 'v'                                                            # STEP 196
result = os0.path.isabs(path2)                                         # STEP 197
str3 += 'r'                                                            # STEP 198
str3 += 'y'                                                            # STEP 199
result = os0.path.exists(path2)                                        # STEP 200
path0 += "/" + component0                                              # STEP 201
result = os0.path.islink(path3)                                        # STEP 202
str2 += 'h'                                                            # STEP 203
component0 = "d"                                                       # STEP 204
result = os0.read(fd0,bytes4)                                          # STEP 205
str2 += 'x'                                                            # STEP 206
os0.link(path1,path2)                                                  # STEP 207
stat4 = os0.lstat(path0)                                               # STEP 208
str2 += 'o'                                                            # STEP 209
str2 += 'f'                                                            # STEP 210
bytes3 = 0                                                             # STEP 211
result = os0.path.dirname(path1)                                       # STEP 212
str2 += 'j'                                                            # STEP 213
str3 += 'q'                                                            # STEP 214
result = sorted(os0.listdir(path2))                                    # STEP 215
bytes2 += 1                                                            # STEP 216
str1 += 'z'                                                            # STEP 217
str3 += 't'                                                            # STEP 218
path2 += "/" + component2                                              # STEP 219
str3 += 'v'                                                            # STEP 220
str1 += 'l'                                                            # STEP 221
result = os0.path.isabs(path2)                                         # STEP 222
str1 += 'f'                                                            # STEP 223
os0.path.getsize(path1)                                                # STEP 224
str4 = ""                                                              # STEP 225
component2 = "omega"                                                   # STEP 226
result = os0.path.lexists(path2)                                       # STEP 227
str4 += " "                                                            # STEP 228
str1 += 'c'                                                            # STEP 229
str2 += 'k'                                                            # STEP 230
file0 = opener0(path3,'w')                                             # STEP 231
os0.rename(path2,path3)                                                # STEP 232
str4 += 'u'                                                            # STEP 233
file0 = opener0(path2,'r')                                             # STEP 234
path4 = "/Volumes/ramdisk/test"                                        # STEP 235
file0 = opener0(path2,'a')                                             # STEP 236
path0 += "/" + component0                                              # STEP 237
stat4 = os0.stat(path2)                                                # STEP 238
component0 = "beta"                                                    # STEP 239
str1 += 'd'                                                            # STEP 240
os0.link(path1,path4)                                                  # STEP 241
str3 += 'r'                                                            # STEP 242
os0.link(path1,path3)                                                  # STEP 243
str2 += 'r'                                                            # STEP 244
os0.mkdir(path1)                                                       # STEP 245
bytes4 = 0                                                             # STEP 246
file0 = opener0(path0)                                                 # STEP 247
str1 += 'k'                                                            # STEP 248
os0.link(path4,path4)                                                  # STEP 249
os0.symlink(path4,path3)                                               # STEP 250
os0.makedirs(path4)                                                    # STEP 251
result = os0.path.isdir(path4)                                         # STEP 252
result = os0.path.abspath(path2)                                       # STEP 253
result = os0.path.islink(path3)                                        # STEP 254
result = os0.path.islink(path4)                                        # STEP 255
result = os0.path.lexists(path0)                                       # STEP 256
str2 += 'd'                                                            # STEP 257
result = os0.readlink(path3)                                           # STEP 258
str4 += 'j'                                                            # STEP 259
os0.symlink(path0,path0)                                               # STEP 260
str2 += 'e'                                                            # STEP 261
file0 = opener0(path4,'a')                                             # STEP 262
str2 += 'h'                                                            # STEP 263
result = os0.path.lexists(path0)                                       # STEP 264
str1 += 'q'                                                            # STEP 265
file0 = opener0(path0,'r')                                             # STEP 266
str1 += 't'                                                            # STEP 267
os0.link(path1,path0)                                                  # STEP 268
os0.symlink(path4,path4)                                               # STEP 269
str4 += 'o'                                                            # STEP 270
result = os0.path.islink(path2)                                        # STEP 271
str2 += 'e'                                                            # STEP 272
stat4 = os0.stat(path1)                                                # STEP 273
str0 = ""                                                              # STEP 274
result = os0.path.exists(path4)                                        # STEP 275
result = os0.path.isabs(path3)                                         # STEP 276
os0.path.getsize(path2)                                                # STEP 277
path2 = "/Volumes/ramdisk/test"                                        # STEP 278
path1 += "/" + component4                                              # STEP 279
path3 += "/" + component3                                              # STEP 280
file0 = opener0(path1,'r')                                             # STEP 281
result = os0.readlink(path2)                                           # STEP 282
os0.rename(path0,path3)                                                # STEP 283
result = os0.path.isfile(path3)                                        # STEP 284
os0.symlink(path3,path3)                                               # STEP 285
str2 += 'i'                                                            # STEP 286
str2 += 'b'                                                            # STEP 287
str0 += 'a'                                                            # STEP 288
os0.path.getsize(path3)                                                # STEP 289
result = os0.path.isabs(path1)                                         # STEP 290
os0.mkdir(path4)                                                       # STEP 291
str0 += 'i'                                                            # STEP 292
file0 = opener0(path0)                                                 # STEP 293
component4 = "h"                                                       # STEP 294
os0.link(path0,path1)                                                  # STEP 295
os0.symlink(path3,path2)                                               # STEP 296
str3 += 't'                                                            # STEP 297
result = os0.read(fd0,bytes2)                                          # STEP 298
result = os0.path.islink(path4)                                        # STEP 299
result = os0.path.lexists(path4)                                       # STEP 300
result = stat3.st_nlink                                                # STEP 301
str1 += 'l'                                                            # STEP 302
path2 += "/" + component2                                              # STEP 303
os0.symlink(path3,path0)                                               # STEP 304
str2 += 's'                                                            # STEP 305
os0.makedirs(path4)                                                    # STEP 306
str0 += 'u'                                                            # STEP 307
str3 += 'r'                                                            # STEP 308
os0.rmdir(path3)                                                       # STEP 309
component2 = "a"                                                       # STEP 310
str0 += 'j'                                                            # STEP 311
path4 += "/" + component3                                              # STEP 312
os0.symlink(path3,path3)                                               # STEP 313
os0.write(fd0,str4)                                                    # STEP 314
str3 += 'g'                                                            # STEP 315
file0 = opener0(path3)                                                 # STEP 316
file0 = opener0(path3)                                                 # STEP 317
os0.link(path1,path1)                                                  # STEP 318
path1 = "/Volumes/ramdisk/test"                                        # STEP 319
str2 += 'l'                                                            # STEP 320
str2 += 'j'                                                            # STEP 321
os0.link(path3,path0)                                                  # STEP 322
result = os0.read(fd0,bytes0)                                          # STEP 323
file0 = opener0(path2,'w')                                             # STEP 324
os0.removedirs(path2)                                                  # STEP 325
result = sorted(os0.listdir(path4))                                    # STEP 326
bytes2 += 1                                                            # STEP 327
stat3 = os0.stat(path2)                                                # STEP 328
str1 += 'u'                                                            # STEP 329
os0.symlink(path0,path0)                                               # STEP 330
path3 += "/" + component1                                              # STEP 331
str1 += 't'                                                            # STEP 332
str3 += " "                                                            # STEP 333
result = os0.path.abspath(path2)                                       # STEP 334
os0.symlink(path1,path1)                                               # STEP 335
os0.mkdir(path4)                                                       # STEP 336
os0.link(path3,path1)                                                  # STEP 337
str1 += 'u'                                                            # STEP 338
result = os0.path.abspath(path2)                                       # STEP 339
os0.link(path3,path4)                                                  # STEP 340
str3 += 'c'                                                            # STEP 341
stat4 = os0.stat(path3)                                                # STEP 342
path3 += "/" + component3                                              # STEP 343
str3 += " "                                                            # STEP 344
str1 += 'k'                                                            # STEP 345
file0.seek(bytes4)                                                     # STEP 346
result = os0.path.isfile(path4)                                        # STEP 347
str1 += 'w'                                                            # STEP 348
result = file0.read(bytes0)                                            # STEP 349
result = os0.path.isabs(path2)                                         # STEP 350
str4 += 'z'                                                            # STEP 351
os0.path.getsize(path4)                                                # STEP 352
str3 += 'w'                                                            # STEP 353
os0.symlink(path1,path1)                                               # STEP 354
file0.next()                                                           # STEP 355
bytes0 += 1                                                            # STEP 356
os0.rename(path4,path0)                                                # STEP 357
component1 = "alpha"                                                   # STEP 358
stat4 = os0.stat(path3)                                                # STEP 359
stat4 = os0.lstat(path4)                                               # STEP 360
result = os0.path.isdir(path2)                                         # STEP 361
os0.remove(path1)                                                      # STEP 362
os0.rename(path4,path2)                                                # STEP 363
result = file0.readline()                                              # STEP 364
result = os0.readlink(path4)                                           # STEP 365
os0.removedirs(path4)                                                  # STEP 366
str3 += 'e'                                                            # STEP 367
os0.makedirs(path4)                                                    # STEP 368
str4 += 's'                                                            # STEP 369
os0.symlink(path1,path3)                                               # STEP 370
os0.symlink(path1,path3)                                               # STEP 371
result = file0.read(bytes2)                                            # STEP 372
os0.rename(path0,path4)                                                # STEP 373
file0.truncate()                                                       # STEP 374
path3 += "/" + component2                                              # STEP 375
os0.remove(path3)                                                      # STEP 376
os0.rename(path0,path4)                                                # STEP 377
result = sorted(os0.listdir(path2))                                    # STEP 378
str0 += 'u'                                                            # STEP 379
str4 += 'u'                                                            # STEP 380
os0.symlink(path3,path2)                                               # STEP 381
os0.link(path1,path2)                                                  # STEP 382
os0.removedirs(path0)                                                  # STEP 383
os0.link(path0,path1)                                                  # STEP 384
str0 += 'q'                                                            # STEP 385
str3 += 's'                                                            # STEP 386
file0.flush()                                                          # STEP 387
os0.link(path3,path3)                                                  # STEP 388
result = file0.readline(bytes4)                                        # STEP 389
path0 += "/" + component0                                              # STEP 390
os0.link(path3,path3)                                                  # STEP 391
result = os0.path.isfile(path0)                                        # STEP 392
os0.link(path2,path2)                                                  # STEP 393
str4 += 'x'                                                            # STEP 394
str1 += 'r'                                                            # STEP 395
os0.link(path4,path3)                                                  # STEP 396
result = os0.path.dirname(path1)                                       # STEP 397
result = os0.path.lexists(path1)                                       # STEP 398
path3 = "/Volumes/ramdisk/test"                                        # STEP 399
os0.symlink(path1,path1)                                               # STEP 400
os0.link(path2,path3)                                                  # STEP 401
str0 += 'w'                                                            # STEP 402
str1 += " "                                                            # STEP 403
os0.write(fd0,str2)                                                    # STEP 404
str2 += 'x'                                                            # STEP 405
str0 += 'g'                                                            # STEP 406
str0 += 'i'                                                            # STEP 407
result = os0.path.exists(path1)                                        # STEP 408
os0.link(path4,path1)                                                  # STEP 409
os0.symlink(path1,path4)                                               # STEP 410
os0.rename(path2,path3)                                                # STEP 411
str0 += 'h'                                                            # STEP 412
bytes2 = 0                                                             # STEP 413
path3 += "/" + component3                                              # STEP 414
os0.symlink(path0,path3)                                               # STEP 415
result = os0.path.dirname(path3)                                       # STEP 416
os0.symlink(path2,path4)                                               # STEP 417
component2 = "g"                                                       # STEP 418
path3 += "/" + component4                                              # STEP 419
result = os0.path.islink(path2)                                        # STEP 420
str0 += 'e'                                                            # STEP 421
os0.path.getsize(path0)                                                # STEP 422
str4 += 'd'                                                            # STEP 423
os0.mkdir(path2)                                                       # STEP 424
str0 += 'v'                                                            # STEP 425
bytes4 += 1                                                            # STEP 426
os0.symlink(path0,path3)                                               # STEP 427
os0.symlink(path0,path0)                                               # STEP 428
str2 += " "                                                            # STEP 429
file0.seek(bytes4)                                                     # STEP 430
str1 += 'u'                                                            # STEP 431
str2 += 'x'                                                            # STEP 432
str4 += 'r'                                                            # STEP 433
str1 += 'y'                                                            # STEP 434
result = os0.read(fd0,bytes3)                                          # STEP 435
str4 += 'd'                                                            # STEP 436
str2 += 'f'                                                            # STEP 437
component3 = "c"                                                       # STEP 438
str0 = ""                                                              # STEP 439
path2 += "/" + component2                                              # STEP 440
component2 = "e"                                                       # STEP 441
component0 = "c"                                                       # STEP 442
str0 += 's'                                                            # STEP 443
os0.makedirs(path2)                                                    # STEP 444
str0 += 'g'                                                            # STEP 445
result = os0.path.isabs(path1)                                         # STEP 446
os0.rmdir(path4)                                                       # STEP 447
os0.symlink(path1,path0)                                               # STEP 448
file0.seek(bytes2)                                                     # STEP 449
result = sorted(os0.listdir(path4))                                    # STEP 450
result = sorted(os0.listdir(path2))                                    # STEP 451
file0.write(str2)                                                      # STEP 452
os0.link(path0,path2)                                                  # STEP 453
str3 += 'a'                                                            # STEP 454
str1 += 'g'                                                            # STEP 455
result = file0.read(bytes2)                                            # STEP 456
ERROR: (<type 'exceptions.OSError'>, OSError(9, 'File is not open for reading.'), <traceback object at 0x107567bd8>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 28468, in act566
    result = self.p_file[0].read(self.p_bytes[2])
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4284, in read_error
    self._raise('File is not open for reading.')
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4112, in _raise
    raise OSError(errno.EBADF, message)
FAILURE 3
component4 = "e"                                                         # STEP 0
component2 = "h"                                                         # STEP 1
component1 = "a"                                                         # STEP 2
component3 = "alpha"                                                     # STEP 3
str1 = ""                                                                # STEP 4
component0 = "alpha"                                                     # STEP 5
str1 += 'd'                                                              # STEP 6
str3 = ""                                                                # STEP 7
str3 += " "                                                              # STEP 8
str3 += 'i'                                                              # STEP 9
str1 += 'v'                                                             # STEP 10
path1 = "/Volumes/ramdisk/test"                                         # STEP 11
str1 += 'f'                                                             # STEP 12
str1 += 'v'                                                             # STEP 13
str3 += 'e'                                                             # STEP 14
str1 += 'u'                                                             # STEP 15
path1 += "/" + component4                                               # STEP 16
component4 = "lambda"                                                   # STEP 17
str3 += 'z'                                                             # STEP 18
path1 += "/" + component2                                               # STEP 19
os0 = newFakeOS()                                                       # STEP 20
str1 += 't'                                                             # STEP 21
result = os0.path.isabs(path1)                                          # STEP 22
str1 = ""                                                               # STEP 23
str1 += 'k'                                                             # STEP 24
result = os0.path.exists(path1)                                         # STEP 25
str1 += 'k'                                                             # STEP 26
result = os0.path.exists(path1)                                         # STEP 27
component2 = "alpha"                                                    # STEP 28
fd0 = os0.open(path1, os.O_CREAT | os.O_WRONLY)                         # STEP 29
str1 += 'f'                                                             # STEP 30
str4 = ""                                                               # STEP 31
str1 += 'z'                                                             # STEP 32
path1 += "/" + component3                                               # STEP 33
str1 += 'j'                                                             # STEP 34
str3 += 't'                                                             # STEP 35
str3 += 'o'                                                             # STEP 36
path2 = "/Volumes/ramdisk/test"                                         # STEP 37
str3 += 'z'                                                             # STEP 38
component3 = "gamma"                                                    # STEP 39
stat0 = os0.lstat(path1)                                                # STEP 40
str4 += 'm'                                                             # STEP 41
str3 += 'z'                                                             # STEP 42
str1 += 'x'                                                             # STEP 43
result = os0.path.islink(path1)                                         # STEP 44
str3 += 'l'                                                             # STEP 45
os0.link(path1,path2)                                                   # STEP 46
str3 += 'c'                                                             # STEP 47
str1 += 's'                                                             # STEP 48
stat0 = os0.stat(path1)                                                 # STEP 49
result = os0.path.abspath(path1)                                        # STEP 50
path1 += "/" + component2                                               # STEP 51
str3 += 'v'                                                             # STEP 52
str1 += " "                                                             # STEP 53
str1 += 'y'                                                             # STEP 54
bytes0 = 0                                                              # STEP 55
str4 += 'q'                                                             # STEP 56
str1 += 'c'                                                             # STEP 57
os0.link(path1,path1)                                                   # STEP 58
str4 += 'r'                                                             # STEP 59
os0.remove(path1)                                                       # STEP 60
stat1 = os0.lstat(path1)                                                # STEP 61
os0.makedirs(path1)                                                     # STEP 62
bytes2 = 0                                                              # STEP 63
str4 += 'q'                                                             # STEP 64
str3 += 'g'                                                             # STEP 65
os0.mkdir(path1)                                                        # STEP 66
str4 = ""                                                               # STEP 67
str3 += 'k'                                                             # STEP 68
str3 += 'l'                                                             # STEP 69
result = os0.path.isdir(path1)                                          # STEP 70
str3 += 'q'                                                             # STEP 71
os0.link(path1,path1)                                                   # STEP 72
result = os0.path.isfile(path2)                                         # STEP 73
stat0 = os0.lstat(path1)                                                # STEP 74
path2 += "/" + component0                                               # STEP 75
os0.mkdir(path2)                                                        # STEP 76
stat2 = os0.stat(path1)                                                 # STEP 77
os0.removedirs(path2)                                                   # STEP 78
stat3 = os0.lstat(path2)                                                # STEP 79
str2 = ""                                                               # STEP 80
result = os0.path.abspath(path1)                                        # STEP 81
fd0 = os0.open(path2, os.O_CREAT | os.O_WRONLY | os.O_TRUNC | os.O_EXCL)  # STEP 82
str3 += 'f'                                                             # STEP 83
str2 += 'w'                                                             # STEP 84
component0 = "a"                                                        # STEP 85
component2 = "omega"                                                    # STEP 86
str1 += 'd'                                                             # STEP 87
str2 += 'l'                                                             # STEP 88
str3 += 'h'                                                             # STEP 89
str4 += 't'                                                             # STEP 90
result = os0.path.lexists(path1)                                        # STEP 91
str2 += 'd'                                                             # STEP 92
path1 = "/Volumes/ramdisk/test"                                         # STEP 93
bytes4 = 0                                                              # STEP 94
os0.close(fd0)                                                          # STEP 95
str3 += 'v'                                                             # STEP 96
os0.symlink(path1,path2)                                                # STEP 97
fd0 = os0.open(path2, os.O_WRONLY | os.O_APPEND)                        # STEP 98
path0 = "/Volumes/ramdisk/test"                                         # STEP 99
str2 += 'l'                                                            # STEP 100
str2 += 'k'                                                            # STEP 101
str3 += 'f'                                                            # STEP 102
str3 += 'x'                                                            # STEP 103
os0.link(path2,path1)                                                  # STEP 104
result = os0.path.exists(path2)                                        # STEP 105
str3 += 's'                                                            # STEP 106
str3 += 'y'                                                            # STEP 107
str3 += " "                                                            # STEP 108
str1 += 'x'                                                            # STEP 109
str1 += 'h'                                                            # STEP 110
os0.mkdir(path1)                                                       # STEP 111
result = os0.path.isfile(path0)                                        # STEP 112
str4 += 'n'                                                            # STEP 113
os0.rmdir(path2)                                                       # STEP 114
str3 += 'r'                                                            # STEP 115
os0.symlink(path0,path2)                                               # STEP 116
result = os0.path.exists(path0)                                        # STEP 117
str2 += 'x'                                                            # STEP 118
str2 += 'w'                                                            # STEP 119
str1 += 'q'                                                            # STEP 120
result = os0.path.abspath(path2)                                       # STEP 121
str4 += 'z'                                                            # STEP 122
str1 += 'o'                                                            # STEP 123
path2 += "/" + component2                                              # STEP 124
stat3 = os0.fstat(fd0)                                                 # STEP 125
str1 += 'w'                                                            # STEP 126
result = os0.path.isdir(path2)                                         # STEP 127
str4 += 'u'                                                            # STEP 128
str3 += 'f'                                                            # STEP 129
str2 += 'w'                                                            # STEP 130
component2 = "omega"                                                   # STEP 131
str1 += 'd'                                                            # STEP 132
str2 += 'l'                                                            # STEP 133
str3 += 'h'                                                            # STEP 134
str4 += 't'                                                            # STEP 135
result = os0.path.lexists(path1)                                       # STEP 136
str2 += 'd'                                                            # STEP 137
path1 = "/Volumes/ramdisk/test"                                        # STEP 138
os0.close(fd0)                                                         # STEP 139
str3 += 'v'                                                            # STEP 140
os0.symlink(path1,path2)                                               # STEP 141
fd0 = os0.open(path2, os.O_WRONLY | os.O_APPEND)                       # STEP 142
path0 = "/Volumes/ramdisk/test"                                        # STEP 143
str2 += 'l'                                                            # STEP 144
str2 += 'k'                                                            # STEP 145
str3 += 'f'                                                            # STEP 146
str3 += 'x'                                                            # STEP 147
os0.link(path2,path1)                                                  # STEP 148
result = os0.path.exists(path2)                                        # STEP 149
str3 += 's'                                                            # STEP 150
str3 += 'y'                                                            # STEP 151
str1 += 'x'                                                            # STEP 152
str1 += 'h'                                                            # STEP 153
os0.mkdir(path1)                                                       # STEP 154
result = os0.path.isfile(path0)                                        # STEP 155
str4 += 'n'                                                            # STEP 156
os0.rmdir(path2)                                                       # STEP 157
str3 += 'r'                                                            # STEP 158
os0.symlink(path0,path2)                                               # STEP 159
result = os0.path.exists(path0)                                        # STEP 160
str2 += 'x'                                                            # STEP 161
str2 += 'w'                                                            # STEP 162
str1 += 'q'                                                            # STEP 163
result = os0.path.abspath(path2)                                       # STEP 164
str4 += 'z'                                                            # STEP 165
str1 += 'o'                                                            # STEP 166
path2 += "/" + component2                                              # STEP 167
str1 += 'g'                                                            # STEP 168
str1 += 'w'                                                            # STEP 169
result = os0.path.isdir(path2)                                         # STEP 170
str4 += 'u'                                                            # STEP 171
str4 += 't'                                                            # STEP 172
path1 += "/" + component0                                              # STEP 173
component0 = "lambda"                                                  # STEP 174
result = os0.path.isdir(path1)                                         # STEP 175
str2 += 'g'                                                            # STEP 176
result = os0.path.abspath(path2)                                       # STEP 177
opener0 = newFakeOpener(os0)                                           # STEP 178
os0.symlink(path2,path1)                                               # STEP 179
str2 += 'n'                                                            # STEP 180
file0 = opener0(path2,'a')                                             # STEP 181
str4 += 'e'                                                            # STEP 182
os0.remove(path0)                                                      # STEP 183
result = os0.read(fd0,bytes2)                                          # STEP 184
str1 += 'n'                                                            # STEP 185
component2 = "epsilon"                                                 # STEP 186
str4 += 'h'                                                            # STEP 187
str3 += 'y'                                                            # STEP 188
str2 += 'm'                                                            # STEP 189
str2 += 'y'                                                            # STEP 190
path3 = "/Volumes/ramdisk/test"                                        # STEP 191
os0.symlink(path3,path1)                                               # STEP 192
str3 += 'a'                                                            # STEP 193
os0.write(fd0,str3)                                                    # STEP 194
result = os0.path.abspath(path1)                                       # STEP 195
str2 += 'v'                                                            # STEP 196
result = os0.path.isabs(path2)                                         # STEP 197
str3 += 'r'                                                            # STEP 198
str3 += 'y'                                                            # STEP 199
result = os0.path.exists(path2)                                        # STEP 200
path0 += "/" + component0                                              # STEP 201
result = os0.path.islink(path3)                                        # STEP 202
str2 += 'h'                                                            # STEP 203
component0 = "d"                                                       # STEP 204
result = os0.read(fd0,bytes4)                                          # STEP 205
str2 += 'x'                                                            # STEP 206
os0.link(path1,path2)                                                  # STEP 207
stat4 = os0.lstat(path0)                                               # STEP 208
str2 += 'o'                                                            # STEP 209
str2 += 'f'                                                            # STEP 210
bytes3 = 0                                                             # STEP 211
result = os0.path.dirname(path1)                                       # STEP 212
path3 += "/" + component1                                              # STEP 213
str3 += 'q'                                                            # STEP 214
result = sorted(os0.listdir(path2))                                    # STEP 215
bytes2 += 1                                                            # STEP 216
str1 += 'z'                                                            # STEP 217
str3 += 't'                                                            # STEP 218
path2 += "/" + component2                                              # STEP 219
str3 += 'v'                                                            # STEP 220
str1 += 'l'                                                            # STEP 221
result = os0.path.isabs(path2)                                         # STEP 222
str1 += 'f'                                                            # STEP 223
os0.path.getsize(path1)                                                # STEP 224
str4 = ""                                                              # STEP 225
component2 = "omega"                                                   # STEP 226
result = os0.path.lexists(path2)                                       # STEP 227
str4 += " "                                                            # STEP 228
str1 += 'c'                                                            # STEP 229
str2 += 'k'                                                            # STEP 230
file0 = opener0(path3,'w')                                             # STEP 231
os0.rename(path2,path3)                                                # STEP 232
str4 += 'u'                                                            # STEP 233
file0 = opener0(path2,'r')                                             # STEP 234
path4 = "/Volumes/ramdisk/test"                                        # STEP 235
file0 = opener0(path2,'a')                                             # STEP 236
path0 += "/" + component0                                              # STEP 237
stat4 = os0.stat(path2)                                                # STEP 238
component0 = "beta"                                                    # STEP 239
str1 += 'd'                                                            # STEP 240
os0.link(path1,path4)                                                  # STEP 241
str3 += 'r'                                                            # STEP 242
os0.link(path1,path3)                                                  # STEP 243
str2 += 'r'                                                            # STEP 244
os0.mkdir(path1)                                                       # STEP 245
bytes4 = 0                                                             # STEP 246
file0 = opener0(path0)                                                 # STEP 247
str1 += 'k'                                                            # STEP 248
os0.link(path4,path4)                                                  # STEP 249
os0.symlink(path4,path3)                                               # STEP 250
os0.makedirs(path4)                                                    # STEP 251
result = os0.path.isdir(path4)                                         # STEP 252
result = os0.path.abspath(path2)                                       # STEP 253
result = os0.path.islink(path3)                                        # STEP 254
result = os0.path.islink(path4)                                        # STEP 255
result = os0.path.lexists(path0)                                       # STEP 256
str2 += 'd'                                                            # STEP 257
result = os0.readlink(path3)                                           # STEP 258
str4 += 'j'                                                            # STEP 259
os0.symlink(path0,path0)                                               # STEP 260
str2 += 'e'                                                            # STEP 261
file0 = opener0(path4,'a')                                             # STEP 262
str2 += 'h'                                                            # STEP 263
result = os0.path.lexists(path0)                                       # STEP 264
str1 += 'q'                                                            # STEP 265
file0 = opener0(path0,'r')                                             # STEP 266
str1 += 't'                                                            # STEP 267
os0.link(path1,path0)                                                  # STEP 268
os0.symlink(path4,path4)                                               # STEP 269
str4 += 'o'                                                            # STEP 270
result = os0.path.islink(path2)                                        # STEP 271
str2 += 'e'                                                            # STEP 272
stat4 = os0.stat(path1)                                                # STEP 273
str0 = ""                                                              # STEP 274
result = os0.path.exists(path4)                                        # STEP 275
result = os0.path.isabs(path3)                                         # STEP 276
os0.path.getsize(path2)                                                # STEP 277
path2 = "/Volumes/ramdisk/test"                                        # STEP 278
path1 += "/" + component4                                              # STEP 279
path3 += "/" + component3                                              # STEP 280
file0 = opener0(path1,'r')                                             # STEP 281
result = os0.readlink(path2)                                           # STEP 282
os0.rename(path0,path3)                                                # STEP 283
result = os0.path.isfile(path3)                                        # STEP 284
os0.symlink(path3,path3)                                               # STEP 285
str2 += 'i'                                                            # STEP 286
str2 += 'b'                                                            # STEP 287
str0 += 'a'                                                            # STEP 288
os0.path.getsize(path3)                                                # STEP 289
result = os0.path.isabs(path1)                                         # STEP 290
os0.mkdir(path4)                                                       # STEP 291
str0 += 'i'                                                            # STEP 292
file0 = opener0(path0)                                                 # STEP 293
component4 = "h"                                                       # STEP 294
os0.link(path0,path1)                                                  # STEP 295
os0.symlink(path3,path2)                                               # STEP 296
str3 += 't'                                                            # STEP 297
result = os0.read(fd0,bytes2)                                          # STEP 298
result = os0.path.islink(path4)                                        # STEP 299
result = os0.path.lexists(path4)                                       # STEP 300
result = stat3.st_nlink                                                # STEP 301
str1 += 'l'                                                            # STEP 302
path2 += "/" + component2                                              # STEP 303
os0.symlink(path3,path0)                                               # STEP 304
str2 += 's'                                                            # STEP 305
os0.makedirs(path4)                                                    # STEP 306
str0 += 'u'                                                            # STEP 307
str3 += 'r'                                                            # STEP 308
os0.rmdir(path3)                                                       # STEP 309
component2 = "a"                                                       # STEP 310
str0 += 'j'                                                            # STEP 311
path4 += "/" + component3                                              # STEP 312
os0.symlink(path3,path3)                                               # STEP 313
os0.write(fd0,str4)                                                    # STEP 314
str3 += 'g'                                                            # STEP 315
file0 = opener0(path3)                                                 # STEP 316
file0 = opener0(path3)                                                 # STEP 317
os0.link(path1,path1)                                                  # STEP 318
path1 = "/Volumes/ramdisk/test"                                        # STEP 319
str2 += 'l'                                                            # STEP 320
str2 += 'j'                                                            # STEP 321
os0.link(path3,path0)                                                  # STEP 322
result = os0.read(fd0,bytes0)                                          # STEP 323
file0 = opener0(path2,'w')                                             # STEP 324
os0.removedirs(path2)                                                  # STEP 325
result = sorted(os0.listdir(path4))                                    # STEP 326
bytes2 += 1                                                            # STEP 327
stat3 = os0.stat(path2)                                                # STEP 328
str1 += 'u'                                                            # STEP 329
os0.symlink(path0,path0)                                               # STEP 330
path3 += "/" + component1                                              # STEP 331
str1 += 't'                                                            # STEP 332
str3 += " "                                                            # STEP 333
result = os0.path.abspath(path2)                                       # STEP 334
os0.symlink(path1,path1)                                               # STEP 335
os0.mkdir(path4)                                                       # STEP 336
os0.link(path3,path1)                                                  # STEP 337
str1 += 'u'                                                            # STEP 338
result = os0.path.abspath(path2)                                       # STEP 339
os0.link(path3,path4)                                                  # STEP 340
str3 += 'c'                                                            # STEP 341
stat4 = os0.stat(path3)                                                # STEP 342
path3 += "/" + component3                                              # STEP 343
str3 += " "                                                            # STEP 344
str1 += 'k'                                                            # STEP 345
file0.seek(bytes4)                                                     # STEP 346
result = os0.path.isfile(path4)                                        # STEP 347
str1 += 'w'                                                            # STEP 348
result = file0.read(bytes0)                                            # STEP 349
result = os0.path.isabs(path2)                                         # STEP 350
str4 += 'z'                                                            # STEP 351
str3 += 'w'                                                            # STEP 352
os0.symlink(path1,path1)                                               # STEP 353
file0.next()                                                           # STEP 354
bytes0 += 1                                                            # STEP 355
os0.makedirs(path3)                                                    # STEP 356
os0.rename(path4,path0)                                                # STEP 357
component1 = "alpha"                                                   # STEP 358
stat4 = os0.stat(path3)                                                # STEP 359
stat4 = os0.lstat(path4)                                               # STEP 360
result = os0.path.isdir(path2)                                         # STEP 361
os0.remove(path1)                                                      # STEP 362
os0.rename(path4,path2)                                                # STEP 363
result = file0.readline()                                              # STEP 364
result = os0.readlink(path4)                                           # STEP 365
os0.removedirs(path4)                                                  # STEP 366
str3 += 'e'                                                            # STEP 367
os0.makedirs(path4)                                                    # STEP 368
str4 += 's'                                                            # STEP 369
os0.symlink(path1,path3)                                               # STEP 370
os0.symlink(path1,path3)                                               # STEP 371
result = file0.read(bytes2)                                            # STEP 372
os0.rename(path0,path4)                                                # STEP 373
file0.truncate()                                                       # STEP 374
path3 += "/" + component2                                              # STEP 375
os0.remove(path3)                                                      # STEP 376
os0.rename(path0,path4)                                                # STEP 377
result = sorted(os0.listdir(path2))                                    # STEP 378
str0 += 'u'                                                            # STEP 379
str4 += 'u'                                                            # STEP 380
os0.symlink(path3,path2)                                               # STEP 381
os0.link(path1,path2)                                                  # STEP 382
os0.removedirs(path0)                                                  # STEP 383
os0.link(path0,path1)                                                  # STEP 384
str0 += 'q'                                                            # STEP 385
str3 += 's'                                                            # STEP 386
file0.flush()                                                          # STEP 387
os0.link(path3,path3)                                                  # STEP 388
result = file0.readline(bytes4)                                        # STEP 389
path0 += "/" + component0                                              # STEP 390
os0.link(path3,path3)                                                  # STEP 391
result = os0.path.isfile(path0)                                        # STEP 392
os0.link(path2,path2)                                                  # STEP 393
str4 += 'x'                                                            # STEP 394
str1 += 'r'                                                            # STEP 395
os0.link(path4,path3)                                                  # STEP 396
result = os0.path.dirname(path1)                                       # STEP 397
result = os0.path.lexists(path1)                                       # STEP 398
path3 = "/Volumes/ramdisk/test"                                        # STEP 399
os0.symlink(path1,path1)                                               # STEP 400
os0.link(path2,path3)                                                  # STEP 401
str0 += 'w'                                                            # STEP 402
str1 += " "                                                            # STEP 403
os0.write(fd0,str2)                                                    # STEP 404
str2 += 'x'                                                            # STEP 405
str0 += 'g'                                                            # STEP 406
str0 += 'i'                                                            # STEP 407
result = os0.path.exists(path1)                                        # STEP 408
os0.link(path4,path1)                                                  # STEP 409
os0.symlink(path1,path4)                                               # STEP 410
os0.rename(path2,path3)                                                # STEP 411
str0 += 'h'                                                            # STEP 412
bytes2 = 0                                                             # STEP 413
path3 += "/" + component3                                              # STEP 414
os0.symlink(path0,path3)                                               # STEP 415
result = os0.path.dirname(path3)                                       # STEP 416
os0.symlink(path2,path4)                                               # STEP 417
component2 = "g"                                                       # STEP 418
path3 += "/" + component4                                              # STEP 419
result = os0.path.islink(path2)                                        # STEP 420
str0 += 'e'                                                            # STEP 421
os0.path.getsize(path0)                                                # STEP 422
str4 += 'd'                                                            # STEP 423
os0.mkdir(path2)                                                       # STEP 424
str0 += 'v'                                                            # STEP 425
bytes4 += 1                                                            # STEP 426
os0.symlink(path0,path3)                                               # STEP 427
os0.symlink(path0,path0)                                               # STEP 428
str2 += " "                                                            # STEP 429
file0.seek(bytes4)                                                     # STEP 430
str1 += 'u'                                                            # STEP 431
str2 += 'x'                                                            # STEP 432
str4 += 'r'                                                            # STEP 433
str1 += 'y'                                                            # STEP 434
result = os0.read(fd0,bytes3)                                          # STEP 435
str4 += 'd'                                                            # STEP 436
str2 += 'f'                                                            # STEP 437
component3 = "c"                                                       # STEP 438
str0 = ""                                                              # STEP 439
path2 += "/" + component2                                              # STEP 440
component2 = "e"                                                       # STEP 441
component0 = "c"                                                       # STEP 442
str0 += 's'                                                            # STEP 443
os0.makedirs(path2)                                                    # STEP 444
str0 += 'g'                                                            # STEP 445
result = os0.path.isabs(path1)                                         # STEP 446
os0.rmdir(path4)                                                       # STEP 447
component4 = "phi"                                                     # STEP 448
result = file0.readline(bytes4)                                        # STEP 449
ERROR: (<type 'exceptions.OSError'>, OSError(9, 'File is not open for reading.'), <traceback object at 0x108e72440>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 28941, in act574
    result = self.p_file[0].readline(self.p_bytes[4])
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4284, in read_error
    self._raise('File is not open for reading.')
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4112, in _raise
    raise OSError(errno.EBADF, message)
FAILURE 4
component4 = "e"                                                         # STEP 0
component2 = "h"                                                         # STEP 1
component1 = "a"                                                         # STEP 2
component3 = "alpha"                                                     # STEP 3
str1 = ""                                                                # STEP 4
component0 = "alpha"                                                     # STEP 5
str1 += 'd'                                                              # STEP 6
str3 = ""                                                                # STEP 7
str3 += " "                                                              # STEP 8
str3 += 'i'                                                              # STEP 9
str1 += 'v'                                                             # STEP 10
path1 = "/Volumes/ramdisk/test"                                         # STEP 11
str1 += 'f'                                                             # STEP 12
str1 += 'v'                                                             # STEP 13
str3 += 'e'                                                             # STEP 14
str1 += 'u'                                                             # STEP 15
path1 += "/" + component4                                               # STEP 16
component4 = "lambda"                                                   # STEP 17
str3 += 'z'                                                             # STEP 18
path1 += "/" + component2                                               # STEP 19
os0 = newFakeOS()                                                       # STEP 20
str1 += 't'                                                             # STEP 21
result = os0.path.isabs(path1)                                          # STEP 22
str1 = ""                                                               # STEP 23
str1 += 'k'                                                             # STEP 24
result = os0.path.exists(path1)                                         # STEP 25
str1 += 'k'                                                             # STEP 26
result = os0.path.exists(path1)                                         # STEP 27
component2 = "alpha"                                                    # STEP 28
fd0 = os0.open(path1, os.O_CREAT | os.O_WRONLY)                         # STEP 29
str1 += 'f'                                                             # STEP 30
str4 = ""                                                               # STEP 31
str1 += 'z'                                                             # STEP 32
path1 += "/" + component3                                               # STEP 33
str1 += 'j'                                                             # STEP 34
str3 += 't'                                                             # STEP 35
str3 += 'o'                                                             # STEP 36
path2 = "/Volumes/ramdisk/test"                                         # STEP 37
str3 += 'z'                                                             # STEP 38
component3 = "gamma"                                                    # STEP 39
stat0 = os0.lstat(path1)                                                # STEP 40
str4 += 'm'                                                             # STEP 41
str3 += 'z'                                                             # STEP 42
str1 += 'x'                                                             # STEP 43
result = os0.path.islink(path1)                                         # STEP 44
str3 += 'l'                                                             # STEP 45
os0.link(path1,path2)                                                   # STEP 46
str3 += 'c'                                                             # STEP 47
str1 += 's'                                                             # STEP 48
stat0 = os0.stat(path1)                                                 # STEP 49
result = os0.path.abspath(path1)                                        # STEP 50
path1 += "/" + component2                                               # STEP 51
str3 += 'v'                                                             # STEP 52
str1 += " "                                                             # STEP 53
str1 += 'y'                                                             # STEP 54
bytes0 = 0                                                              # STEP 55
str4 += 'q'                                                             # STEP 56
str1 += 'c'                                                             # STEP 57
os0.link(path1,path1)                                                   # STEP 58
str4 += 'r'                                                             # STEP 59
os0.remove(path1)                                                       # STEP 60
stat1 = os0.lstat(path1)                                                # STEP 61
os0.makedirs(path1)                                                     # STEP 62
bytes2 = 0                                                              # STEP 63
str4 += 'q'                                                             # STEP 64
str3 += 'g'                                                             # STEP 65
os0.mkdir(path1)                                                        # STEP 66
str4 = ""                                                               # STEP 67
str3 += 'k'                                                             # STEP 68
str3 += 'l'                                                             # STEP 69
result = os0.path.isdir(path1)                                          # STEP 70
str3 += 'q'                                                             # STEP 71
os0.link(path1,path1)                                                   # STEP 72
result = os0.path.isfile(path2)                                         # STEP 73
stat0 = os0.lstat(path1)                                                # STEP 74
path2 += "/" + component0                                               # STEP 75
os0.mkdir(path2)                                                        # STEP 76
stat2 = os0.stat(path1)                                                 # STEP 77
os0.removedirs(path2)                                                   # STEP 78
stat3 = os0.lstat(path2)                                                # STEP 79
str2 = ""                                                               # STEP 80
result = os0.path.abspath(path1)                                        # STEP 81
fd0 = os0.open(path2, os.O_CREAT | os.O_WRONLY | os.O_TRUNC | os.O_EXCL)  # STEP 82
str3 += 'f'                                                             # STEP 83
str2 += 'w'                                                             # STEP 84
component0 = "a"                                                        # STEP 85
component2 = "omega"                                                    # STEP 86
str1 += 'd'                                                             # STEP 87
str2 += 'l'                                                             # STEP 88
str3 += 'h'                                                             # STEP 89
str4 += 't'                                                             # STEP 90
result = os0.path.lexists(path1)                                        # STEP 91
str2 += 'd'                                                             # STEP 92
path1 = "/Volumes/ramdisk/test"                                         # STEP 93
bytes4 = 0                                                              # STEP 94
os0.close(fd0)                                                          # STEP 95
str3 += 'v'                                                             # STEP 96
os0.symlink(path1,path2)                                                # STEP 97
fd0 = os0.open(path2, os.O_WRONLY | os.O_APPEND)                        # STEP 98
path0 = "/Volumes/ramdisk/test"                                         # STEP 99
str2 += 'l'                                                            # STEP 100
str2 += 'k'                                                            # STEP 101
str3 += 'f'                                                            # STEP 102
str3 += 'x'                                                            # STEP 103
os0.link(path2,path1)                                                  # STEP 104
result = os0.path.exists(path2)                                        # STEP 105
str3 += 's'                                                            # STEP 106
str3 += 'y'                                                            # STEP 107
str3 += " "                                                            # STEP 108
str1 += 'x'                                                            # STEP 109
str1 += 'h'                                                            # STEP 110
os0.mkdir(path1)                                                       # STEP 111
result = os0.path.isfile(path0)                                        # STEP 112
str4 += 'n'                                                            # STEP 113
os0.rmdir(path2)                                                       # STEP 114
str3 += 'r'                                                            # STEP 115
os0.symlink(path0,path2)                                               # STEP 116
result = os0.path.exists(path0)                                        # STEP 117
str2 += 'x'                                                            # STEP 118
str2 += 'w'                                                            # STEP 119
str1 += 'q'                                                            # STEP 120
result = os0.path.abspath(path2)                                       # STEP 121
str4 += 'z'                                                            # STEP 122
str1 += 'o'                                                            # STEP 123
path2 += "/" + component2                                              # STEP 124
stat3 = os0.fstat(fd0)                                                 # STEP 125
str1 += 'w'                                                            # STEP 126
result = os0.path.isdir(path2)                                         # STEP 127
str4 += 'u'                                                            # STEP 128
str3 += 'f'                                                            # STEP 129
str2 += 'w'                                                            # STEP 130
component2 = "omega"                                                   # STEP 131
str1 += 'd'                                                            # STEP 132
str2 += 'l'                                                            # STEP 133
str3 += 'h'                                                            # STEP 134
str4 += 't'                                                            # STEP 135
result = os0.path.lexists(path1)                                       # STEP 136
str2 += 'd'                                                            # STEP 137
path1 = "/Volumes/ramdisk/test"                                        # STEP 138
os0.close(fd0)                                                         # STEP 139
str3 += 'v'                                                            # STEP 140
os0.symlink(path1,path2)                                               # STEP 141
fd0 = os0.open(path2, os.O_WRONLY | os.O_APPEND)                       # STEP 142
path0 = "/Volumes/ramdisk/test"                                        # STEP 143
str2 += 'l'                                                            # STEP 144
str2 += 'k'                                                            # STEP 145
str3 += 'f'                                                            # STEP 146
str3 += 'x'                                                            # STEP 147
os0.link(path2,path1)                                                  # STEP 148
result = os0.path.exists(path2)                                        # STEP 149
str3 += 's'                                                            # STEP 150
str3 += 'y'                                                            # STEP 151
str1 += 'x'                                                            # STEP 152
str1 += 'h'                                                            # STEP 153
os0.mkdir(path1)                                                       # STEP 154
result = os0.path.isfile(path0)                                        # STEP 155
str4 += 'n'                                                            # STEP 156
os0.rmdir(path2)                                                       # STEP 157
str3 += 'r'                                                            # STEP 158
os0.symlink(path0,path2)                                               # STEP 159
result = os0.path.exists(path0)                                        # STEP 160
str2 += 'x'                                                            # STEP 161
str2 += 'w'                                                            # STEP 162
str1 += 'q'                                                            # STEP 163
result = os0.path.abspath(path2)                                       # STEP 164
str4 += 'z'                                                            # STEP 165
str1 += 'o'                                                            # STEP 166
path2 += "/" + component2                                              # STEP 167
str1 += 'g'                                                            # STEP 168
str1 += 'w'                                                            # STEP 169
result = os0.path.isdir(path2)                                         # STEP 170
str4 += 'u'                                                            # STEP 171
str4 += 't'                                                            # STEP 172
path1 += "/" + component0                                              # STEP 173
component0 = "lambda"                                                  # STEP 174
result = os0.path.isdir(path1)                                         # STEP 175
str2 += 'g'                                                            # STEP 176
result = os0.path.abspath(path2)                                       # STEP 177
opener0 = newFakeOpener(os0)                                           # STEP 178
os0.symlink(path2,path1)                                               # STEP 179
str2 += 'n'                                                            # STEP 180
file0 = opener0(path2,'a')                                             # STEP 181
str4 += 'e'                                                            # STEP 182
os0.remove(path0)                                                      # STEP 183
result = os0.read(fd0,bytes2)                                          # STEP 184
str1 += 'n'                                                            # STEP 185
component2 = "epsilon"                                                 # STEP 186
str4 += 'h'                                                            # STEP 187
str3 += 'y'                                                            # STEP 188
str2 += 'm'                                                            # STEP 189
str2 += 'y'                                                            # STEP 190
path3 = "/Volumes/ramdisk/test"                                        # STEP 191
os0.symlink(path3,path1)                                               # STEP 192
str3 += 'a'                                                            # STEP 193
os0.write(fd0,str3)                                                    # STEP 194
result = os0.path.abspath(path1)                                       # STEP 195
str2 += 'v'                                                            # STEP 196
result = os0.path.isabs(path2)                                         # STEP 197
str3 += 'r'                                                            # STEP 198
str3 += 'y'                                                            # STEP 199
result = os0.path.exists(path2)                                        # STEP 200
path0 += "/" + component0                                              # STEP 201
result = os0.path.islink(path3)                                        # STEP 202
str2 += 'h'                                                            # STEP 203
component0 = "d"                                                       # STEP 204
result = os0.read(fd0,bytes4)                                          # STEP 205
str2 += 'x'                                                            # STEP 206
os0.link(path1,path2)                                                  # STEP 207
stat4 = os0.lstat(path0)                                               # STEP 208
str2 += 'o'                                                            # STEP 209
str2 += 'f'                                                            # STEP 210
bytes3 = 0                                                             # STEP 211
result = os0.path.dirname(path1)                                       # STEP 212
str2 += 'j'                                                            # STEP 213
str3 += 'q'                                                            # STEP 214
result = sorted(os0.listdir(path2))                                    # STEP 215
bytes2 += 1                                                            # STEP 216
str1 += 'z'                                                            # STEP 217
str3 += 't'                                                            # STEP 218
path2 += "/" + component2                                              # STEP 219
str1 += 'l'                                                            # STEP 220
result = os0.path.isabs(path2)                                         # STEP 221
str1 += 'f'                                                            # STEP 222
os0.path.getsize(path1)                                                # STEP 223
str4 = ""                                                              # STEP 224
component2 = "omega"                                                   # STEP 225
result = os0.path.lexists(path2)                                       # STEP 226
str4 += " "                                                            # STEP 227
str1 += 'c'                                                            # STEP 228
str2 += 'k'                                                            # STEP 229
file0 = opener0(path3,'w')                                             # STEP 230
os0.rename(path2,path3)                                                # STEP 231
str4 += 'u'                                                            # STEP 232
file0 = opener0(path2,'r')                                             # STEP 233
path4 = "/Volumes/ramdisk/test"                                        # STEP 234
file0 = opener0(path2,'a')                                             # STEP 235
path0 += "/" + component0                                              # STEP 236
stat4 = os0.stat(path2)                                                # STEP 237
component0 = "beta"                                                    # STEP 238
str1 += 'd'                                                            # STEP 239
os0.link(path1,path4)                                                  # STEP 240
str3 += 'r'                                                            # STEP 241
os0.link(path1,path3)                                                  # STEP 242
str2 += 'r'                                                            # STEP 243
os0.mkdir(path1)                                                       # STEP 244
bytes4 = 0                                                             # STEP 245
file0 = opener0(path0)                                                 # STEP 246
str1 += 'k'                                                            # STEP 247
os0.link(path4,path4)                                                  # STEP 248
os0.symlink(path4,path3)                                               # STEP 249
os0.makedirs(path4)                                                    # STEP 250
result = os0.path.isdir(path4)                                         # STEP 251
result = os0.path.abspath(path2)                                       # STEP 252
result = os0.path.islink(path3)                                        # STEP 253
result = os0.path.islink(path4)                                        # STEP 254
result = os0.path.lexists(path0)                                       # STEP 255
str2 += 'd'                                                            # STEP 256
result = os0.readlink(path3)                                           # STEP 257
str4 += 'j'                                                            # STEP 258
os0.symlink(path0,path0)                                               # STEP 259
str2 += 'e'                                                            # STEP 260
file0 = opener0(path4,'a')                                             # STEP 261
str2 += 'h'                                                            # STEP 262
result = os0.path.lexists(path0)                                       # STEP 263
str1 += 'q'                                                            # STEP 264
file0 = opener0(path0,'r')                                             # STEP 265
str1 += 't'                                                            # STEP 266
os0.link(path1,path0)                                                  # STEP 267
os0.symlink(path4,path4)                                               # STEP 268
str4 += 'o'                                                            # STEP 269
result = os0.path.islink(path2)                                        # STEP 270
str2 += 'e'                                                            # STEP 271
stat4 = os0.stat(path1)                                                # STEP 272
str0 = ""                                                              # STEP 273
result = os0.path.exists(path4)                                        # STEP 274
result = os0.path.isabs(path3)                                         # STEP 275
os0.path.getsize(path2)                                                # STEP 276
path2 = "/Volumes/ramdisk/test"                                        # STEP 277
path1 += "/" + component4                                              # STEP 278
path3 += "/" + component3                                              # STEP 279
file0 = opener0(path1,'r')                                             # STEP 280
result = os0.readlink(path2)                                           # STEP 281
os0.rename(path0,path3)                                                # STEP 282
result = os0.path.isfile(path3)                                        # STEP 283
os0.symlink(path3,path3)                                               # STEP 284
str2 += 'i'                                                            # STEP 285
str2 += 'b'                                                            # STEP 286
str0 += 'a'                                                            # STEP 287
os0.path.getsize(path3)                                                # STEP 288
result = os0.path.isabs(path1)                                         # STEP 289
os0.mkdir(path4)                                                       # STEP 290
str0 += 'i'                                                            # STEP 291
file0 = opener0(path0)                                                 # STEP 292
component4 = "h"                                                       # STEP 293
os0.link(path0,path1)                                                  # STEP 294
os0.symlink(path3,path2)                                               # STEP 295
str3 += 't'                                                            # STEP 296
result = os0.read(fd0,bytes2)                                          # STEP 297
result = os0.path.islink(path4)                                        # STEP 298
result = os0.path.lexists(path4)                                       # STEP 299
result = stat3.st_nlink                                                # STEP 300
str1 += 'l'                                                            # STEP 301
path2 += "/" + component2                                              # STEP 302
os0.symlink(path3,path0)                                               # STEP 303
str2 += 's'                                                            # STEP 304
os0.makedirs(path4)                                                    # STEP 305
str0 += 'u'                                                            # STEP 306
str3 += 'r'                                                            # STEP 307
os0.rmdir(path3)                                                       # STEP 308
component2 = "a"                                                       # STEP 309
str0 += 'j'                                                            # STEP 310
path4 += "/" + component3                                              # STEP 311
os0.symlink(path3,path3)                                               # STEP 312
os0.write(fd0,str4)                                                    # STEP 313
str3 += 'g'                                                            # STEP 314
file0 = opener0(path3)                                                 # STEP 315
file0 = opener0(path3)                                                 # STEP 316
os0.link(path1,path1)                                                  # STEP 317
path1 = "/Volumes/ramdisk/test"                                        # STEP 318
str2 += 'l'                                                            # STEP 319
str2 += 'j'                                                            # STEP 320
os0.link(path3,path0)                                                  # STEP 321
result = os0.read(fd0,bytes0)                                          # STEP 322
file0 = opener0(path2,'w')                                             # STEP 323
os0.removedirs(path2)                                                  # STEP 324
result = sorted(os0.listdir(path4))                                    # STEP 325
bytes2 += 1                                                            # STEP 326
stat3 = os0.stat(path2)                                                # STEP 327
str1 += 'u'                                                            # STEP 328
os0.symlink(path0,path0)                                               # STEP 329
path3 += "/" + component1                                              # STEP 330
str1 += 't'                                                            # STEP 331
str3 += " "                                                            # STEP 332
result = os0.path.abspath(path2)                                       # STEP 333
os0.symlink(path1,path1)                                               # STEP 334
os0.mkdir(path4)                                                       # STEP 335
os0.link(path3,path1)                                                  # STEP 336
str1 += 'u'                                                            # STEP 337
result = os0.path.abspath(path2)                                       # STEP 338
os0.link(path3,path4)                                                  # STEP 339
str3 += 'c'                                                            # STEP 340
stat4 = os0.stat(path3)                                                # STEP 341
path3 += "/" + component3                                              # STEP 342
str3 += " "                                                            # STEP 343
str1 += 'k'                                                            # STEP 344
file0.seek(bytes4)                                                     # STEP 345
result = os0.path.isfile(path4)                                        # STEP 346
str1 += 'w'                                                            # STEP 347
result = file0.read(bytes0)                                            # STEP 348
result = os0.path.isabs(path2)                                         # STEP 349
str4 += 'z'                                                            # STEP 350
os0.path.getsize(path4)                                                # STEP 351
str3 += 'w'                                                            # STEP 352
os0.symlink(path1,path1)                                               # STEP 353
file0.next()                                                           # STEP 354
bytes0 += 1                                                            # STEP 355
os0.makedirs(path3)                                                    # STEP 356
os0.rename(path4,path0)                                                # STEP 357
component1 = "alpha"                                                   # STEP 358
stat4 = os0.stat(path3)                                                # STEP 359
stat4 = os0.lstat(path4)                                               # STEP 360
result = os0.path.isdir(path2)                                         # STEP 361
os0.remove(path1)                                                      # STEP 362
os0.rename(path4,path2)                                                # STEP 363
result = file0.readline()                                              # STEP 364
result = os0.readlink(path4)                                           # STEP 365
os0.removedirs(path4)                                                  # STEP 366
str3 += 'e'                                                            # STEP 367
os0.makedirs(path4)                                                    # STEP 368
str4 += 's'                                                            # STEP 369
os0.symlink(path1,path3)                                               # STEP 370
os0.symlink(path1,path3)                                               # STEP 371
result = file0.read(bytes2)                                            # STEP 372
os0.rename(path0,path4)                                                # STEP 373
file0.truncate()                                                       # STEP 374
path3 += "/" + component2                                              # STEP 375
os0.remove(path3)                                                      # STEP 376
os0.rename(path0,path4)                                                # STEP 377
result = sorted(os0.listdir(path2))                                    # STEP 378
str0 += 'u'                                                            # STEP 379
str4 += 'u'                                                            # STEP 380
os0.symlink(path3,path2)                                               # STEP 381
os0.link(path1,path2)                                                  # STEP 382
os0.removedirs(path0)                                                  # STEP 383
os0.link(path0,path1)                                                  # STEP 384
str0 += 'q'                                                            # STEP 385
str3 += 's'                                                            # STEP 386
file0.flush()                                                          # STEP 387
os0.link(path3,path3)                                                  # STEP 388
result = file0.readline(bytes4)                                        # STEP 389
path0 += "/" + component0                                              # STEP 390
os0.link(path3,path3)                                                  # STEP 391
result = os0.path.isfile(path0)                                        # STEP 392
os0.link(path2,path2)                                                  # STEP 393
str4 += 'x'                                                            # STEP 394
str1 += 'r'                                                            # STEP 395
os0.link(path4,path3)                                                  # STEP 396
result = os0.path.dirname(path1)                                       # STEP 397
result = os0.path.lexists(path1)                                       # STEP 398
path3 = "/Volumes/ramdisk/test"                                        # STEP 399
os0.symlink(path1,path1)                                               # STEP 400
os0.link(path2,path3)                                                  # STEP 401
str0 += 'w'                                                            # STEP 402
str1 += " "                                                            # STEP 403
os0.write(fd0,str2)                                                    # STEP 404
str2 += 'x'                                                            # STEP 405
str0 += 'g'                                                            # STEP 406
str0 += 'i'                                                            # STEP 407
result = os0.path.exists(path1)                                        # STEP 408
os0.link(path4,path1)                                                  # STEP 409
os0.symlink(path1,path4)                                               # STEP 410
os0.rename(path2,path3)                                                # STEP 411
str0 += 'h'                                                            # STEP 412
bytes2 = 0                                                             # STEP 413
path3 += "/" + component3                                              # STEP 414
os0.symlink(path0,path3)                                               # STEP 415
result = os0.path.dirname(path3)                                       # STEP 416
os0.symlink(path2,path4)                                               # STEP 417
component2 = "g"                                                       # STEP 418
path3 += "/" + component4                                              # STEP 419
result = os0.path.islink(path2)                                        # STEP 420
str0 += 'e'                                                            # STEP 421
os0.path.getsize(path0)                                                # STEP 422
str4 += 'd'                                                            # STEP 423
os0.mkdir(path2)                                                       # STEP 424
str0 += 'v'                                                            # STEP 425
bytes4 += 1                                                            # STEP 426
os0.symlink(path0,path3)                                               # STEP 427
os0.symlink(path0,path0)                                               # STEP 428
str2 += " "                                                            # STEP 429
file0.seek(bytes4)                                                     # STEP 430
str1 += 'u'                                                            # STEP 431
str2 += 'x'                                                            # STEP 432
str4 += 'r'                                                            # STEP 433
str1 += 'y'                                                            # STEP 434
result = os0.read(fd0,bytes3)                                          # STEP 435
str4 += 'd'                                                            # STEP 436
str2 += 'f'                                                            # STEP 437
component3 = "c"                                                       # STEP 438
str0 = ""                                                              # STEP 439
path2 += "/" + component2                                              # STEP 440
component2 = "e"                                                       # STEP 441
component0 = "c"                                                       # STEP 442
str0 += 's'                                                            # STEP 443
os0.makedirs(path2)                                                    # STEP 444
str0 += 'g'                                                            # STEP 445
result = os0.path.isabs(path1)                                         # STEP 446
os0.rmdir(path4)                                                       # STEP 447
result = os0.path.dirname(path4)                                       # STEP 448
path4 = "/Volumes/ramdisk/test"                                        # STEP 449
str0 += 'i'                                                            # STEP 450
os0.symlink(path4,path0)                                               # STEP 451
os0.write(fd0,str2)                                                    # STEP 452
str3 += " "                                                            # STEP 453
str1 += 'z'                                                            # STEP 454
str2 = ""                                                              # STEP 455
result = os0.path.abspath(path2)                                       # STEP 456
result = os0.path.exists(path1)                                        # STEP 457
result = os0.readlink(path1)                                           # STEP 458
os0.link(path4,path3)                                                  # STEP 459
os0.link(path3,path3)                                                  # STEP 460
str3 += 'k'                                                            # STEP 461
os0.write(fd0,str4)                                                    # STEP 462
bytes4 += 1                                                            # STEP 463
result = sorted(os0.listdir(path0))                                    # STEP 464
result = os0.read(fd0,bytes2)                                          # STEP 465
result = stat4.st_size                                                 # STEP 466
path2 = "/Volumes/ramdisk/test"                                        # STEP 467
component4 = "gamma"                                                   # STEP 468
os0.write(fd0,str0)                                                    # STEP 469
path0 = "/Volumes/ramdisk/test"                                        # STEP 470
str4 += 's'                                                            # STEP 471
os0.makedirs(path1)                                                    # STEP 472
str3 += 'w'                                                            # STEP 473
bytes4 = 0                                                             # STEP 474
path0 += "/" + component1                                              # STEP 475
str3 += 'a'                                                            # STEP 476
str0 += 'm'                                                            # STEP 477
result = os0.path.abspath(path0)                                       # STEP 478
str2 += 'm'                                                            # STEP 479
os0.write(fd0,str3)                                                    # STEP 480
str3 += 'h'                                                            # STEP 481
str2 += 'l'                                                            # STEP 482
os0.removedirs(path3)                                                  # STEP 483
result = os0.path.isdir(path0)                                         # STEP 484
str1 += 'u'                                                            # STEP 485
str2 += 'd'                                                            # STEP 486
result = os0.read(fd0,bytes3)                                          # STEP 487
result = os0.path.dirname(path4)                                       # STEP 488
result = os0.path.dirname(path1)                                       # STEP 489
str1 = ""                                                              # STEP 490
os0.symlink(path3,path3)                                               # STEP 491
str3 += 'g'                                                            # STEP 492
os0.symlink(path4,path1)                                               # STEP 493
os0.symlink(path3,path3)                                               # STEP 494
str1 += 'j'                                                            # STEP 495
str2 += 'h'                                                            # STEP 496
result = file0.readline()                                              # STEP 497
ERROR: (<type 'exceptions.OSError'>, OSError(9, 'File is not open for reading.'), <traceback object at 0x107122290>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 28646, in act569
    result = self.p_file[0].readline()
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4284, in read_error
    self._raise('File is not open for reading.')
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4112, in _raise
    raise OSError(errno.EBADF, message)
FAILURE 5
component4 = "e"                                                         # STEP 0
component2 = "h"                                                         # STEP 1
component1 = "a"                                                         # STEP 2
component3 = "alpha"                                                     # STEP 3
str1 = ""                                                                # STEP 4
component0 = "alpha"                                                     # STEP 5
str1 += 'd'                                                              # STEP 6
str3 = ""                                                                # STEP 7
str3 += " "                                                              # STEP 8
str3 += 'i'                                                              # STEP 9
str1 += 'v'                                                             # STEP 10
path1 = "/Volumes/ramdisk/test"                                         # STEP 11
str1 += 'f'                                                             # STEP 12
str1 += 'v'                                                             # STEP 13
str3 += 'e'                                                             # STEP 14
str1 += 'u'                                                             # STEP 15
path1 += "/" + component4                                               # STEP 16
component4 = "lambda"                                                   # STEP 17
str3 += 'z'                                                             # STEP 18
path1 += "/" + component2                                               # STEP 19
os0 = newFakeOS()                                                       # STEP 20
str1 += 't'                                                             # STEP 21
result = os0.path.isabs(path1)                                          # STEP 22
str1 = ""                                                               # STEP 23
str1 += 'k'                                                             # STEP 24
result = os0.path.exists(path1)                                         # STEP 25
str1 += 'k'                                                             # STEP 26
result = os0.path.exists(path1)                                         # STEP 27
component2 = "alpha"                                                    # STEP 28
fd0 = os0.open(path1, os.O_CREAT | os.O_WRONLY)                         # STEP 29
str1 += 'f'                                                             # STEP 30
str4 = ""                                                               # STEP 31
str1 += 'z'                                                             # STEP 32
path1 += "/" + component3                                               # STEP 33
str1 += 'j'                                                             # STEP 34
str3 += 't'                                                             # STEP 35
str3 += 'o'                                                             # STEP 36
path2 = "/Volumes/ramdisk/test"                                         # STEP 37
str3 += 'z'                                                             # STEP 38
component3 = "gamma"                                                    # STEP 39
stat0 = os0.lstat(path1)                                                # STEP 40
str4 += 'm'                                                             # STEP 41
str3 += 'z'                                                             # STEP 42
str1 += 'x'                                                             # STEP 43
result = os0.path.islink(path1)                                         # STEP 44
str3 += 'l'                                                             # STEP 45
os0.link(path1,path2)                                                   # STEP 46
str3 += 'c'                                                             # STEP 47
str1 += 's'                                                             # STEP 48
stat0 = os0.stat(path1)                                                 # STEP 49
result = os0.path.abspath(path1)                                        # STEP 50
path1 += "/" + component2                                               # STEP 51
str3 += 'v'                                                             # STEP 52
str1 += " "                                                             # STEP 53
os0.makedirs(path1)                                                     # STEP 54
str1 += 'y'                                                             # STEP 55
bytes0 = 0                                                              # STEP 56
str4 += 'q'                                                             # STEP 57
str1 += 'c'                                                             # STEP 58
os0.link(path1,path1)                                                   # STEP 59
str4 += 'r'                                                             # STEP 60
os0.remove(path1)                                                       # STEP 61
stat1 = os0.lstat(path1)                                                # STEP 62
os0.makedirs(path1)                                                     # STEP 63
bytes2 = 0                                                              # STEP 64
str4 += 'q'                                                             # STEP 65
str3 += 'g'                                                             # STEP 66
os0.mkdir(path1)                                                        # STEP 67
str4 = ""                                                               # STEP 68
str3 += 'k'                                                             # STEP 69
str3 += 'l'                                                             # STEP 70
result = os0.path.isdir(path1)                                          # STEP 71
str3 += 'q'                                                             # STEP 72
os0.link(path1,path1)                                                   # STEP 73
result = os0.path.isfile(path2)                                         # STEP 74
stat0 = os0.lstat(path1)                                                # STEP 75
path2 += "/" + component0                                               # STEP 76
os0.mkdir(path2)                                                        # STEP 77
stat2 = os0.stat(path1)                                                 # STEP 78
os0.removedirs(path2)                                                   # STEP 79
stat3 = os0.lstat(path2)                                                # STEP 80
str2 = ""                                                               # STEP 81
result = os0.path.abspath(path1)                                        # STEP 82
fd0 = os0.open(path2, os.O_CREAT | os.O_WRONLY | os.O_TRUNC | os.O_EXCL)  # STEP 83
str3 += 'f'                                                             # STEP 84
str2 += 'w'                                                             # STEP 85
component0 = "a"                                                        # STEP 86
component2 = "omega"                                                    # STEP 87
str1 += 'd'                                                             # STEP 88
str2 += 'l'                                                             # STEP 89
str3 += 'h'                                                             # STEP 90
str4 += 't'                                                             # STEP 91
result = os0.path.lexists(path1)                                        # STEP 92
str2 += 'd'                                                             # STEP 93
path1 = "/Volumes/ramdisk/test"                                         # STEP 94
bytes4 = 0                                                              # STEP 95
os0.close(fd0)                                                          # STEP 96
str3 += 'v'                                                             # STEP 97
os0.symlink(path1,path2)                                                # STEP 98
fd0 = os0.open(path2, os.O_WRONLY | os.O_APPEND)                        # STEP 99
path0 = "/Volumes/ramdisk/test"                                        # STEP 100
str2 += 'l'                                                            # STEP 101
str2 += 'k'                                                            # STEP 102
str3 += 'f'                                                            # STEP 103
str3 += 'x'                                                            # STEP 104
os0.link(path2,path1)                                                  # STEP 105
result = os0.path.exists(path2)                                        # STEP 106
str3 += 's'                                                            # STEP 107
str3 += 'y'                                                            # STEP 108
str3 += " "                                                            # STEP 109
str1 += 'x'                                                            # STEP 110
str1 += 'h'                                                            # STEP 111
os0.mkdir(path1)                                                       # STEP 112
result = os0.path.isfile(path0)                                        # STEP 113
str4 += 'n'                                                            # STEP 114
os0.rmdir(path2)                                                       # STEP 115
str3 += 'r'                                                            # STEP 116
os0.symlink(path0,path2)                                               # STEP 117
result = os0.path.exists(path0)                                        # STEP 118
str2 += 'x'                                                            # STEP 119
str2 += 'w'                                                            # STEP 120
str1 += 'q'                                                            # STEP 121
result = os0.path.abspath(path2)                                       # STEP 122
str4 += 'z'                                                            # STEP 123
str1 += 'o'                                                            # STEP 124
path2 += "/" + component2                                              # STEP 125
stat3 = os0.fstat(fd0)                                                 # STEP 126
str1 += 'w'                                                            # STEP 127
result = os0.path.isdir(path2)                                         # STEP 128
str4 += 'u'                                                            # STEP 129
str3 += 'f'                                                            # STEP 130
str2 += 'w'                                                            # STEP 131
component2 = "omega"                                                   # STEP 132
str1 += 'd'                                                            # STEP 133
str2 += 'l'                                                            # STEP 134
str3 += 'h'                                                            # STEP 135
str4 += 't'                                                            # STEP 136
result = os0.path.lexists(path1)                                       # STEP 137
str2 += 'd'                                                            # STEP 138
path1 = "/Volumes/ramdisk/test"                                        # STEP 139
os0.close(fd0)                                                         # STEP 140
str3 += 'v'                                                            # STEP 141
os0.symlink(path1,path2)                                               # STEP 142
fd0 = os0.open(path2, os.O_WRONLY | os.O_APPEND)                       # STEP 143
path0 = "/Volumes/ramdisk/test"                                        # STEP 144
str2 += 'l'                                                            # STEP 145
str2 += 'k'                                                            # STEP 146
str3 += 'f'                                                            # STEP 147
str3 += 'x'                                                            # STEP 148
os0.link(path2,path1)                                                  # STEP 149
result = os0.path.exists(path2)                                        # STEP 150
str3 += 's'                                                            # STEP 151
str3 += 'y'                                                            # STEP 152
str1 += 'x'                                                            # STEP 153
str1 += 'h'                                                            # STEP 154
os0.mkdir(path1)                                                       # STEP 155
result = os0.path.isfile(path0)                                        # STEP 156
str4 += 'n'                                                            # STEP 157
os0.rmdir(path2)                                                       # STEP 158
str3 += 'r'                                                            # STEP 159
os0.symlink(path0,path2)                                               # STEP 160
result = os0.path.exists(path0)                                        # STEP 161
str2 += 'x'                                                            # STEP 162
str2 += 'w'                                                            # STEP 163
str1 += 'q'                                                            # STEP 164
result = os0.path.abspath(path2)                                       # STEP 165
str4 += 'z'                                                            # STEP 166
str1 += 'o'                                                            # STEP 167
path2 += "/" + component2                                              # STEP 168
str1 += 'g'                                                            # STEP 169
str1 += 'w'                                                            # STEP 170
result = os0.path.isdir(path2)                                         # STEP 171
str4 += 'u'                                                            # STEP 172
str4 += 't'                                                            # STEP 173
path1 += "/" + component0                                              # STEP 174
component0 = "lambda"                                                  # STEP 175
result = os0.path.isdir(path1)                                         # STEP 176
str2 += 'g'                                                            # STEP 177
result = os0.path.abspath(path2)                                       # STEP 178
opener0 = newFakeOpener(os0)                                           # STEP 179
os0.symlink(path2,path1)                                               # STEP 180
str2 += 'n'                                                            # STEP 181
file0 = opener0(path2,'a')                                             # STEP 182
str4 += 'e'                                                            # STEP 183
os0.remove(path0)                                                      # STEP 184
result = os0.read(fd0,bytes2)                                          # STEP 185
str1 += 'n'                                                            # STEP 186
component2 = "epsilon"                                                 # STEP 187
str4 += 'h'                                                            # STEP 188
str3 += 'y'                                                            # STEP 189
str2 += 'm'                                                            # STEP 190
str2 += 'y'                                                            # STEP 191
path3 = "/Volumes/ramdisk/test"                                        # STEP 192
os0.symlink(path3,path1)                                               # STEP 193
str3 += 'a'                                                            # STEP 194
os0.write(fd0,str3)                                                    # STEP 195
result = os0.path.abspath(path1)                                       # STEP 196
str2 += 'v'                                                            # STEP 197
result = os0.path.isabs(path2)                                         # STEP 198
str3 += 'r'                                                            # STEP 199
str3 += 'y'                                                            # STEP 200
result = os0.path.exists(path2)                                        # STEP 201
path0 += "/" + component0                                              # STEP 202
result = os0.path.islink(path3)                                        # STEP 203
str2 += 'h'                                                            # STEP 204
component0 = "d"                                                       # STEP 205
result = os0.read(fd0,bytes4)                                          # STEP 206
str2 += 'x'                                                            # STEP 207
os0.link(path1,path2)                                                  # STEP 208
stat4 = os0.lstat(path0)                                               # STEP 209
str2 += 'o'                                                            # STEP 210
str2 += 'f'                                                            # STEP 211
bytes3 = 0                                                             # STEP 212
result = os0.path.dirname(path1)                                       # STEP 213
str2 += 'j'                                                            # STEP 214
str3 += 'q'                                                            # STEP 215
str1 += 'z'                                                            # STEP 216
str1 += 'l'                                                            # STEP 217
path0 = "/Volumes/ramdisk/test"                                        # STEP 218
str1 += 'x'                                                            # STEP 219
path0 += "/" + component2                                              # STEP 220
component2 = "phi"                                                     # STEP 221
str2 = ""                                                              # STEP 222
str1 += 'a'                                                            # STEP 223
str1 += 'p'                                                            # STEP 224
str2 += 'e'                                                            # STEP 225
str1 += 'c'                                                            # STEP 226
str2 += 'd'                                                            # STEP 227
str2 += " "                                                            # STEP 228
path1 = "/Volumes/ramdisk/test"                                        # STEP 229
str1 += 'b'                                                            # STEP 230
path2 = "/Volumes/ramdisk/test"                                        # STEP 231
str1 += 'd'                                                            # STEP 232
str1 += 'w'                                                            # STEP 233
str3 = ""                                                              # STEP 234
str3 += 'j'                                                            # STEP 235
path2 += "/" + component4                                              # STEP 236
str2 += 'b'                                                            # STEP 237
path2 += "/" + component4                                              # STEP 238
component4 = "delta"                                                   # STEP 239
path4 = "/Volumes/ramdisk/test"                                        # STEP 240
path4 += "/" + component3                                              # STEP 241
str1 += 'f'                                                            # STEP 242
str1 += 't'                                                            # STEP 243
str2 += 's'                                                            # STEP 244
path4 += "/" + component1                                              # STEP 245
str3 += 'a'                                                            # STEP 246
str3 += 'p'                                                            # STEP 247
str2 += 'f'                                                            # STEP 248
str3 += 'y'                                                            # STEP 249
component3 = "a"                                                       # STEP 250
str2 += 'u'                                                            # STEP 251
path2 += "/" + component2                                              # STEP 252
str2 += 'f'                                                            # STEP 253
str2 += " "                                                            # STEP 254
component2 = "d"                                                       # STEP 255
component1 = "h"                                                       # STEP 256
str1 += 'j'                                                            # STEP 257
bytes2 = 0                                                             # STEP 258
str3 += 'c'                                                            # STEP 259
path3 = "/Volumes/ramdisk/test"                                        # STEP 260
str2 += 'r'                                                            # STEP 261
str3 += 'z'                                                            # STEP 262
str1 += 'u'                                                            # STEP 263
str1 += 'j'                                                            # STEP 264
path4 += "/" + component0                                              # STEP 265
str3 += 'w'                                                            # STEP 266
bytes2 += 1                                                            # STEP 267
str1 += 'g'                                                            # STEP 268
path4 = "/Volumes/ramdisk/test"                                        # STEP 269
os0.makedirs(path1)                                                    # STEP 270
str3 += 'g'                                                            # STEP 271
os0.remove(path1)                                                      # STEP 272
os0.makedirs(path0)                                                    # STEP 273
path1 += "/" + component1                                              # STEP 274
component1 = "delta"                                                   # STEP 275
os0.symlink(path0,path3)                                               # STEP 276
path0 += "/" + component3                                              # STEP 277
os0.symlink(path1,path0)                                               # STEP 278
str2 += 's'                                                            # STEP 279
os0.removedirs(path4)                                                  # STEP 280
os0.symlink(path0,path0)                                               # STEP 281
str1 += 'i'                                                            # STEP 282
path0 += "/" + component4                                              # STEP 283
str1 += " "                                                            # STEP 284
os0.rename(path1,path2)                                                # STEP 285
component3 = "a"                                                       # STEP 286
os0.path.getsize(path1)                                                # STEP 287
result = os0.read(fd0,bytes2)                                          # STEP 288
result = os0.path.isdir(path4)                                         # STEP 289
os0.makedirs(path2)                                                    # STEP 290
path0 += "/" + component4                                              # STEP 291
path2 += "/" + component1                                              # STEP 292
str1 += 'h'                                                            # STEP 293
str3 += 'k'                                                            # STEP 294
str2 += 'l'                                                            # STEP 295
str3 += 'p'                                                            # STEP 296
str3 += 'u'                                                            # STEP 297
os0.remove(path2)                                                      # STEP 298
file0 = opener0(path1,'a')                                             # STEP 299
os0.rename(path2,path1)                                                # STEP 300
result = os0.path.exists(path1)                                        # STEP 301
os0.rename(path2,path0)                                                # STEP 302
result = os0.path.islink(path3)                                        # STEP 303
os0.link(path3,path0)                                                  # STEP 304
os0.symlink(path3,path2)                                               # STEP 305
str1 += 'f'                                                            # STEP 306
result = file0.readline(bytes0)                                        # STEP 307
result = os0.path.isabs(path4)                                         # STEP 308
os0.link(path0,path1)                                                  # STEP 309
path0 += "/" + component1                                              # STEP 310
path2 += "/" + component1                                              # STEP 311
component4 = "phi"                                                     # STEP 312
path0 += "/" + component3                                              # STEP 313
component1 = "phi"                                                     # STEP 314
result = os0.path.islink(path4)                                        # STEP 315
path1 += "/" + component1                                              # STEP 316
str2 += 'j'                                                            # STEP 317
os0.symlink(path3,path1)                                               # STEP 318
str3 += 'd'                                                            # STEP 319
os0.rename(path0,path3)                                                # STEP 320
str2 += 'f'                                                            # STEP 321
result = os0.path.lexists(path4)                                       # STEP 322
os0.link(path1,path2)                                                  # STEP 323
result = os0.path.isfile(path3)                                        # STEP 324
str2 += 'p'                                                            # STEP 325
str3 += 'v'                                                            # STEP 326
str1 += 's'                                                            # STEP 327
path4 += "/" + component3                                              # STEP 328
os0.link(path1,path4)                                                  # STEP 329
file0.truncate()                                                       # STEP 330
os0.link(path0,path3)                                                  # STEP 331
os0.link(path3,path4)                                                  # STEP 332
os0.path.getsize(path2)                                                # STEP 333
file0.seek(bytes4)                                                     # STEP 334
str1 += 'b'                                                            # STEP 335
str3 += 'b'                                                            # STEP 336
path1 += "/" + component2                                              # STEP 337
os0.symlink(path3,path0)                                               # STEP 338
component0 = "epsilon"                                                 # STEP 339
component1 = "c"                                                       # STEP 340
str4 += 'e'                                                            # STEP 341
stat4 = os0.stat(path1)                                                # STEP 342
result = os0.path.exists(path0)                                        # STEP 343
os0.makedirs(path3)                                                    # STEP 344
str3 += 'h'                                                            # STEP 345
str2 += 'p'                                                            # STEP 346
component2 = "e"                                                       # STEP 347
str2 += " "                                                            # STEP 348
path0 += "/" + component1                                              # STEP 349
os0.makedirs(path1)                                                    # STEP 350
str4 += 'v'                                                            # STEP 351
str4 += 'e'                                                            # STEP 352
bytes0 += 1                                                            # STEP 353
os0.rename(path1,path2)                                                # STEP 354
str3 += 'x'                                                            # STEP 355
os0.rename(path0,path1)                                                # STEP 356
os0.rename(path2,path4)                                                # STEP 357
str4 += 'n'                                                            # STEP 358
str2 += 'l'                                                            # STEP 359
os0.rename(path2,path4)                                                # STEP 360
str4 += 'c'                                                            # STEP 361
str1 += 'v'                                                            # STEP 362
component1 = "phi"                                                     # STEP 363
str3 += 'c'                                                            # STEP 364
path1 += "/" + component4                                              # STEP 365
result = os0.path.isfile(path0)                                        # STEP 366
path0 = "/Volumes/ramdisk/test"                                        # STEP 367
os0.symlink(path1,path0)                                               # STEP 368
path0 += "/" + component3                                              # STEP 369
str2 += 'm'                                                            # STEP 370
str3 += " "                                                            # STEP 371
stat4 = os0.lstat(path1)                                               # STEP 372
os0.symlink(path3,path2)                                               # STEP 373
result = os0.path.exists(path2)                                        # STEP 374
component4 = "c"                                                       # STEP 375
os0.mkdir(path4)                                                       # STEP 376
os0.link(path0,path1)                                                  # STEP 377
os0.symlink(path2,path4)                                               # STEP 378
os0.symlink(path0,path3)                                               # STEP 379
os0.link(path4,path4)                                                  # STEP 380
os0.link(path4,path2)                                                  # STEP 381
result = os0.path.exists(path2)                                        # STEP 382
stat4 = os0.lstat(path4)                                               # STEP 383
os0.link(path3,path2)                                                  # STEP 384
str1 += " "                                                            # STEP 385
component3 = "a"                                                       # STEP 386
str1 += 'z'                                                            # STEP 387
str3 += 'a'                                                            # STEP 388
result = os0.path.exists(path4)                                        # STEP 389
os0.symlink(path1,path2)                                               # STEP 390
os0.link(path3,path0)                                                  # STEP 391
result = sorted(os0.listdir(path3))                                    # STEP 392
str3 += 'q'                                                            # STEP 393
str3 = ""                                                              # STEP 394
path3 += "/" + component0                                              # STEP 395
os0.makedirs(path1)                                                    # STEP 396
component0 = "b"                                                       # STEP 397
result = os0.readlink(path3)                                           # STEP 398
str3 += 't'                                                            # STEP 399
os0.remove(path2)                                                      # STEP 400
result = file0.read(bytes3)                                            # STEP 401
os0.symlink(path1,path3)                                               # STEP 402
path0 = "/Volumes/ramdisk/test"                                        # STEP 403
str3 += 'o'                                                            # STEP 404
os0.path.getsize(path2)                                                # STEP 405
os0.symlink(path3,path4)                                               # STEP 406
os0.removedirs(path4)                                                  # STEP 407
result = os0.readlink(path2)                                           # STEP 408
str3 = ""                                                              # STEP 409
result = os0.path.isdir(path0)                                         # STEP 410
str1 += 'm'                                                            # STEP 411
os0.symlink(path4,path3)                                               # STEP 412
path2 += "/" + component0                                              # STEP 413
os0.rename(path1,path0)                                                # STEP 414
os0.removedirs(path2)                                                  # STEP 415
str1 += 'q'                                                            # STEP 416
str2 += 'r'                                                            # STEP 417
path0 += "/" + component4                                              # STEP 418
file0.truncate()                                                       # STEP 419
file0.write(str4)                                                      # STEP 420
file0.seek(bytes2)                                                     # STEP 421
str1 += 'o'                                                            # STEP 422
os0.rename(path3,path0)                                                # STEP 423
str3 += 'z'                                                            # STEP 424
os0.rmdir(path0)                                                       # STEP 425
str1 += 'v'                                                            # STEP 426
os0.symlink(path2,path2)                                               # STEP 427
result = os0.read(fd0,bytes2)                                          # STEP 428
str3 += 'o'                                                            # STEP 429
str1 += 'a'                                                            # STEP 430
result = file0.readline(bytes0)                                        # STEP 431
ERROR: (<type 'exceptions.OSError'>, OSError(9, 'File is not open for reading.'), <traceback object at 0x1077ac908>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 28701, in act570
    result = self.p_file[0].readline(self.p_bytes[0])
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4284, in read_error
    self._raise('File is not open for reading.')
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4112, in _raise
    raise OSError(errno.EBADF, message)
FAILURE 6
component4 = "e"                                                         # STEP 0
component2 = "h"                                                         # STEP 1
component1 = "a"                                                         # STEP 2
component3 = "alpha"                                                     # STEP 3
str1 = ""                                                                # STEP 4
component0 = "alpha"                                                     # STEP 5
str1 += 'd'                                                              # STEP 6
str3 = ""                                                                # STEP 7
str3 += " "                                                              # STEP 8
str3 += 'i'                                                              # STEP 9
str1 += 'v'                                                             # STEP 10
path1 = "/Volumes/ramdisk/test"                                         # STEP 11
str1 += 'f'                                                             # STEP 12
str1 += 'v'                                                             # STEP 13
str3 += 'e'                                                             # STEP 14
str1 += 'u'                                                             # STEP 15
path1 += "/" + component4                                               # STEP 16
component4 = "lambda"                                                   # STEP 17
str3 += 'z'                                                             # STEP 18
path1 += "/" + component2                                               # STEP 19
os0 = newFakeOS()                                                       # STEP 20
str1 += 't'                                                             # STEP 21
result = os0.path.isabs(path1)                                          # STEP 22
str1 = ""                                                               # STEP 23
str1 += 'k'                                                             # STEP 24
result = os0.path.exists(path1)                                         # STEP 25
str1 += 'k'                                                             # STEP 26
result = os0.path.exists(path1)                                         # STEP 27
component2 = "alpha"                                                    # STEP 28
fd0 = os0.open(path1, os.O_CREAT | os.O_WRONLY)                         # STEP 29
str1 += 'f'                                                             # STEP 30
str4 = ""                                                               # STEP 31
str1 += 'z'                                                             # STEP 32
path1 += "/" + component3                                               # STEP 33
str1 += 'j'                                                             # STEP 34
str3 += 't'                                                             # STEP 35
str3 += 'o'                                                             # STEP 36
path2 = "/Volumes/ramdisk/test"                                         # STEP 37
str3 += 'z'                                                             # STEP 38
component3 = "gamma"                                                    # STEP 39
stat0 = os0.lstat(path1)                                                # STEP 40
str4 += 'm'                                                             # STEP 41
str3 += 'z'                                                             # STEP 42
str1 += 'x'                                                             # STEP 43
result = os0.path.islink(path1)                                         # STEP 44
str3 += 'l'                                                             # STEP 45
os0.link(path1,path2)                                                   # STEP 46
str3 += 'c'                                                             # STEP 47
str1 += 's'                                                             # STEP 48
stat0 = os0.stat(path1)                                                 # STEP 49
result = os0.path.abspath(path1)                                        # STEP 50
path1 += "/" + component2                                               # STEP 51
str3 += 'v'                                                             # STEP 52
str1 += " "                                                             # STEP 53
os0.makedirs(path1)                                                     # STEP 54
str1 += 'y'                                                             # STEP 55
bytes0 = 0                                                              # STEP 56
str4 += 'q'                                                             # STEP 57
str1 += 'c'                                                             # STEP 58
os0.link(path1,path1)                                                   # STEP 59
str4 += 'r'                                                             # STEP 60
os0.remove(path1)                                                       # STEP 61
stat1 = os0.lstat(path1)                                                # STEP 62
os0.makedirs(path1)                                                     # STEP 63
bytes2 = 0                                                              # STEP 64
str4 += 'q'                                                             # STEP 65
str3 += 'g'                                                             # STEP 66
os0.mkdir(path1)                                                        # STEP 67
str4 = ""                                                               # STEP 68
str3 += 'k'                                                             # STEP 69
str3 += 'l'                                                             # STEP 70
result = os0.path.isdir(path1)                                          # STEP 71
str3 += 'q'                                                             # STEP 72
os0.link(path1,path1)                                                   # STEP 73
result = os0.path.isfile(path2)                                         # STEP 74
stat0 = os0.lstat(path1)                                                # STEP 75
path2 += "/" + component0                                               # STEP 76
os0.mkdir(path2)                                                        # STEP 77
stat2 = os0.stat(path1)                                                 # STEP 78
os0.removedirs(path2)                                                   # STEP 79
stat3 = os0.lstat(path2)                                                # STEP 80
str2 = ""                                                               # STEP 81
result = os0.path.abspath(path1)                                        # STEP 82
fd0 = os0.open(path2, os.O_CREAT | os.O_WRONLY | os.O_TRUNC | os.O_EXCL)  # STEP 83
str3 += 'f'                                                             # STEP 84
str2 += 'w'                                                             # STEP 85
component0 = "a"                                                        # STEP 86
component2 = "omega"                                                    # STEP 87
str1 += 'd'                                                             # STEP 88
str2 += 'l'                                                             # STEP 89
str3 += 'h'                                                             # STEP 90
str4 += 't'                                                             # STEP 91
result = os0.path.lexists(path1)                                        # STEP 92
str2 += 'd'                                                             # STEP 93
path1 = "/Volumes/ramdisk/test"                                         # STEP 94
bytes4 = 0                                                              # STEP 95
os0.close(fd0)                                                          # STEP 96
str3 += 'v'                                                             # STEP 97
os0.symlink(path1,path2)                                                # STEP 98
fd0 = os0.open(path2, os.O_WRONLY | os.O_APPEND)                        # STEP 99
path0 = "/Volumes/ramdisk/test"                                        # STEP 100
str2 += 'l'                                                            # STEP 101
str2 += 'k'                                                            # STEP 102
str3 += 'f'                                                            # STEP 103
str3 += 'x'                                                            # STEP 104
os0.link(path2,path1)                                                  # STEP 105
result = os0.path.exists(path2)                                        # STEP 106
str3 += 's'                                                            # STEP 107
str3 += 'y'                                                            # STEP 108
str3 += " "                                                            # STEP 109
str1 += 'x'                                                            # STEP 110
str1 += 'h'                                                            # STEP 111
os0.mkdir(path1)                                                       # STEP 112
result = os0.path.isfile(path0)                                        # STEP 113
str4 += 'n'                                                            # STEP 114
os0.rmdir(path2)                                                       # STEP 115
str3 += 'r'                                                            # STEP 116
os0.symlink(path0,path2)                                               # STEP 117
result = os0.path.exists(path0)                                        # STEP 118
str2 += 'x'                                                            # STEP 119
str2 += 'w'                                                            # STEP 120
str1 += 'q'                                                            # STEP 121
result = os0.path.abspath(path2)                                       # STEP 122
str4 += 'z'                                                            # STEP 123
str1 += 'o'                                                            # STEP 124
path2 += "/" + component2                                              # STEP 125
stat3 = os0.fstat(fd0)                                                 # STEP 126
str1 += 'w'                                                            # STEP 127
result = os0.path.isdir(path2)                                         # STEP 128
str4 += 'u'                                                            # STEP 129
str3 += 'f'                                                            # STEP 130
str2 += 'w'                                                            # STEP 131
component2 = "omega"                                                   # STEP 132
str1 += 'd'                                                            # STEP 133
str2 += 'l'                                                            # STEP 134
str3 += 'h'                                                            # STEP 135
str4 += 't'                                                            # STEP 136
result = os0.path.lexists(path1)                                       # STEP 137
str2 += 'd'                                                            # STEP 138
path1 = "/Volumes/ramdisk/test"                                        # STEP 139
os0.close(fd0)                                                         # STEP 140
str3 += 'v'                                                            # STEP 141
os0.symlink(path1,path2)                                               # STEP 142
fd0 = os0.open(path2, os.O_WRONLY | os.O_APPEND)                       # STEP 143
path0 = "/Volumes/ramdisk/test"                                        # STEP 144
str2 += 'l'                                                            # STEP 145
str2 += 'k'                                                            # STEP 146
str3 += 'f'                                                            # STEP 147
str3 += 'x'                                                            # STEP 148
os0.link(path2,path1)                                                  # STEP 149
result = os0.path.exists(path2)                                        # STEP 150
str3 += 's'                                                            # STEP 151
str3 += 'y'                                                            # STEP 152
str1 += 'x'                                                            # STEP 153
str1 += 'h'                                                            # STEP 154
os0.mkdir(path1)                                                       # STEP 155
result = os0.path.isfile(path0)                                        # STEP 156
str4 += 'n'                                                            # STEP 157
os0.rmdir(path2)                                                       # STEP 158
str3 += 'r'                                                            # STEP 159
os0.symlink(path0,path2)                                               # STEP 160
result = os0.path.exists(path0)                                        # STEP 161
str2 += 'x'                                                            # STEP 162
str2 += 'w'                                                            # STEP 163
str1 += 'q'                                                            # STEP 164
result = os0.path.abspath(path2)                                       # STEP 165
str4 += 'z'                                                            # STEP 166
str1 += 'o'                                                            # STEP 167
path2 += "/" + component2                                              # STEP 168
str1 += 'g'                                                            # STEP 169
str1 += 'w'                                                            # STEP 170
result = os0.path.isdir(path2)                                         # STEP 171
str4 += 'u'                                                            # STEP 172
str4 += 't'                                                            # STEP 173
path1 += "/" + component0                                              # STEP 174
component0 = "lambda"                                                  # STEP 175
result = os0.path.isdir(path1)                                         # STEP 176
str2 += 'g'                                                            # STEP 177
result = os0.path.abspath(path2)                                       # STEP 178
opener0 = newFakeOpener(os0)                                           # STEP 179
os0.symlink(path2,path1)                                               # STEP 180
str2 += 'n'                                                            # STEP 181
file0 = opener0(path2,'a')                                             # STEP 182
str4 += 'e'                                                            # STEP 183
os0.remove(path0)                                                      # STEP 184
result = os0.read(fd0,bytes2)                                          # STEP 185
str1 += 'n'                                                            # STEP 186
component2 = "epsilon"                                                 # STEP 187
str4 += 'h'                                                            # STEP 188
str3 += 'y'                                                            # STEP 189
str2 += 'm'                                                            # STEP 190
str2 += 'y'                                                            # STEP 191
path3 = "/Volumes/ramdisk/test"                                        # STEP 192
os0.symlink(path3,path1)                                               # STEP 193
str3 += 'a'                                                            # STEP 194
os0.write(fd0,str3)                                                    # STEP 195
result = os0.path.abspath(path1)                                       # STEP 196
str2 += 'v'                                                            # STEP 197
result = os0.path.isabs(path2)                                         # STEP 198
str3 += 'r'                                                            # STEP 199
str3 += 'y'                                                            # STEP 200
result = os0.path.exists(path2)                                        # STEP 201
path0 += "/" + component0                                              # STEP 202
result = os0.path.islink(path3)                                        # STEP 203
str2 += 'h'                                                            # STEP 204
component0 = "d"                                                       # STEP 205
result = os0.read(fd0,bytes4)                                          # STEP 206
str2 += 'x'                                                            # STEP 207
os0.link(path1,path2)                                                  # STEP 208
stat4 = os0.lstat(path0)                                               # STEP 209
str2 += 'o'                                                            # STEP 210
str2 += 'f'                                                            # STEP 211
bytes3 = 0                                                             # STEP 212
result = os0.path.dirname(path1)                                       # STEP 213
str2 += 'j'                                                            # STEP 214
str3 += 'q'                                                            # STEP 215
result = sorted(os0.listdir(path2))                                    # STEP 216
bytes2 += 1                                                            # STEP 217
str1 += 'z'                                                            # STEP 218
str3 += 't'                                                            # STEP 219
path2 += "/" + component2                                              # STEP 220
str3 += 'v'                                                            # STEP 221
str1 += 'l'                                                            # STEP 222
result = os0.path.isabs(path2)                                         # STEP 223
str1 += 'f'                                                            # STEP 224
os0.path.getsize(path1)                                                # STEP 225
str4 = ""                                                              # STEP 226
component2 = "omega"                                                   # STEP 227
result = os0.path.lexists(path2)                                       # STEP 228
str3 += 'w'                                                            # STEP 229
bytes2 += 1                                                            # STEP 230
str1 += 'g'                                                            # STEP 231
path4 = "/Volumes/ramdisk/test"                                        # STEP 232
os0.makedirs(path1)                                                    # STEP 233
str3 += 'g'                                                            # STEP 234
os0.remove(path1)                                                      # STEP 235
os0.makedirs(path0)                                                    # STEP 236
path1 += "/" + component1                                              # STEP 237
component1 = "delta"                                                   # STEP 238
os0.symlink(path0,path3)                                               # STEP 239
path0 += "/" + component3                                              # STEP 240
os0.symlink(path1,path0)                                               # STEP 241
str2 += 's'                                                            # STEP 242
os0.removedirs(path4)                                                  # STEP 243
os0.symlink(path0,path0)                                               # STEP 244
str1 += 'i'                                                            # STEP 245
path0 += "/" + component4                                              # STEP 246
str1 += " "                                                            # STEP 247
os0.rename(path1,path2)                                                # STEP 248
component3 = "a"                                                       # STEP 249
os0.path.getsize(path1)                                                # STEP 250
result = os0.read(fd0,bytes2)                                          # STEP 251
result = os0.path.isdir(path4)                                         # STEP 252
os0.makedirs(path2)                                                    # STEP 253
path0 += "/" + component4                                              # STEP 254
path2 += "/" + component1                                              # STEP 255
str1 += 'h'                                                            # STEP 256
str3 += 'k'                                                            # STEP 257
str2 += 'l'                                                            # STEP 258
str3 += 'p'                                                            # STEP 259
str3 += 'u'                                                            # STEP 260
os0.remove(path2)                                                      # STEP 261
file0 = opener0(path1,'a')                                             # STEP 262
os0.rename(path2,path1)                                                # STEP 263
result = os0.path.exists(path1)                                        # STEP 264
os0.rename(path2,path0)                                                # STEP 265
result = os0.path.islink(path3)                                        # STEP 266
os0.link(path3,path0)                                                  # STEP 267
os0.symlink(path3,path2)                                               # STEP 268
str1 += 'f'                                                            # STEP 269
result = os0.path.isabs(path4)                                         # STEP 270
os0.link(path0,path1)                                                  # STEP 271
path0 += "/" + component1                                              # STEP 272
path2 += "/" + component1                                              # STEP 273
component4 = "phi"                                                     # STEP 274
path0 += "/" + component3                                              # STEP 275
component1 = "phi"                                                     # STEP 276
result = os0.path.islink(path4)                                        # STEP 277
path1 += "/" + component1                                              # STEP 278
str2 += 'j'                                                            # STEP 279
os0.symlink(path3,path1)                                               # STEP 280
str3 += 'd'                                                            # STEP 281
os0.rename(path0,path3)                                                # STEP 282
str2 += 'f'                                                            # STEP 283
result = os0.path.lexists(path4)                                       # STEP 284
os0.link(path1,path2)                                                  # STEP 285
result = os0.path.isfile(path3)                                        # STEP 286
str2 += 'p'                                                            # STEP 287
str3 += 'v'                                                            # STEP 288
str1 += 's'                                                            # STEP 289
path4 += "/" + component3                                              # STEP 290
os0.link(path1,path4)                                                  # STEP 291
os0.link(path0,path3)                                                  # STEP 292
os0.link(path3,path4)                                                  # STEP 293
os0.path.getsize(path2)                                                # STEP 294
path2 += "/" + component4                                              # STEP 295
component1 = "h"                                                       # STEP 296
os0.link(path0,path1)                                                  # STEP 297
str4 += 'w'                                                            # STEP 298
str4 += 'l'                                                            # STEP 299
os0.remove(path0)                                                      # STEP 300
os0.path.getsize(path2)                                                # STEP 301
file0 = opener0(path0,'w')                                             # STEP 302
os0.link(path4,path2)                                                  # STEP 303
os0.remove(path0)                                                      # STEP 304
file0 = opener0(path2,'r')                                             # STEP 305
str3 += 'w'                                                            # STEP 306
os0.rename(path2,path3)                                                # STEP 307
file0 = opener0(path3,'w')                                             # STEP 308
file0 = opener0(path0,'r')                                             # STEP 309
path0 = "/Volumes/ramdisk/test"                                        # STEP 310
str1 += 'p'                                                            # STEP 311
os0.write(fd0,str4)                                                    # STEP 312
file0 = opener0(path4,'w')                                             # STEP 313
str3 += 'j'                                                            # STEP 314
os0.rmdir(path1)                                                       # STEP 315
os0.link(path0,path0)                                                  # STEP 316
bytes2 = 0                                                             # STEP 317
str3 += 'h'                                                            # STEP 318
path2 = "/Volumes/ramdisk/test"                                        # STEP 319
bytes1 = 0                                                             # STEP 320
str3 += 'l'                                                            # STEP 321
path2 += "/" + component2                                              # STEP 322
str3 += 'f'                                                            # STEP 323
result = os0.path.isabs(path2)                                         # STEP 324
str2 += 'x'                                                            # STEP 325
str2 += 'r'                                                            # STEP 326
str3 += 'q'                                                            # STEP 327
str3 += 'p'                                                            # STEP 328
str2 = ""                                                              # STEP 329
os0.link(path0,path0)                                                  # STEP 330
str3 += 'u'                                                            # STEP 331
component2 = "f"                                                       # STEP 332
bytes4 = 0                                                             # STEP 333
result = os0.path.lexists(path0)                                       # STEP 334
str3 += 'u'                                                            # STEP 335
str3 += 'r'                                                            # STEP 336
os0.link(path0,path2)                                                  # STEP 337
result = os0.path.abspath(path2)                                       # STEP 338
str2 += 'o'                                                            # STEP 339
str2 += 'p'                                                            # STEP 340
os0.write(fd0,str2)                                                    # STEP 341
os0.symlink(path2,path2)                                               # STEP 342
os0.link(path0,path0)                                                  # STEP 343
str3 += 'a'                                                            # STEP 344
str2 += 'o'                                                            # STEP 345
str3 += 'r'                                                            # STEP 346
result = os0.path.isabs(path2)                                         # STEP 347
result = os0.readlink(path2)                                           # STEP 348
path2 += "/" + component2                                              # STEP 349
result = os0.readlink(path2)                                           # STEP 350
str2 += 'c'                                                            # STEP 351
os0.remove(path2)                                                      # STEP 352
os0.path.getsize(path1)                                                # STEP 353
str4 += 'j'                                                            # STEP 354
str4 += 'q'                                                            # STEP 355
str2 += 'z'                                                            # STEP 356
os0.symlink(path3,path0)                                               # STEP 357
str2 += 'p'                                                            # STEP 358
str2 += 'r'                                                            # STEP 359
os0.remove(path4)                                                      # STEP 360
os0.symlink(path0,path1)                                               # STEP 361
result = file0.readline(bytes0)                                        # STEP 362
ERROR: (<type 'exceptions.OSError'>, OSError(9, 'File is not open for reading.'), <traceback object at 0x107f5b2d8>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 28701, in act570
    result = self.p_file[0].readline(self.p_bytes[0])
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4284, in read_error
    self._raise('File is not open for reading.')
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4112, in _raise
    raise OSError(errno.EBADF, message)
1175 BRANCHES COVERED
902 STATEMENTS COVERED
