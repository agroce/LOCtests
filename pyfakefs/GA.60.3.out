Random testing using config=Config(swarmSwitch=None, verbose=False, reducePool=False, failedLogging=None, exploitBestHint=1, greedyStutter=False, internal=False, exploit=0.8, seed=None, generalize=False, useHints=False, localize=False, total=False, speed='FAST', probs=None, normalize=False, verboseExploit=False, highLowSwarm=None, replayable=False, essentials=False, noCoverageExploit=False, quickTests=False, relax=False, enumerateEnabled=False, uniqueValuesAnalysis=False, swarm=False, noReassign=False, html=None, fastQuickAnalysis=False, progress=False, swarmLength=None, noSwarmDependencies=False, profile=False, LOCBaseline=0.2, noEnumerateEnabled=False, full=True, multiple=True, timedProgress=30, silentFail=True, stopWhenStatements=None, swarmP=0.5, stopWhenBranches=None, noAlphaConvert=False, coverFile='coverage.out', readQuick=False, verboseActions=False, running=False, computeFeatureStats=False, compareFails=False, swarmProbs=None, output='failure.3979.test', genDepth=None, Pcrossover=0.2, quickAnalysis=False, keepLast=False, exploitCeiling=0.1, logging=None, LOCProbs=False, noCheck=False, maxTests=-1, noExceptionMatch=False, Pmutate=0.8, depth=100, showActions=False, throughput=False, noCover=False, timeout=60, stutter=None, uncaught=False, markov=None, startExploit=0)
UNCAUGHT EXCEPTION
ERROR: (<type 'exceptions.OSError'>, OSError(9, 'File is not open for reading.'), <traceback object at 0x106c04ea8>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 28881, in act573
    result = self.p_file[0].readline(self.p_bytes[3])
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4284, in read_error
    self._raise('File is not open for reading.')
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4112, in _raise
    raise OSError(errno.EBADF, message)
Original test has 261 steps

SAVING TEST AS failure.3979.test.0
FINAL VERSION OF TEST, WITH LOGGED REPLAY:
component1 = "h"                                                         # STEP 0
os0 = newFakeOS()                                                        # STEP 1
component2 = "phi"                                                       # STEP 2
path4 = "/Volumes/ramdisk/test"                                          # STEP 3
component3 = "lambda"                                                    # STEP 4
result = os0.path.lexists(path4)                                         # STEP 5
str3 = ""                                                                # STEP 6
component0 = "a"                                                         # STEP 7
str3 += 'v'                                                              # STEP 8
path4 += "/" + component0                                                # STEP 9
fd0 = os0.open(path4, os.O_CREAT | os.O_EXCL)                           # STEP 10
component0 = "epsilon"                                                  # STEP 11
str3 += " "                                                             # STEP 12
stat2 = os0.lstat(path4)                                                # STEP 13
str3 += 'y'                                                             # STEP 14
result = stat2.st_size                                                  # STEP 15
str3 += 'd'                                                             # STEP 16
str3 += 'k'                                                             # STEP 17
stat2 = os0.fstat(fd0)                                                  # STEP 18
stat1 = os0.fstat(fd0)                                                  # STEP 19
result = stat2.st_size                                                  # STEP 20
str3 += 't'                                                             # STEP 21
result = stat2.st_nlink                                                 # STEP 22
stat3 = os0.fstat(fd0)                                                  # STEP 23
bytes3 = 0                                                              # STEP 24
stat2 = os0.stat(path4)                                                 # STEP 25
component4 = "b"                                                        # STEP 26
os0.makedirs(path4)                                                     # STEP 27
str3 += 'p'                                                             # STEP 28
str3 += 'l'                                                             # STEP 29
result = os0.path.dirname(path4)                                        # STEP 30
result = os0.path.isdir(path4)                                          # STEP 31
os0.close(fd0)                                                          # STEP 32
str3 += 'y'                                                             # STEP 33
path2 = "/Volumes/ramdisk/test"                                         # STEP 34
os0.path.getsize(path4)                                                 # STEP 35
path3 = "/Volumes/ramdisk/test"                                         # STEP 36
os0.link(path4,path4)                                                   # STEP 37
os0.mkdir(path2)                                                        # STEP 38
path1 = "/Volumes/ramdisk/test"                                         # STEP 39
os0.link(path1,path1)                                                   # STEP 40
result = os0.path.isabs(path3)                                          # STEP 41
str3 += 'i'                                                             # STEP 42
result = os0.path.lexists(path1)                                        # STEP 43
str3 += 'd'                                                             # STEP 44
result = os0.path.islink(path2)                                         # STEP 45
stat0 = os0.lstat(path4)                                                # STEP 46
str2 = ""                                                               # STEP 47
str1 = ""                                                               # STEP 48
path4 += "/" + component1                                               # STEP 49
os0.link(path3,path2)                                                   # STEP 50
result = os0.path.islink(path1)                                         # STEP 51
result = os0.path.islink(path3)                                         # STEP 52
path2 += "/" + component0                                               # STEP 53
component0 = "omega"                                                    # STEP 54
os0.link(path2,path2)                                                   # STEP 55
str1 += 'k'                                                             # STEP 56
os0.link(path4,path1)                                                   # STEP 57
component1 = "d"                                                        # STEP 58
str2 += 'q'                                                             # STEP 59
str3 += 't'                                                             # STEP 60
str1 += 'z'                                                             # STEP 61
stat4 = os0.stat(path2)                                                 # STEP 62
result = os0.path.isfile(path1)                                         # STEP 63
os0.makedirs(path3)                                                     # STEP 64
str3 += 'k'                                                             # STEP 65
os0.makedirs(path1)                                                     # STEP 66
fd0 = os0.open(path4, os.O_CREAT)                                       # STEP 67
result = sorted(os0.listdir(path2))                                     # STEP 68
str1 += 'm'                                                             # STEP 69
bytes0 = 0                                                              # STEP 70
str1 += 'o'                                                             # STEP 71
stat4 = os0.stat(path4)                                                 # STEP 72
os0.link(path1,path4)                                                   # STEP 73
os0.rmdir(path2)                                                        # STEP 74
os0.mkdir(path4)                                                        # STEP 75
str2 += 'k'                                                             # STEP 76
str3 += 'y'                                                             # STEP 77
path4 += "/" + component3                                               # STEP 78
str3 += 'p'                                                             # STEP 79
result = stat1.st_nlink                                                 # STEP 80
os0.rename(path2,path3)                                                 # STEP 81
path4 = "/Volumes/ramdisk/test"                                         # STEP 82
path2 += "/" + component0                                               # STEP 83
result = os0.path.isdir(path4)                                          # STEP 84
os0.remove(path3)                                                       # STEP 85
os0.rename(path2,path3)                                                 # STEP 86
str2 += 'o'                                                             # STEP 87
result = os0.path.lexists(path2)                                        # STEP 88
os0.link(path4,path2)                                                   # STEP 89
str3 += 'n'                                                             # STEP 90
str2 += 'x'                                                             # STEP 91
str3 += 'g'                                                             # STEP 92
result = os0.path.abspath(path2)                                        # STEP 93
str3 += 'r'                                                             # STEP 94
component0 = "omega"                                                    # STEP 95
os0.symlink(path1,path4)                                                # STEP 96
str4 = ""                                                               # STEP 97
path3 += "/" + component2                                               # STEP 98
result = os0.path.isabs(path3)                                          # STEP 99
result = os0.path.isabs(path1)                                         # STEP 100
os0.write(fd0,str2)                                                    # STEP 101
str1 += 'v'                                                            # STEP 102
str3 += 's'                                                            # STEP 103
os0.rmdir(path3)                                                       # STEP 104
result = os0.path.lexists(path1)                                       # STEP 105
path4 += "/" + component2                                              # STEP 106
component2 = "phi"                                                     # STEP 107
result = sorted(os0.listdir(path1))                                    # STEP 108
os0.remove(path2)                                                      # STEP 109
os0.symlink(path4,path3)                                               # STEP 110
result = os0.path.exists(path2)                                        # STEP 111
path2 += "/" + component3                                              # STEP 112
bytes4 = 0                                                             # STEP 113
component3 = "delta"                                                   # STEP 114
str1 += 'p'                                                            # STEP 115
result = os0.path.islink(path3)                                        # STEP 116
stat4 = os0.stat(path4)                                                # STEP 117
stat1 = os0.lstat(path2)                                               # STEP 118
str4 += 'b'                                                            # STEP 119
os0.write(fd0,str1)                                                    # STEP 120
result = os0.path.isdir(path3)                                         # STEP 121
result = os0.path.lexists(path3)                                       # STEP 122
str2 += 't'                                                            # STEP 123
os0.link(path4,path1)                                                  # STEP 124
result = stat0.st_nlink                                                # STEP 125
stat4 = os0.lstat(path4)                                               # STEP 126
str4 += 'j'                                                            # STEP 127
result = sorted(os0.listdir(path2))                                    # STEP 128
os0.link(path4,path4)                                                  # STEP 129
result = os0.path.isdir(path1)                                         # STEP 130
str2 += 'e'                                                            # STEP 131
result = os0.path.isfile(path4)                                        # STEP 132
result = os0.path.isfile(path3)                                        # STEP 133
path2 += "/" + component1                                              # STEP 134
component1 = "beta"                                                    # STEP 135
result = os0.path.isfile(path2)                                        # STEP 136
str3 += 'd'                                                            # STEP 137
str1 += 'f'                                                            # STEP 138
os0.rename(path4,path2)                                                # STEP 139
str2 += 'k'                                                            # STEP 140
str4 += 'l'                                                            # STEP 141
str4 = ""                                                              # STEP 142
str3 += 'w'                                                            # STEP 143
str4 += 'd'                                                            # STEP 144
os0.link(path2,path2)                                                  # STEP 145
str1 += 'm'                                                            # STEP 146
str1 += 'm'                                                            # STEP 147
str3 += 'p'                                                            # STEP 148
str1 += 'q'                                                            # STEP 149
str4 += 'i'                                                            # STEP 150
os0.close(fd0)                                                         # STEP 151
os0.close(fd0)                                                         # STEP 152
result = os0.path.isabs(path3)                                         # STEP 153
result = os0.read(fd0,bytes3)                                          # STEP 154
opener0 = newFakeOpener(os0)                                           # STEP 155
result = os0.path.isdir(path3)                                         # STEP 156
fd0 = os0.open(path4, os.O_CREAT | os.O_WRONLY | os.O_TRUNC)           # STEP 157
result = os0.read(fd0,bytes0)                                          # STEP 158
str2 += 'k'                                                            # STEP 159
result = os0.path.exists(path2)                                        # STEP 160
str1 += 'g'                                                            # STEP 161
os0.link(path3,path2)                                                  # STEP 162
file0 = opener0(path4,'a')                                             # STEP 163
path4 += "/" + component2                                              # STEP 164
result = os0.path.exists(path1)                                        # STEP 165
str3 += 'b'                                                            # STEP 166
str0 = ""                                                              # STEP 167
result = os0.path.exists(path1)                                        # STEP 168
str4 += 'g'                                                            # STEP 169
str2 += 'm'                                                            # STEP 170
str0 += " "                                                            # STEP 171
component2 = "f"                                                       # STEP 172
str3 += 'y'                                                            # STEP 173
str2 += 'x'                                                            # STEP 174
os0.remove(path1)                                                      # STEP 175
stat0 = os0.lstat(path3)                                               # STEP 176
str1 += 'c'                                                            # STEP 177
str4 += 'u'                                                            # STEP 178
path3 += "/" + component1                                              # STEP 179
os0.symlink(path3,path4)                                               # STEP 180
path3 += "/" + component1                                              # STEP 181
file0 = opener0(path1,'r')                                             # STEP 182
result = stat0.st_nlink                                                # STEP 183
str2 += 'm'                                                            # STEP 184
str3 += 'y'                                                            # STEP 185
file0 = opener0(path1,'a')                                             # STEP 186
str0 += 'u'                                                            # STEP 187
str4 += 'g'                                                            # STEP 188
os0.remove(path1)                                                      # STEP 189
result = sorted(os0.listdir(path4))                                    # STEP 190
str1 += 'o'                                                            # STEP 191
result = os0.path.isdir(path3)                                         # STEP 192
result = os0.path.exists(path3)                                        # STEP 193
result = os0.path.dirname(path2)                                       # STEP 194
str2 += 'i'                                                            # STEP 195
os0.link(path1,path2)                                                  # STEP 196
os0.link(path2,path4)                                                  # STEP 197
file0 = opener0(path2,'r')                                             # STEP 198
str3 += 'g'                                                            # STEP 199
result = os0.path.isdir(path3)                                         # STEP 200
str1 += 'u'                                                            # STEP 201
path1 += "/" + component4                                              # STEP 202
str0 += 'f'                                                            # STEP 203
result = os0.read(fd0,bytes0)                                          # STEP 204
result = os0.path.isfile(path4)                                        # STEP 205
file0 = opener0(path1,'w')                                             # STEP 206
os0.path.getsize(path2)                                                # STEP 207
result = stat1.st_size                                                 # STEP 208
str0 += 'q'                                                            # STEP 209
str1 += 'l'                                                            # STEP 210
result = os0.path.isdir(path4)                                         # STEP 211
str0 += 'k'                                                            # STEP 212
str0 += 'u'                                                            # STEP 213
path4 += "/" + component3                                              # STEP 214
component1 = "alpha"                                                   # STEP 215
str2 += 'u'                                                            # STEP 216
os0.link(path4,path4)                                                  # STEP 217
os0.mkdir(path2)                                                       # STEP 218
os0.remove(path3)                                                      # STEP 219
result = stat4.st_size                                                 # STEP 220
str2 += 'e'                                                            # STEP 221
stat0 = os0.stat(path2)                                                # STEP 222
os0.symlink(path1,path2)                                               # STEP 223
os0.link(path3,path2)                                                  # STEP 224
result = stat1.st_size                                                 # STEP 225
stat1 = os0.fstat(fd0)                                                 # STEP 226
os0.write(fd0,str3)                                                    # STEP 227
os0.symlink(path4,path2)                                               # STEP 228
str0 += 'f'                                                            # STEP 229
str1 += 'i'                                                            # STEP 230
str3 += 'm'                                                            # STEP 231
str2 += 'u'                                                            # STEP 232
result = os0.path.lexists(path3)                                       # STEP 233
os0.symlink(path2,path4)                                               # STEP 234
str4 += 'q'                                                            # STEP 235
str3 += 'r'                                                            # STEP 236
str3 = ""                                                              # STEP 237
os0.symlink(path1,path3)                                               # STEP 238
os0.link(path1,path2)                                                  # STEP 239
os0.rmdir(path4)                                                       # STEP 240
str0 += 'j'                                                            # STEP 241
str1 += 'y'                                                            # STEP 242
os0.link(path2,path3)                                                  # STEP 243
component3 = "gamma"                                                   # STEP 244
os0.mkdir(path1)                                                       # STEP 245
str3 += 'v'                                                            # STEP 246
component4 = "e"                                                       # STEP 247
str2 += 'q'                                                            # STEP 248
str3 += 'p'                                                            # STEP 249
str0 += 'p'                                                            # STEP 250
os0.symlink(path3,path2)                                               # STEP 251
str1 += 'v'                                                            # STEP 252
result = os0.path.exists(path2)                                        # STEP 253
path0 = "/Volumes/ramdisk/test"                                        # STEP 254
path3 += "/" + component4                                              # STEP 255
str1 += 'r'                                                            # STEP 256
result = os0.path.dirname(path2)                                       # STEP 257
os0.symlink(path4,path0)                                               # STEP 258
result = os0.path.isabs(path3)                                         # STEP 259
result = file0.readline(bytes3)                                        # STEP 260
ERROR: (<type 'exceptions.OSError'>, OSError(9, 'File is not open for reading.'), <traceback object at 0x107ca9bd8>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 28881, in act573
    result = self.p_file[0].readline(self.p_bytes[3])
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4284, in read_error
    self._raise('File is not open for reading.')
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4112, in _raise
    raise OSError(errno.EBADF, message)
FAILURE IS NEW, STORING; NOW 1 DISTINCT FAILURES
UNCAUGHT EXCEPTION
ERROR: (<type 'exceptions.OSError'>, OSError(9, 'File is not open for reading.'), <traceback object at 0x107531950>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 28999, in act575
    result = self.p_file[0].readlines()
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4284, in read_error
    self._raise('File is not open for reading.')
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4112, in _raise
    raise OSError(errno.EBADF, message)
Original test has 247 steps

SAVING TEST AS failure.3979.test.1
FINAL VERSION OF TEST, WITH LOGGED REPLAY:
component1 = "h"                                                         # STEP 0
os0 = newFakeOS()                                                        # STEP 1
component2 = "phi"                                                       # STEP 2
path4 = "/Volumes/ramdisk/test"                                          # STEP 3
component3 = "lambda"                                                    # STEP 4
result = os0.path.lexists(path4)                                         # STEP 5
str3 = ""                                                                # STEP 6
component0 = "a"                                                         # STEP 7
str3 += 'v'                                                              # STEP 8
path4 += "/" + component0                                                # STEP 9
fd0 = os0.open(path4, os.O_CREAT | os.O_EXCL)                           # STEP 10
component0 = "epsilon"                                                  # STEP 11
str3 += " "                                                             # STEP 12
stat2 = os0.lstat(path4)                                                # STEP 13
result = stat2.st_size                                                  # STEP 14
str3 += 'd'                                                             # STEP 15
str3 += 'k'                                                             # STEP 16
stat2 = os0.fstat(fd0)                                                  # STEP 17
stat1 = os0.fstat(fd0)                                                  # STEP 18
result = stat2.st_size                                                  # STEP 19
str3 += 't'                                                             # STEP 20
result = stat2.st_nlink                                                 # STEP 21
stat3 = os0.fstat(fd0)                                                  # STEP 22
bytes3 = 0                                                              # STEP 23
stat2 = os0.stat(path4)                                                 # STEP 24
component4 = "b"                                                        # STEP 25
os0.makedirs(path4)                                                     # STEP 26
str3 += 'p'                                                             # STEP 27
str3 += 'l'                                                             # STEP 28
result = os0.path.dirname(path4)                                        # STEP 29
result = os0.path.isdir(path4)                                          # STEP 30
os0.close(fd0)                                                          # STEP 31
str3 += 'y'                                                             # STEP 32
path2 = "/Volumes/ramdisk/test"                                         # STEP 33
os0.path.getsize(path4)                                                 # STEP 34
path3 = "/Volumes/ramdisk/test"                                         # STEP 35
os0.link(path4,path4)                                                   # STEP 36
os0.mkdir(path2)                                                        # STEP 37
path1 = "/Volumes/ramdisk/test"                                         # STEP 38
os0.link(path1,path1)                                                   # STEP 39
result = os0.path.isabs(path3)                                          # STEP 40
str3 += 'i'                                                             # STEP 41
result = os0.path.lexists(path1)                                        # STEP 42
str3 += 'd'                                                             # STEP 43
result = os0.path.islink(path2)                                         # STEP 44
stat0 = os0.lstat(path4)                                                # STEP 45
str2 = ""                                                               # STEP 46
str1 = ""                                                               # STEP 47
path4 += "/" + component1                                               # STEP 48
os0.link(path3,path2)                                                   # STEP 49
result = os0.path.islink(path1)                                         # STEP 50
result = os0.path.islink(path3)                                         # STEP 51
path2 += "/" + component0                                               # STEP 52
component0 = "omega"                                                    # STEP 53
os0.link(path2,path2)                                                   # STEP 54
str1 += 'k'                                                             # STEP 55
os0.link(path4,path1)                                                   # STEP 56
component1 = "d"                                                        # STEP 57
str2 += 'q'                                                             # STEP 58
str3 += 't'                                                             # STEP 59
str1 += 'z'                                                             # STEP 60
stat4 = os0.stat(path2)                                                 # STEP 61
result = os0.path.isfile(path1)                                         # STEP 62
os0.makedirs(path3)                                                     # STEP 63
str3 += 'k'                                                             # STEP 64
os0.makedirs(path1)                                                     # STEP 65
fd0 = os0.open(path4, os.O_CREAT)                                       # STEP 66
result = sorted(os0.listdir(path2))                                     # STEP 67
str1 += 'm'                                                             # STEP 68
bytes0 = 0                                                              # STEP 69
str1 += 'o'                                                             # STEP 70
stat4 = os0.stat(path4)                                                 # STEP 71
os0.link(path1,path4)                                                   # STEP 72
os0.rmdir(path2)                                                        # STEP 73
os0.mkdir(path4)                                                        # STEP 74
str2 += 'k'                                                             # STEP 75
str3 += 'y'                                                             # STEP 76
path4 += "/" + component3                                               # STEP 77
str3 += 'p'                                                             # STEP 78
result = stat1.st_nlink                                                 # STEP 79
os0.rename(path2,path3)                                                 # STEP 80
path4 = "/Volumes/ramdisk/test"                                         # STEP 81
path2 += "/" + component0                                               # STEP 82
result = os0.path.isdir(path4)                                          # STEP 83
os0.remove(path3)                                                       # STEP 84
os0.rename(path2,path3)                                                 # STEP 85
str2 += 'o'                                                             # STEP 86
result = os0.path.lexists(path2)                                        # STEP 87
os0.link(path4,path2)                                                   # STEP 88
str3 += 'n'                                                             # STEP 89
str2 += 'x'                                                             # STEP 90
str3 += 'g'                                                             # STEP 91
result = os0.path.abspath(path2)                                        # STEP 92
str3 += 'r'                                                             # STEP 93
component0 = "omega"                                                    # STEP 94
os0.symlink(path1,path4)                                                # STEP 95
str4 = ""                                                               # STEP 96
path3 += "/" + component2                                               # STEP 97
result = os0.path.isabs(path3)                                          # STEP 98
result = os0.path.isabs(path1)                                          # STEP 99
os0.write(fd0,str2)                                                    # STEP 100
str1 += 'v'                                                            # STEP 101
str3 += 's'                                                            # STEP 102
os0.rmdir(path3)                                                       # STEP 103
result = os0.path.lexists(path1)                                       # STEP 104
path4 += "/" + component2                                              # STEP 105
component2 = "phi"                                                     # STEP 106
result = sorted(os0.listdir(path1))                                    # STEP 107
os0.remove(path2)                                                      # STEP 108
os0.symlink(path4,path3)                                               # STEP 109
result = os0.path.exists(path2)                                        # STEP 110
path2 += "/" + component3                                              # STEP 111
bytes4 = 0                                                             # STEP 112
component3 = "delta"                                                   # STEP 113
str1 += 'p'                                                            # STEP 114
result = os0.path.islink(path3)                                        # STEP 115
os0.path.getsize(path4)                                                # STEP 116
stat1 = os0.lstat(path2)                                               # STEP 117
str4 += 'b'                                                            # STEP 118
os0.write(fd0,str1)                                                    # STEP 119
result = os0.path.isdir(path3)                                         # STEP 120
result = os0.path.lexists(path3)                                       # STEP 121
str2 += 't'                                                            # STEP 122
os0.link(path4,path1)                                                  # STEP 123
result = stat0.st_nlink                                                # STEP 124
stat4 = os0.lstat(path4)                                               # STEP 125
str4 += 'j'                                                            # STEP 126
result = sorted(os0.listdir(path2))                                    # STEP 127
os0.link(path4,path4)                                                  # STEP 128
result = os0.path.isdir(path1)                                         # STEP 129
str2 += 'e'                                                            # STEP 130
result = os0.path.isfile(path4)                                        # STEP 131
result = os0.path.isfile(path3)                                        # STEP 132
path2 += "/" + component1                                              # STEP 133
component1 = "beta"                                                    # STEP 134
result = os0.path.isfile(path2)                                        # STEP 135
str3 += 'd'                                                            # STEP 136
str1 += 'f'                                                            # STEP 137
os0.rename(path4,path2)                                                # STEP 138
str2 += 'k'                                                            # STEP 139
str4 += 'l'                                                            # STEP 140
str4 = ""                                                              # STEP 141
str3 += 'w'                                                            # STEP 142
str4 += 'd'                                                            # STEP 143
os0.link(path2,path2)                                                  # STEP 144
str1 += 'm'                                                            # STEP 145
str1 += 'm'                                                            # STEP 146
str3 += 'p'                                                            # STEP 147
str1 += 'q'                                                            # STEP 148
str4 += 'i'                                                            # STEP 149
os0.close(fd0)                                                         # STEP 150
os0.close(fd0)                                                         # STEP 151
result = os0.path.isabs(path3)                                         # STEP 152
result = os0.read(fd0,bytes3)                                          # STEP 153
opener0 = newFakeOpener(os0)                                           # STEP 154
result = os0.path.isdir(path3)                                         # STEP 155
fd0 = os0.open(path4, os.O_CREAT | os.O_WRONLY | os.O_TRUNC)           # STEP 156
result = os0.read(fd0,bytes0)                                          # STEP 157
str2 += 'k'                                                            # STEP 158
result = os0.path.exists(path2)                                        # STEP 159
str1 += 'g'                                                            # STEP 160
os0.link(path3,path2)                                                  # STEP 161
file0 = opener0(path4,'a')                                             # STEP 162
path4 += "/" + component2                                              # STEP 163
result = os0.path.exists(path1)                                        # STEP 164
str3 += 'b'                                                            # STEP 165
str0 = ""                                                              # STEP 166
result = os0.path.exists(path1)                                        # STEP 167
str4 += 'g'                                                            # STEP 168
str2 += 'm'                                                            # STEP 169
str0 += " "                                                            # STEP 170
component2 = "f"                                                       # STEP 171
str3 += 'y'                                                            # STEP 172
str2 += 'x'                                                            # STEP 173
os0.remove(path1)                                                      # STEP 174
stat0 = os0.lstat(path3)                                               # STEP 175
str1 += 'c'                                                            # STEP 176
str4 += 'u'                                                            # STEP 177
path3 += "/" + component1                                              # STEP 178
os0.symlink(path3,path4)                                               # STEP 179
path3 += "/" + component1                                              # STEP 180
file0 = opener0(path1,'r')                                             # STEP 181
result = stat0.st_nlink                                                # STEP 182
str2 += 'm'                                                            # STEP 183
str3 += 'y'                                                            # STEP 184
file0 = opener0(path1,'a')                                             # STEP 185
str0 += 'u'                                                            # STEP 186
str4 += 'g'                                                            # STEP 187
os0.remove(path1)                                                      # STEP 188
result = sorted(os0.listdir(path4))                                    # STEP 189
str1 += 'o'                                                            # STEP 190
result = os0.path.isdir(path3)                                         # STEP 191
result = os0.path.exists(path3)                                        # STEP 192
result = os0.path.dirname(path2)                                       # STEP 193
str2 += 'i'                                                            # STEP 194
os0.link(path1,path2)                                                  # STEP 195
os0.link(path2,path4)                                                  # STEP 196
file0 = opener0(path2,'r')                                             # STEP 197
str3 += 'g'                                                            # STEP 198
result = os0.path.isdir(path3)                                         # STEP 199
str1 += 'u'                                                            # STEP 200
path1 += "/" + component4                                              # STEP 201
str0 += 'f'                                                            # STEP 202
result = os0.read(fd0,bytes0)                                          # STEP 203
result = os0.path.isfile(path4)                                        # STEP 204
file0 = opener0(path1,'w')                                             # STEP 205
os0.path.getsize(path2)                                                # STEP 206
result = stat1.st_size                                                 # STEP 207
str0 += 'q'                                                            # STEP 208
str1 += 'l'                                                            # STEP 209
result = os0.path.isdir(path4)                                         # STEP 210
str0 += 'k'                                                            # STEP 211
str0 += 'u'                                                            # STEP 212
path4 += "/" + component3                                              # STEP 213
component1 = "alpha"                                                   # STEP 214
str2 += 'u'                                                            # STEP 215
os0.link(path4,path4)                                                  # STEP 216
os0.mkdir(path2)                                                       # STEP 217
os0.remove(path3)                                                      # STEP 218
str2 += 'k'                                                            # STEP 219
str1 += 'g'                                                            # STEP 220
str3 += 's'                                                            # STEP 221
component3 = "omega"                                                   # STEP 222
os0.symlink(path2,path4)                                               # STEP 223
path2 += "/" + component2                                              # STEP 224
os0.symlink(path4,path2)                                               # STEP 225
str2 += 'n'                                                            # STEP 226
result = stat1.st_nlink                                                # STEP 227
component4 = "h"                                                       # STEP 228
result = stat0.st_nlink                                                # STEP 229
result = os0.path.dirname(path2)                                       # STEP 230
str3 += 'd'                                                            # STEP 231
stat0 = os0.lstat(path1)                                               # STEP 232
os0.removedirs(path3)                                                  # STEP 233
str4 += 'c'                                                            # STEP 234
str3 += 'h'                                                            # STEP 235
component2 = "g"                                                       # STEP 236
str4 += 'f'                                                            # STEP 237
path4 += "/" + component2                                              # STEP 238
os0.write(fd0,str2)                                                    # STEP 239
str4 += 'i'                                                            # STEP 240
component2 = "gamma"                                                   # STEP 241
result = os0.readlink(path2)                                           # STEP 242
str3 += 'q'                                                            # STEP 243
stat1 = os0.stat(path3)                                                # STEP 244
str2 += 'e'                                                            # STEP 245
result = file0.readlines()                                             # STEP 246
ERROR: (<type 'exceptions.OSError'>, OSError(9, 'File is not open for reading.'), <traceback object at 0x1078b2998>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 28999, in act575
    result = self.p_file[0].readlines()
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4284, in read_error
    self._raise('File is not open for reading.')
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4112, in _raise
    raise OSError(errno.EBADF, message)
FAILURE IS NEW, STORING; NOW 2 DISTINCT FAILURES
UNCAUGHT EXCEPTION
ERROR: (<type 'exceptions.AssertionError'>, AssertionError(' (5) == (0) ',), <traceback object at 0x10751c3f8>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 21991, in act461
    try: assert result == result_REF, " (%s) == (%s) " % (result, result_REF)
Original test has 368 steps

SAVING TEST AS failure.3979.test.2
FINAL VERSION OF TEST, WITH LOGGED REPLAY:
component2 = "alpha"                                                     # STEP 0
component1 = "gamma"                                                     # STEP 1
component4 = "lambda"                                                    # STEP 2
component3 = "beta"                                                      # STEP 3
component0 = "alpha"                                                     # STEP 4
bytes1 = 0                                                               # STEP 5
str1 = ""                                                                # STEP 6
str1 += 'k'                                                              # STEP 7
str1 += 'v'                                                              # STEP 8
bytes1 += 1                                                              # STEP 9
bytes4 = 0                                                              # STEP 10
str1 = ""                                                               # STEP 11
str1 += 's'                                                             # STEP 12
str2 = ""                                                               # STEP 13
str1 += 'w'                                                             # STEP 14
str1 += 'o'                                                             # STEP 15
str0 = ""                                                               # STEP 16
str1 += 'z'                                                             # STEP 17
path3 = "/Volumes/ramdisk/test"                                         # STEP 18
os0 = newFakeOS()                                                       # STEP 19
str1 += 'p'                                                             # STEP 20
str1 += 't'                                                             # STEP 21
result = os0.path.isdir(path3)                                          # STEP 22
str0 += 'w'                                                             # STEP 23
path3 += "/" + component1                                               # STEP 24
str0 += 'd'                                                             # STEP 25
str0 += 'e'                                                             # STEP 26
opener0 = newFakeOpener(os0)                                            # STEP 27
result = os0.path.islink(path3)                                         # STEP 28
os0.symlink(path3,path3)                                                # STEP 29
path3 += "/" + component0                                               # STEP 30
component1 = "d"                                                        # STEP 31
str1 += 'o'                                                             # STEP 32
os0.link(path3,path3)                                                   # STEP 33
str1 += 'q'                                                             # STEP 34
str0 += 'e'                                                             # STEP 35
str0 += 'a'                                                             # STEP 36
str1 += 'o'                                                             # STEP 37
str0 += " "                                                             # STEP 38
file0 = opener0(path3,'r')                                              # STEP 39
path3 += "/" + component2                                               # STEP 40
str1 += " "                                                             # STEP 41
stat1 = os0.stat(path3)                                                 # STEP 42
os0.symlink(path3,path3)                                                # STEP 43
component0 = "gamma"                                                    # STEP 44
str1 += 'b'                                                             # STEP 45
component2 = "delta"                                                    # STEP 46
str1 += 'e'                                                             # STEP 47
str0 += 'g'                                                             # STEP 48
str1 += 's'                                                             # STEP 49
stat0 = os0.lstat(path3)                                                # STEP 50
str4 = ""                                                               # STEP 51
str4 += 'm'                                                             # STEP 52
str1 += 'y'                                                             # STEP 53
str4 = ""                                                               # STEP 54
str1 += 'y'                                                             # STEP 55
str1 += 'i'                                                             # STEP 56
result = os0.path.islink(path3)                                         # STEP 57
str1 += 'd'                                                             # STEP 58
stat1 = os0.stat(path3)                                                 # STEP 59
path1 = "/Volumes/ramdisk/test"                                         # STEP 60
os0.link(path3,path3)                                                   # STEP 61
str0 += 'x'                                                             # STEP 62
path3 += "/" + component0                                               # STEP 63
component0 = "a"                                                        # STEP 64
str1 += 'a'                                                             # STEP 65
str0 += 'z'                                                             # STEP 66
path3 += "/" + component2                                               # STEP 67
str4 += 'e'                                                             # STEP 68
str0 += 'a'                                                             # STEP 69
os0.link(path1,path3)                                                   # STEP 70
fd0 = os0.open(path3, os.O_RDWR)                                        # STEP 71
str0 += 'f'                                                             # STEP 72
str0 += 'w'                                                             # STEP 73
component2 = "d"                                                        # STEP 74
os0.link(path1,path3)                                                   # STEP 75
result = os0.readlink(path3)                                            # STEP 76
bytes1 += 1                                                             # STEP 77
str1 += 't'                                                             # STEP 78
stat3 = os0.lstat(path3)                                                # STEP 79
file0 = opener0(path3,'r')                                              # STEP 80
str1 += 'd'                                                             # STEP 81
str0 += 't'                                                             # STEP 82
result = os0.path.islink(path1)                                         # STEP 83
os0.path.getsize(path3)                                                 # STEP 84
str1 += 'd'                                                             # STEP 85
os0.remove(path1)                                                       # STEP 86
str0 += 't'                                                             # STEP 87
result = os0.path.isdir(path1)                                          # STEP 88
file0 = opener0(path1,'a')                                              # STEP 89
file0 = opener0(path1,'w')                                              # STEP 90
str4 += 'x'                                                             # STEP 91
result = os0.path.isabs(path3)                                          # STEP 92
str4 += 'n'                                                             # STEP 93
str1 += 'r'                                                             # STEP 94
str4 += 'i'                                                             # STEP 95
result = os0.path.isabs(path1)                                          # STEP 96
stat0 = os0.stat(path3)                                                 # STEP 97
path0 = "/Volumes/ramdisk/test"                                         # STEP 98
result = os0.path.islink(path0)                                         # STEP 99
str4 += 'c'                                                            # STEP 100
fd0 = os0.open(path3, os.O_CREAT | os.O_WRONLY | os.O_TRUNC)           # STEP 101
stat4 = os0.stat(path3)                                                # STEP 102
str4 += 'e'                                                            # STEP 103
os0.link(path3,path1)                                                  # STEP 104
str1 += 'a'                                                            # STEP 105
stat4 = os0.lstat(path3)                                               # STEP 106
result = os0.path.isdir(path1)                                         # STEP 107
file0 = opener0(path1,'w')                                             # STEP 108
file0 = opener0(path3,'r')                                             # STEP 109
str0 += 'f'                                                            # STEP 110
path0 += "/" + component0                                              # STEP 111
str4 += 'k'                                                            # STEP 112
os0.rename(path3,path1)                                                # STEP 113
component0 = "lambda"                                                  # STEP 114
os0.link(path1,path1)                                                  # STEP 115
str4 = ""                                                              # STEP 116
str1 += 'j'                                                            # STEP 117
stat2 = os0.stat(path0)                                                # STEP 118
str4 += 'y'                                                            # STEP 119
path1 += "/" + component4                                              # STEP 120
str0 += 'l'                                                            # STEP 121
file0 = opener0(path3,'a')                                             # STEP 122
stat4 = os0.lstat(path0)                                               # STEP 123
str0 += 'u'                                                            # STEP 124
result = sorted(os0.listdir(path1))                                    # STEP 125
component4 = "d"                                                       # STEP 126
str2 += 'c'                                                            # STEP 127
str2 += 'o'                                                            # STEP 128
stat4 = os0.stat(path1)                                                # STEP 129
str0 += 'x'                                                            # STEP 130
stat2 = os0.stat(path0)                                                # STEP 131
path3 += "/" + component1                                              # STEP 132
bytes2 = 0                                                             # STEP 133
os0.makedirs(path3)                                                    # STEP 134
result = os0.path.isabs(path0)                                         # STEP 135
str2 += 'x'                                                            # STEP 136
stat2 = os0.stat(path1)                                                # STEP 137
str2 += 't'                                                            # STEP 138
result = os0.path.dirname(path1)                                       # STEP 139
str4 += 'l'                                                            # STEP 140
fd0 = os0.open(path1, os.O_WRONLY | os.O_APPEND)                       # STEP 141
result = sorted(os0.listdir(path3))                                    # STEP 142
str0 += 'i'                                                            # STEP 143
os0.mkdir(path1)                                                       # STEP 144
component1 = "g"                                                       # STEP 145
stat1 = os0.lstat(path1)                                               # STEP 146
result = os0.path.abspath(path1)                                       # STEP 147
fd0 = os0.open(path0, os.O_CREAT | os.O_WRONLY | os.O_TRUNC)           # STEP 148
path3 = "/Volumes/ramdisk/test"                                        # STEP 149
str1 = ""                                                              # STEP 150
str0 += 's'                                                            # STEP 151
result = os0.path.dirname(path1)                                       # STEP 152
str4 += 's'                                                            # STEP 153
str0 += 's'                                                            # STEP 154
stat3 = os0.lstat(path1)                                               # STEP 155
path1 += "/" + component2                                              # STEP 156
str0 += 'v'                                                            # STEP 157
component2 = "lambda"                                                  # STEP 158
os0.makedirs(path0)                                                    # STEP 159
str0 += 'x'                                                            # STEP 160
stat0 = os0.stat(path1)                                                # STEP 161
str0 += 'u'                                                            # STEP 162
result = os0.read(fd0,bytes4)                                          # STEP 163
str4 += " "                                                            # STEP 164
str0 += 'g'                                                            # STEP 165
path3 += "/" + component2                                              # STEP 166
str2 += 'r'                                                            # STEP 167
result = os0.path.exists(path3)                                        # STEP 168
path3 += "/" + component2                                              # STEP 169
str0 += 'h'                                                            # STEP 170
stat2 = os0.stat(path1)                                                # STEP 171
result = os0.path.isfile(path1)                                        # STEP 172
path0 += "/" + component4                                              # STEP 173
file0 = opener0(path1,'a')                                             # STEP 174
str4 += 'f'                                                            # STEP 175
file0.write(str2)                                                      # STEP 176
str2 += 'c'                                                            # STEP 177
str4 += 'v'                                                            # STEP 178
os0.close(fd0)                                                         # STEP 179
result = os0.path.abspath(path3)                                       # STEP 180
str2 += 'c'                                                            # STEP 181
os0.symlink(path1,path3)                                               # STEP 182
fd0 = os0.open(path1, os.O_WRONLY | os.O_APPEND)                       # STEP 183
str1 += 'p'                                                            # STEP 184
stat2 = os0.fstat(fd0)                                                 # STEP 185
str4 += 'x'                                                            # STEP 186
path3 += "/" + component2                                              # STEP 187
path0 = "/Volumes/ramdisk/test"                                        # STEP 188
component2 = "e"                                                       # STEP 189
str2 += 'w'                                                            # STEP 190
os0.removedirs(path3)                                                  # STEP 191
str0 += 'g'                                                            # STEP 192
str4 += 'x'                                                            # STEP 193
stat4 = os0.stat(path1)                                                # STEP 194
result = os0.path.isfile(path0)                                        # STEP 195
str2 += 'z'                                                            # STEP 196
str4 += 'u'                                                            # STEP 197
bytes4 += 1                                                            # STEP 198
os0.symlink(path0,path1)                                               # STEP 199
str1 += 'h'                                                            # STEP 200
str0 += 'y'                                                            # STEP 201
str0 += 'z'                                                            # STEP 202
str4 += 'c'                                                            # STEP 203
str2 += 'h'                                                            # STEP 204
result = os0.path.lexists(path1)                                       # STEP 205
str1 += 'k'                                                            # STEP 206
str0 += 'l'                                                            # STEP 207
str2 += 'x'                                                            # STEP 208
str0 += 's'                                                            # STEP 209
str1 += 'x'                                                            # STEP 210
file0.seek(bytes4)                                                     # STEP 211
os0.removedirs(path0)                                                  # STEP 212
path3 += "/" + component0                                              # STEP 213
str2 += 'y'                                                            # STEP 214
str2 += 't'                                                            # STEP 215
str2 += 'e'                                                            # STEP 216
str2 += 'l'                                                            # STEP 217
path1 += "/" + component2                                              # STEP 218
path1 += "/" + component0                                              # STEP 219
os0.symlink(path3,path1)                                               # STEP 220
str1 += 'e'                                                            # STEP 221
path3 += "/" + component0                                              # STEP 222
component0 = "c"                                                       # STEP 223
str4 += 'o'                                                            # STEP 224
str4 += 'a'                                                            # STEP 225
component4 = "a"                                                       # STEP 226
component2 = "alpha"                                                   # STEP 227
path0 += "/" + component0                                              # STEP 228
component0 = "gamma"                                                   # STEP 229
str2 += 'l'                                                            # STEP 230
str1 += 'g'                                                            # STEP 231
str2 = ""                                                              # STEP 232
result = os0.path.exists(path1)                                        # STEP 233
os0.link(path1,path0)                                                  # STEP 234
bytes4 = 0                                                             # STEP 235
str0 += 'u'                                                            # STEP 236
os0.link(path0,path0)                                                  # STEP 237
str2 += 'n'                                                            # STEP 238
os0.symlink(path0,path3)                                               # STEP 239
str2 += 'i'                                                            # STEP 240
str4 += 'a'                                                            # STEP 241
str2 += 'f'                                                            # STEP 242
os0.remove(path3)                                                      # STEP 243
str2 += 'e'                                                            # STEP 244
str4 += 'd'                                                            # STEP 245
str2 += 'l'                                                            # STEP 246
str0 += 'z'                                                            # STEP 247
result = sorted(os0.listdir(path3))                                    # STEP 248
str4 += " "                                                            # STEP 249
path1 = "/Volumes/ramdisk/test"                                        # STEP 250
os0.write(fd0,str2)                                                    # STEP 251
result = sorted(os0.listdir(path1))                                    # STEP 252
path2 = "/Volumes/ramdisk/test"                                        # STEP 253
os0.rename(path0,path3)                                                # STEP 254
os0.rmdir(path0)                                                       # STEP 255
file0.write(str4)                                                      # STEP 256
str4 += 'j'                                                            # STEP 257
result = os0.path.isabs(path1)                                         # STEP 258
os0.write(fd0,str1)                                                    # STEP 259
str0 += 'c'                                                            # STEP 260
os0.link(path1,path3)                                                  # STEP 261
result = os0.path.isdir(path3)                                         # STEP 262
str1 += 'j'                                                            # STEP 263
result = file0.readlines()                                             # STEP 264
os0.write(fd0,str2)                                                    # STEP 265
os0.symlink(path1,path3)                                               # STEP 266
result = os0.path.lexists(path2)                                       # STEP 267
os0.rename(path3,path2)                                                # STEP 268
os0.mkdir(path3)                                                       # STEP 269
str0 = ""                                                              # STEP 270
os0.link(path0,path3)                                                  # STEP 271
os0.link(path0,path3)                                                  # STEP 272
path1 += "/" + component0                                              # STEP 273
stat0 = os0.stat(path3)                                                # STEP 274
str0 += 'r'                                                            # STEP 275
file0.seek(bytes1)                                                     # STEP 276
str2 += 'u'                                                            # STEP 277
str1 += 'b'                                                            # STEP 278
str1 += 'x'                                                            # STEP 279
str4 += 'f'                                                            # STEP 280
str2 += 'f'                                                            # STEP 281
os0.link(path2,path3)                                                  # STEP 282
path1 = "/Volumes/ramdisk/test"                                        # STEP 283
os0.symlink(path1,path1)                                               # STEP 284
str4 += 'f'                                                            # STEP 285
os0.makedirs(path3)                                                    # STEP 286
component0 = "lambda"                                                  # STEP 287
os0.rename(path3,path0)                                                # STEP 288
stat0 = os0.lstat(path3)                                               # STEP 289
str1 += 'm'                                                            # STEP 290
str4 += 'f'                                                            # STEP 291
str1 += 'k'                                                            # STEP 292
bytes1 += 1                                                            # STEP 293
os0.link(path0,path0)                                                  # STEP 294
str4 += 'a'                                                            # STEP 295
result = os0.path.dirname(path3)                                       # STEP 296
os0.makedirs(path2)                                                    # STEP 297
str4 += 'k'                                                            # STEP 298
os0.makedirs(path2)                                                    # STEP 299
stat0 = os0.stat(path3)                                                # STEP 300
os0.makedirs(path1)                                                    # STEP 301
os0.remove(path0)                                                      # STEP 302
str4 += 'g'                                                            # STEP 303
result = os0.path.dirname(path3)                                       # STEP 304
bytes2 += 1                                                            # STEP 305
os0.link(path0,path1)                                                  # STEP 306
path3 += "/" + component4                                              # STEP 307
str0 += 's'                                                            # STEP 308
os0.removedirs(path0)                                                  # STEP 309
str0 += 'h'                                                            # STEP 310
result = sorted(os0.listdir(path1))                                    # STEP 311
str1 += " "                                                            # STEP 312
str2 += 'r'                                                            # STEP 313
path3 += "/" + component0                                              # STEP 314
component0 = "alpha"                                                   # STEP 315
str0 += 'c'                                                            # STEP 316
str2 = ""                                                              # STEP 317
str0 += 'j'                                                            # STEP 318
result = file0.read()                                                  # STEP 319
os0.link(path1,path2)                                                  # STEP 320
path0 += "/" + component4                                              # STEP 321
str2 += 'q'                                                            # STEP 322
os0.link(path3,path0)                                                  # STEP 323
os0.symlink(path0,path0)                                               # STEP 324
os0.removedirs(path0)                                                  # STEP 325
str0 += 'x'                                                            # STEP 326
result = os0.path.isabs(path3)                                         # STEP 327
str4 += 'y'                                                            # STEP 328
path1 += "/" + component3                                              # STEP 329
component4 = "d"                                                       # STEP 330
path0 += "/" + component4                                              # STEP 331
os0.link(path3,path0)                                                  # STEP 332
os0.rename(path1,path0)                                                # STEP 333
str1 += 'c'                                                            # STEP 334
os0.write(fd0,str0)                                                    # STEP 335
path1 += "/" + component1                                              # STEP 336
component4 = "h"                                                       # STEP 337
str0 += 'l'                                                            # STEP 338
os0.symlink(path3,path1)                                               # STEP 339
str4 += 'd'                                                            # STEP 340
os0.symlink(path0,path3)                                               # STEP 341
str2 += 'e'                                                            # STEP 342
str0 += 'i'                                                            # STEP 343
os0.symlink(path1,path1)                                               # STEP 344
str1 += 'r'                                                            # STEP 345
str4 += 'd'                                                            # STEP 346
result = os0.path.isdir(path2)                                         # STEP 347
str0 += 'r'                                                            # STEP 348
result = file0.read(bytes2)                                            # STEP 349
str0 += 'a'                                                            # STEP 350
os0.link(path0,path0)                                                  # STEP 351
os0.close(fd0)                                                         # STEP 352
os0.link(path3,path2)                                                  # STEP 353
os0.write(fd0,str4)                                                    # STEP 354
str1 += 'g'                                                            # STEP 355
str0 = ""                                                              # STEP 356
str4 += 'd'                                                            # STEP 357
result = os0.path.dirname(path3)                                       # STEP 358
stat0 = os0.stat(path1)                                                # STEP 359
file0.write(str4)                                                      # STEP 360
os0.symlink(path3,path3)                                               # STEP 361
fd0 = os0.open(path3, os.O_CREAT | os.O_WRONLY | os.O_TRUNC)           # STEP 362
result = os0.path.abspath(path0)                                       # STEP 363
os0.link(path3,path3)                                                  # STEP 364
component1 = "f"                                                       # STEP 365
component3 = "epsilon"                                                 # STEP 366
result = stat4.st_size                                                 # STEP 367
ERROR: (<type 'exceptions.AssertionError'>, AssertionError(' (5) == (0) ',), <traceback object at 0x10a8031b8>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 21991, in act461
    try: assert result == result_REF, " (%s) == (%s) " % (result, result_REF)
FAILURE IS NEW, STORING; NOW 3 DISTINCT FAILURES
UNCAUGHT EXCEPTION
ERROR: (<type 'exceptions.AssertionError'>, AssertionError(' (5) == (0) ',), <traceback object at 0x108480680>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 21881, in act459
    try: assert result == result_REF, " (%s) == (%s) " % (result, result_REF)
Original test has 302 steps

SAVING TEST AS failure.3979.test.3
FINAL VERSION OF TEST, WITH LOGGED REPLAY:
component2 = "alpha"                                                     # STEP 0
component1 = "gamma"                                                     # STEP 1
component4 = "lambda"                                                    # STEP 2
component3 = "beta"                                                      # STEP 3
component0 = "alpha"                                                     # STEP 4
bytes1 = 0                                                               # STEP 5
str1 = ""                                                                # STEP 6
str1 += 'k'                                                              # STEP 7
str1 += 'v'                                                              # STEP 8
bytes1 += 1                                                              # STEP 9
bytes4 = 0                                                              # STEP 10
str1 = ""                                                               # STEP 11
str1 += 's'                                                             # STEP 12
str2 = ""                                                               # STEP 13
str1 += 'w'                                                             # STEP 14
str1 += 'o'                                                             # STEP 15
str0 = ""                                                               # STEP 16
str1 += 'z'                                                             # STEP 17
path3 = "/Volumes/ramdisk/test"                                         # STEP 18
os0 = newFakeOS()                                                       # STEP 19
str1 += 'p'                                                             # STEP 20
str1 += 't'                                                             # STEP 21
result = os0.path.isdir(path3)                                          # STEP 22
str0 += 'w'                                                             # STEP 23
path3 += "/" + component1                                               # STEP 24
str0 += 'd'                                                             # STEP 25
str0 += 'e'                                                             # STEP 26
opener0 = newFakeOpener(os0)                                            # STEP 27
result = os0.path.islink(path3)                                         # STEP 28
os0.symlink(path3,path3)                                                # STEP 29
path3 += "/" + component0                                               # STEP 30
component1 = "d"                                                        # STEP 31
str1 += 'o'                                                             # STEP 32
os0.link(path3,path3)                                                   # STEP 33
str1 += 'q'                                                             # STEP 34
str0 += 'e'                                                             # STEP 35
str0 += 'a'                                                             # STEP 36
str1 += 'o'                                                             # STEP 37
str0 += " "                                                             # STEP 38
file0 = opener0(path3,'r')                                              # STEP 39
path3 += "/" + component2                                               # STEP 40
str1 += " "                                                             # STEP 41
stat1 = os0.stat(path3)                                                 # STEP 42
os0.symlink(path3,path3)                                                # STEP 43
component0 = "gamma"                                                    # STEP 44
str1 += 'b'                                                             # STEP 45
component2 = "delta"                                                    # STEP 46
str1 += 'e'                                                             # STEP 47
str0 += 'g'                                                             # STEP 48
str1 += 's'                                                             # STEP 49
stat0 = os0.lstat(path3)                                                # STEP 50
str4 = ""                                                               # STEP 51
str4 += 'm'                                                             # STEP 52
str1 += 'y'                                                             # STEP 53
str4 = ""                                                               # STEP 54
str1 += 'y'                                                             # STEP 55
str1 += 'i'                                                             # STEP 56
result = os0.path.islink(path3)                                         # STEP 57
str1 += 'd'                                                             # STEP 58
stat1 = os0.stat(path3)                                                 # STEP 59
path1 = "/Volumes/ramdisk/test"                                         # STEP 60
os0.link(path3,path3)                                                   # STEP 61
str0 += 'x'                                                             # STEP 62
path3 += "/" + component0                                               # STEP 63
component0 = "a"                                                        # STEP 64
str1 += 'a'                                                             # STEP 65
str0 += 'z'                                                             # STEP 66
path3 += "/" + component2                                               # STEP 67
str4 += 'e'                                                             # STEP 68
str0 += 'a'                                                             # STEP 69
os0.link(path1,path3)                                                   # STEP 70
fd0 = os0.open(path3, os.O_RDWR)                                        # STEP 71
str0 += 'f'                                                             # STEP 72
str0 += 'w'                                                             # STEP 73
component2 = "d"                                                        # STEP 74
os0.link(path1,path3)                                                   # STEP 75
result = os0.readlink(path3)                                            # STEP 76
bytes1 += 1                                                             # STEP 77
str1 += 't'                                                             # STEP 78
stat3 = os0.lstat(path3)                                                # STEP 79
file0 = opener0(path3,'r')                                              # STEP 80
str1 += 'd'                                                             # STEP 81
str0 += 't'                                                             # STEP 82
result = os0.path.islink(path1)                                         # STEP 83
os0.path.getsize(path3)                                                 # STEP 84
str1 += 'd'                                                             # STEP 85
os0.remove(path1)                                                       # STEP 86
str0 += 't'                                                             # STEP 87
result = os0.path.isdir(path1)                                          # STEP 88
file0 = opener0(path1,'a')                                              # STEP 89
file0 = opener0(path1,'w')                                              # STEP 90
str4 += 'x'                                                             # STEP 91
result = os0.path.isabs(path3)                                          # STEP 92
str4 += 'n'                                                             # STEP 93
str1 += 'r'                                                             # STEP 94
str4 += 'i'                                                             # STEP 95
result = os0.path.isabs(path1)                                          # STEP 96
stat0 = os0.stat(path3)                                                 # STEP 97
path0 = "/Volumes/ramdisk/test"                                         # STEP 98
result = os0.path.islink(path0)                                         # STEP 99
str4 += 'c'                                                            # STEP 100
fd0 = os0.open(path3, os.O_CREAT | os.O_WRONLY | os.O_TRUNC)           # STEP 101
stat4 = os0.stat(path3)                                                # STEP 102
str4 += 'e'                                                            # STEP 103
os0.link(path3,path1)                                                  # STEP 104
str1 += 'a'                                                            # STEP 105
stat4 = os0.lstat(path3)                                               # STEP 106
result = os0.path.isdir(path1)                                         # STEP 107
file0 = opener0(path1,'w')                                             # STEP 108
file0 = opener0(path3,'r')                                             # STEP 109
str0 += 'f'                                                            # STEP 110
path0 += "/" + component0                                              # STEP 111
str4 += 'k'                                                            # STEP 112
os0.rename(path3,path1)                                                # STEP 113
component0 = "lambda"                                                  # STEP 114
os0.link(path1,path1)                                                  # STEP 115
str4 = ""                                                              # STEP 116
str1 += 'j'                                                            # STEP 117
stat2 = os0.stat(path0)                                                # STEP 118
str4 += 'y'                                                            # STEP 119
path1 += "/" + component4                                              # STEP 120
str0 += 'l'                                                            # STEP 121
file0 = opener0(path3,'a')                                             # STEP 122
stat4 = os0.lstat(path0)                                               # STEP 123
str0 += 'u'                                                            # STEP 124
result = sorted(os0.listdir(path1))                                    # STEP 125
component4 = "d"                                                       # STEP 126
str2 += 'c'                                                            # STEP 127
str2 += 'o'                                                            # STEP 128
stat4 = os0.stat(path1)                                                # STEP 129
str0 += 'x'                                                            # STEP 130
stat2 = os0.stat(path0)                                                # STEP 131
path3 += "/" + component1                                              # STEP 132
bytes2 = 0                                                             # STEP 133
os0.makedirs(path3)                                                    # STEP 134
result = os0.path.isabs(path0)                                         # STEP 135
str2 += 'x'                                                            # STEP 136
stat2 = os0.stat(path1)                                                # STEP 137
str2 += 't'                                                            # STEP 138
result = os0.path.dirname(path1)                                       # STEP 139
str4 += 'l'                                                            # STEP 140
fd0 = os0.open(path1, os.O_WRONLY | os.O_APPEND)                       # STEP 141
result = sorted(os0.listdir(path3))                                    # STEP 142
str0 += 'i'                                                            # STEP 143
os0.mkdir(path1)                                                       # STEP 144
component1 = "g"                                                       # STEP 145
stat1 = os0.lstat(path1)                                               # STEP 146
result = os0.path.abspath(path1)                                       # STEP 147
fd0 = os0.open(path0, os.O_CREAT | os.O_WRONLY | os.O_TRUNC)           # STEP 148
path3 = "/Volumes/ramdisk/test"                                        # STEP 149
str1 = ""                                                              # STEP 150
str0 += 's'                                                            # STEP 151
result = os0.path.dirname(path1)                                       # STEP 152
str4 += 's'                                                            # STEP 153
str0 += 's'                                                            # STEP 154
stat3 = os0.lstat(path1)                                               # STEP 155
path1 += "/" + component2                                              # STEP 156
str0 += 'v'                                                            # STEP 157
component2 = "lambda"                                                  # STEP 158
os0.makedirs(path0)                                                    # STEP 159
str0 += 'x'                                                            # STEP 160
stat0 = os0.stat(path1)                                                # STEP 161
str0 += 'u'                                                            # STEP 162
result = os0.read(fd0,bytes4)                                          # STEP 163
str4 += " "                                                            # STEP 164
str0 += 'g'                                                            # STEP 165
path3 += "/" + component2                                              # STEP 166
str2 += 'r'                                                            # STEP 167
result = os0.path.exists(path3)                                        # STEP 168
path3 += "/" + component2                                              # STEP 169
str0 += 'h'                                                            # STEP 170
stat2 = os0.stat(path1)                                                # STEP 171
result = os0.path.isfile(path1)                                        # STEP 172
path0 += "/" + component4                                              # STEP 173
file0 = opener0(path1,'a')                                             # STEP 174
str4 += 'f'                                                            # STEP 175
file0.write(str2)                                                      # STEP 176
str2 += 'c'                                                            # STEP 177
str4 += 'v'                                                            # STEP 178
os0.close(fd0)                                                         # STEP 179
result = os0.path.abspath(path3)                                       # STEP 180
str2 += 'c'                                                            # STEP 181
os0.symlink(path1,path3)                                               # STEP 182
fd0 = os0.open(path1, os.O_WRONLY | os.O_APPEND)                       # STEP 183
str1 += 'p'                                                            # STEP 184
stat2 = os0.fstat(fd0)                                                 # STEP 185
str4 += 'x'                                                            # STEP 186
path3 += "/" + component2                                              # STEP 187
path0 = "/Volumes/ramdisk/test"                                        # STEP 188
component2 = "e"                                                       # STEP 189
str2 += 'w'                                                            # STEP 190
os0.removedirs(path3)                                                  # STEP 191
str0 += 'g'                                                            # STEP 192
str4 += 'x'                                                            # STEP 193
stat4 = os0.stat(path1)                                                # STEP 194
result = os0.path.isfile(path0)                                        # STEP 195
str2 += 'z'                                                            # STEP 196
str4 += 'u'                                                            # STEP 197
bytes4 += 1                                                            # STEP 198
os0.symlink(path0,path1)                                               # STEP 199
str1 += 'h'                                                            # STEP 200
str0 += 'y'                                                            # STEP 201
str0 += 'z'                                                            # STEP 202
str4 += 'c'                                                            # STEP 203
str2 += 'h'                                                            # STEP 204
result = os0.path.lexists(path1)                                       # STEP 205
str1 += 'k'                                                            # STEP 206
str0 += 'l'                                                            # STEP 207
str2 += 'x'                                                            # STEP 208
str0 += 's'                                                            # STEP 209
str1 += 'x'                                                            # STEP 210
file0.seek(bytes4)                                                     # STEP 211
os0.removedirs(path0)                                                  # STEP 212
path3 += "/" + component0                                              # STEP 213
str2 += 'y'                                                            # STEP 214
str2 += 't'                                                            # STEP 215
str2 += 'e'                                                            # STEP 216
str2 += 'l'                                                            # STEP 217
path1 += "/" + component2                                              # STEP 218
path1 += "/" + component0                                              # STEP 219
os0.symlink(path3,path1)                                               # STEP 220
str1 += 'e'                                                            # STEP 221
path3 += "/" + component0                                              # STEP 222
component0 = "c"                                                       # STEP 223
str4 += 'o'                                                            # STEP 224
str4 += 'a'                                                            # STEP 225
component4 = "a"                                                       # STEP 226
component2 = "alpha"                                                   # STEP 227
path0 += "/" + component0                                              # STEP 228
component0 = "gamma"                                                   # STEP 229
str2 += 'l'                                                            # STEP 230
str1 += 'g'                                                            # STEP 231
str2 = ""                                                              # STEP 232
result = os0.path.exists(path1)                                        # STEP 233
os0.link(path1,path0)                                                  # STEP 234
bytes4 = 0                                                             # STEP 235
str0 += 'u'                                                            # STEP 236
os0.link(path0,path0)                                                  # STEP 237
str2 += 'n'                                                            # STEP 238
os0.symlink(path0,path3)                                               # STEP 239
str2 += 'i'                                                            # STEP 240
str4 += 'a'                                                            # STEP 241
os0.remove(path1)                                                      # STEP 242
os0.mkdir(path0)                                                       # STEP 243
os0.remove(path3)                                                      # STEP 244
str2 += 'e'                                                            # STEP 245
str4 += 'd'                                                            # STEP 246
str2 += 'l'                                                            # STEP 247
str0 += 'z'                                                            # STEP 248
result = sorted(os0.listdir(path3))                                    # STEP 249
str4 += " "                                                            # STEP 250
path1 = "/Volumes/ramdisk/test"                                        # STEP 251
os0.write(fd0,str2)                                                    # STEP 252
result = sorted(os0.listdir(path1))                                    # STEP 253
path2 = "/Volumes/ramdisk/test"                                        # STEP 254
os0.rename(path0,path3)                                                # STEP 255
os0.rmdir(path0)                                                       # STEP 256
file0.write(str4)                                                      # STEP 257
str4 += 'j'                                                            # STEP 258
result = os0.path.isabs(path1)                                         # STEP 259
os0.write(fd0,str1)                                                    # STEP 260
str0 += 'c'                                                            # STEP 261
os0.link(path1,path3)                                                  # STEP 262
result = os0.path.isdir(path3)                                         # STEP 263
str1 += 'j'                                                            # STEP 264
result = file0.readlines()                                             # STEP 265
os0.write(fd0,str2)                                                    # STEP 266
os0.symlink(path1,path3)                                               # STEP 267
result = os0.path.lexists(path2)                                       # STEP 268
os0.rename(path3,path2)                                                # STEP 269
os0.mkdir(path3)                                                       # STEP 270
str0 = ""                                                              # STEP 271
os0.link(path0,path3)                                                  # STEP 272
os0.link(path0,path3)                                                  # STEP 273
path1 += "/" + component0                                              # STEP 274
stat0 = os0.stat(path3)                                                # STEP 275
str0 += 'r'                                                            # STEP 276
file0.seek(bytes1)                                                     # STEP 277
str2 += 'u'                                                            # STEP 278
str1 += 'b'                                                            # STEP 279
str1 += 'x'                                                            # STEP 280
str4 += 'f'                                                            # STEP 281
str2 += 'f'                                                            # STEP 282
os0.link(path2,path3)                                                  # STEP 283
path1 = "/Volumes/ramdisk/test"                                        # STEP 284
os0.symlink(path1,path1)                                               # STEP 285
str4 += 'f'                                                            # STEP 286
os0.makedirs(path3)                                                    # STEP 287
str1 += 'n'                                                            # STEP 288
component0 = "e"                                                       # STEP 289
os0.remove(path1)                                                      # STEP 290
result = os0.path.lexists(path1)                                       # STEP 291
bytes0 = 0                                                             # STEP 292
str4 += 'g'                                                            # STEP 293
os0.symlink(path0,path2)                                               # STEP 294
os0.link(path0,path2)                                                  # STEP 295
str4 += 'c'                                                            # STEP 296
str2 += 'y'                                                            # STEP 297
file0.flush()                                                          # STEP 298
os0.remove(path2)                                                      # STEP 299
os0.link(path0,path3)                                                  # STEP 300
result = stat2.st_size                                                 # STEP 301
ERROR: (<type 'exceptions.AssertionError'>, AssertionError(' (5) == (0) ',), <traceback object at 0x1084b9a28>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 21881, in act459
    try: assert result == result_REF, " (%s) == (%s) " % (result, result_REF)
FAILURE IS NEW, STORING; NOW 4 DISTINCT FAILURES
TEST #92 STEP #0 (0:00:30.297897) Fri Jul 21 22:26:09 2017 [ 879 stmts 1140 branches ] 8864 TOTAL ACTIONS (292.561560968/s)
STOPPING TEST DUE TO TIMEOUT, TERMINATED AT LENGTH 320
STOPPING TESTING DUE TO TIMEOUT
42.735042735 PERCENT COVERED
60.4359948635 TOTAL RUNTIME
174 EXECUTED
17064 TOTAL TEST OPERATIONS
22.9976885319 TIME SPENT EXECUTING TEST OPERATIONS
0.605015516281 TIME SPENT EVALUATING GUARDS AND CHOOSING ACTIONS
0.0113701820374 TIME SPENT CHECKING PROPERTIES
23.0090587139 TOTAL TIME SPENT RUNNING SUT
0.506647348404 TIME SPENT RESTARTING
0.0 TIME SPENT REDUCING TEST CASES
4 FAILED
0 REPEATS OF FAILURES
4 ACTUAL DISTINCT FAILURES

FAILURE 0
component1 = "h"                                                         # STEP 0
os0 = newFakeOS()                                                        # STEP 1
component2 = "phi"                                                       # STEP 2
path4 = "/Volumes/ramdisk/test"                                          # STEP 3
component3 = "lambda"                                                    # STEP 4
result = os0.path.lexists(path4)                                         # STEP 5
str3 = ""                                                                # STEP 6
component0 = "a"                                                         # STEP 7
str3 += 'v'                                                              # STEP 8
path4 += "/" + component0                                                # STEP 9
fd0 = os0.open(path4, os.O_CREAT | os.O_EXCL)                           # STEP 10
component0 = "epsilon"                                                  # STEP 11
str3 += " "                                                             # STEP 12
stat2 = os0.lstat(path4)                                                # STEP 13
str3 += 'y'                                                             # STEP 14
result = stat2.st_size                                                  # STEP 15
str3 += 'd'                                                             # STEP 16
str3 += 'k'                                                             # STEP 17
stat2 = os0.fstat(fd0)                                                  # STEP 18
stat1 = os0.fstat(fd0)                                                  # STEP 19
result = stat2.st_size                                                  # STEP 20
str3 += 't'                                                             # STEP 21
result = stat2.st_nlink                                                 # STEP 22
stat3 = os0.fstat(fd0)                                                  # STEP 23
bytes3 = 0                                                              # STEP 24
stat2 = os0.stat(path4)                                                 # STEP 25
component4 = "b"                                                        # STEP 26
os0.makedirs(path4)                                                     # STEP 27
str3 += 'p'                                                             # STEP 28
str3 += 'l'                                                             # STEP 29
result = os0.path.dirname(path4)                                        # STEP 30
result = os0.path.isdir(path4)                                          # STEP 31
os0.close(fd0)                                                          # STEP 32
str3 += 'y'                                                             # STEP 33
path2 = "/Volumes/ramdisk/test"                                         # STEP 34
os0.path.getsize(path4)                                                 # STEP 35
path3 = "/Volumes/ramdisk/test"                                         # STEP 36
os0.link(path4,path4)                                                   # STEP 37
os0.mkdir(path2)                                                        # STEP 38
path1 = "/Volumes/ramdisk/test"                                         # STEP 39
os0.link(path1,path1)                                                   # STEP 40
result = os0.path.isabs(path3)                                          # STEP 41
str3 += 'i'                                                             # STEP 42
result = os0.path.lexists(path1)                                        # STEP 43
str3 += 'd'                                                             # STEP 44
result = os0.path.islink(path2)                                         # STEP 45
stat0 = os0.lstat(path4)                                                # STEP 46
str2 = ""                                                               # STEP 47
str1 = ""                                                               # STEP 48
path4 += "/" + component1                                               # STEP 49
os0.link(path3,path2)                                                   # STEP 50
result = os0.path.islink(path1)                                         # STEP 51
result = os0.path.islink(path3)                                         # STEP 52
path2 += "/" + component0                                               # STEP 53
component0 = "omega"                                                    # STEP 54
os0.link(path2,path2)                                                   # STEP 55
str1 += 'k'                                                             # STEP 56
os0.link(path4,path1)                                                   # STEP 57
component1 = "d"                                                        # STEP 58
str2 += 'q'                                                             # STEP 59
str3 += 't'                                                             # STEP 60
str1 += 'z'                                                             # STEP 61
stat4 = os0.stat(path2)                                                 # STEP 62
result = os0.path.isfile(path1)                                         # STEP 63
os0.makedirs(path3)                                                     # STEP 64
str3 += 'k'                                                             # STEP 65
os0.makedirs(path1)                                                     # STEP 66
fd0 = os0.open(path4, os.O_CREAT)                                       # STEP 67
result = sorted(os0.listdir(path2))                                     # STEP 68
str1 += 'm'                                                             # STEP 69
bytes0 = 0                                                              # STEP 70
str1 += 'o'                                                             # STEP 71
stat4 = os0.stat(path4)                                                 # STEP 72
os0.link(path1,path4)                                                   # STEP 73
os0.rmdir(path2)                                                        # STEP 74
os0.mkdir(path4)                                                        # STEP 75
str2 += 'k'                                                             # STEP 76
str3 += 'y'                                                             # STEP 77
path4 += "/" + component3                                               # STEP 78
str3 += 'p'                                                             # STEP 79
result = stat1.st_nlink                                                 # STEP 80
os0.rename(path2,path3)                                                 # STEP 81
path4 = "/Volumes/ramdisk/test"                                         # STEP 82
path2 += "/" + component0                                               # STEP 83
result = os0.path.isdir(path4)                                          # STEP 84
os0.remove(path3)                                                       # STEP 85
os0.rename(path2,path3)                                                 # STEP 86
str2 += 'o'                                                             # STEP 87
result = os0.path.lexists(path2)                                        # STEP 88
os0.link(path4,path2)                                                   # STEP 89
str3 += 'n'                                                             # STEP 90
str2 += 'x'                                                             # STEP 91
str3 += 'g'                                                             # STEP 92
result = os0.path.abspath(path2)                                        # STEP 93
str3 += 'r'                                                             # STEP 94
component0 = "omega"                                                    # STEP 95
os0.symlink(path1,path4)                                                # STEP 96
str4 = ""                                                               # STEP 97
path3 += "/" + component2                                               # STEP 98
result = os0.path.isabs(path3)                                          # STEP 99
result = os0.path.isabs(path1)                                         # STEP 100
os0.write(fd0,str2)                                                    # STEP 101
str1 += 'v'                                                            # STEP 102
str3 += 's'                                                            # STEP 103
os0.rmdir(path3)                                                       # STEP 104
result = os0.path.lexists(path1)                                       # STEP 105
path4 += "/" + component2                                              # STEP 106
component2 = "phi"                                                     # STEP 107
result = sorted(os0.listdir(path1))                                    # STEP 108
os0.remove(path2)                                                      # STEP 109
os0.symlink(path4,path3)                                               # STEP 110
result = os0.path.exists(path2)                                        # STEP 111
path2 += "/" + component3                                              # STEP 112
bytes4 = 0                                                             # STEP 113
component3 = "delta"                                                   # STEP 114
str1 += 'p'                                                            # STEP 115
result = os0.path.islink(path3)                                        # STEP 116
stat4 = os0.stat(path4)                                                # STEP 117
stat1 = os0.lstat(path2)                                               # STEP 118
str4 += 'b'                                                            # STEP 119
os0.write(fd0,str1)                                                    # STEP 120
result = os0.path.isdir(path3)                                         # STEP 121
result = os0.path.lexists(path3)                                       # STEP 122
str2 += 't'                                                            # STEP 123
os0.link(path4,path1)                                                  # STEP 124
result = stat0.st_nlink                                                # STEP 125
stat4 = os0.lstat(path4)                                               # STEP 126
str4 += 'j'                                                            # STEP 127
result = sorted(os0.listdir(path2))                                    # STEP 128
os0.link(path4,path4)                                                  # STEP 129
result = os0.path.isdir(path1)                                         # STEP 130
str2 += 'e'                                                            # STEP 131
result = os0.path.isfile(path4)                                        # STEP 132
result = os0.path.isfile(path3)                                        # STEP 133
path2 += "/" + component1                                              # STEP 134
component1 = "beta"                                                    # STEP 135
result = os0.path.isfile(path2)                                        # STEP 136
str3 += 'd'                                                            # STEP 137
str1 += 'f'                                                            # STEP 138
os0.rename(path4,path2)                                                # STEP 139
str2 += 'k'                                                            # STEP 140
str4 += 'l'                                                            # STEP 141
str4 = ""                                                              # STEP 142
str3 += 'w'                                                            # STEP 143
str4 += 'd'                                                            # STEP 144
os0.link(path2,path2)                                                  # STEP 145
str1 += 'm'                                                            # STEP 146
str1 += 'm'                                                            # STEP 147
str3 += 'p'                                                            # STEP 148
str1 += 'q'                                                            # STEP 149
str4 += 'i'                                                            # STEP 150
os0.close(fd0)                                                         # STEP 151
os0.close(fd0)                                                         # STEP 152
result = os0.path.isabs(path3)                                         # STEP 153
result = os0.read(fd0,bytes3)                                          # STEP 154
opener0 = newFakeOpener(os0)                                           # STEP 155
result = os0.path.isdir(path3)                                         # STEP 156
fd0 = os0.open(path4, os.O_CREAT | os.O_WRONLY | os.O_TRUNC)           # STEP 157
result = os0.read(fd0,bytes0)                                          # STEP 158
str2 += 'k'                                                            # STEP 159
result = os0.path.exists(path2)                                        # STEP 160
str1 += 'g'                                                            # STEP 161
os0.link(path3,path2)                                                  # STEP 162
file0 = opener0(path4,'a')                                             # STEP 163
path4 += "/" + component2                                              # STEP 164
result = os0.path.exists(path1)                                        # STEP 165
str3 += 'b'                                                            # STEP 166
str0 = ""                                                              # STEP 167
result = os0.path.exists(path1)                                        # STEP 168
str4 += 'g'                                                            # STEP 169
str2 += 'm'                                                            # STEP 170
str0 += " "                                                            # STEP 171
component2 = "f"                                                       # STEP 172
str3 += 'y'                                                            # STEP 173
str2 += 'x'                                                            # STEP 174
os0.remove(path1)                                                      # STEP 175
stat0 = os0.lstat(path3)                                               # STEP 176
str1 += 'c'                                                            # STEP 177
str4 += 'u'                                                            # STEP 178
path3 += "/" + component1                                              # STEP 179
os0.symlink(path3,path4)                                               # STEP 180
path3 += "/" + component1                                              # STEP 181
file0 = opener0(path1,'r')                                             # STEP 182
result = stat0.st_nlink                                                # STEP 183
str2 += 'm'                                                            # STEP 184
str3 += 'y'                                                            # STEP 185
file0 = opener0(path1,'a')                                             # STEP 186
str0 += 'u'                                                            # STEP 187
str4 += 'g'                                                            # STEP 188
os0.remove(path1)                                                      # STEP 189
result = sorted(os0.listdir(path4))                                    # STEP 190
str1 += 'o'                                                            # STEP 191
result = os0.path.isdir(path3)                                         # STEP 192
result = os0.path.exists(path3)                                        # STEP 193
result = os0.path.dirname(path2)                                       # STEP 194
str2 += 'i'                                                            # STEP 195
os0.link(path1,path2)                                                  # STEP 196
os0.link(path2,path4)                                                  # STEP 197
file0 = opener0(path2,'r')                                             # STEP 198
str3 += 'g'                                                            # STEP 199
result = os0.path.isdir(path3)                                         # STEP 200
str1 += 'u'                                                            # STEP 201
path1 += "/" + component4                                              # STEP 202
str0 += 'f'                                                            # STEP 203
result = os0.read(fd0,bytes0)                                          # STEP 204
result = os0.path.isfile(path4)                                        # STEP 205
file0 = opener0(path1,'w')                                             # STEP 206
os0.path.getsize(path2)                                                # STEP 207
result = stat1.st_size                                                 # STEP 208
str0 += 'q'                                                            # STEP 209
str1 += 'l'                                                            # STEP 210
result = os0.path.isdir(path4)                                         # STEP 211
str0 += 'k'                                                            # STEP 212
str0 += 'u'                                                            # STEP 213
path4 += "/" + component3                                              # STEP 214
component1 = "alpha"                                                   # STEP 215
str2 += 'u'                                                            # STEP 216
os0.link(path4,path4)                                                  # STEP 217
os0.mkdir(path2)                                                       # STEP 218
os0.remove(path3)                                                      # STEP 219
result = stat4.st_size                                                 # STEP 220
str2 += 'e'                                                            # STEP 221
stat0 = os0.stat(path2)                                                # STEP 222
os0.symlink(path1,path2)                                               # STEP 223
os0.link(path3,path2)                                                  # STEP 224
result = stat1.st_size                                                 # STEP 225
stat1 = os0.fstat(fd0)                                                 # STEP 226
os0.write(fd0,str3)                                                    # STEP 227
os0.symlink(path4,path2)                                               # STEP 228
str0 += 'f'                                                            # STEP 229
str1 += 'i'                                                            # STEP 230
str3 += 'm'                                                            # STEP 231
str2 += 'u'                                                            # STEP 232
result = os0.path.lexists(path3)                                       # STEP 233
os0.symlink(path2,path4)                                               # STEP 234
str4 += 'q'                                                            # STEP 235
str3 += 'r'                                                            # STEP 236
str3 = ""                                                              # STEP 237
os0.symlink(path1,path3)                                               # STEP 238
os0.link(path1,path2)                                                  # STEP 239
os0.rmdir(path4)                                                       # STEP 240
str0 += 'j'                                                            # STEP 241
str1 += 'y'                                                            # STEP 242
os0.link(path2,path3)                                                  # STEP 243
component3 = "gamma"                                                   # STEP 244
os0.mkdir(path1)                                                       # STEP 245
str3 += 'v'                                                            # STEP 246
component4 = "e"                                                       # STEP 247
str2 += 'q'                                                            # STEP 248
str3 += 'p'                                                            # STEP 249
str0 += 'p'                                                            # STEP 250
os0.symlink(path3,path2)                                               # STEP 251
str1 += 'v'                                                            # STEP 252
result = os0.path.exists(path2)                                        # STEP 253
path0 = "/Volumes/ramdisk/test"                                        # STEP 254
path3 += "/" + component4                                              # STEP 255
str1 += 'r'                                                            # STEP 256
result = os0.path.dirname(path2)                                       # STEP 257
os0.symlink(path4,path0)                                               # STEP 258
result = os0.path.isabs(path3)                                         # STEP 259
result = file0.readline(bytes3)                                        # STEP 260
ERROR: (<type 'exceptions.OSError'>, OSError(9, 'File is not open for reading.'), <traceback object at 0x107ca9bd8>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 28881, in act573
    result = self.p_file[0].readline(self.p_bytes[3])
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4284, in read_error
    self._raise('File is not open for reading.')
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4112, in _raise
    raise OSError(errno.EBADF, message)
FAILURE 1
component1 = "h"                                                         # STEP 0
os0 = newFakeOS()                                                        # STEP 1
component2 = "phi"                                                       # STEP 2
path4 = "/Volumes/ramdisk/test"                                          # STEP 3
component3 = "lambda"                                                    # STEP 4
result = os0.path.lexists(path4)                                         # STEP 5
str3 = ""                                                                # STEP 6
component0 = "a"                                                         # STEP 7
str3 += 'v'                                                              # STEP 8
path4 += "/" + component0                                                # STEP 9
fd0 = os0.open(path4, os.O_CREAT | os.O_EXCL)                           # STEP 10
component0 = "epsilon"                                                  # STEP 11
str3 += " "                                                             # STEP 12
stat2 = os0.lstat(path4)                                                # STEP 13
result = stat2.st_size                                                  # STEP 14
str3 += 'd'                                                             # STEP 15
str3 += 'k'                                                             # STEP 16
stat2 = os0.fstat(fd0)                                                  # STEP 17
stat1 = os0.fstat(fd0)                                                  # STEP 18
result = stat2.st_size                                                  # STEP 19
str3 += 't'                                                             # STEP 20
result = stat2.st_nlink                                                 # STEP 21
stat3 = os0.fstat(fd0)                                                  # STEP 22
bytes3 = 0                                                              # STEP 23
stat2 = os0.stat(path4)                                                 # STEP 24
component4 = "b"                                                        # STEP 25
os0.makedirs(path4)                                                     # STEP 26
str3 += 'p'                                                             # STEP 27
str3 += 'l'                                                             # STEP 28
result = os0.path.dirname(path4)                                        # STEP 29
result = os0.path.isdir(path4)                                          # STEP 30
os0.close(fd0)                                                          # STEP 31
str3 += 'y'                                                             # STEP 32
path2 = "/Volumes/ramdisk/test"                                         # STEP 33
os0.path.getsize(path4)                                                 # STEP 34
path3 = "/Volumes/ramdisk/test"                                         # STEP 35
os0.link(path4,path4)                                                   # STEP 36
os0.mkdir(path2)                                                        # STEP 37
path1 = "/Volumes/ramdisk/test"                                         # STEP 38
os0.link(path1,path1)                                                   # STEP 39
result = os0.path.isabs(path3)                                          # STEP 40
str3 += 'i'                                                             # STEP 41
result = os0.path.lexists(path1)                                        # STEP 42
str3 += 'd'                                                             # STEP 43
result = os0.path.islink(path2)                                         # STEP 44
stat0 = os0.lstat(path4)                                                # STEP 45
str2 = ""                                                               # STEP 46
str1 = ""                                                               # STEP 47
path4 += "/" + component1                                               # STEP 48
os0.link(path3,path2)                                                   # STEP 49
result = os0.path.islink(path1)                                         # STEP 50
result = os0.path.islink(path3)                                         # STEP 51
path2 += "/" + component0                                               # STEP 52
component0 = "omega"                                                    # STEP 53
os0.link(path2,path2)                                                   # STEP 54
str1 += 'k'                                                             # STEP 55
os0.link(path4,path1)                                                   # STEP 56
component1 = "d"                                                        # STEP 57
str2 += 'q'                                                             # STEP 58
str3 += 't'                                                             # STEP 59
str1 += 'z'                                                             # STEP 60
stat4 = os0.stat(path2)                                                 # STEP 61
result = os0.path.isfile(path1)                                         # STEP 62
os0.makedirs(path3)                                                     # STEP 63
str3 += 'k'                                                             # STEP 64
os0.makedirs(path1)                                                     # STEP 65
fd0 = os0.open(path4, os.O_CREAT)                                       # STEP 66
result = sorted(os0.listdir(path2))                                     # STEP 67
str1 += 'm'                                                             # STEP 68
bytes0 = 0                                                              # STEP 69
str1 += 'o'                                                             # STEP 70
stat4 = os0.stat(path4)                                                 # STEP 71
os0.link(path1,path4)                                                   # STEP 72
os0.rmdir(path2)                                                        # STEP 73
os0.mkdir(path4)                                                        # STEP 74
str2 += 'k'                                                             # STEP 75
str3 += 'y'                                                             # STEP 76
path4 += "/" + component3                                               # STEP 77
str3 += 'p'                                                             # STEP 78
result = stat1.st_nlink                                                 # STEP 79
os0.rename(path2,path3)                                                 # STEP 80
path4 = "/Volumes/ramdisk/test"                                         # STEP 81
path2 += "/" + component0                                               # STEP 82
result = os0.path.isdir(path4)                                          # STEP 83
os0.remove(path3)                                                       # STEP 84
os0.rename(path2,path3)                                                 # STEP 85
str2 += 'o'                                                             # STEP 86
result = os0.path.lexists(path2)                                        # STEP 87
os0.link(path4,path2)                                                   # STEP 88
str3 += 'n'                                                             # STEP 89
str2 += 'x'                                                             # STEP 90
str3 += 'g'                                                             # STEP 91
result = os0.path.abspath(path2)                                        # STEP 92
str3 += 'r'                                                             # STEP 93
component0 = "omega"                                                    # STEP 94
os0.symlink(path1,path4)                                                # STEP 95
str4 = ""                                                               # STEP 96
path3 += "/" + component2                                               # STEP 97
result = os0.path.isabs(path3)                                          # STEP 98
result = os0.path.isabs(path1)                                          # STEP 99
os0.write(fd0,str2)                                                    # STEP 100
str1 += 'v'                                                            # STEP 101
str3 += 's'                                                            # STEP 102
os0.rmdir(path3)                                                       # STEP 103
result = os0.path.lexists(path1)                                       # STEP 104
path4 += "/" + component2                                              # STEP 105
component2 = "phi"                                                     # STEP 106
result = sorted(os0.listdir(path1))                                    # STEP 107
os0.remove(path2)                                                      # STEP 108
os0.symlink(path4,path3)                                               # STEP 109
result = os0.path.exists(path2)                                        # STEP 110
path2 += "/" + component3                                              # STEP 111
bytes4 = 0                                                             # STEP 112
component3 = "delta"                                                   # STEP 113
str1 += 'p'                                                            # STEP 114
result = os0.path.islink(path3)                                        # STEP 115
os0.path.getsize(path4)                                                # STEP 116
stat1 = os0.lstat(path2)                                               # STEP 117
str4 += 'b'                                                            # STEP 118
os0.write(fd0,str1)                                                    # STEP 119
result = os0.path.isdir(path3)                                         # STEP 120
result = os0.path.lexists(path3)                                       # STEP 121
str2 += 't'                                                            # STEP 122
os0.link(path4,path1)                                                  # STEP 123
result = stat0.st_nlink                                                # STEP 124
stat4 = os0.lstat(path4)                                               # STEP 125
str4 += 'j'                                                            # STEP 126
result = sorted(os0.listdir(path2))                                    # STEP 127
os0.link(path4,path4)                                                  # STEP 128
result = os0.path.isdir(path1)                                         # STEP 129
str2 += 'e'                                                            # STEP 130
result = os0.path.isfile(path4)                                        # STEP 131
result = os0.path.isfile(path3)                                        # STEP 132
path2 += "/" + component1                                              # STEP 133
component1 = "beta"                                                    # STEP 134
result = os0.path.isfile(path2)                                        # STEP 135
str3 += 'd'                                                            # STEP 136
str1 += 'f'                                                            # STEP 137
os0.rename(path4,path2)                                                # STEP 138
str2 += 'k'                                                            # STEP 139
str4 += 'l'                                                            # STEP 140
str4 = ""                                                              # STEP 141
str3 += 'w'                                                            # STEP 142
str4 += 'd'                                                            # STEP 143
os0.link(path2,path2)                                                  # STEP 144
str1 += 'm'                                                            # STEP 145
str1 += 'm'                                                            # STEP 146
str3 += 'p'                                                            # STEP 147
str1 += 'q'                                                            # STEP 148
str4 += 'i'                                                            # STEP 149
os0.close(fd0)                                                         # STEP 150
os0.close(fd0)                                                         # STEP 151
result = os0.path.isabs(path3)                                         # STEP 152
result = os0.read(fd0,bytes3)                                          # STEP 153
opener0 = newFakeOpener(os0)                                           # STEP 154
result = os0.path.isdir(path3)                                         # STEP 155
fd0 = os0.open(path4, os.O_CREAT | os.O_WRONLY | os.O_TRUNC)           # STEP 156
result = os0.read(fd0,bytes0)                                          # STEP 157
str2 += 'k'                                                            # STEP 158
result = os0.path.exists(path2)                                        # STEP 159
str1 += 'g'                                                            # STEP 160
os0.link(path3,path2)                                                  # STEP 161
file0 = opener0(path4,'a')                                             # STEP 162
path4 += "/" + component2                                              # STEP 163
result = os0.path.exists(path1)                                        # STEP 164
str3 += 'b'                                                            # STEP 165
str0 = ""                                                              # STEP 166
result = os0.path.exists(path1)                                        # STEP 167
str4 += 'g'                                                            # STEP 168
str2 += 'm'                                                            # STEP 169
str0 += " "                                                            # STEP 170
component2 = "f"                                                       # STEP 171
str3 += 'y'                                                            # STEP 172
str2 += 'x'                                                            # STEP 173
os0.remove(path1)                                                      # STEP 174
stat0 = os0.lstat(path3)                                               # STEP 175
str1 += 'c'                                                            # STEP 176
str4 += 'u'                                                            # STEP 177
path3 += "/" + component1                                              # STEP 178
os0.symlink(path3,path4)                                               # STEP 179
path3 += "/" + component1                                              # STEP 180
file0 = opener0(path1,'r')                                             # STEP 181
result = stat0.st_nlink                                                # STEP 182
str2 += 'm'                                                            # STEP 183
str3 += 'y'                                                            # STEP 184
file0 = opener0(path1,'a')                                             # STEP 185
str0 += 'u'                                                            # STEP 186
str4 += 'g'                                                            # STEP 187
os0.remove(path1)                                                      # STEP 188
result = sorted(os0.listdir(path4))                                    # STEP 189
str1 += 'o'                                                            # STEP 190
result = os0.path.isdir(path3)                                         # STEP 191
result = os0.path.exists(path3)                                        # STEP 192
result = os0.path.dirname(path2)                                       # STEP 193
str2 += 'i'                                                            # STEP 194
os0.link(path1,path2)                                                  # STEP 195
os0.link(path2,path4)                                                  # STEP 196
file0 = opener0(path2,'r')                                             # STEP 197
str3 += 'g'                                                            # STEP 198
result = os0.path.isdir(path3)                                         # STEP 199
str1 += 'u'                                                            # STEP 200
path1 += "/" + component4                                              # STEP 201
str0 += 'f'                                                            # STEP 202
result = os0.read(fd0,bytes0)                                          # STEP 203
result = os0.path.isfile(path4)                                        # STEP 204
file0 = opener0(path1,'w')                                             # STEP 205
os0.path.getsize(path2)                                                # STEP 206
result = stat1.st_size                                                 # STEP 207
str0 += 'q'                                                            # STEP 208
str1 += 'l'                                                            # STEP 209
result = os0.path.isdir(path4)                                         # STEP 210
str0 += 'k'                                                            # STEP 211
str0 += 'u'                                                            # STEP 212
path4 += "/" + component3                                              # STEP 213
component1 = "alpha"                                                   # STEP 214
str2 += 'u'                                                            # STEP 215
os0.link(path4,path4)                                                  # STEP 216
os0.mkdir(path2)                                                       # STEP 217
os0.remove(path3)                                                      # STEP 218
str2 += 'k'                                                            # STEP 219
str1 += 'g'                                                            # STEP 220
str3 += 's'                                                            # STEP 221
component3 = "omega"                                                   # STEP 222
os0.symlink(path2,path4)                                               # STEP 223
path2 += "/" + component2                                              # STEP 224
os0.symlink(path4,path2)                                               # STEP 225
str2 += 'n'                                                            # STEP 226
result = stat1.st_nlink                                                # STEP 227
component4 = "h"                                                       # STEP 228
result = stat0.st_nlink                                                # STEP 229
result = os0.path.dirname(path2)                                       # STEP 230
str3 += 'd'                                                            # STEP 231
stat0 = os0.lstat(path1)                                               # STEP 232
os0.removedirs(path3)                                                  # STEP 233
str4 += 'c'                                                            # STEP 234
str3 += 'h'                                                            # STEP 235
component2 = "g"                                                       # STEP 236
str4 += 'f'                                                            # STEP 237
path4 += "/" + component2                                              # STEP 238
os0.write(fd0,str2)                                                    # STEP 239
str4 += 'i'                                                            # STEP 240
component2 = "gamma"                                                   # STEP 241
result = os0.readlink(path2)                                           # STEP 242
str3 += 'q'                                                            # STEP 243
stat1 = os0.stat(path3)                                                # STEP 244
str2 += 'e'                                                            # STEP 245
result = file0.readlines()                                             # STEP 246
ERROR: (<type 'exceptions.OSError'>, OSError(9, 'File is not open for reading.'), <traceback object at 0x1078b2998>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 28999, in act575
    result = self.p_file[0].readlines()
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4284, in read_error
    self._raise('File is not open for reading.')
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4112, in _raise
    raise OSError(errno.EBADF, message)
FAILURE 2
component2 = "alpha"                                                     # STEP 0
component1 = "gamma"                                                     # STEP 1
component4 = "lambda"                                                    # STEP 2
component3 = "beta"                                                      # STEP 3
component0 = "alpha"                                                     # STEP 4
bytes1 = 0                                                               # STEP 5
str1 = ""                                                                # STEP 6
str1 += 'k'                                                              # STEP 7
str1 += 'v'                                                              # STEP 8
bytes1 += 1                                                              # STEP 9
bytes4 = 0                                                              # STEP 10
str1 = ""                                                               # STEP 11
str1 += 's'                                                             # STEP 12
str2 = ""                                                               # STEP 13
str1 += 'w'                                                             # STEP 14
str1 += 'o'                                                             # STEP 15
str0 = ""                                                               # STEP 16
str1 += 'z'                                                             # STEP 17
path3 = "/Volumes/ramdisk/test"                                         # STEP 18
os0 = newFakeOS()                                                       # STEP 19
str1 += 'p'                                                             # STEP 20
str1 += 't'                                                             # STEP 21
result = os0.path.isdir(path3)                                          # STEP 22
str0 += 'w'                                                             # STEP 23
path3 += "/" + component1                                               # STEP 24
str0 += 'd'                                                             # STEP 25
str0 += 'e'                                                             # STEP 26
opener0 = newFakeOpener(os0)                                            # STEP 27
result = os0.path.islink(path3)                                         # STEP 28
os0.symlink(path3,path3)                                                # STEP 29
path3 += "/" + component0                                               # STEP 30
component1 = "d"                                                        # STEP 31
str1 += 'o'                                                             # STEP 32
os0.link(path3,path3)                                                   # STEP 33
str1 += 'q'                                                             # STEP 34
str0 += 'e'                                                             # STEP 35
str0 += 'a'                                                             # STEP 36
str1 += 'o'                                                             # STEP 37
str0 += " "                                                             # STEP 38
file0 = opener0(path3,'r')                                              # STEP 39
path3 += "/" + component2                                               # STEP 40
str1 += " "                                                             # STEP 41
stat1 = os0.stat(path3)                                                 # STEP 42
os0.symlink(path3,path3)                                                # STEP 43
component0 = "gamma"                                                    # STEP 44
str1 += 'b'                                                             # STEP 45
component2 = "delta"                                                    # STEP 46
str1 += 'e'                                                             # STEP 47
str0 += 'g'                                                             # STEP 48
str1 += 's'                                                             # STEP 49
stat0 = os0.lstat(path3)                                                # STEP 50
str4 = ""                                                               # STEP 51
str4 += 'm'                                                             # STEP 52
str1 += 'y'                                                             # STEP 53
str4 = ""                                                               # STEP 54
str1 += 'y'                                                             # STEP 55
str1 += 'i'                                                             # STEP 56
result = os0.path.islink(path3)                                         # STEP 57
str1 += 'd'                                                             # STEP 58
stat1 = os0.stat(path3)                                                 # STEP 59
path1 = "/Volumes/ramdisk/test"                                         # STEP 60
os0.link(path3,path3)                                                   # STEP 61
str0 += 'x'                                                             # STEP 62
path3 += "/" + component0                                               # STEP 63
component0 = "a"                                                        # STEP 64
str1 += 'a'                                                             # STEP 65
str0 += 'z'                                                             # STEP 66
path3 += "/" + component2                                               # STEP 67
str4 += 'e'                                                             # STEP 68
str0 += 'a'                                                             # STEP 69
os0.link(path1,path3)                                                   # STEP 70
fd0 = os0.open(path3, os.O_RDWR)                                        # STEP 71
str0 += 'f'                                                             # STEP 72
str0 += 'w'                                                             # STEP 73
component2 = "d"                                                        # STEP 74
os0.link(path1,path3)                                                   # STEP 75
result = os0.readlink(path3)                                            # STEP 76
bytes1 += 1                                                             # STEP 77
str1 += 't'                                                             # STEP 78
stat3 = os0.lstat(path3)                                                # STEP 79
file0 = opener0(path3,'r')                                              # STEP 80
str1 += 'd'                                                             # STEP 81
str0 += 't'                                                             # STEP 82
result = os0.path.islink(path1)                                         # STEP 83
os0.path.getsize(path3)                                                 # STEP 84
str1 += 'd'                                                             # STEP 85
os0.remove(path1)                                                       # STEP 86
str0 += 't'                                                             # STEP 87
result = os0.path.isdir(path1)                                          # STEP 88
file0 = opener0(path1,'a')                                              # STEP 89
file0 = opener0(path1,'w')                                              # STEP 90
str4 += 'x'                                                             # STEP 91
result = os0.path.isabs(path3)                                          # STEP 92
str4 += 'n'                                                             # STEP 93
str1 += 'r'                                                             # STEP 94
str4 += 'i'                                                             # STEP 95
result = os0.path.isabs(path1)                                          # STEP 96
stat0 = os0.stat(path3)                                                 # STEP 97
path0 = "/Volumes/ramdisk/test"                                         # STEP 98
result = os0.path.islink(path0)                                         # STEP 99
str4 += 'c'                                                            # STEP 100
fd0 = os0.open(path3, os.O_CREAT | os.O_WRONLY | os.O_TRUNC)           # STEP 101
stat4 = os0.stat(path3)                                                # STEP 102
str4 += 'e'                                                            # STEP 103
os0.link(path3,path1)                                                  # STEP 104
str1 += 'a'                                                            # STEP 105
stat4 = os0.lstat(path3)                                               # STEP 106
result = os0.path.isdir(path1)                                         # STEP 107
file0 = opener0(path1,'w')                                             # STEP 108
file0 = opener0(path3,'r')                                             # STEP 109
str0 += 'f'                                                            # STEP 110
path0 += "/" + component0                                              # STEP 111
str4 += 'k'                                                            # STEP 112
os0.rename(path3,path1)                                                # STEP 113
component0 = "lambda"                                                  # STEP 114
os0.link(path1,path1)                                                  # STEP 115
str4 = ""                                                              # STEP 116
str1 += 'j'                                                            # STEP 117
stat2 = os0.stat(path0)                                                # STEP 118
str4 += 'y'                                                            # STEP 119
path1 += "/" + component4                                              # STEP 120
str0 += 'l'                                                            # STEP 121
file0 = opener0(path3,'a')                                             # STEP 122
stat4 = os0.lstat(path0)                                               # STEP 123
str0 += 'u'                                                            # STEP 124
result = sorted(os0.listdir(path1))                                    # STEP 125
component4 = "d"                                                       # STEP 126
str2 += 'c'                                                            # STEP 127
str2 += 'o'                                                            # STEP 128
stat4 = os0.stat(path1)                                                # STEP 129
str0 += 'x'                                                            # STEP 130
stat2 = os0.stat(path0)                                                # STEP 131
path3 += "/" + component1                                              # STEP 132
bytes2 = 0                                                             # STEP 133
os0.makedirs(path3)                                                    # STEP 134
result = os0.path.isabs(path0)                                         # STEP 135
str2 += 'x'                                                            # STEP 136
stat2 = os0.stat(path1)                                                # STEP 137
str2 += 't'                                                            # STEP 138
result = os0.path.dirname(path1)                                       # STEP 139
str4 += 'l'                                                            # STEP 140
fd0 = os0.open(path1, os.O_WRONLY | os.O_APPEND)                       # STEP 141
result = sorted(os0.listdir(path3))                                    # STEP 142
str0 += 'i'                                                            # STEP 143
os0.mkdir(path1)                                                       # STEP 144
component1 = "g"                                                       # STEP 145
stat1 = os0.lstat(path1)                                               # STEP 146
result = os0.path.abspath(path1)                                       # STEP 147
fd0 = os0.open(path0, os.O_CREAT | os.O_WRONLY | os.O_TRUNC)           # STEP 148
path3 = "/Volumes/ramdisk/test"                                        # STEP 149
str1 = ""                                                              # STEP 150
str0 += 's'                                                            # STEP 151
result = os0.path.dirname(path1)                                       # STEP 152
str4 += 's'                                                            # STEP 153
str0 += 's'                                                            # STEP 154
stat3 = os0.lstat(path1)                                               # STEP 155
path1 += "/" + component2                                              # STEP 156
str0 += 'v'                                                            # STEP 157
component2 = "lambda"                                                  # STEP 158
os0.makedirs(path0)                                                    # STEP 159
str0 += 'x'                                                            # STEP 160
stat0 = os0.stat(path1)                                                # STEP 161
str0 += 'u'                                                            # STEP 162
result = os0.read(fd0,bytes4)                                          # STEP 163
str4 += " "                                                            # STEP 164
str0 += 'g'                                                            # STEP 165
path3 += "/" + component2                                              # STEP 166
str2 += 'r'                                                            # STEP 167
result = os0.path.exists(path3)                                        # STEP 168
path3 += "/" + component2                                              # STEP 169
str0 += 'h'                                                            # STEP 170
stat2 = os0.stat(path1)                                                # STEP 171
result = os0.path.isfile(path1)                                        # STEP 172
path0 += "/" + component4                                              # STEP 173
file0 = opener0(path1,'a')                                             # STEP 174
str4 += 'f'                                                            # STEP 175
file0.write(str2)                                                      # STEP 176
str2 += 'c'                                                            # STEP 177
str4 += 'v'                                                            # STEP 178
os0.close(fd0)                                                         # STEP 179
result = os0.path.abspath(path3)                                       # STEP 180
str2 += 'c'                                                            # STEP 181
os0.symlink(path1,path3)                                               # STEP 182
fd0 = os0.open(path1, os.O_WRONLY | os.O_APPEND)                       # STEP 183
str1 += 'p'                                                            # STEP 184
stat2 = os0.fstat(fd0)                                                 # STEP 185
str4 += 'x'                                                            # STEP 186
path3 += "/" + component2                                              # STEP 187
path0 = "/Volumes/ramdisk/test"                                        # STEP 188
component2 = "e"                                                       # STEP 189
str2 += 'w'                                                            # STEP 190
os0.removedirs(path3)                                                  # STEP 191
str0 += 'g'                                                            # STEP 192
str4 += 'x'                                                            # STEP 193
stat4 = os0.stat(path1)                                                # STEP 194
result = os0.path.isfile(path0)                                        # STEP 195
str2 += 'z'                                                            # STEP 196
str4 += 'u'                                                            # STEP 197
bytes4 += 1                                                            # STEP 198
os0.symlink(path0,path1)                                               # STEP 199
str1 += 'h'                                                            # STEP 200
str0 += 'y'                                                            # STEP 201
str0 += 'z'                                                            # STEP 202
str4 += 'c'                                                            # STEP 203
str2 += 'h'                                                            # STEP 204
result = os0.path.lexists(path1)                                       # STEP 205
str1 += 'k'                                                            # STEP 206
str0 += 'l'                                                            # STEP 207
str2 += 'x'                                                            # STEP 208
str0 += 's'                                                            # STEP 209
str1 += 'x'                                                            # STEP 210
file0.seek(bytes4)                                                     # STEP 211
os0.removedirs(path0)                                                  # STEP 212
path3 += "/" + component0                                              # STEP 213
str2 += 'y'                                                            # STEP 214
str2 += 't'                                                            # STEP 215
str2 += 'e'                                                            # STEP 216
str2 += 'l'                                                            # STEP 217
path1 += "/" + component2                                              # STEP 218
path1 += "/" + component0                                              # STEP 219
os0.symlink(path3,path1)                                               # STEP 220
str1 += 'e'                                                            # STEP 221
path3 += "/" + component0                                              # STEP 222
component0 = "c"                                                       # STEP 223
str4 += 'o'                                                            # STEP 224
str4 += 'a'                                                            # STEP 225
component4 = "a"                                                       # STEP 226
component2 = "alpha"                                                   # STEP 227
path0 += "/" + component0                                              # STEP 228
component0 = "gamma"                                                   # STEP 229
str2 += 'l'                                                            # STEP 230
str1 += 'g'                                                            # STEP 231
str2 = ""                                                              # STEP 232
result = os0.path.exists(path1)                                        # STEP 233
os0.link(path1,path0)                                                  # STEP 234
bytes4 = 0                                                             # STEP 235
str0 += 'u'                                                            # STEP 236
os0.link(path0,path0)                                                  # STEP 237
str2 += 'n'                                                            # STEP 238
os0.symlink(path0,path3)                                               # STEP 239
str2 += 'i'                                                            # STEP 240
str4 += 'a'                                                            # STEP 241
str2 += 'f'                                                            # STEP 242
os0.remove(path3)                                                      # STEP 243
str2 += 'e'                                                            # STEP 244
str4 += 'd'                                                            # STEP 245
str2 += 'l'                                                            # STEP 246
str0 += 'z'                                                            # STEP 247
result = sorted(os0.listdir(path3))                                    # STEP 248
str4 += " "                                                            # STEP 249
path1 = "/Volumes/ramdisk/test"                                        # STEP 250
os0.write(fd0,str2)                                                    # STEP 251
result = sorted(os0.listdir(path1))                                    # STEP 252
path2 = "/Volumes/ramdisk/test"                                        # STEP 253
os0.rename(path0,path3)                                                # STEP 254
os0.rmdir(path0)                                                       # STEP 255
file0.write(str4)                                                      # STEP 256
str4 += 'j'                                                            # STEP 257
result = os0.path.isabs(path1)                                         # STEP 258
os0.write(fd0,str1)                                                    # STEP 259
str0 += 'c'                                                            # STEP 260
os0.link(path1,path3)                                                  # STEP 261
result = os0.path.isdir(path3)                                         # STEP 262
str1 += 'j'                                                            # STEP 263
result = file0.readlines()                                             # STEP 264
os0.write(fd0,str2)                                                    # STEP 265
os0.symlink(path1,path3)                                               # STEP 266
result = os0.path.lexists(path2)                                       # STEP 267
os0.rename(path3,path2)                                                # STEP 268
os0.mkdir(path3)                                                       # STEP 269
str0 = ""                                                              # STEP 270
os0.link(path0,path3)                                                  # STEP 271
os0.link(path0,path3)                                                  # STEP 272
path1 += "/" + component0                                              # STEP 273
stat0 = os0.stat(path3)                                                # STEP 274
str0 += 'r'                                                            # STEP 275
file0.seek(bytes1)                                                     # STEP 276
str2 += 'u'                                                            # STEP 277
str1 += 'b'                                                            # STEP 278
str1 += 'x'                                                            # STEP 279
str4 += 'f'                                                            # STEP 280
str2 += 'f'                                                            # STEP 281
os0.link(path2,path3)                                                  # STEP 282
path1 = "/Volumes/ramdisk/test"                                        # STEP 283
os0.symlink(path1,path1)                                               # STEP 284
str4 += 'f'                                                            # STEP 285
os0.makedirs(path3)                                                    # STEP 286
component0 = "lambda"                                                  # STEP 287
os0.rename(path3,path0)                                                # STEP 288
stat0 = os0.lstat(path3)                                               # STEP 289
str1 += 'm'                                                            # STEP 290
str4 += 'f'                                                            # STEP 291
str1 += 'k'                                                            # STEP 292
bytes1 += 1                                                            # STEP 293
os0.link(path0,path0)                                                  # STEP 294
str4 += 'a'                                                            # STEP 295
result = os0.path.dirname(path3)                                       # STEP 296
os0.makedirs(path2)                                                    # STEP 297
str4 += 'k'                                                            # STEP 298
os0.makedirs(path2)                                                    # STEP 299
stat0 = os0.stat(path3)                                                # STEP 300
os0.makedirs(path1)                                                    # STEP 301
os0.remove(path0)                                                      # STEP 302
str4 += 'g'                                                            # STEP 303
result = os0.path.dirname(path3)                                       # STEP 304
bytes2 += 1                                                            # STEP 305
os0.link(path0,path1)                                                  # STEP 306
path3 += "/" + component4                                              # STEP 307
str0 += 's'                                                            # STEP 308
os0.removedirs(path0)                                                  # STEP 309
str0 += 'h'                                                            # STEP 310
result = sorted(os0.listdir(path1))                                    # STEP 311
str1 += " "                                                            # STEP 312
str2 += 'r'                                                            # STEP 313
path3 += "/" + component0                                              # STEP 314
component0 = "alpha"                                                   # STEP 315
str0 += 'c'                                                            # STEP 316
str2 = ""                                                              # STEP 317
str0 += 'j'                                                            # STEP 318
result = file0.read()                                                  # STEP 319
os0.link(path1,path2)                                                  # STEP 320
path0 += "/" + component4                                              # STEP 321
str2 += 'q'                                                            # STEP 322
os0.link(path3,path0)                                                  # STEP 323
os0.symlink(path0,path0)                                               # STEP 324
os0.removedirs(path0)                                                  # STEP 325
str0 += 'x'                                                            # STEP 326
result = os0.path.isabs(path3)                                         # STEP 327
str4 += 'y'                                                            # STEP 328
path1 += "/" + component3                                              # STEP 329
component4 = "d"                                                       # STEP 330
path0 += "/" + component4                                              # STEP 331
os0.link(path3,path0)                                                  # STEP 332
os0.rename(path1,path0)                                                # STEP 333
str1 += 'c'                                                            # STEP 334
os0.write(fd0,str0)                                                    # STEP 335
path1 += "/" + component1                                              # STEP 336
component4 = "h"                                                       # STEP 337
str0 += 'l'                                                            # STEP 338
os0.symlink(path3,path1)                                               # STEP 339
str4 += 'd'                                                            # STEP 340
os0.symlink(path0,path3)                                               # STEP 341
str2 += 'e'                                                            # STEP 342
str0 += 'i'                                                            # STEP 343
os0.symlink(path1,path1)                                               # STEP 344
str1 += 'r'                                                            # STEP 345
str4 += 'd'                                                            # STEP 346
result = os0.path.isdir(path2)                                         # STEP 347
str0 += 'r'                                                            # STEP 348
result = file0.read(bytes2)                                            # STEP 349
str0 += 'a'                                                            # STEP 350
os0.link(path0,path0)                                                  # STEP 351
os0.close(fd0)                                                         # STEP 352
os0.link(path3,path2)                                                  # STEP 353
os0.write(fd0,str4)                                                    # STEP 354
str1 += 'g'                                                            # STEP 355
str0 = ""                                                              # STEP 356
str4 += 'd'                                                            # STEP 357
result = os0.path.dirname(path3)                                       # STEP 358
stat0 = os0.stat(path1)                                                # STEP 359
file0.write(str4)                                                      # STEP 360
os0.symlink(path3,path3)                                               # STEP 361
fd0 = os0.open(path3, os.O_CREAT | os.O_WRONLY | os.O_TRUNC)           # STEP 362
result = os0.path.abspath(path0)                                       # STEP 363
os0.link(path3,path3)                                                  # STEP 364
component1 = "f"                                                       # STEP 365
component3 = "epsilon"                                                 # STEP 366
result = stat4.st_size                                                 # STEP 367
ERROR: (<type 'exceptions.AssertionError'>, AssertionError(' (5) == (0) ',), <traceback object at 0x10a8031b8>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 21991, in act461
    try: assert result == result_REF, " (%s) == (%s) " % (result, result_REF)
FAILURE 3
component2 = "alpha"                                                     # STEP 0
component1 = "gamma"                                                     # STEP 1
component4 = "lambda"                                                    # STEP 2
component3 = "beta"                                                      # STEP 3
component0 = "alpha"                                                     # STEP 4
bytes1 = 0                                                               # STEP 5
str1 = ""                                                                # STEP 6
str1 += 'k'                                                              # STEP 7
str1 += 'v'                                                              # STEP 8
bytes1 += 1                                                              # STEP 9
bytes4 = 0                                                              # STEP 10
str1 = ""                                                               # STEP 11
str1 += 's'                                                             # STEP 12
str2 = ""                                                               # STEP 13
str1 += 'w'                                                             # STEP 14
str1 += 'o'                                                             # STEP 15
str0 = ""                                                               # STEP 16
str1 += 'z'                                                             # STEP 17
path3 = "/Volumes/ramdisk/test"                                         # STEP 18
os0 = newFakeOS()                                                       # STEP 19
str1 += 'p'                                                             # STEP 20
str1 += 't'                                                             # STEP 21
result = os0.path.isdir(path3)                                          # STEP 22
str0 += 'w'                                                             # STEP 23
path3 += "/" + component1                                               # STEP 24
str0 += 'd'                                                             # STEP 25
str0 += 'e'                                                             # STEP 26
opener0 = newFakeOpener(os0)                                            # STEP 27
result = os0.path.islink(path3)                                         # STEP 28
os0.symlink(path3,path3)                                                # STEP 29
path3 += "/" + component0                                               # STEP 30
component1 = "d"                                                        # STEP 31
str1 += 'o'                                                             # STEP 32
os0.link(path3,path3)                                                   # STEP 33
str1 += 'q'                                                             # STEP 34
str0 += 'e'                                                             # STEP 35
str0 += 'a'                                                             # STEP 36
str1 += 'o'                                                             # STEP 37
str0 += " "                                                             # STEP 38
file0 = opener0(path3,'r')                                              # STEP 39
path3 += "/" + component2                                               # STEP 40
str1 += " "                                                             # STEP 41
stat1 = os0.stat(path3)                                                 # STEP 42
os0.symlink(path3,path3)                                                # STEP 43
component0 = "gamma"                                                    # STEP 44
str1 += 'b'                                                             # STEP 45
component2 = "delta"                                                    # STEP 46
str1 += 'e'                                                             # STEP 47
str0 += 'g'                                                             # STEP 48
str1 += 's'                                                             # STEP 49
stat0 = os0.lstat(path3)                                                # STEP 50
str4 = ""                                                               # STEP 51
str4 += 'm'                                                             # STEP 52
str1 += 'y'                                                             # STEP 53
str4 = ""                                                               # STEP 54
str1 += 'y'                                                             # STEP 55
str1 += 'i'                                                             # STEP 56
result = os0.path.islink(path3)                                         # STEP 57
str1 += 'd'                                                             # STEP 58
stat1 = os0.stat(path3)                                                 # STEP 59
path1 = "/Volumes/ramdisk/test"                                         # STEP 60
os0.link(path3,path3)                                                   # STEP 61
str0 += 'x'                                                             # STEP 62
path3 += "/" + component0                                               # STEP 63
component0 = "a"                                                        # STEP 64
str1 += 'a'                                                             # STEP 65
str0 += 'z'                                                             # STEP 66
path3 += "/" + component2                                               # STEP 67
str4 += 'e'                                                             # STEP 68
str0 += 'a'                                                             # STEP 69
os0.link(path1,path3)                                                   # STEP 70
fd0 = os0.open(path3, os.O_RDWR)                                        # STEP 71
str0 += 'f'                                                             # STEP 72
str0 += 'w'                                                             # STEP 73
component2 = "d"                                                        # STEP 74
os0.link(path1,path3)                                                   # STEP 75
result = os0.readlink(path3)                                            # STEP 76
bytes1 += 1                                                             # STEP 77
str1 += 't'                                                             # STEP 78
stat3 = os0.lstat(path3)                                                # STEP 79
file0 = opener0(path3,'r')                                              # STEP 80
str1 += 'd'                                                             # STEP 81
str0 += 't'                                                             # STEP 82
result = os0.path.islink(path1)                                         # STEP 83
os0.path.getsize(path3)                                                 # STEP 84
str1 += 'd'                                                             # STEP 85
os0.remove(path1)                                                       # STEP 86
str0 += 't'                                                             # STEP 87
result = os0.path.isdir(path1)                                          # STEP 88
file0 = opener0(path1,'a')                                              # STEP 89
file0 = opener0(path1,'w')                                              # STEP 90
str4 += 'x'                                                             # STEP 91
result = os0.path.isabs(path3)                                          # STEP 92
str4 += 'n'                                                             # STEP 93
str1 += 'r'                                                             # STEP 94
str4 += 'i'                                                             # STEP 95
result = os0.path.isabs(path1)                                          # STEP 96
stat0 = os0.stat(path3)                                                 # STEP 97
path0 = "/Volumes/ramdisk/test"                                         # STEP 98
result = os0.path.islink(path0)                                         # STEP 99
str4 += 'c'                                                            # STEP 100
fd0 = os0.open(path3, os.O_CREAT | os.O_WRONLY | os.O_TRUNC)           # STEP 101
stat4 = os0.stat(path3)                                                # STEP 102
str4 += 'e'                                                            # STEP 103
os0.link(path3,path1)                                                  # STEP 104
str1 += 'a'                                                            # STEP 105
stat4 = os0.lstat(path3)                                               # STEP 106
result = os0.path.isdir(path1)                                         # STEP 107
file0 = opener0(path1,'w')                                             # STEP 108
file0 = opener0(path3,'r')                                             # STEP 109
str0 += 'f'                                                            # STEP 110
path0 += "/" + component0                                              # STEP 111
str4 += 'k'                                                            # STEP 112
os0.rename(path3,path1)                                                # STEP 113
component0 = "lambda"                                                  # STEP 114
os0.link(path1,path1)                                                  # STEP 115
str4 = ""                                                              # STEP 116
str1 += 'j'                                                            # STEP 117
stat2 = os0.stat(path0)                                                # STEP 118
str4 += 'y'                                                            # STEP 119
path1 += "/" + component4                                              # STEP 120
str0 += 'l'                                                            # STEP 121
file0 = opener0(path3,'a')                                             # STEP 122
stat4 = os0.lstat(path0)                                               # STEP 123
str0 += 'u'                                                            # STEP 124
result = sorted(os0.listdir(path1))                                    # STEP 125
component4 = "d"                                                       # STEP 126
str2 += 'c'                                                            # STEP 127
str2 += 'o'                                                            # STEP 128
stat4 = os0.stat(path1)                                                # STEP 129
str0 += 'x'                                                            # STEP 130
stat2 = os0.stat(path0)                                                # STEP 131
path3 += "/" + component1                                              # STEP 132
bytes2 = 0                                                             # STEP 133
os0.makedirs(path3)                                                    # STEP 134
result = os0.path.isabs(path0)                                         # STEP 135
str2 += 'x'                                                            # STEP 136
stat2 = os0.stat(path1)                                                # STEP 137
str2 += 't'                                                            # STEP 138
result = os0.path.dirname(path1)                                       # STEP 139
str4 += 'l'                                                            # STEP 140
fd0 = os0.open(path1, os.O_WRONLY | os.O_APPEND)                       # STEP 141
result = sorted(os0.listdir(path3))                                    # STEP 142
str0 += 'i'                                                            # STEP 143
os0.mkdir(path1)                                                       # STEP 144
component1 = "g"                                                       # STEP 145
stat1 = os0.lstat(path1)                                               # STEP 146
result = os0.path.abspath(path1)                                       # STEP 147
fd0 = os0.open(path0, os.O_CREAT | os.O_WRONLY | os.O_TRUNC)           # STEP 148
path3 = "/Volumes/ramdisk/test"                                        # STEP 149
str1 = ""                                                              # STEP 150
str0 += 's'                                                            # STEP 151
result = os0.path.dirname(path1)                                       # STEP 152
str4 += 's'                                                            # STEP 153
str0 += 's'                                                            # STEP 154
stat3 = os0.lstat(path1)                                               # STEP 155
path1 += "/" + component2                                              # STEP 156
str0 += 'v'                                                            # STEP 157
component2 = "lambda"                                                  # STEP 158
os0.makedirs(path0)                                                    # STEP 159
str0 += 'x'                                                            # STEP 160
stat0 = os0.stat(path1)                                                # STEP 161
str0 += 'u'                                                            # STEP 162
result = os0.read(fd0,bytes4)                                          # STEP 163
str4 += " "                                                            # STEP 164
str0 += 'g'                                                            # STEP 165
path3 += "/" + component2                                              # STEP 166
str2 += 'r'                                                            # STEP 167
result = os0.path.exists(path3)                                        # STEP 168
path3 += "/" + component2                                              # STEP 169
str0 += 'h'                                                            # STEP 170
stat2 = os0.stat(path1)                                                # STEP 171
result = os0.path.isfile(path1)                                        # STEP 172
path0 += "/" + component4                                              # STEP 173
file0 = opener0(path1,'a')                                             # STEP 174
str4 += 'f'                                                            # STEP 175
file0.write(str2)                                                      # STEP 176
str2 += 'c'                                                            # STEP 177
str4 += 'v'                                                            # STEP 178
os0.close(fd0)                                                         # STEP 179
result = os0.path.abspath(path3)                                       # STEP 180
str2 += 'c'                                                            # STEP 181
os0.symlink(path1,path3)                                               # STEP 182
fd0 = os0.open(path1, os.O_WRONLY | os.O_APPEND)                       # STEP 183
str1 += 'p'                                                            # STEP 184
stat2 = os0.fstat(fd0)                                                 # STEP 185
str4 += 'x'                                                            # STEP 186
path3 += "/" + component2                                              # STEP 187
path0 = "/Volumes/ramdisk/test"                                        # STEP 188
component2 = "e"                                                       # STEP 189
str2 += 'w'                                                            # STEP 190
os0.removedirs(path3)                                                  # STEP 191
str0 += 'g'                                                            # STEP 192
str4 += 'x'                                                            # STEP 193
stat4 = os0.stat(path1)                                                # STEP 194
result = os0.path.isfile(path0)                                        # STEP 195
str2 += 'z'                                                            # STEP 196
str4 += 'u'                                                            # STEP 197
bytes4 += 1                                                            # STEP 198
os0.symlink(path0,path1)                                               # STEP 199
str1 += 'h'                                                            # STEP 200
str0 += 'y'                                                            # STEP 201
str0 += 'z'                                                            # STEP 202
str4 += 'c'                                                            # STEP 203
str2 += 'h'                                                            # STEP 204
result = os0.path.lexists(path1)                                       # STEP 205
str1 += 'k'                                                            # STEP 206
str0 += 'l'                                                            # STEP 207
str2 += 'x'                                                            # STEP 208
str0 += 's'                                                            # STEP 209
str1 += 'x'                                                            # STEP 210
file0.seek(bytes4)                                                     # STEP 211
os0.removedirs(path0)                                                  # STEP 212
path3 += "/" + component0                                              # STEP 213
str2 += 'y'                                                            # STEP 214
str2 += 't'                                                            # STEP 215
str2 += 'e'                                                            # STEP 216
str2 += 'l'                                                            # STEP 217
path1 += "/" + component2                                              # STEP 218
path1 += "/" + component0                                              # STEP 219
os0.symlink(path3,path1)                                               # STEP 220
str1 += 'e'                                                            # STEP 221
path3 += "/" + component0                                              # STEP 222
component0 = "c"                                                       # STEP 223
str4 += 'o'                                                            # STEP 224
str4 += 'a'                                                            # STEP 225
component4 = "a"                                                       # STEP 226
component2 = "alpha"                                                   # STEP 227
path0 += "/" + component0                                              # STEP 228
component0 = "gamma"                                                   # STEP 229
str2 += 'l'                                                            # STEP 230
str1 += 'g'                                                            # STEP 231
str2 = ""                                                              # STEP 232
result = os0.path.exists(path1)                                        # STEP 233
os0.link(path1,path0)                                                  # STEP 234
bytes4 = 0                                                             # STEP 235
str0 += 'u'                                                            # STEP 236
os0.link(path0,path0)                                                  # STEP 237
str2 += 'n'                                                            # STEP 238
os0.symlink(path0,path3)                                               # STEP 239
str2 += 'i'                                                            # STEP 240
str4 += 'a'                                                            # STEP 241
os0.remove(path1)                                                      # STEP 242
os0.mkdir(path0)                                                       # STEP 243
os0.remove(path3)                                                      # STEP 244
str2 += 'e'                                                            # STEP 245
str4 += 'd'                                                            # STEP 246
str2 += 'l'                                                            # STEP 247
str0 += 'z'                                                            # STEP 248
result = sorted(os0.listdir(path3))                                    # STEP 249
str4 += " "                                                            # STEP 250
path1 = "/Volumes/ramdisk/test"                                        # STEP 251
os0.write(fd0,str2)                                                    # STEP 252
result = sorted(os0.listdir(path1))                                    # STEP 253
path2 = "/Volumes/ramdisk/test"                                        # STEP 254
os0.rename(path0,path3)                                                # STEP 255
os0.rmdir(path0)                                                       # STEP 256
file0.write(str4)                                                      # STEP 257
str4 += 'j'                                                            # STEP 258
result = os0.path.isabs(path1)                                         # STEP 259
os0.write(fd0,str1)                                                    # STEP 260
str0 += 'c'                                                            # STEP 261
os0.link(path1,path3)                                                  # STEP 262
result = os0.path.isdir(path3)                                         # STEP 263
str1 += 'j'                                                            # STEP 264
result = file0.readlines()                                             # STEP 265
os0.write(fd0,str2)                                                    # STEP 266
os0.symlink(path1,path3)                                               # STEP 267
result = os0.path.lexists(path2)                                       # STEP 268
os0.rename(path3,path2)                                                # STEP 269
os0.mkdir(path3)                                                       # STEP 270
str0 = ""                                                              # STEP 271
os0.link(path0,path3)                                                  # STEP 272
os0.link(path0,path3)                                                  # STEP 273
path1 += "/" + component0                                              # STEP 274
stat0 = os0.stat(path3)                                                # STEP 275
str0 += 'r'                                                            # STEP 276
file0.seek(bytes1)                                                     # STEP 277
str2 += 'u'                                                            # STEP 278
str1 += 'b'                                                            # STEP 279
str1 += 'x'                                                            # STEP 280
str4 += 'f'                                                            # STEP 281
str2 += 'f'                                                            # STEP 282
os0.link(path2,path3)                                                  # STEP 283
path1 = "/Volumes/ramdisk/test"                                        # STEP 284
os0.symlink(path1,path1)                                               # STEP 285
str4 += 'f'                                                            # STEP 286
os0.makedirs(path3)                                                    # STEP 287
str1 += 'n'                                                            # STEP 288
component0 = "e"                                                       # STEP 289
os0.remove(path1)                                                      # STEP 290
result = os0.path.lexists(path1)                                       # STEP 291
bytes0 = 0                                                             # STEP 292
str4 += 'g'                                                            # STEP 293
os0.symlink(path0,path2)                                               # STEP 294
os0.link(path0,path2)                                                  # STEP 295
str4 += 'c'                                                            # STEP 296
str2 += 'y'                                                            # STEP 297
file0.flush()                                                          # STEP 298
os0.remove(path2)                                                      # STEP 299
os0.link(path0,path3)                                                  # STEP 300
result = stat2.st_size                                                 # STEP 301
ERROR: (<type 'exceptions.AssertionError'>, AssertionError(' (5) == (0) ',), <traceback object at 0x1084b9a28>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 21881, in act459
    try: assert result == result_REF, " (%s) == (%s) " % (result, result_REF)
1183 BRANCHES COVERED
909 STATEMENTS COVERED
