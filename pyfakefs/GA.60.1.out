Random testing using config=Config(swarmSwitch=None, verbose=False, reducePool=False, failedLogging=None, exploitBestHint=1, greedyStutter=False, internal=False, exploit=0.8, seed=None, generalize=False, useHints=False, localize=False, total=False, speed='FAST', probs=None, normalize=False, verboseExploit=False, highLowSwarm=None, replayable=False, essentials=False, noCoverageExploit=False, quickTests=False, relax=False, enumerateEnabled=False, uniqueValuesAnalysis=False, swarm=False, noReassign=False, html=None, fastQuickAnalysis=False, progress=False, swarmLength=None, noSwarmDependencies=False, profile=False, LOCBaseline=0.2, noEnumerateEnabled=False, full=True, multiple=True, timedProgress=30, silentFail=True, stopWhenStatements=None, swarmP=0.5, stopWhenBranches=None, noAlphaConvert=False, coverFile='coverage.out', readQuick=False, verboseActions=False, running=False, computeFeatureStats=False, compareFails=False, swarmProbs=None, output='failure.3931.test', genDepth=None, Pcrossover=0.2, quickAnalysis=False, keepLast=False, exploitCeiling=0.1, logging=None, LOCProbs=False, noCheck=False, maxTests=-1, noExceptionMatch=False, Pmutate=0.8, depth=100, showActions=False, throughput=False, noCover=False, timeout=60, stutter=None, uncaught=False, markov=None, startExploit=0)
UNCAUGHT EXCEPTION
ERROR: (<type 'exceptions.OSError'>, OSError(9, 'File is not open for reading.'), <traceback object at 0x106423dd0>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 28761, in act571
    result = self.p_file[0].readline(self.p_bytes[1])
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4284, in read_error
    self._raise('File is not open for reading.')
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4112, in _raise
    raise OSError(errno.EBADF, message)
Original test has 251 steps

SAVING TEST AS failure.3931.test.0
FINAL VERSION OF TEST, WITH LOGGED REPLAY:
bytes4 = 0                                                               # STEP 0
component0 = "lambda"                                                    # STEP 1
component1 = "phi"                                                       # STEP 2
component4 = "e"                                                         # STEP 3
component3 = "gamma"                                                     # STEP 4
component2 = "g"                                                         # STEP 5
bytes2 = 0                                                               # STEP 6
bytes4 += 1                                                              # STEP 7
path2 = "/Volumes/ramdisk/test"                                          # STEP 8
bytes3 = 0                                                               # STEP 9
str0 = ""                                                               # STEP 10
str0 += 'v'                                                             # STEP 11
str0 += 'j'                                                             # STEP 12
str0 += 'c'                                                             # STEP 13
bytes0 = 0                                                              # STEP 14
str0 += 't'                                                             # STEP 15
str0 += 'i'                                                             # STEP 16
bytes0 += 1                                                             # STEP 17
str0 += 'q'                                                             # STEP 18
str2 = ""                                                               # STEP 19
str2 += 'l'                                                             # STEP 20
path0 = "/Volumes/ramdisk/test"                                         # STEP 21
str0 += 'y'                                                             # STEP 22
str0 += " "                                                             # STEP 23
str2 += 'g'                                                             # STEP 24
str0 += 'j'                                                             # STEP 25
str0 += 's'                                                             # STEP 26
path0 += "/" + component0                                               # STEP 27
path0 += "/" + component4                                               # STEP 28
path0 = "/Volumes/ramdisk/test"                                         # STEP 29
component4 = "gamma"                                                    # STEP 30
bytes4 = 0                                                              # STEP 31
str2 += 'f'                                                             # STEP 32
component0 = "f"                                                        # STEP 33
str0 += 'd'                                                             # STEP 34
bytes3 += 1                                                             # STEP 35
str2 += 'w'                                                             # STEP 36
str0 += 'g'                                                             # STEP 37
os0 = newFakeOS()                                                       # STEP 38
str2 += 'p'                                                             # STEP 39
bytes3 += 1                                                             # STEP 40
result = os0.path.dirname(path0)                                        # STEP 41
str2 += 'u'                                                             # STEP 42
str0 += 'e'                                                             # STEP 43
os0.makedirs(path2)                                                     # STEP 44
result = sorted(os0.listdir(path2))                                     # STEP 45
str0 += 'e'                                                             # STEP 46
str0 += 't'                                                             # STEP 47
str0 += 'g'                                                             # STEP 48
os0.makedirs(path2)                                                     # STEP 49
str2 += 'h'                                                             # STEP 50
os0.link(path2,path0)                                                   # STEP 51
str2 += 'u'                                                             # STEP 52
str2 += 'm'                                                             # STEP 53
str2 += 'f'                                                             # STEP 54
result = os0.path.lexists(path2)                                        # STEP 55
str0 += 'w'                                                             # STEP 56
str0 += 'a'                                                             # STEP 57
str2 += 'd'                                                             # STEP 58
str0 += 'q'                                                             # STEP 59
os0.link(path2,path2)                                                   # STEP 60
path0 += "/" + component0                                               # STEP 61
str2 += 'r'                                                             # STEP 62
str2 += 'u'                                                             # STEP 63
str0 += 'g'                                                             # STEP 64
result = os0.path.dirname(path2)                                        # STEP 65
os0.mkdir(path2)                                                        # STEP 66
str0 += 'z'                                                             # STEP 67
component0 = "d"                                                        # STEP 68
bytes1 = 0                                                              # STEP 69
fd0 = os0.open(path0, os.O_RDONLY)                                      # STEP 70
os0.symlink(path2,path0)                                                # STEP 71
result = os0.readlink(path2)                                            # STEP 72
str0 += 'u'                                                             # STEP 73
result = os0.path.islink(path0)                                         # STEP 74
str0 += 'd'                                                             # STEP 75
stat0 = os0.stat(path0)                                                 # STEP 76
os0.symlink(path0,path0)                                                # STEP 77
path2 += "/" + component2                                               # STEP 78
str2 += 'o'                                                             # STEP 79
result = os0.path.isfile(path0)                                         # STEP 80
str0 += 'u'                                                             # STEP 81
component2 = "c"                                                        # STEP 82
stat3 = os0.stat(path0)                                                 # STEP 83
os0.rmdir(path0)                                                        # STEP 84
result = os0.path.lexists(path2)                                        # STEP 85
result = os0.path.islink(path2)                                         # STEP 86
path2 = "/Volumes/ramdisk/test"                                         # STEP 87
str2 += 'o'                                                             # STEP 88
path0 += "/" + component3                                               # STEP 89
result = os0.path.abspath(path2)                                        # STEP 90
str2 += 'h'                                                             # STEP 91
os0.link(path2,path0)                                                   # STEP 92
fd0 = os0.open(path0, os.O_CREAT | os.O_WRONLY | os.O_TRUNC)            # STEP 93
component3 = "f"                                                        # STEP 94
str0 += 'r'                                                             # STEP 95
os0.removedirs(path2)                                                   # STEP 96
str2 += 's'                                                             # STEP 97
result = sorted(os0.listdir(path2))                                     # STEP 98
os0.remove(path0)                                                       # STEP 99
str0 += 'o'                                                            # STEP 100
str0 += 'e'                                                            # STEP 101
str0 += 'r'                                                            # STEP 102
str2 += 'b'                                                            # STEP 103
path0 += "/" + component3                                              # STEP 104
bytes0 += 1                                                            # STEP 105
result = os0.path.islink(path2)                                        # STEP 106
str2 += 'k'                                                            # STEP 107
os0.rename(path0,path2)                                                # STEP 108
str2 += 'e'                                                            # STEP 109
component3 = "c"                                                       # STEP 110
str2 += 'j'                                                            # STEP 111
os0.rmdir(path0)                                                       # STEP 112
str2 += 'v'                                                            # STEP 113
os0.rename(path0,path2)                                                # STEP 114
os0.symlink(path2,path2)                                               # STEP 115
str0 += 'a'                                                            # STEP 116
stat4 = os0.stat(path0)                                                # STEP 117
os0.mkdir(path0)                                                       # STEP 118
os0.link(path2,path2)                                                  # STEP 119
path0 = "/Volumes/ramdisk/test"                                        # STEP 120
str0 = ""                                                              # STEP 121
str0 += 'r'                                                            # STEP 122
result = os0.path.dirname(path0)                                       # STEP 123
path2 += "/" + component1                                              # STEP 124
result = os0.path.dirname(path0)                                       # STEP 125
result = os0.read(fd0,bytes3)                                          # STEP 126
path3 = "/Volumes/ramdisk/test"                                        # STEP 127
component1 = "gamma"                                                   # STEP 128
str2 += 'x'                                                            # STEP 129
str2 += 'p'                                                            # STEP 130
result = os0.path.abspath(path3)                                       # STEP 131
bytes4 += 1                                                            # STEP 132
path2 += "/" + component4                                              # STEP 133
str0 += 'p'                                                            # STEP 134
str0 += 't'                                                            # STEP 135
bytes0 = 0                                                             # STEP 136
component4 = "f"                                                       # STEP 137
result = os0.path.dirname(path3)                                       # STEP 138
str0 += 'd'                                                            # STEP 139
path3 += "/" + component3                                              # STEP 140
result = os0.readlink(path3)                                           # STEP 141
os0.link(path3,path2)                                                  # STEP 142
result = os0.read(fd0,bytes2)                                          # STEP 143
path2 += "/" + component2                                              # STEP 144
str2 += 'v'                                                            # STEP 145
result = os0.path.isfile(path3)                                        # STEP 146
path0 += "/" + component1                                              # STEP 147
str2 += 'd'                                                            # STEP 148
stat1 = os0.stat(path2)                                                # STEP 149
result = os0.path.dirname(path2)                                       # STEP 150
result = os0.path.exists(path3)                                        # STEP 151
os0.symlink(path2,path3)                                               # STEP 152
result = os0.path.isabs(path0)                                         # STEP 153
os0.makedirs(path2)                                                    # STEP 154
os0.symlink(path0,path3)                                               # STEP 155
component2 = "beta"                                                    # STEP 156
component3 = "h"                                                       # STEP 157
result = sorted(os0.listdir(path2))                                    # STEP 158
str2 += 'e'                                                            # STEP 159
os0.symlink(path3,path0)                                               # STEP 160
stat4 = os0.lstat(path3)                                               # STEP 161
component1 = "delta"                                                   # STEP 162
str2 += 'q'                                                            # STEP 163
os0.rename(path3,path2)                                                # STEP 164
os0.rename(path2,path3)                                                # STEP 165
str2 += 'o'                                                            # STEP 166
stat2 = os0.fstat(fd0)                                                 # STEP 167
str0 += 'f'                                                            # STEP 168
os0.symlink(path3,path0)                                               # STEP 169
os0.symlink(path0,path2)                                               # STEP 170
result = stat4.st_size                                                 # STEP 171
os0.removedirs(path0)                                                  # STEP 172
os0.mkdir(path3)                                                       # STEP 173
result = os0.path.isfile(path3)                                        # STEP 174
os0.symlink(path3,path0)                                               # STEP 175
str2 += 'f'                                                            # STEP 176
os0.link(path3,path0)                                                  # STEP 177
path2 += "/" + component1                                              # STEP 178
result = os0.path.isdir(path2)                                         # STEP 179
opener0 = newFakeOpener(os0)                                           # STEP 180
result = os0.path.lexists(path0)                                       # STEP 181
result = os0.read(fd0,bytes4)                                          # STEP 182
str2 += 'q'                                                            # STEP 183
str0 += 'c'                                                            # STEP 184
path0 += "/" + component1                                              # STEP 185
path1 = "/Volumes/ramdisk/test"                                        # STEP 186
str0 += " "                                                            # STEP 187
os0.close(fd0)                                                         # STEP 188
str2 += 'u'                                                            # STEP 189
result = os0.path.abspath(path0)                                       # STEP 190
path0 += "/" + component4                                              # STEP 191
os0.symlink(path1,path2)                                               # STEP 192
result = os0.path.lexists(path1)                                       # STEP 193
path1 = "/Volumes/ramdisk/test"                                        # STEP 194
path1 += "/" + component0                                              # STEP 195
os0.rename(path3,path0)                                                # STEP 196
stat1 = os0.stat(path1)                                                # STEP 197
os0.link(path3,path3)                                                  # STEP 198
result = os0.path.isfile(path0)                                        # STEP 199
path0 = "/Volumes/ramdisk/test"                                        # STEP 200
path2 += "/" + component1                                              # STEP 201
component1 = "h"                                                       # STEP 202
os0.rename(path2,path3)                                                # STEP 203
result = os0.path.isfile(path0)                                        # STEP 204
file0 = opener0(path3,'w')                                             # STEP 205
fd0 = os0.open(path2, os.O_RDWR)                                       # STEP 206
result = file0.readline()                                              # STEP 207
result = file0.read(bytes1)                                            # STEP 208
os0.rename(path3,path1)                                                # STEP 209
path2 += "/" + component3                                              # STEP 210
component0 = "delta"                                                   # STEP 211
result = file0.readline(bytes0)                                        # STEP 212
stat1 = os0.stat(path3)                                                # STEP 213
str0 += " "                                                            # STEP 214
stat4 = os0.lstat(path2)                                               # STEP 215
component4 = "lambda"                                                  # STEP 216
result = os0.read(fd0,bytes1)                                          # STEP 217
os0.symlink(path2,path2)                                               # STEP 218
result = os0.path.exists(path3)                                        # STEP 219
str0 += 'b'                                                            # STEP 220
path1 = "/Volumes/ramdisk/test"                                        # STEP 221
component3 = "a"                                                       # STEP 222
str2 += 'z'                                                            # STEP 223
stat1 = os0.lstat(path2)                                               # STEP 224
str0 += 't'                                                            # STEP 225
str2 += 'i'                                                            # STEP 226
bytes3 += 1                                                            # STEP 227
result = os0.path.abspath(path3)                                       # STEP 228
str2 += 'a'                                                            # STEP 229
str4 = ""                                                              # STEP 230
os0.symlink(path0,path2)                                               # STEP 231
str4 += 'a'                                                            # STEP 232
result = sorted(os0.listdir(path3))                                    # STEP 233
path2 += "/" + component3                                              # STEP 234
result = os0.path.islink(path2)                                        # STEP 235
component3 = "phi"                                                     # STEP 236
result = os0.path.exists(path2)                                        # STEP 237
path1 += "/" + component3                                              # STEP 238
result = os0.path.lexists(path2)                                       # STEP 239
str0 += 'c'                                                            # STEP 240
path3 += "/" + component4                                              # STEP 241
str0 += 'h'                                                            # STEP 242
os0.symlink(path1,path3)                                               # STEP 243
os0.rename(path1,path3)                                                # STEP 244
result = os0.path.exists(path0)                                        # STEP 245
str4 += 'n'                                                            # STEP 246
bytes4 = 0                                                             # STEP 247
os0.link(path1,path3)                                                  # STEP 248
str4 += 'g'                                                            # STEP 249
result = file0.readline(bytes1)                                        # STEP 250
ERROR: (<type 'exceptions.OSError'>, OSError(9, 'File is not open for reading.'), <traceback object at 0x107ec1320>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 28761, in act571
    result = self.p_file[0].readline(self.p_bytes[1])
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4284, in read_error
    self._raise('File is not open for reading.')
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4112, in _raise
    raise OSError(errno.EBADF, message)
FAILURE IS NEW, STORING; NOW 1 DISTINCT FAILURES
TEST #101 STEP #32 (0:00:30.000894) Fri Jul 21 22:13:05 2017 [ 886 stmts 1151 branches ] 10017 TOTAL ACTIONS (333.890049301/s)
UNCAUGHT EXCEPTION
ERROR: (<type 'exceptions.AssertionError'>, AssertionError(' (0) == (4) ',), <traceback object at 0x103d79e60>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 21936, in act460
    try: assert result == result_REF, " (%s) == (%s) " % (result, result_REF)
Original test has 177 steps

SAVING TEST AS failure.3931.test.1
FINAL VERSION OF TEST, WITH LOGGED REPLAY:
component3 = "c"                                                         # STEP 0
bytes3 = 0                                                               # STEP 1
component0 = "beta"                                                      # STEP 2
component2 = "beta"                                                      # STEP 3
component1 = "e"                                                         # STEP 4
bytes1 = 0                                                               # STEP 5
str1 = ""                                                                # STEP 6
component4 = "delta"                                                     # STEP 7
str1 += 'y'                                                              # STEP 8
bytes1 += 1                                                              # STEP 9
str1 = ""                                                               # STEP 10
str1 += 's'                                                             # STEP 11
str1 = ""                                                               # STEP 12
bytes3 += 1                                                             # STEP 13
bytes1 = 0                                                              # STEP 14
os0 = newFakeOS()                                                       # STEP 15
str1 += 'i'                                                             # STEP 16
str1 += 'q'                                                             # STEP 17
str1 += 'b'                                                             # STEP 18
str1 += 't'                                                             # STEP 19
str1 += 'j'                                                             # STEP 20
str1 += " "                                                             # STEP 21
str1 += 'l'                                                             # STEP 22
str1 = ""                                                               # STEP 23
bytes4 = 0                                                              # STEP 24
str1 += 'y'                                                             # STEP 25
str1 += 'e'                                                             # STEP 26
str1 += 'j'                                                             # STEP 27
path1 = "/Volumes/ramdisk/test"                                         # STEP 28
result = os0.path.isfile(path1)                                         # STEP 29
path1 += "/" + component1                                               # STEP 30
bytes2 = 0                                                              # STEP 31
os0.symlink(path1,path1)                                                # STEP 32
result = os0.path.isabs(path1)                                          # STEP 33
bytes3 = 0                                                              # STEP 34
bytes0 = 0                                                              # STEP 35
str1 += 'z'                                                             # STEP 36
result = sorted(os0.listdir(path1))                                     # STEP 37
str1 += 'r'                                                             # STEP 38
component1 = "beta"                                                     # STEP 39
str1 += " "                                                             # STEP 40
stat0 = os0.lstat(path1)                                                # STEP 41
fd0 = os0.open(path1, os.O_CREAT)                                       # STEP 42
str1 += 'r'                                                             # STEP 43
result = os0.path.isfile(path1)                                         # STEP 44
str1 += 'q'                                                             # STEP 45
str1 += 'm'                                                             # STEP 46
fd0 = os0.open(path1, os.O_RDWR)                                        # STEP 47
result = os0.path.isabs(path1)                                          # STEP 48
path1 = "/Volumes/ramdisk/test"                                         # STEP 49
str4 = ""                                                               # STEP 50
str4 += 'u'                                                             # STEP 51
str1 += 'q'                                                             # STEP 52
result = os0.path.exists(path1)                                         # STEP 53
str1 += 'r'                                                             # STEP 54
str4 += 'o'                                                             # STEP 55
str4 += 'f'                                                             # STEP 56
path3 = "/Volumes/ramdisk/test"                                         # STEP 57
path1 += "/" + component1                                               # STEP 58
str1 += 'w'                                                             # STEP 59
os0.mkdir(path3)                                                        # STEP 60
component1 = "lambda"                                                   # STEP 61
result = os0.path.exists(path1)                                         # STEP 62
result = sorted(os0.listdir(path1))                                     # STEP 63
str1 += 'a'                                                             # STEP 64
path1 += "/" + component2                                               # STEP 65
result = os0.path.isdir(path1)                                          # STEP 66
component2 = "f"                                                        # STEP 67
str1 += 'j'                                                             # STEP 68
opener0 = newFakeOpener(os0)                                            # STEP 69
path3 += "/" + component3                                               # STEP 70
stat4 = os0.stat(path1)                                                 # STEP 71
component3 = "c"                                                        # STEP 72
fd0 = os0.open(path3, os.O_CREAT)                                       # STEP 73
file0 = opener0(path3,'w')                                              # STEP 74
str4 += 't'                                                             # STEP 75
result = file0.read()                                                   # STEP 76
result = os0.read(fd0,bytes2)                                           # STEP 77
str1 += 'm'                                                             # STEP 78
os0.write(fd0,str1)                                                     # STEP 79
result = os0.path.lexists(path1)                                        # STEP 80
str1 += 'j'                                                             # STEP 81
path3 += "/" + component2                                               # STEP 82
os0.path.getsize(path3)                                                 # STEP 83
str1 = ""                                                               # STEP 84
os0.rmdir(path3)                                                        # STEP 85
os0.link(path1,path3)                                                   # STEP 86
os0.path.getsize(path1)                                                 # STEP 87
result = os0.path.lexists(path3)                                        # STEP 88
str1 += 'm'                                                             # STEP 89
file0.seek(bytes2)                                                      # STEP 90
file0.seek(bytes1)                                                      # STEP 91
str1 += 'l'                                                             # STEP 92
str2 = ""                                                               # STEP 93
os0.write(fd0,str1)                                                     # STEP 94
path1 += "/" + component1                                               # STEP 95
file0.write(str4)                                                       # STEP 96
os0.removedirs(path1)                                                   # STEP 97
str2 += 'y'                                                             # STEP 98
os0.mkdir(path1)                                                        # STEP 99
stat3 = os0.lstat(path3)                                               # STEP 100
component2 = "e"                                                       # STEP 101
str1 += 'f'                                                            # STEP 102
path1 += "/" + component1                                              # STEP 103
result = file0.read(bytes0)                                            # STEP 104
stat1 = os0.stat(path3)                                                # STEP 105
str1 += 'w'                                                            # STEP 106
os0.mkdir(path1)                                                       # STEP 107
component1 = "d"                                                       # STEP 108
str4 += 'o'                                                            # STEP 109
str2 += 'r'                                                            # STEP 110
file0.seek(bytes4)                                                     # STEP 111
path1 += "/" + component1                                              # STEP 112
str2 += 'a'                                                            # STEP 113
result = os0.path.exists(path1)                                        # STEP 114
os0.link(path3,path3)                                                  # STEP 115
str4 += 'e'                                                            # STEP 116
str2 += 'n'                                                            # STEP 117
stat4 = os0.stat(path3)                                                # STEP 118
str4 += 'p'                                                            # STEP 119
str1 += 't'                                                            # STEP 120
bytes1 = 0                                                             # STEP 121
str1 += 'z'                                                            # STEP 122
file0.seek(bytes2)                                                     # STEP 123
os0.rmdir(path1)                                                       # STEP 124
str2 += 'n'                                                            # STEP 125
str1 += 'z'                                                            # STEP 126
result = os0.read(fd0,bytes1)                                          # STEP 127
path1 += "/" + component4                                              # STEP 128
str1 += 'y'                                                            # STEP 129
str1 += 'k'                                                            # STEP 130
str4 += 'g'                                                            # STEP 131
os0.makedirs(path3)                                                    # STEP 132
str1 += 'c'                                                            # STEP 133
component4 = "beta"                                                    # STEP 134
str1 += 'c'                                                            # STEP 135
result = os0.path.isfile(path3)                                        # STEP 136
os0.removedirs(path3)                                                  # STEP 137
stat2 = os0.stat(path3)                                                # STEP 138
result = os0.path.dirname(path3)                                       # STEP 139
path3 += "/" + component1                                              # STEP 140
result = file0.read(bytes2)                                            # STEP 141
str1 += 'n'                                                            # STEP 142
str2 += 'k'                                                            # STEP 143
str4 += 'n'                                                            # STEP 144
os0.rmdir(path1)                                                       # STEP 145
result = os0.read(fd0,bytes0)                                          # STEP 146
stat4 = os0.lstat(path1)                                               # STEP 147
str1 += 's'                                                            # STEP 148
result = file0.read(bytes4)                                            # STEP 149
bytes4 = 0                                                             # STEP 150
str2 += 'm'                                                            # STEP 151
stat3 = os0.lstat(path1)                                               # STEP 152
os0.symlink(path3,path1)                                               # STEP 153
result = file0.readline(bytes2)                                        # STEP 154
result = os0.path.isabs(path1)                                         # STEP 155
stat3 = os0.fstat(fd0)                                                 # STEP 156
result = stat3.st_nlink                                                # STEP 157
component1 = "f"                                                       # STEP 158
result = stat0.st_nlink                                                # STEP 159
stat0 = os0.lstat(path3)                                               # STEP 160
str4 += 'i'                                                            # STEP 161
result = os0.path.isabs(path3)                                         # STEP 162
stat4 = os0.stat(path3)                                                # STEP 163
result = stat0.st_size                                                 # STEP 164
stat3 = os0.stat(path3)                                                # STEP 165
file0.write(str2)                                                      # STEP 166
bytes0 += 1                                                            # STEP 167
result = os0.path.islink(path3)                                        # STEP 168
str1 += 'l'                                                            # STEP 169
path1 = "/Volumes/ramdisk/test"                                        # STEP 170
str4 += 'o'                                                            # STEP 171
str4 += 'i'                                                            # STEP 172
os0.symlink(path3,path3)                                               # STEP 173
result = os0.path.isfile(path1)                                        # STEP 174
result = stat3.st_nlink                                                # STEP 175
result = stat3.st_size                                                 # STEP 176
ERROR: (<type 'exceptions.AssertionError'>, AssertionError(' (0) == (4) ',), <traceback object at 0x103e43488>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 21936, in act460
    try: assert result == result_REF, " (%s) == (%s) " % (result, result_REF)
FAILURE IS NEW, STORING; NOW 2 DISTINCT FAILURES
FAILURE DURING MUTATION
ERROR: (<type 'exceptions.OSError'>, OSError(9, 'File is not open for reading.'), <traceback object at 0x10312fd88>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38058, in replay
    act()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 28348, in act564
    result = self.p_file[0].read(self.p_bytes[0])
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4284, in read_error
    self._raise('File is not open for reading.')
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4112, in _raise
    raise OSError(errno.EBADF, message)
Original test has 318 steps

SAVING TEST AS failure.3931.test.2
FINAL VERSION OF TEST, WITH LOGGED REPLAY:
bytes4 = 0                                                               # STEP 0
component0 = "lambda"                                                    # STEP 1
component1 = "phi"                                                       # STEP 2
component4 = "e"                                                         # STEP 3
component3 = "gamma"                                                     # STEP 4
component2 = "g"                                                         # STEP 5
bytes2 = 0                                                               # STEP 6
bytes4 += 1                                                              # STEP 7
path2 = "/Volumes/ramdisk/test"                                          # STEP 8
bytes3 = 0                                                               # STEP 9
str0 = ""                                                               # STEP 10
str0 += 'v'                                                             # STEP 11
str0 += 'j'                                                             # STEP 12
str0 += 'c'                                                             # STEP 13
bytes0 = 0                                                              # STEP 14
str0 += 't'                                                             # STEP 15
str0 += 'i'                                                             # STEP 16
bytes0 += 1                                                             # STEP 17
str0 += 'q'                                                             # STEP 18
str2 = ""                                                               # STEP 19
str2 += 'l'                                                             # STEP 20
path0 = "/Volumes/ramdisk/test"                                         # STEP 21
str0 += 'y'                                                             # STEP 22
str0 += " "                                                             # STEP 23
str2 += 'g'                                                             # STEP 24
str0 += 'j'                                                             # STEP 25
str0 += 's'                                                             # STEP 26
path0 += "/" + component0                                               # STEP 27
path0 += "/" + component4                                               # STEP 28
path0 = "/Volumes/ramdisk/test"                                         # STEP 29
component4 = "gamma"                                                    # STEP 30
bytes4 = 0                                                              # STEP 31
str2 += 'f'                                                             # STEP 32
component0 = "f"                                                        # STEP 33
str0 += 'd'                                                             # STEP 34
bytes3 += 1                                                             # STEP 35
str2 += 'w'                                                             # STEP 36
str0 += 'g'                                                             # STEP 37
os0 = newFakeOS()                                                       # STEP 38
str2 += 'p'                                                             # STEP 39
bytes3 += 1                                                             # STEP 40
result = os0.path.dirname(path0)                                        # STEP 41
str2 += 'u'                                                             # STEP 42
str0 += 'e'                                                             # STEP 43
os0.makedirs(path2)                                                     # STEP 44
result = sorted(os0.listdir(path2))                                     # STEP 45
str0 += 'e'                                                             # STEP 46
str0 += 't'                                                             # STEP 47
str0 += 'g'                                                             # STEP 48
os0.makedirs(path2)                                                     # STEP 49
str2 += 'h'                                                             # STEP 50
os0.link(path2,path0)                                                   # STEP 51
str2 += 'u'                                                             # STEP 52
str2 += 'm'                                                             # STEP 53
str2 += 'f'                                                             # STEP 54
result = os0.path.lexists(path2)                                        # STEP 55
str0 += 'w'                                                             # STEP 56
str0 += 'a'                                                             # STEP 57
str2 += 'd'                                                             # STEP 58
str0 += 'q'                                                             # STEP 59
os0.link(path2,path2)                                                   # STEP 60
path0 += "/" + component0                                               # STEP 61
str2 += 'r'                                                             # STEP 62
str2 += 'u'                                                             # STEP 63
str0 += 'g'                                                             # STEP 64
result = os0.path.dirname(path2)                                        # STEP 65
os0.mkdir(path2)                                                        # STEP 66
str0 += 'z'                                                             # STEP 67
component0 = "d"                                                        # STEP 68
bytes1 = 0                                                              # STEP 69
fd0 = os0.open(path0, os.O_RDONLY)                                      # STEP 70
os0.symlink(path2,path0)                                                # STEP 71
result = os0.readlink(path2)                                            # STEP 72
str0 += 'u'                                                             # STEP 73
result = os0.path.islink(path0)                                         # STEP 74
str0 += 'd'                                                             # STEP 75
stat0 = os0.stat(path0)                                                 # STEP 76
os0.symlink(path0,path0)                                                # STEP 77
path2 += "/" + component2                                               # STEP 78
str2 += 'o'                                                             # STEP 79
result = os0.path.isfile(path0)                                         # STEP 80
str0 += 'u'                                                             # STEP 81
component2 = "c"                                                        # STEP 82
stat3 = os0.stat(path0)                                                 # STEP 83
os0.rmdir(path0)                                                        # STEP 84
result = os0.path.lexists(path2)                                        # STEP 85
result = os0.path.islink(path2)                                         # STEP 86
path2 = "/Volumes/ramdisk/test"                                         # STEP 87
str2 += 'o'                                                             # STEP 88
path0 += "/" + component3                                               # STEP 89
result = os0.path.abspath(path2)                                        # STEP 90
str2 += 'h'                                                             # STEP 91
os0.link(path2,path0)                                                   # STEP 92
fd0 = os0.open(path0, os.O_CREAT | os.O_WRONLY | os.O_TRUNC)            # STEP 93
component3 = "f"                                                        # STEP 94
str0 += 'r'                                                             # STEP 95
os0.removedirs(path2)                                                   # STEP 96
str2 += 's'                                                             # STEP 97
result = sorted(os0.listdir(path2))                                     # STEP 98
os0.remove(path0)                                                       # STEP 99
str0 += 'o'                                                            # STEP 100
str0 += 'e'                                                            # STEP 101
str0 += 'r'                                                            # STEP 102
str2 += 'b'                                                            # STEP 103
path0 += "/" + component3                                              # STEP 104
bytes0 += 1                                                            # STEP 105
result = os0.path.islink(path2)                                        # STEP 106
str2 += 'k'                                                            # STEP 107
os0.rename(path0,path2)                                                # STEP 108
str2 += 'e'                                                            # STEP 109
component3 = "c"                                                       # STEP 110
str2 += 'j'                                                            # STEP 111
os0.rmdir(path0)                                                       # STEP 112
str2 += 'v'                                                            # STEP 113
os0.rename(path0,path2)                                                # STEP 114
os0.symlink(path2,path2)                                               # STEP 115
str0 += 'a'                                                            # STEP 116
stat4 = os0.stat(path0)                                                # STEP 117
os0.mkdir(path0)                                                       # STEP 118
os0.link(path2,path2)                                                  # STEP 119
path0 = "/Volumes/ramdisk/test"                                        # STEP 120
str0 = ""                                                              # STEP 121
str0 += 'r'                                                            # STEP 122
result = os0.path.dirname(path0)                                       # STEP 123
path2 += "/" + component1                                              # STEP 124
result = os0.path.dirname(path0)                                       # STEP 125
result = os0.read(fd0,bytes3)                                          # STEP 126
path3 = "/Volumes/ramdisk/test"                                        # STEP 127
component1 = "gamma"                                                   # STEP 128
str2 += 'x'                                                            # STEP 129
str2 += 'p'                                                            # STEP 130
result = os0.path.abspath(path3)                                       # STEP 131
bytes4 += 1                                                            # STEP 132
path2 += "/" + component4                                              # STEP 133
str0 += 'p'                                                            # STEP 134
str0 += 't'                                                            # STEP 135
bytes0 = 0                                                             # STEP 136
component4 = "f"                                                       # STEP 137
result = os0.path.dirname(path3)                                       # STEP 138
str0 += 'd'                                                            # STEP 139
path3 += "/" + component3                                              # STEP 140
result = os0.readlink(path3)                                           # STEP 141
os0.link(path3,path2)                                                  # STEP 142
result = os0.read(fd0,bytes2)                                          # STEP 143
path2 += "/" + component2                                              # STEP 144
str2 += 'v'                                                            # STEP 145
result = os0.path.isfile(path3)                                        # STEP 146
path0 += "/" + component1                                              # STEP 147
str2 += 'd'                                                            # STEP 148
stat1 = os0.stat(path2)                                                # STEP 149
result = os0.path.dirname(path2)                                       # STEP 150
result = os0.path.exists(path3)                                        # STEP 151
os0.symlink(path2,path3)                                               # STEP 152
result = os0.path.isabs(path0)                                         # STEP 153
os0.makedirs(path2)                                                    # STEP 154
os0.symlink(path0,path3)                                               # STEP 155
component2 = "beta"                                                    # STEP 156
component3 = "h"                                                       # STEP 157
result = sorted(os0.listdir(path2))                                    # STEP 158
str2 += 'e'                                                            # STEP 159
os0.symlink(path3,path0)                                               # STEP 160
stat4 = os0.lstat(path3)                                               # STEP 161
component1 = "delta"                                                   # STEP 162
str2 += 'q'                                                            # STEP 163
os0.rename(path3,path2)                                                # STEP 164
os0.rename(path2,path3)                                                # STEP 165
str2 += 'o'                                                            # STEP 166
stat2 = os0.fstat(fd0)                                                 # STEP 167
str0 += 'f'                                                            # STEP 168
os0.symlink(path3,path0)                                               # STEP 169
os0.symlink(path0,path2)                                               # STEP 170
result = stat4.st_size                                                 # STEP 171
os0.removedirs(path0)                                                  # STEP 172
os0.mkdir(path3)                                                       # STEP 173
result = os0.path.isfile(path3)                                        # STEP 174
os0.symlink(path3,path0)                                               # STEP 175
str2 += 'f'                                                            # STEP 176
os0.link(path3,path0)                                                  # STEP 177
path2 += "/" + component1                                              # STEP 178
result = os0.path.isdir(path2)                                         # STEP 179
opener0 = newFakeOpener(os0)                                           # STEP 180
result = os0.path.lexists(path0)                                       # STEP 181
result = os0.read(fd0,bytes4)                                          # STEP 182
str2 += 'q'                                                            # STEP 183
str0 += 'c'                                                            # STEP 184
path0 += "/" + component1                                              # STEP 185
path1 = "/Volumes/ramdisk/test"                                        # STEP 186
str0 += " "                                                            # STEP 187
os0.close(fd0)                                                         # STEP 188
str2 += 'u'                                                            # STEP 189
result = os0.path.abspath(path0)                                       # STEP 190
path0 += "/" + component4                                              # STEP 191
path4 = "/Volumes/ramdisk/test"                                        # STEP 192
path4 += "/" + component4                                              # STEP 193
path4 = "/Volumes/ramdisk/test"                                        # STEP 194
path4 += "/" + component4                                              # STEP 195
path0 = "/Volumes/ramdisk/test"                                        # STEP 196
path0 += "/" + component1                                              # STEP 197
result = os0.path.isfile(path1)                                        # STEP 198
component4 = "omega"                                                   # STEP 199
path1 += "/" + component1                                              # STEP 200
component1 = "a"                                                       # STEP 201
os0.makedirs(path0)                                                    # STEP 202
path0 = "/Volumes/ramdisk/test"                                        # STEP 203
os0.removedirs(path1)                                                  # STEP 204
os0.rename(path1,path0)                                                # STEP 205
file0 = opener0(path0,'w')                                             # STEP 206
path2 = "/Volumes/ramdisk/test"                                        # STEP 207
os0.rmdir(path1)                                                       # STEP 208
result = os0.path.isfile(path4)                                        # STEP 209
result = sorted(os0.listdir(path1))                                    # STEP 210
os0.path.getsize(path1)                                                # STEP 211
os0.link(path2,path4)                                                  # STEP 212
path0 += "/" + component3                                              # STEP 213
os0.symlink(path1,path0)                                               # STEP 214
os0.rename(path4,path1)                                                # STEP 215
os0.link(path2,path2)                                                  # STEP 216
path4 += "/" + component0                                              # STEP 217
path4 += "/" + component1                                              # STEP 218
result = os0.path.islink(path2)                                        # STEP 219
result = os0.path.dirname(path1)                                       # STEP 220
result = os0.readlink(path2)                                           # STEP 221
file0 = opener0(path4,'w')                                             # STEP 222
os0.makedirs(path1)                                                    # STEP 223
os0.path.getsize(path4)                                                # STEP 224
os0.rename(path1,path4)                                                # STEP 225
result = os0.path.dirname(path4)                                       # STEP 226
os0.rmdir(path4)                                                       # STEP 227
result = os0.readlink(path0)                                           # STEP 228
os0.link(path1,path2)                                                  # STEP 229
os0.link(path0,path0)                                                  # STEP 230
str0 = ""                                                              # STEP 231
component1 = "omega"                                                   # STEP 232
file0 = opener0(path4,'a')                                             # STEP 233
os0.mkdir(path1)                                                       # STEP 234
component3 = "lambda"                                                  # STEP 235
result = os0.read(fd0,bytes0)                                          # STEP 236
os0.link(path1,path2)                                                  # STEP 237
str1 = ""                                                              # STEP 238
os0.link(path4,path0)                                                  # STEP 239
os0.link(path1,path1)                                                  # STEP 240
os0.rename(path0,path2)                                                # STEP 241
component0 = "b"                                                       # STEP 242
os0.link(path2,path4)                                                  # STEP 243
stat4 = os0.lstat(path1)                                               # STEP 244
result = os0.readlink(path4)                                           # STEP 245
os0.removedirs(path4)                                                  # STEP 246
str0 += 'l'                                                            # STEP 247
os0.remove(path0)                                                      # STEP 248
os0.link(path0,path2)                                                  # STEP 249
os0.rename(path1,path2)                                                # STEP 250
bytes4 = 0                                                             # STEP 251
os0.rename(path4,path0)                                                # STEP 252
file0 = opener0(path0,'w')                                             # STEP 253
result = os0.path.exists(path4)                                        # STEP 254
result = sorted(os0.listdir(path0))                                    # STEP 255
str0 += 'h'                                                            # STEP 256
path0 += "/" + component0                                              # STEP 257
result = sorted(os0.listdir(path1))                                    # STEP 258
str1 += 'y'                                                            # STEP 259
os0.symlink(path2,path1)                                               # STEP 260
str1 += 'e'                                                            # STEP 261
str0 += 'b'                                                            # STEP 262
str0 += 'x'                                                            # STEP 263
str1 += 'j'                                                            # STEP 264
path1 = "/Volumes/ramdisk/test"                                        # STEP 265
result = os0.path.isfile(path1)                                        # STEP 266
component0 = "g"                                                       # STEP 267
path1 += "/" + component1                                              # STEP 268
result = os0.path.isabs(path2)                                         # STEP 269
bytes2 = 0                                                             # STEP 270
os0.link(path2,path4)                                                  # STEP 271
bytes0 += 1                                                            # STEP 272
os0.symlink(path1,path1)                                               # STEP 273
os0.link(path2,path4)                                                  # STEP 274
os0.link(path0,path1)                                                  # STEP 275
str0 += 'h'                                                            # STEP 276
path4 += "/" + component3                                              # STEP 277
os0.makedirs(path2)                                                    # STEP 278
result = os0.readlink(path4)                                           # STEP 279
result = os0.path.dirname(path2)                                       # STEP 280
result = os0.path.isabs(path1)                                         # STEP 281
os0.rename(path4,path1)                                                # STEP 282
os0.rename(path0,path2)                                                # STEP 283
bytes3 = 0                                                             # STEP 284
os0.link(path2,path1)                                                  # STEP 285
result = os0.path.isabs(path0)                                         # STEP 286
os0.rename(path1,path2)                                                # STEP 287
bytes0 = 0                                                             # STEP 288
str0 += 'r'                                                            # STEP 289
str1 += 'z'                                                            # STEP 290
os0.mkdir(path2)                                                       # STEP 291
os0.mkdir(path0)                                                       # STEP 292
result = sorted(os0.listdir(path1))                                    # STEP 293
str0 += 's'                                                            # STEP 294
str1 += 'r'                                                            # STEP 295
str0 += 's'                                                            # STEP 296
str1 += 'j'                                                            # STEP 297
path0 += "/" + component1                                              # STEP 298
component1 = "beta"                                                    # STEP 299
path4 += "/" + component0                                              # STEP 300
file0.seek(bytes2)                                                     # STEP 301
os0.link(path1,path1)                                                  # STEP 302
os0.rename(path4,path1)                                                # STEP 303
component3 = "delta"                                                   # STEP 304
path4 += "/" + component1                                              # STEP 305
result = os0.path.islink(path2)                                        # STEP 306
result = os0.read(fd0,bytes3)                                          # STEP 307
os0.mkdir(path0)                                                       # STEP 308
file0.seek(bytes3)                                                     # STEP 309
os0.makedirs(path0)                                                    # STEP 310
os0.rename(path4,path0)                                                # STEP 311
str1 += 'n'                                                            # STEP 312
result = os0.path.dirname(path4)                                       # STEP 313
result = os0.path.isdir(path0)                                         # STEP 314
os0.link(path1,path2)                                                  # STEP 315
os0.removedirs(path1)                                                  # STEP 316
result = file0.read(bytes0)                                            # STEP 317
ERROR: (<type 'exceptions.OSError'>, OSError(9, 'File is not open for reading.'), <traceback object at 0x1031ece60>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 28348, in act564
    result = self.p_file[0].read(self.p_bytes[0])
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4284, in read_error
    self._raise('File is not open for reading.')
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4112, in _raise
    raise OSError(errno.EBADF, message)
FAILURE IS NEW, STORING; NOW 3 DISTINCT FAILURES
STOPPING TEST DUE TO TIMEOUT, TERMINATED AT LENGTH 235
STOPPING TESTING DUE TO TIMEOUT
41.9546636938 PERCENT COVERED
60.3596129417 TOTAL RUNTIME
172 EXECUTED
16984 TOTAL TEST OPERATIONS
25.7709510326 TIME SPENT EXECUTING TEST OPERATIONS
0.622905731201 TIME SPENT EVALUATING GUARDS AND CHOOSING ACTIONS
0.0111577510834 TIME SPENT CHECKING PROPERTIES
25.7821087837 TOTAL TIME SPENT RUNNING SUT
0.499835014343 TIME SPENT RESTARTING
0.0 TIME SPENT REDUCING TEST CASES
3 FAILED
0 REPEATS OF FAILURES
3 ACTUAL DISTINCT FAILURES

FAILURE 0
bytes4 = 0                                                               # STEP 0
component0 = "lambda"                                                    # STEP 1
component1 = "phi"                                                       # STEP 2
component4 = "e"                                                         # STEP 3
component3 = "gamma"                                                     # STEP 4
component2 = "g"                                                         # STEP 5
bytes2 = 0                                                               # STEP 6
bytes4 += 1                                                              # STEP 7
path2 = "/Volumes/ramdisk/test"                                          # STEP 8
bytes3 = 0                                                               # STEP 9
str0 = ""                                                               # STEP 10
str0 += 'v'                                                             # STEP 11
str0 += 'j'                                                             # STEP 12
str0 += 'c'                                                             # STEP 13
bytes0 = 0                                                              # STEP 14
str0 += 't'                                                             # STEP 15
str0 += 'i'                                                             # STEP 16
bytes0 += 1                                                             # STEP 17
str0 += 'q'                                                             # STEP 18
str2 = ""                                                               # STEP 19
str2 += 'l'                                                             # STEP 20
path0 = "/Volumes/ramdisk/test"                                         # STEP 21
str0 += 'y'                                                             # STEP 22
str0 += " "                                                             # STEP 23
str2 += 'g'                                                             # STEP 24
str0 += 'j'                                                             # STEP 25
str0 += 's'                                                             # STEP 26
path0 += "/" + component0                                               # STEP 27
path0 += "/" + component4                                               # STEP 28
path0 = "/Volumes/ramdisk/test"                                         # STEP 29
component4 = "gamma"                                                    # STEP 30
bytes4 = 0                                                              # STEP 31
str2 += 'f'                                                             # STEP 32
component0 = "f"                                                        # STEP 33
str0 += 'd'                                                             # STEP 34
bytes3 += 1                                                             # STEP 35
str2 += 'w'                                                             # STEP 36
str0 += 'g'                                                             # STEP 37
os0 = newFakeOS()                                                       # STEP 38
str2 += 'p'                                                             # STEP 39
bytes3 += 1                                                             # STEP 40
result = os0.path.dirname(path0)                                        # STEP 41
str2 += 'u'                                                             # STEP 42
str0 += 'e'                                                             # STEP 43
os0.makedirs(path2)                                                     # STEP 44
result = sorted(os0.listdir(path2))                                     # STEP 45
str0 += 'e'                                                             # STEP 46
str0 += 't'                                                             # STEP 47
str0 += 'g'                                                             # STEP 48
os0.makedirs(path2)                                                     # STEP 49
str2 += 'h'                                                             # STEP 50
os0.link(path2,path0)                                                   # STEP 51
str2 += 'u'                                                             # STEP 52
str2 += 'm'                                                             # STEP 53
str2 += 'f'                                                             # STEP 54
result = os0.path.lexists(path2)                                        # STEP 55
str0 += 'w'                                                             # STEP 56
str0 += 'a'                                                             # STEP 57
str2 += 'd'                                                             # STEP 58
str0 += 'q'                                                             # STEP 59
os0.link(path2,path2)                                                   # STEP 60
path0 += "/" + component0                                               # STEP 61
str2 += 'r'                                                             # STEP 62
str2 += 'u'                                                             # STEP 63
str0 += 'g'                                                             # STEP 64
result = os0.path.dirname(path2)                                        # STEP 65
os0.mkdir(path2)                                                        # STEP 66
str0 += 'z'                                                             # STEP 67
component0 = "d"                                                        # STEP 68
bytes1 = 0                                                              # STEP 69
fd0 = os0.open(path0, os.O_RDONLY)                                      # STEP 70
os0.symlink(path2,path0)                                                # STEP 71
result = os0.readlink(path2)                                            # STEP 72
str0 += 'u'                                                             # STEP 73
result = os0.path.islink(path0)                                         # STEP 74
str0 += 'd'                                                             # STEP 75
stat0 = os0.stat(path0)                                                 # STEP 76
os0.symlink(path0,path0)                                                # STEP 77
path2 += "/" + component2                                               # STEP 78
str2 += 'o'                                                             # STEP 79
result = os0.path.isfile(path0)                                         # STEP 80
str0 += 'u'                                                             # STEP 81
component2 = "c"                                                        # STEP 82
stat3 = os0.stat(path0)                                                 # STEP 83
os0.rmdir(path0)                                                        # STEP 84
result = os0.path.lexists(path2)                                        # STEP 85
result = os0.path.islink(path2)                                         # STEP 86
path2 = "/Volumes/ramdisk/test"                                         # STEP 87
str2 += 'o'                                                             # STEP 88
path0 += "/" + component3                                               # STEP 89
result = os0.path.abspath(path2)                                        # STEP 90
str2 += 'h'                                                             # STEP 91
os0.link(path2,path0)                                                   # STEP 92
fd0 = os0.open(path0, os.O_CREAT | os.O_WRONLY | os.O_TRUNC)            # STEP 93
component3 = "f"                                                        # STEP 94
str0 += 'r'                                                             # STEP 95
os0.removedirs(path2)                                                   # STEP 96
str2 += 's'                                                             # STEP 97
result = sorted(os0.listdir(path2))                                     # STEP 98
os0.remove(path0)                                                       # STEP 99
str0 += 'o'                                                            # STEP 100
str0 += 'e'                                                            # STEP 101
str0 += 'r'                                                            # STEP 102
str2 += 'b'                                                            # STEP 103
path0 += "/" + component3                                              # STEP 104
bytes0 += 1                                                            # STEP 105
result = os0.path.islink(path2)                                        # STEP 106
str2 += 'k'                                                            # STEP 107
os0.rename(path0,path2)                                                # STEP 108
str2 += 'e'                                                            # STEP 109
component3 = "c"                                                       # STEP 110
str2 += 'j'                                                            # STEP 111
os0.rmdir(path0)                                                       # STEP 112
str2 += 'v'                                                            # STEP 113
os0.rename(path0,path2)                                                # STEP 114
os0.symlink(path2,path2)                                               # STEP 115
str0 += 'a'                                                            # STEP 116
stat4 = os0.stat(path0)                                                # STEP 117
os0.mkdir(path0)                                                       # STEP 118
os0.link(path2,path2)                                                  # STEP 119
path0 = "/Volumes/ramdisk/test"                                        # STEP 120
str0 = ""                                                              # STEP 121
str0 += 'r'                                                            # STEP 122
result = os0.path.dirname(path0)                                       # STEP 123
path2 += "/" + component1                                              # STEP 124
result = os0.path.dirname(path0)                                       # STEP 125
result = os0.read(fd0,bytes3)                                          # STEP 126
path3 = "/Volumes/ramdisk/test"                                        # STEP 127
component1 = "gamma"                                                   # STEP 128
str2 += 'x'                                                            # STEP 129
str2 += 'p'                                                            # STEP 130
result = os0.path.abspath(path3)                                       # STEP 131
bytes4 += 1                                                            # STEP 132
path2 += "/" + component4                                              # STEP 133
str0 += 'p'                                                            # STEP 134
str0 += 't'                                                            # STEP 135
bytes0 = 0                                                             # STEP 136
component4 = "f"                                                       # STEP 137
result = os0.path.dirname(path3)                                       # STEP 138
str0 += 'd'                                                            # STEP 139
path3 += "/" + component3                                              # STEP 140
result = os0.readlink(path3)                                           # STEP 141
os0.link(path3,path2)                                                  # STEP 142
result = os0.read(fd0,bytes2)                                          # STEP 143
path2 += "/" + component2                                              # STEP 144
str2 += 'v'                                                            # STEP 145
result = os0.path.isfile(path3)                                        # STEP 146
path0 += "/" + component1                                              # STEP 147
str2 += 'd'                                                            # STEP 148
stat1 = os0.stat(path2)                                                # STEP 149
result = os0.path.dirname(path2)                                       # STEP 150
result = os0.path.exists(path3)                                        # STEP 151
os0.symlink(path2,path3)                                               # STEP 152
result = os0.path.isabs(path0)                                         # STEP 153
os0.makedirs(path2)                                                    # STEP 154
os0.symlink(path0,path3)                                               # STEP 155
component2 = "beta"                                                    # STEP 156
component3 = "h"                                                       # STEP 157
result = sorted(os0.listdir(path2))                                    # STEP 158
str2 += 'e'                                                            # STEP 159
os0.symlink(path3,path0)                                               # STEP 160
stat4 = os0.lstat(path3)                                               # STEP 161
component1 = "delta"                                                   # STEP 162
str2 += 'q'                                                            # STEP 163
os0.rename(path3,path2)                                                # STEP 164
os0.rename(path2,path3)                                                # STEP 165
str2 += 'o'                                                            # STEP 166
stat2 = os0.fstat(fd0)                                                 # STEP 167
str0 += 'f'                                                            # STEP 168
os0.symlink(path3,path0)                                               # STEP 169
os0.symlink(path0,path2)                                               # STEP 170
result = stat4.st_size                                                 # STEP 171
os0.removedirs(path0)                                                  # STEP 172
os0.mkdir(path3)                                                       # STEP 173
result = os0.path.isfile(path3)                                        # STEP 174
os0.symlink(path3,path0)                                               # STEP 175
str2 += 'f'                                                            # STEP 176
os0.link(path3,path0)                                                  # STEP 177
path2 += "/" + component1                                              # STEP 178
result = os0.path.isdir(path2)                                         # STEP 179
opener0 = newFakeOpener(os0)                                           # STEP 180
result = os0.path.lexists(path0)                                       # STEP 181
result = os0.read(fd0,bytes4)                                          # STEP 182
str2 += 'q'                                                            # STEP 183
str0 += 'c'                                                            # STEP 184
path0 += "/" + component1                                              # STEP 185
path1 = "/Volumes/ramdisk/test"                                        # STEP 186
str0 += " "                                                            # STEP 187
os0.close(fd0)                                                         # STEP 188
str2 += 'u'                                                            # STEP 189
result = os0.path.abspath(path0)                                       # STEP 190
path0 += "/" + component4                                              # STEP 191
os0.symlink(path1,path2)                                               # STEP 192
result = os0.path.lexists(path1)                                       # STEP 193
path1 = "/Volumes/ramdisk/test"                                        # STEP 194
path1 += "/" + component0                                              # STEP 195
os0.rename(path3,path0)                                                # STEP 196
stat1 = os0.stat(path1)                                                # STEP 197
os0.link(path3,path3)                                                  # STEP 198
result = os0.path.isfile(path0)                                        # STEP 199
path0 = "/Volumes/ramdisk/test"                                        # STEP 200
path2 += "/" + component1                                              # STEP 201
component1 = "h"                                                       # STEP 202
os0.rename(path2,path3)                                                # STEP 203
result = os0.path.isfile(path0)                                        # STEP 204
file0 = opener0(path3,'w')                                             # STEP 205
fd0 = os0.open(path2, os.O_RDWR)                                       # STEP 206
result = file0.readline()                                              # STEP 207
result = file0.read(bytes1)                                            # STEP 208
os0.rename(path3,path1)                                                # STEP 209
path2 += "/" + component3                                              # STEP 210
component0 = "delta"                                                   # STEP 211
result = file0.readline(bytes0)                                        # STEP 212
stat1 = os0.stat(path3)                                                # STEP 213
str0 += " "                                                            # STEP 214
stat4 = os0.lstat(path2)                                               # STEP 215
component4 = "lambda"                                                  # STEP 216
result = os0.read(fd0,bytes1)                                          # STEP 217
os0.symlink(path2,path2)                                               # STEP 218
result = os0.path.exists(path3)                                        # STEP 219
str0 += 'b'                                                            # STEP 220
path1 = "/Volumes/ramdisk/test"                                        # STEP 221
component3 = "a"                                                       # STEP 222
str2 += 'z'                                                            # STEP 223
stat1 = os0.lstat(path2)                                               # STEP 224
str0 += 't'                                                            # STEP 225
str2 += 'i'                                                            # STEP 226
bytes3 += 1                                                            # STEP 227
result = os0.path.abspath(path3)                                       # STEP 228
str2 += 'a'                                                            # STEP 229
str4 = ""                                                              # STEP 230
os0.symlink(path0,path2)                                               # STEP 231
str4 += 'a'                                                            # STEP 232
result = sorted(os0.listdir(path3))                                    # STEP 233
path2 += "/" + component3                                              # STEP 234
result = os0.path.islink(path2)                                        # STEP 235
component3 = "phi"                                                     # STEP 236
result = os0.path.exists(path2)                                        # STEP 237
path1 += "/" + component3                                              # STEP 238
result = os0.path.lexists(path2)                                       # STEP 239
str0 += 'c'                                                            # STEP 240
path3 += "/" + component4                                              # STEP 241
str0 += 'h'                                                            # STEP 242
os0.symlink(path1,path3)                                               # STEP 243
os0.rename(path1,path3)                                                # STEP 244
result = os0.path.exists(path0)                                        # STEP 245
str4 += 'n'                                                            # STEP 246
bytes4 = 0                                                             # STEP 247
os0.link(path1,path3)                                                  # STEP 248
str4 += 'g'                                                            # STEP 249
result = file0.readline(bytes1)                                        # STEP 250
ERROR: (<type 'exceptions.OSError'>, OSError(9, 'File is not open for reading.'), <traceback object at 0x107ec1320>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 28761, in act571
    result = self.p_file[0].readline(self.p_bytes[1])
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4284, in read_error
    self._raise('File is not open for reading.')
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4112, in _raise
    raise OSError(errno.EBADF, message)
FAILURE 1
component3 = "c"                                                         # STEP 0
bytes3 = 0                                                               # STEP 1
component0 = "beta"                                                      # STEP 2
component2 = "beta"                                                      # STEP 3
component1 = "e"                                                         # STEP 4
bytes1 = 0                                                               # STEP 5
str1 = ""                                                                # STEP 6
component4 = "delta"                                                     # STEP 7
str1 += 'y'                                                              # STEP 8
bytes1 += 1                                                              # STEP 9
str1 = ""                                                               # STEP 10
str1 += 's'                                                             # STEP 11
str1 = ""                                                               # STEP 12
bytes3 += 1                                                             # STEP 13
bytes1 = 0                                                              # STEP 14
os0 = newFakeOS()                                                       # STEP 15
str1 += 'i'                                                             # STEP 16
str1 += 'q'                                                             # STEP 17
str1 += 'b'                                                             # STEP 18
str1 += 't'                                                             # STEP 19
str1 += 'j'                                                             # STEP 20
str1 += " "                                                             # STEP 21
str1 += 'l'                                                             # STEP 22
str1 = ""                                                               # STEP 23
bytes4 = 0                                                              # STEP 24
str1 += 'y'                                                             # STEP 25
str1 += 'e'                                                             # STEP 26
str1 += 'j'                                                             # STEP 27
path1 = "/Volumes/ramdisk/test"                                         # STEP 28
result = os0.path.isfile(path1)                                         # STEP 29
path1 += "/" + component1                                               # STEP 30
bytes2 = 0                                                              # STEP 31
os0.symlink(path1,path1)                                                # STEP 32
result = os0.path.isabs(path1)                                          # STEP 33
bytes3 = 0                                                              # STEP 34
bytes0 = 0                                                              # STEP 35
str1 += 'z'                                                             # STEP 36
result = sorted(os0.listdir(path1))                                     # STEP 37
str1 += 'r'                                                             # STEP 38
component1 = "beta"                                                     # STEP 39
str1 += " "                                                             # STEP 40
stat0 = os0.lstat(path1)                                                # STEP 41
fd0 = os0.open(path1, os.O_CREAT)                                       # STEP 42
str1 += 'r'                                                             # STEP 43
result = os0.path.isfile(path1)                                         # STEP 44
str1 += 'q'                                                             # STEP 45
str1 += 'm'                                                             # STEP 46
fd0 = os0.open(path1, os.O_RDWR)                                        # STEP 47
result = os0.path.isabs(path1)                                          # STEP 48
path1 = "/Volumes/ramdisk/test"                                         # STEP 49
str4 = ""                                                               # STEP 50
str4 += 'u'                                                             # STEP 51
str1 += 'q'                                                             # STEP 52
result = os0.path.exists(path1)                                         # STEP 53
str1 += 'r'                                                             # STEP 54
str4 += 'o'                                                             # STEP 55
str4 += 'f'                                                             # STEP 56
path3 = "/Volumes/ramdisk/test"                                         # STEP 57
path1 += "/" + component1                                               # STEP 58
str1 += 'w'                                                             # STEP 59
os0.mkdir(path3)                                                        # STEP 60
component1 = "lambda"                                                   # STEP 61
result = os0.path.exists(path1)                                         # STEP 62
result = sorted(os0.listdir(path1))                                     # STEP 63
str1 += 'a'                                                             # STEP 64
path1 += "/" + component2                                               # STEP 65
result = os0.path.isdir(path1)                                          # STEP 66
component2 = "f"                                                        # STEP 67
str1 += 'j'                                                             # STEP 68
opener0 = newFakeOpener(os0)                                            # STEP 69
path3 += "/" + component3                                               # STEP 70
stat4 = os0.stat(path1)                                                 # STEP 71
component3 = "c"                                                        # STEP 72
fd0 = os0.open(path3, os.O_CREAT)                                       # STEP 73
file0 = opener0(path3,'w')                                              # STEP 74
str4 += 't'                                                             # STEP 75
result = file0.read()                                                   # STEP 76
result = os0.read(fd0,bytes2)                                           # STEP 77
str1 += 'm'                                                             # STEP 78
os0.write(fd0,str1)                                                     # STEP 79
result = os0.path.lexists(path1)                                        # STEP 80
str1 += 'j'                                                             # STEP 81
path3 += "/" + component2                                               # STEP 82
os0.path.getsize(path3)                                                 # STEP 83
str1 = ""                                                               # STEP 84
os0.rmdir(path3)                                                        # STEP 85
os0.link(path1,path3)                                                   # STEP 86
os0.path.getsize(path1)                                                 # STEP 87
result = os0.path.lexists(path3)                                        # STEP 88
str1 += 'm'                                                             # STEP 89
file0.seek(bytes2)                                                      # STEP 90
file0.seek(bytes1)                                                      # STEP 91
str1 += 'l'                                                             # STEP 92
str2 = ""                                                               # STEP 93
os0.write(fd0,str1)                                                     # STEP 94
path1 += "/" + component1                                               # STEP 95
file0.write(str4)                                                       # STEP 96
os0.removedirs(path1)                                                   # STEP 97
str2 += 'y'                                                             # STEP 98
os0.mkdir(path1)                                                        # STEP 99
stat3 = os0.lstat(path3)                                               # STEP 100
component2 = "e"                                                       # STEP 101
str1 += 'f'                                                            # STEP 102
path1 += "/" + component1                                              # STEP 103
result = file0.read(bytes0)                                            # STEP 104
stat1 = os0.stat(path3)                                                # STEP 105
str1 += 'w'                                                            # STEP 106
os0.mkdir(path1)                                                       # STEP 107
component1 = "d"                                                       # STEP 108
str4 += 'o'                                                            # STEP 109
str2 += 'r'                                                            # STEP 110
file0.seek(bytes4)                                                     # STEP 111
path1 += "/" + component1                                              # STEP 112
str2 += 'a'                                                            # STEP 113
result = os0.path.exists(path1)                                        # STEP 114
os0.link(path3,path3)                                                  # STEP 115
str4 += 'e'                                                            # STEP 116
str2 += 'n'                                                            # STEP 117
stat4 = os0.stat(path3)                                                # STEP 118
str4 += 'p'                                                            # STEP 119
str1 += 't'                                                            # STEP 120
bytes1 = 0                                                             # STEP 121
str1 += 'z'                                                            # STEP 122
file0.seek(bytes2)                                                     # STEP 123
os0.rmdir(path1)                                                       # STEP 124
str2 += 'n'                                                            # STEP 125
str1 += 'z'                                                            # STEP 126
result = os0.read(fd0,bytes1)                                          # STEP 127
path1 += "/" + component4                                              # STEP 128
str1 += 'y'                                                            # STEP 129
str1 += 'k'                                                            # STEP 130
str4 += 'g'                                                            # STEP 131
os0.makedirs(path3)                                                    # STEP 132
str1 += 'c'                                                            # STEP 133
component4 = "beta"                                                    # STEP 134
str1 += 'c'                                                            # STEP 135
result = os0.path.isfile(path3)                                        # STEP 136
os0.removedirs(path3)                                                  # STEP 137
stat2 = os0.stat(path3)                                                # STEP 138
result = os0.path.dirname(path3)                                       # STEP 139
path3 += "/" + component1                                              # STEP 140
result = file0.read(bytes2)                                            # STEP 141
str1 += 'n'                                                            # STEP 142
str2 += 'k'                                                            # STEP 143
str4 += 'n'                                                            # STEP 144
os0.rmdir(path1)                                                       # STEP 145
result = os0.read(fd0,bytes0)                                          # STEP 146
stat4 = os0.lstat(path1)                                               # STEP 147
str1 += 's'                                                            # STEP 148
result = file0.read(bytes4)                                            # STEP 149
bytes4 = 0                                                             # STEP 150
str2 += 'm'                                                            # STEP 151
stat3 = os0.lstat(path1)                                               # STEP 152
os0.symlink(path3,path1)                                               # STEP 153
result = file0.readline(bytes2)                                        # STEP 154
result = os0.path.isabs(path1)                                         # STEP 155
stat3 = os0.fstat(fd0)                                                 # STEP 156
result = stat3.st_nlink                                                # STEP 157
component1 = "f"                                                       # STEP 158
result = stat0.st_nlink                                                # STEP 159
stat0 = os0.lstat(path3)                                               # STEP 160
str4 += 'i'                                                            # STEP 161
result = os0.path.isabs(path3)                                         # STEP 162
stat4 = os0.stat(path3)                                                # STEP 163
result = stat0.st_size                                                 # STEP 164
stat3 = os0.stat(path3)                                                # STEP 165
file0.write(str2)                                                      # STEP 166
bytes0 += 1                                                            # STEP 167
result = os0.path.islink(path3)                                        # STEP 168
str1 += 'l'                                                            # STEP 169
path1 = "/Volumes/ramdisk/test"                                        # STEP 170
str4 += 'o'                                                            # STEP 171
str4 += 'i'                                                            # STEP 172
os0.symlink(path3,path3)                                               # STEP 173
result = os0.path.isfile(path1)                                        # STEP 174
result = stat3.st_nlink                                                # STEP 175
result = stat3.st_size                                                 # STEP 176
ERROR: (<type 'exceptions.AssertionError'>, AssertionError(' (0) == (4) ',), <traceback object at 0x103e43488>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 21936, in act460
    try: assert result == result_REF, " (%s) == (%s) " % (result, result_REF)
FAILURE 2
bytes4 = 0                                                               # STEP 0
component0 = "lambda"                                                    # STEP 1
component1 = "phi"                                                       # STEP 2
component4 = "e"                                                         # STEP 3
component3 = "gamma"                                                     # STEP 4
component2 = "g"                                                         # STEP 5
bytes2 = 0                                                               # STEP 6
bytes4 += 1                                                              # STEP 7
path2 = "/Volumes/ramdisk/test"                                          # STEP 8
bytes3 = 0                                                               # STEP 9
str0 = ""                                                               # STEP 10
str0 += 'v'                                                             # STEP 11
str0 += 'j'                                                             # STEP 12
str0 += 'c'                                                             # STEP 13
bytes0 = 0                                                              # STEP 14
str0 += 't'                                                             # STEP 15
str0 += 'i'                                                             # STEP 16
bytes0 += 1                                                             # STEP 17
str0 += 'q'                                                             # STEP 18
str2 = ""                                                               # STEP 19
str2 += 'l'                                                             # STEP 20
path0 = "/Volumes/ramdisk/test"                                         # STEP 21
str0 += 'y'                                                             # STEP 22
str0 += " "                                                             # STEP 23
str2 += 'g'                                                             # STEP 24
str0 += 'j'                                                             # STEP 25
str0 += 's'                                                             # STEP 26
path0 += "/" + component0                                               # STEP 27
path0 += "/" + component4                                               # STEP 28
path0 = "/Volumes/ramdisk/test"                                         # STEP 29
component4 = "gamma"                                                    # STEP 30
bytes4 = 0                                                              # STEP 31
str2 += 'f'                                                             # STEP 32
component0 = "f"                                                        # STEP 33
str0 += 'd'                                                             # STEP 34
bytes3 += 1                                                             # STEP 35
str2 += 'w'                                                             # STEP 36
str0 += 'g'                                                             # STEP 37
os0 = newFakeOS()                                                       # STEP 38
str2 += 'p'                                                             # STEP 39
bytes3 += 1                                                             # STEP 40
result = os0.path.dirname(path0)                                        # STEP 41
str2 += 'u'                                                             # STEP 42
str0 += 'e'                                                             # STEP 43
os0.makedirs(path2)                                                     # STEP 44
result = sorted(os0.listdir(path2))                                     # STEP 45
str0 += 'e'                                                             # STEP 46
str0 += 't'                                                             # STEP 47
str0 += 'g'                                                             # STEP 48
os0.makedirs(path2)                                                     # STEP 49
str2 += 'h'                                                             # STEP 50
os0.link(path2,path0)                                                   # STEP 51
str2 += 'u'                                                             # STEP 52
str2 += 'm'                                                             # STEP 53
str2 += 'f'                                                             # STEP 54
result = os0.path.lexists(path2)                                        # STEP 55
str0 += 'w'                                                             # STEP 56
str0 += 'a'                                                             # STEP 57
str2 += 'd'                                                             # STEP 58
str0 += 'q'                                                             # STEP 59
os0.link(path2,path2)                                                   # STEP 60
path0 += "/" + component0                                               # STEP 61
str2 += 'r'                                                             # STEP 62
str2 += 'u'                                                             # STEP 63
str0 += 'g'                                                             # STEP 64
result = os0.path.dirname(path2)                                        # STEP 65
os0.mkdir(path2)                                                        # STEP 66
str0 += 'z'                                                             # STEP 67
component0 = "d"                                                        # STEP 68
bytes1 = 0                                                              # STEP 69
fd0 = os0.open(path0, os.O_RDONLY)                                      # STEP 70
os0.symlink(path2,path0)                                                # STEP 71
result = os0.readlink(path2)                                            # STEP 72
str0 += 'u'                                                             # STEP 73
result = os0.path.islink(path0)                                         # STEP 74
str0 += 'd'                                                             # STEP 75
stat0 = os0.stat(path0)                                                 # STEP 76
os0.symlink(path0,path0)                                                # STEP 77
path2 += "/" + component2                                               # STEP 78
str2 += 'o'                                                             # STEP 79
result = os0.path.isfile(path0)                                         # STEP 80
str0 += 'u'                                                             # STEP 81
component2 = "c"                                                        # STEP 82
stat3 = os0.stat(path0)                                                 # STEP 83
os0.rmdir(path0)                                                        # STEP 84
result = os0.path.lexists(path2)                                        # STEP 85
result = os0.path.islink(path2)                                         # STEP 86
path2 = "/Volumes/ramdisk/test"                                         # STEP 87
str2 += 'o'                                                             # STEP 88
path0 += "/" + component3                                               # STEP 89
result = os0.path.abspath(path2)                                        # STEP 90
str2 += 'h'                                                             # STEP 91
os0.link(path2,path0)                                                   # STEP 92
fd0 = os0.open(path0, os.O_CREAT | os.O_WRONLY | os.O_TRUNC)            # STEP 93
component3 = "f"                                                        # STEP 94
str0 += 'r'                                                             # STEP 95
os0.removedirs(path2)                                                   # STEP 96
str2 += 's'                                                             # STEP 97
result = sorted(os0.listdir(path2))                                     # STEP 98
os0.remove(path0)                                                       # STEP 99
str0 += 'o'                                                            # STEP 100
str0 += 'e'                                                            # STEP 101
str0 += 'r'                                                            # STEP 102
str2 += 'b'                                                            # STEP 103
path0 += "/" + component3                                              # STEP 104
bytes0 += 1                                                            # STEP 105
result = os0.path.islink(path2)                                        # STEP 106
str2 += 'k'                                                            # STEP 107
os0.rename(path0,path2)                                                # STEP 108
str2 += 'e'                                                            # STEP 109
component3 = "c"                                                       # STEP 110
str2 += 'j'                                                            # STEP 111
os0.rmdir(path0)                                                       # STEP 112
str2 += 'v'                                                            # STEP 113
os0.rename(path0,path2)                                                # STEP 114
os0.symlink(path2,path2)                                               # STEP 115
str0 += 'a'                                                            # STEP 116
stat4 = os0.stat(path0)                                                # STEP 117
os0.mkdir(path0)                                                       # STEP 118
os0.link(path2,path2)                                                  # STEP 119
path0 = "/Volumes/ramdisk/test"                                        # STEP 120
str0 = ""                                                              # STEP 121
str0 += 'r'                                                            # STEP 122
result = os0.path.dirname(path0)                                       # STEP 123
path2 += "/" + component1                                              # STEP 124
result = os0.path.dirname(path0)                                       # STEP 125
result = os0.read(fd0,bytes3)                                          # STEP 126
path3 = "/Volumes/ramdisk/test"                                        # STEP 127
component1 = "gamma"                                                   # STEP 128
str2 += 'x'                                                            # STEP 129
str2 += 'p'                                                            # STEP 130
result = os0.path.abspath(path3)                                       # STEP 131
bytes4 += 1                                                            # STEP 132
path2 += "/" + component4                                              # STEP 133
str0 += 'p'                                                            # STEP 134
str0 += 't'                                                            # STEP 135
bytes0 = 0                                                             # STEP 136
component4 = "f"                                                       # STEP 137
result = os0.path.dirname(path3)                                       # STEP 138
str0 += 'd'                                                            # STEP 139
path3 += "/" + component3                                              # STEP 140
result = os0.readlink(path3)                                           # STEP 141
os0.link(path3,path2)                                                  # STEP 142
result = os0.read(fd0,bytes2)                                          # STEP 143
path2 += "/" + component2                                              # STEP 144
str2 += 'v'                                                            # STEP 145
result = os0.path.isfile(path3)                                        # STEP 146
path0 += "/" + component1                                              # STEP 147
str2 += 'd'                                                            # STEP 148
stat1 = os0.stat(path2)                                                # STEP 149
result = os0.path.dirname(path2)                                       # STEP 150
result = os0.path.exists(path3)                                        # STEP 151
os0.symlink(path2,path3)                                               # STEP 152
result = os0.path.isabs(path0)                                         # STEP 153
os0.makedirs(path2)                                                    # STEP 154
os0.symlink(path0,path3)                                               # STEP 155
component2 = "beta"                                                    # STEP 156
component3 = "h"                                                       # STEP 157
result = sorted(os0.listdir(path2))                                    # STEP 158
str2 += 'e'                                                            # STEP 159
os0.symlink(path3,path0)                                               # STEP 160
stat4 = os0.lstat(path3)                                               # STEP 161
component1 = "delta"                                                   # STEP 162
str2 += 'q'                                                            # STEP 163
os0.rename(path3,path2)                                                # STEP 164
os0.rename(path2,path3)                                                # STEP 165
str2 += 'o'                                                            # STEP 166
stat2 = os0.fstat(fd0)                                                 # STEP 167
str0 += 'f'                                                            # STEP 168
os0.symlink(path3,path0)                                               # STEP 169
os0.symlink(path0,path2)                                               # STEP 170
result = stat4.st_size                                                 # STEP 171
os0.removedirs(path0)                                                  # STEP 172
os0.mkdir(path3)                                                       # STEP 173
result = os0.path.isfile(path3)                                        # STEP 174
os0.symlink(path3,path0)                                               # STEP 175
str2 += 'f'                                                            # STEP 176
os0.link(path3,path0)                                                  # STEP 177
path2 += "/" + component1                                              # STEP 178
result = os0.path.isdir(path2)                                         # STEP 179
opener0 = newFakeOpener(os0)                                           # STEP 180
result = os0.path.lexists(path0)                                       # STEP 181
result = os0.read(fd0,bytes4)                                          # STEP 182
str2 += 'q'                                                            # STEP 183
str0 += 'c'                                                            # STEP 184
path0 += "/" + component1                                              # STEP 185
path1 = "/Volumes/ramdisk/test"                                        # STEP 186
str0 += " "                                                            # STEP 187
os0.close(fd0)                                                         # STEP 188
str2 += 'u'                                                            # STEP 189
result = os0.path.abspath(path0)                                       # STEP 190
path0 += "/" + component4                                              # STEP 191
path4 = "/Volumes/ramdisk/test"                                        # STEP 192
path4 += "/" + component4                                              # STEP 193
path4 = "/Volumes/ramdisk/test"                                        # STEP 194
path4 += "/" + component4                                              # STEP 195
path0 = "/Volumes/ramdisk/test"                                        # STEP 196
path0 += "/" + component1                                              # STEP 197
result = os0.path.isfile(path1)                                        # STEP 198
component4 = "omega"                                                   # STEP 199
path1 += "/" + component1                                              # STEP 200
component1 = "a"                                                       # STEP 201
os0.makedirs(path0)                                                    # STEP 202
path0 = "/Volumes/ramdisk/test"                                        # STEP 203
os0.removedirs(path1)                                                  # STEP 204
os0.rename(path1,path0)                                                # STEP 205
file0 = opener0(path0,'w')                                             # STEP 206
path2 = "/Volumes/ramdisk/test"                                        # STEP 207
os0.rmdir(path1)                                                       # STEP 208
result = os0.path.isfile(path4)                                        # STEP 209
result = sorted(os0.listdir(path1))                                    # STEP 210
os0.path.getsize(path1)                                                # STEP 211
os0.link(path2,path4)                                                  # STEP 212
path0 += "/" + component3                                              # STEP 213
os0.symlink(path1,path0)                                               # STEP 214
os0.rename(path4,path1)                                                # STEP 215
os0.link(path2,path2)                                                  # STEP 216
path4 += "/" + component0                                              # STEP 217
path4 += "/" + component1                                              # STEP 218
result = os0.path.islink(path2)                                        # STEP 219
result = os0.path.dirname(path1)                                       # STEP 220
result = os0.readlink(path2)                                           # STEP 221
file0 = opener0(path4,'w')                                             # STEP 222
os0.makedirs(path1)                                                    # STEP 223
os0.path.getsize(path4)                                                # STEP 224
os0.rename(path1,path4)                                                # STEP 225
result = os0.path.dirname(path4)                                       # STEP 226
os0.rmdir(path4)                                                       # STEP 227
result = os0.readlink(path0)                                           # STEP 228
os0.link(path1,path2)                                                  # STEP 229
os0.link(path0,path0)                                                  # STEP 230
str0 = ""                                                              # STEP 231
component1 = "omega"                                                   # STEP 232
file0 = opener0(path4,'a')                                             # STEP 233
os0.mkdir(path1)                                                       # STEP 234
component3 = "lambda"                                                  # STEP 235
result = os0.read(fd0,bytes0)                                          # STEP 236
os0.link(path1,path2)                                                  # STEP 237
str1 = ""                                                              # STEP 238
os0.link(path4,path0)                                                  # STEP 239
os0.link(path1,path1)                                                  # STEP 240
os0.rename(path0,path2)                                                # STEP 241
component0 = "b"                                                       # STEP 242
os0.link(path2,path4)                                                  # STEP 243
stat4 = os0.lstat(path1)                                               # STEP 244
result = os0.readlink(path4)                                           # STEP 245
os0.removedirs(path4)                                                  # STEP 246
str0 += 'l'                                                            # STEP 247
os0.remove(path0)                                                      # STEP 248
os0.link(path0,path2)                                                  # STEP 249
os0.rename(path1,path2)                                                # STEP 250
bytes4 = 0                                                             # STEP 251
os0.rename(path4,path0)                                                # STEP 252
file0 = opener0(path0,'w')                                             # STEP 253
result = os0.path.exists(path4)                                        # STEP 254
result = sorted(os0.listdir(path0))                                    # STEP 255
str0 += 'h'                                                            # STEP 256
path0 += "/" + component0                                              # STEP 257
result = sorted(os0.listdir(path1))                                    # STEP 258
str1 += 'y'                                                            # STEP 259
os0.symlink(path2,path1)                                               # STEP 260
str1 += 'e'                                                            # STEP 261
str0 += 'b'                                                            # STEP 262
str0 += 'x'                                                            # STEP 263
str1 += 'j'                                                            # STEP 264
path1 = "/Volumes/ramdisk/test"                                        # STEP 265
result = os0.path.isfile(path1)                                        # STEP 266
component0 = "g"                                                       # STEP 267
path1 += "/" + component1                                              # STEP 268
result = os0.path.isabs(path2)                                         # STEP 269
bytes2 = 0                                                             # STEP 270
os0.link(path2,path4)                                                  # STEP 271
bytes0 += 1                                                            # STEP 272
os0.symlink(path1,path1)                                               # STEP 273
os0.link(path2,path4)                                                  # STEP 274
os0.link(path0,path1)                                                  # STEP 275
str0 += 'h'                                                            # STEP 276
path4 += "/" + component3                                              # STEP 277
os0.makedirs(path2)                                                    # STEP 278
result = os0.readlink(path4)                                           # STEP 279
result = os0.path.dirname(path2)                                       # STEP 280
result = os0.path.isabs(path1)                                         # STEP 281
os0.rename(path4,path1)                                                # STEP 282
os0.rename(path0,path2)                                                # STEP 283
bytes3 = 0                                                             # STEP 284
os0.link(path2,path1)                                                  # STEP 285
result = os0.path.isabs(path0)                                         # STEP 286
os0.rename(path1,path2)                                                # STEP 287
bytes0 = 0                                                             # STEP 288
str0 += 'r'                                                            # STEP 289
str1 += 'z'                                                            # STEP 290
os0.mkdir(path2)                                                       # STEP 291
os0.mkdir(path0)                                                       # STEP 292
result = sorted(os0.listdir(path1))                                    # STEP 293
str0 += 's'                                                            # STEP 294
str1 += 'r'                                                            # STEP 295
str0 += 's'                                                            # STEP 296
str1 += 'j'                                                            # STEP 297
path0 += "/" + component1                                              # STEP 298
component1 = "beta"                                                    # STEP 299
path4 += "/" + component0                                              # STEP 300
file0.seek(bytes2)                                                     # STEP 301
os0.link(path1,path1)                                                  # STEP 302
os0.rename(path4,path1)                                                # STEP 303
component3 = "delta"                                                   # STEP 304
path4 += "/" + component1                                              # STEP 305
result = os0.path.islink(path2)                                        # STEP 306
result = os0.read(fd0,bytes3)                                          # STEP 307
os0.mkdir(path0)                                                       # STEP 308
file0.seek(bytes3)                                                     # STEP 309
os0.makedirs(path0)                                                    # STEP 310
os0.rename(path4,path0)                                                # STEP 311
str1 += 'n'                                                            # STEP 312
result = os0.path.dirname(path4)                                       # STEP 313
result = os0.path.isdir(path0)                                         # STEP 314
os0.link(path1,path2)                                                  # STEP 315
os0.removedirs(path1)                                                  # STEP 316
result = file0.read(bytes0)                                            # STEP 317
ERROR: (<type 'exceptions.OSError'>, OSError(9, 'File is not open for reading.'), <traceback object at 0x1031ece60>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 28348, in act564
    result = self.p_file[0].read(self.p_bytes[0])
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4284, in read_error
    self._raise('File is not open for reading.')
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4112, in _raise
    raise OSError(errno.EBADF, message)
1165 BRANCHES COVERED
896 STATEMENTS COVERED
