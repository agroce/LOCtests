Random testing using config=Config(swarmSwitch=None, verbose=False, reducePool=False, failedLogging=None, exploitBestHint=1, greedyStutter=False, internal=False, exploit=0.8, seed=None, generalize=False, useHints=False, localize=False, total=False, speed='FAST', probs=None, normalize=False, verboseExploit=False, highLowSwarm=None, replayable=False, essentials=False, noCoverageExploit=False, quickTests=False, relax=False, enumerateEnabled=False, uniqueValuesAnalysis=False, swarm=False, noReassign=False, html=None, fastQuickAnalysis=False, progress=False, swarmLength=None, noSwarmDependencies=False, profile=False, LOCBaseline=0.2, noEnumerateEnabled=False, full=True, multiple=True, timedProgress=30, silentFail=True, stopWhenStatements=None, swarmP=0.5, stopWhenBranches=None, noAlphaConvert=False, coverFile='coverage.out', readQuick=False, verboseActions=False, running=False, computeFeatureStats=False, compareFails=False, swarmProbs=None, output='failure.4452.test', genDepth=None, Pcrossover=0.2, quickAnalysis=False, keepLast=False, exploitCeiling=0.1, logging=None, LOCProbs=False, noCheck=False, maxTests=-1, noExceptionMatch=False, Pmutate=0.8, depth=100, showActions=False, throughput=False, noCover=False, timeout=60, stutter=None, uncaught=False, markov=None, startExploit=0)
UNCAUGHT EXCEPTION
ERROR: (<type 'exceptions.OSError'>, OSError(9, 'File is not open for reading.'), <traceback object at 0x106fe1998>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 28821, in act572
    result = self.p_file[0].readline(self.p_bytes[2])
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4284, in read_error
    self._raise('File is not open for reading.')
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4112, in _raise
    raise OSError(errno.EBADF, message)
Original test has 258 steps

SAVING TEST AS failure.4452.test.0
FINAL VERSION OF TEST, WITH LOGGED REPLAY:
component2 = "d"                                                         # STEP 0
component0 = "phi"                                                       # STEP 1
component3 = "alpha"                                                     # STEP 2
component1 = "beta"                                                      # STEP 3
component4 = "a"                                                         # STEP 4
path4 = "/Volumes/ramdisk/test"                                          # STEP 5
path4 += "/" + component4                                                # STEP 6
path4 += "/" + component2                                                # STEP 7
path4 += "/" + component2                                                # STEP 8
bytes1 = 0                                                               # STEP 9
component4 = "f"                                                        # STEP 10
component2 = "f"                                                        # STEP 11
path3 = "/Volumes/ramdisk/test"                                         # STEP 12
bytes0 = 0                                                              # STEP 13
path0 = "/Volumes/ramdisk/test"                                         # STEP 14
str1 = ""                                                               # STEP 15
path3 += "/" + component4                                               # STEP 16
str1 += 'y'                                                             # STEP 17
str1 = ""                                                               # STEP 18
component4 = "gamma"                                                    # STEP 19
path0 += "/" + component1                                               # STEP 20
path0 += "/" + component3                                               # STEP 21
str1 += 'y'                                                             # STEP 22
bytes4 = 0                                                              # STEP 23
bytes1 += 1                                                             # STEP 24
component1 = "h"                                                        # STEP 25
component3 = "alpha"                                                    # STEP 26
bytes1 += 1                                                             # STEP 27
str1 += 'b'                                                             # STEP 28
str1 += 'm'                                                             # STEP 29
os0 = newFakeOS()                                                       # STEP 30
stat3 = os0.stat(path0)                                                 # STEP 31
stat0 = os0.stat(path3)                                                 # STEP 32
os0.link(path0,path0)                                                   # STEP 33
fd0 = os0.open(path3, os.O_CREAT | os.O_WRONLY | os.O_EXCL)             # STEP 34
path4 += "/" + component4                                               # STEP 35
str2 = ""                                                               # STEP 36
os0.rmdir(path4)                                                        # STEP 37
os0.makedirs(path4)                                                     # STEP 38
str2 += 'i'                                                             # STEP 39
str2 += 's'                                                             # STEP 40
str1 += 'c'                                                             # STEP 41
str1 += 'k'                                                             # STEP 42
str2 += 'p'                                                             # STEP 43
str1 += 'd'                                                             # STEP 44
str1 += 's'                                                             # STEP 45
stat0 = os0.lstat(path3)                                                # STEP 46
os0.rename(path0,path4)                                                 # STEP 47
os0.makedirs(path3)                                                     # STEP 48
str4 = ""                                                               # STEP 49
str2 += 'q'                                                             # STEP 50
str4 += 's'                                                             # STEP 51
result = os0.path.lexists(path4)                                        # STEP 52
os0.rename(path4,path0)                                                 # STEP 53
os0.symlink(path4,path4)                                                # STEP 54
str1 += 'i'                                                             # STEP 55
str4 += 'd'                                                             # STEP 56
str1 += 'z'                                                             # STEP 57
result = os0.path.isfile(path3)                                         # STEP 58
os0.mkdir(path4)                                                        # STEP 59
result = os0.path.lexists(path4)                                        # STEP 60
path3 += "/" + component3                                               # STEP 61
str4 += 'z'                                                             # STEP 62
str4 += 'a'                                                             # STEP 63
os0.rename(path4,path3)                                                 # STEP 64
str2 += 'h'                                                             # STEP 65
opener0 = newFakeOpener(os0)                                            # STEP 66
str1 += 'o'                                                             # STEP 67
os0.makedirs(path4)                                                     # STEP 68
str2 += 'm'                                                             # STEP 69
os0.link(path3,path4)                                                   # STEP 70
str2 += 'z'                                                             # STEP 71
str1 += 'q'                                                             # STEP 72
component3 = "a"                                                        # STEP 73
os0.makedirs(path3)                                                     # STEP 74
str2 += 'g'                                                             # STEP 75
file0 = opener0(path3,'r')                                              # STEP 76
component4 = "d"                                                        # STEP 77
stat2 = os0.lstat(path3)                                                # STEP 78
result = os0.path.lexists(path4)                                        # STEP 79
str2 += " "                                                             # STEP 80
str4 += 'w'                                                             # STEP 81
os0.removedirs(path3)                                                   # STEP 82
file0 = opener0(path3,'w')                                              # STEP 83
os0.link(path0,path3)                                                   # STEP 84
os0.link(path4,path4)                                                   # STEP 85
path3 += "/" + component4                                               # STEP 86
result = os0.path.lexists(path3)                                        # STEP 87
str2 += 's'                                                             # STEP 88
stat3 = os0.stat(path0)                                                 # STEP 89
str2 += 'b'                                                             # STEP 90
component4 = "alpha"                                                    # STEP 91
stat2 = os0.fstat(fd0)                                                  # STEP 92
path0 += "/" + component4                                               # STEP 93
path0 += "/" + component2                                               # STEP 94
component2 = "e"                                                        # STEP 95
stat4 = os0.fstat(fd0)                                                  # STEP 96
os0.remove(path4)                                                       # STEP 97
str1 += 'o'                                                             # STEP 98
path3 += "/" + component0                                               # STEP 99
component4 = "d"                                                       # STEP 100
os0.symlink(path4,path3)                                               # STEP 101
str2 += 'c'                                                            # STEP 102
result = stat4.st_nlink                                                # STEP 103
result = stat2.st_nlink                                                # STEP 104
str2 += 'z'                                                            # STEP 105
result = sorted(os0.listdir(path0))                                    # STEP 106
str1 += 'w'                                                            # STEP 107
result = os0.path.islink(path4)                                        # STEP 108
os0.link(path0,path3)                                                  # STEP 109
path3 += "/" + component4                                              # STEP 110
result = os0.path.abspath(path3)                                       # STEP 111
str1 += 'u'                                                            # STEP 112
result = os0.path.isabs(path3)                                         # STEP 113
component4 = "g"                                                       # STEP 114
path4 = "/Volumes/ramdisk/test"                                        # STEP 115
str4 += 'r'                                                            # STEP 116
result = os0.path.lexists(path3)                                       # STEP 117
str2 = ""                                                              # STEP 118
str1 += 'r'                                                            # STEP 119
component0 = "c"                                                       # STEP 120
str0 = ""                                                              # STEP 121
path0 += "/" + component2                                              # STEP 122
component2 = "e"                                                       # STEP 123
os0.link(path4,path4)                                                  # STEP 124
result = os0.path.isabs(path3)                                         # STEP 125
path3 += "/" + component2                                              # STEP 126
os0.link(path4,path4)                                                  # STEP 127
component2 = "b"                                                       # STEP 128
str1 += 'w'                                                            # STEP 129
str2 += 'k'                                                            # STEP 130
result = os0.read(fd0,bytes4)                                          # STEP 131
str2 += 't'                                                            # STEP 132
stat4 = os0.stat(path3)                                                # STEP 133
result = os0.path.dirname(path0)                                       # STEP 134
result = stat0.st_nlink                                                # STEP 135
result = os0.read(fd0,bytes0)                                          # STEP 136
str4 += 'j'                                                            # STEP 137
stat2 = os0.lstat(path0)                                               # STEP 138
os0.link(path3,path3)                                                  # STEP 139
path4 += "/" + component1                                              # STEP 140
str4 += 'g'                                                            # STEP 141
str4 += 'm'                                                            # STEP 142
os0.close(fd0)                                                         # STEP 143
os0.symlink(path4,path4)                                               # STEP 144
path4 += "/" + component0                                              # STEP 145
fd0 = os0.open(path0, os.O_CREAT | os.O_WRONLY | os.O_TRUNC | os.O_EXCL)  # STEP 146
str0 += " "                                                            # STEP 147
str0 += 'r'                                                            # STEP 148
str1 += 'c'                                                            # STEP 149
os0.remove(path4)                                                      # STEP 150
str4 = ""                                                              # STEP 151
str1 += 'w'                                                            # STEP 152
component1 = "gamma"                                                   # STEP 153
bytes2 = 0                                                             # STEP 154
bytes4 = 0                                                             # STEP 155
os0.symlink(path4,path0)                                               # STEP 156
result = os0.path.lexists(path0)                                       # STEP 157
result = os0.path.exists(path4)                                        # STEP 158
str1 += 't'                                                            # STEP 159
str2 += 'e'                                                            # STEP 160
result = os0.path.isdir(path3)                                         # STEP 161
component0 = "g"                                                       # STEP 162
result = os0.path.isabs(path3)                                         # STEP 163
os0.write(fd0,str0)                                                    # STEP 164
str2 += 'u'                                                            # STEP 165
str0 += 's'                                                            # STEP 166
result = os0.path.isdir(path0)                                         # STEP 167
stat1 = os0.fstat(fd0)                                                 # STEP 168
os0.removedirs(path4)                                                  # STEP 169
result = os0.read(fd0,bytes2)                                          # STEP 170
result = os0.read(fd0,bytes1)                                          # STEP 171
str4 += 'g'                                                            # STEP 172
str1 += 'k'                                                            # STEP 173
file0 = opener0(path4,'a')                                             # STEP 174
str1 += 'i'                                                            # STEP 175
str1 += 'v'                                                            # STEP 176
result = os0.path.isfile(path4)                                        # STEP 177
os0.link(path4,path4)                                                  # STEP 178
str2 += 't'                                                            # STEP 179
bytes0 = 0                                                             # STEP 180
os0.symlink(path3,path3)                                               # STEP 181
os0.path.getsize(path0)                                                # STEP 182
os0.rmdir(path4)                                                       # STEP 183
result = os0.path.lexists(path4)                                       # STEP 184
stat0 = os0.stat(path3)                                                # STEP 185
str2 += 'o'                                                            # STEP 186
os0.link(path0,path3)                                                  # STEP 187
str4 += 'u'                                                            # STEP 188
stat1 = os0.lstat(path4)                                               # STEP 189
result = os0.read(fd0,bytes1)                                          # STEP 190
os0.makedirs(path0)                                                    # STEP 191
str2 += 't'                                                            # STEP 192
os0.remove(path0)                                                      # STEP 193
os0.path.getsize(path4)                                                # STEP 194
os0.makedirs(path4)                                                    # STEP 195
file0 = opener0(path0,'a')                                             # STEP 196
str2 += 'x'                                                            # STEP 197
result = os0.path.isabs(path3)                                         # STEP 198
path3 += "/" + component3                                              # STEP 199
result = stat0.st_nlink                                                # STEP 200
str4 += 't'                                                            # STEP 201
os0.link(path3,path0)                                                  # STEP 202
os0.rmdir(path3)                                                       # STEP 203
str0 += 'z'                                                            # STEP 204
str2 += 'z'                                                            # STEP 205
str2 += " "                                                            # STEP 206
result = stat0.st_size                                                 # STEP 207
result = os0.read(fd0,bytes0)                                          # STEP 208
str2 += 'p'                                                            # STEP 209
os0.link(path0,path3)                                                  # STEP 210
component3 = "gamma"                                                   # STEP 211
str2 += 'e'                                                            # STEP 212
stat0 = os0.stat(path4)                                                # STEP 213
file0 = opener0(path0)                                                 # STEP 214
stat1 = os0.stat(path0)                                                # STEP 215
path0 += "/" + component2                                              # STEP 216
os0.mkdir(path3)                                                       # STEP 217
str4 += 'w'                                                            # STEP 218
os0.rmdir(path0)                                                       # STEP 219
file0 = opener0(path3)                                                 # STEP 220
component2 = "f"                                                       # STEP 221
str4 += 'x'                                                            # STEP 222
file0 = opener0(path0,'w')                                             # STEP 223
os0.link(path3,path4)                                                  # STEP 224
os0.link(path4,path4)                                                  # STEP 225
os0.rename(path4,path0)                                                # STEP 226
os0.link(path0,path3)                                                  # STEP 227
file0.write(str4)                                                      # STEP 228
result = os0.path.islink(path0)                                        # STEP 229
result = os0.path.dirname(path0)                                       # STEP 230
str2 += 'd'                                                            # STEP 231
path3 += "/" + component3                                              # STEP 232
str0 += 'n'                                                            # STEP 233
str2 += 'w'                                                            # STEP 234
component3 = "a"                                                       # STEP 235
os0.rmdir(path3)                                                       # STEP 236
result = os0.path.abspath(path0)                                       # STEP 237
result = file0.read(bytes4)                                            # STEP 238
str4 += " "                                                            # STEP 239
str4 += 'j'                                                            # STEP 240
result = os0.path.dirname(path0)                                       # STEP 241
os0.rmdir(path0)                                                       # STEP 242
str1 = ""                                                              # STEP 243
str0 += 's'                                                            # STEP 244
str0 += 'c'                                                            # STEP 245
result = file0.readline(bytes2)                                        # STEP 246
path3 += "/" + component2                                              # STEP 247
str2 += " "                                                            # STEP 248
file0.write(str2)                                                      # STEP 249
str2 += 'i'                                                            # STEP 250
os0.link(path0,path3)                                                  # STEP 251
os0.link(path3,path3)                                                  # STEP 252
component2 = "g"                                                       # STEP 253
result = os0.path.isabs(path0)                                         # STEP 254
str2 += 'n'                                                            # STEP 255
result = os0.read(fd0,bytes4)                                          # STEP 256
result = file0.readline(bytes2)                                        # STEP 257
ERROR: (<type 'exceptions.OSError'>, OSError(9, 'File is not open for reading.'), <traceback object at 0x106f07e60>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 28821, in act572
    result = self.p_file[0].readline(self.p_bytes[2])
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4284, in read_error
    self._raise('File is not open for reading.')
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4112, in _raise
    raise OSError(errno.EBADF, message)
FAILURE IS NEW, STORING; NOW 1 DISTINCT FAILURES
UNCAUGHT EXCEPTION
ERROR: (<type 'exceptions.AssertionError'>, AssertionError(' (0) == (6) ',), <traceback object at 0x1081c15a8>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 21881, in act459
    try: assert result == result_REF, " (%s) == (%s) " % (result, result_REF)
Original test has 196 steps

SAVING TEST AS failure.4452.test.1
FINAL VERSION OF TEST, WITH LOGGED REPLAY:
component4 = "f"                                                         # STEP 0
component3 = "h"                                                         # STEP 1
component2 = "c"                                                         # STEP 2
component0 = "h"                                                         # STEP 3
bytes2 = 0                                                               # STEP 4
str2 = ""                                                                # STEP 5
str2 += 's'                                                              # STEP 6
str2 += 'd'                                                              # STEP 7
str2 += 'j'                                                              # STEP 8
component1 = "lambda"                                                    # STEP 9
str2 += 'q'                                                             # STEP 10
str2 += 'l'                                                             # STEP 11
str2 += 'e'                                                             # STEP 12
str2 += 'g'                                                             # STEP 13
str2 += 'r'                                                             # STEP 14
str2 += 'x'                                                             # STEP 15
str2 += 'g'                                                             # STEP 16
path1 = "/Volumes/ramdisk/test"                                         # STEP 17
path1 += "/" + component4                                               # STEP 18
component4 = "g"                                                        # STEP 19
str2 += 'g'                                                             # STEP 20
str2 += 'a'                                                             # STEP 21
bytes2 += 1                                                             # STEP 22
path1 = "/Volumes/ramdisk/test"                                         # STEP 23
str2 += 'b'                                                             # STEP 24
str2 += 'e'                                                             # STEP 25
str2 += 'b'                                                             # STEP 26
str2 += " "                                                             # STEP 27
str2 += 'b'                                                             # STEP 28
str2 += 'm'                                                             # STEP 29
str2 += 'n'                                                             # STEP 30
str3 = ""                                                               # STEP 31
str3 += 'o'                                                             # STEP 32
str2 += " "                                                             # STEP 33
str2 += 'a'                                                             # STEP 34
str2 = ""                                                               # STEP 35
str3 += 'u'                                                             # STEP 36
str2 += 'h'                                                             # STEP 37
str3 += 'g'                                                             # STEP 38
str3 += 'o'                                                             # STEP 39
str3 += 'y'                                                             # STEP 40
str2 += 'c'                                                             # STEP 41
str3 += 'z'                                                             # STEP 42
str3 += 'y'                                                             # STEP 43
str2 += 'p'                                                             # STEP 44
str3 += 'u'                                                             # STEP 45
str2 += 'r'                                                             # STEP 46
str2 += 'y'                                                             # STEP 47
str3 += 'd'                                                             # STEP 48
os0 = newFakeOS()                                                       # STEP 49
str2 += 'b'                                                             # STEP 50
str3 += 'a'                                                             # STEP 51
os0.link(path1,path1)                                                   # STEP 52
str2 += 'h'                                                             # STEP 53
str3 += 'w'                                                             # STEP 54
path3 = "/Volumes/ramdisk/test"                                         # STEP 55
os0.link(path3,path3)                                                   # STEP 56
result = os0.readlink(path1)                                            # STEP 57
bytes0 = 0                                                              # STEP 58
result = os0.path.isfile(path1)                                         # STEP 59
str4 = ""                                                               # STEP 60
str3 += 'x'                                                             # STEP 61
str2 += 'u'                                                             # STEP 62
str4 += 'u'                                                             # STEP 63
str3 += 'm'                                                             # STEP 64
result = os0.path.abspath(path1)                                        # STEP 65
str2 += 'j'                                                             # STEP 66
opener0 = newFakeOpener(os0)                                            # STEP 67
path0 = "/Volumes/ramdisk/test"                                         # STEP 68
path2 = "/Volumes/ramdisk/test"                                         # STEP 69
result = os0.path.isabs(path2)                                          # STEP 70
result = os0.path.abspath(path2)                                        # STEP 71
os0.makedirs(path0)                                                     # STEP 72
result = os0.path.exists(path0)                                         # STEP 73
str4 = ""                                                               # STEP 74
os0.mkdir(path0)                                                        # STEP 75
str4 += 't'                                                             # STEP 76
os0.symlink(path0,path0)                                                # STEP 77
str0 = ""                                                               # STEP 78
str4 += 'r'                                                             # STEP 79
str4 += " "                                                             # STEP 80
result = os0.path.abspath(path0)                                        # STEP 81
str0 += 'y'                                                             # STEP 82
path1 = "/Volumes/ramdisk/test"                                         # STEP 83
result = os0.path.islink(path1)                                         # STEP 84
str4 += 'k'                                                             # STEP 85
file0 = opener0(path0)                                                  # STEP 86
result = os0.path.isabs(path0)                                          # STEP 87
path0 += "/" + component3                                               # STEP 88
component3 = "a"                                                        # STEP 89
str0 += 'h'                                                             # STEP 90
str4 += 'h'                                                             # STEP 91
file0 = opener0(path0,'w')                                              # STEP 92
str4 += 'r'                                                             # STEP 93
result = file0.read()                                                   # STEP 94
str0 += 'o'                                                             # STEP 95
fd0 = os0.open(path0, os.O_CREAT | os.O_WRONLY | os.O_EXCL)             # STEP 96
path4 = "/Volumes/ramdisk/test"                                         # STEP 97
result = os0.path.lexists(path1)                                        # STEP 98
file0.write(str4)                                                       # STEP 99
result = os0.path.isdir(path1)                                         # STEP 100
os0.mkdir(path0)                                                       # STEP 101
str0 = ""                                                              # STEP 102
str4 += 'b'                                                            # STEP 103
os0.link(path0,path4)                                                  # STEP 104
os0.link(path4,path2)                                                  # STEP 105
str4 += 'c'                                                            # STEP 106
result = os0.path.abspath(path2)                                       # STEP 107
bytes4 = 0                                                             # STEP 108
path3 = "/Volumes/ramdisk/test"                                        # STEP 109
bytes1 = 0                                                             # STEP 110
str0 += 'y'                                                            # STEP 111
os0.remove(path1)                                                      # STEP 112
os0.mkdir(path0)                                                       # STEP 113
str0 += 'f'                                                            # STEP 114
str4 += 'u'                                                            # STEP 115
fd0 = os0.open(path0, os.O_CREAT)                                      # STEP 116
bytes3 = 0                                                             # STEP 117
bytes0 += 1                                                            # STEP 118
path3 += "/" + component4                                              # STEP 119
result = os0.path.dirname(path0)                                       # STEP 120
os0.symlink(path4,path2)                                               # STEP 121
result = file0.readline(bytes4)                                        # STEP 122
component4 = "c"                                                       # STEP 123
result = file0.read(bytes0)                                            # STEP 124
stat4 = os0.lstat(path3)                                               # STEP 125
str4 += 'm'                                                            # STEP 126
path1 += "/" + component2                                              # STEP 127
os0.link(path4,path4)                                                  # STEP 128
result = os0.path.exists(path1)                                        # STEP 129
os0.link(path3,path4)                                                  # STEP 130
result = os0.path.dirname(path4)                                       # STEP 131
str0 += 'y'                                                            # STEP 132
path4 += "/" + component2                                              # STEP 133
result = file0.readline(bytes0)                                        # STEP 134
stat4 = os0.stat(path1)                                                # STEP 135
str0 += 'n'                                                            # STEP 136
stat3 = os0.stat(path1)                                                # STEP 137
stat0 = os0.lstat(path1)                                               # STEP 138
str0 += 'y'                                                            # STEP 139
str4 += 'w'                                                            # STEP 140
str4 += 'a'                                                            # STEP 141
str3 += 's'                                                            # STEP 142
os0.link(path2,path0)                                                  # STEP 143
result = file0.read(bytes3)                                            # STEP 144
os0.remove(path4)                                                      # STEP 145
os0.link(path4,path2)                                                  # STEP 146
stat4 = os0.stat(path0)                                                # STEP 147
str3 += 'c'                                                            # STEP 148
os0.makedirs(path1)                                                    # STEP 149
path1 += "/" + component0                                              # STEP 150
path4 += "/" + component4                                              # STEP 151
result = os0.path.exists(path4)                                        # STEP 152
os0.remove(path1)                                                      # STEP 153
stat0 = os0.lstat(path3)                                               # STEP 154
component2 = "omega"                                                   # STEP 155
str3 += 'y'                                                            # STEP 156
result = os0.readlink(path4)                                           # STEP 157
component0 = "alpha"                                                   # STEP 158
os0.mkdir(path4)                                                       # STEP 159
path1 += "/" + component0                                              # STEP 160
os0.mkdir(path1)                                                       # STEP 161
str0 += 'h'                                                            # STEP 162
file0.seek(bytes2)                                                     # STEP 163
path4 += "/" + component2                                              # STEP 164
str0 += 'y'                                                            # STEP 165
component2 = "d"                                                       # STEP 166
stat2 = os0.stat(path0)                                                # STEP 167
result = os0.readlink(path0)                                           # STEP 168
str4 += 'y'                                                            # STEP 169
path0 += "/" + component2                                              # STEP 170
result = file0.readlines()                                             # STEP 171
result = os0.path.exists(path0)                                        # STEP 172
str4 += 'l'                                                            # STEP 173
os0.link(path0,path0)                                                  # STEP 174
result = os0.path.lexists(path2)                                       # STEP 175
str4 += 'a'                                                            # STEP 176
component2 = "beta"                                                    # STEP 177
os0.rename(path1,path4)                                                # STEP 178
str3 += 's'                                                            # STEP 179
path0 += "/" + component0                                              # STEP 180
os0.remove(path3)                                                      # STEP 181
os0.write(fd0,str0)                                                    # STEP 182
os0.rename(path4,path0)                                                # STEP 183
os0.remove(path1)                                                      # STEP 184
path1 += "/" + component1                                              # STEP 185
str3 += 'i'                                                            # STEP 186
str2 += 'm'                                                            # STEP 187
str3 += 's'                                                            # STEP 188
os0.remove(path2)                                                      # STEP 189
str3 += 't'                                                            # STEP 190
path1 += "/" + component3                                              # STEP 191
component3 = "b"                                                       # STEP 192
str2 += 'd'                                                            # STEP 193
component0 = "gamma"                                                   # STEP 194
result = stat2.st_size                                                 # STEP 195
ERROR: (<type 'exceptions.AssertionError'>, AssertionError(' (0) == (6) ',), <traceback object at 0x1081f1638>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 21881, in act459
    try: assert result == result_REF, " (%s) == (%s) " % (result, result_REF)
FAILURE IS NEW, STORING; NOW 2 DISTINCT FAILURES
UNCAUGHT EXCEPTION
ERROR: (<type 'exceptions.AssertionError'>, AssertionError(' () == (\x00\x00) ',), <traceback object at 0x10680f170>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 16086, in act372
    try: assert result == result_REF, " (%s) == (%s) " % (result, result_REF)
Original test has 293 steps

SAVING TEST AS failure.4452.test.2
FINAL VERSION OF TEST, WITH LOGGED REPLAY:
component3 = "lambda"                                                    # STEP 0
component2 = "d"                                                         # STEP 1
component4 = "d"                                                         # STEP 2
component0 = "e"                                                         # STEP 3
path1 = "/Volumes/ramdisk/test"                                          # STEP 4
component1 = "phi"                                                       # STEP 5
path1 += "/" + component3                                                # STEP 6
component3 = "alpha"                                                     # STEP 7
bytes4 = 0                                                               # STEP 8
os0 = newFakeOS()                                                        # STEP 9
fd0 = os0.open(path1, os.O_RDONLY)                                      # STEP 10
stat1 = os0.lstat(path1)                                                # STEP 11
stat1 = os0.stat(path1)                                                 # STEP 12
stat4 = os0.lstat(path1)                                                # STEP 13
bytes4 += 1                                                             # STEP 14
fd0 = os0.open(path1, os.O_WRONLY | os.O_APPEND)                        # STEP 15
bytes2 = 0                                                              # STEP 16
str4 = ""                                                               # STEP 17
str2 = ""                                                               # STEP 18
opener0 = newFakeOpener(os0)                                            # STEP 19
str2 += 'z'                                                             # STEP 20
str4 += 'w'                                                             # STEP 21
os0.makedirs(path1)                                                     # STEP 22
bytes1 = 0                                                              # STEP 23
stat2 = os0.stat(path1)                                                 # STEP 24
str2 += 'u'                                                             # STEP 25
str2 += 'r'                                                             # STEP 26
str4 += 'g'                                                             # STEP 27
bytes4 = 0                                                              # STEP 28
str2 += 'w'                                                             # STEP 29
path2 = "/Volumes/ramdisk/test"                                         # STEP 30
path0 = "/Volumes/ramdisk/test"                                         # STEP 31
str4 += 'a'                                                             # STEP 32
os0.makedirs(path0)                                                     # STEP 33
result = os0.path.dirname(path1)                                        # STEP 34
os0.link(path0,path1)                                                   # STEP 35
bytes0 = 0                                                              # STEP 36
stat1 = os0.lstat(path1)                                                # STEP 37
result = os0.path.abspath(path0)                                        # STEP 38
str2 += 'h'                                                             # STEP 39
stat4 = os0.stat(path1)                                                 # STEP 40
result = os0.path.isfile(path1)                                         # STEP 41
bytes2 += 1                                                             # STEP 42
os0.makedirs(path2)                                                     # STEP 43
path2 += "/" + component3                                               # STEP 44
os0.remove(path2)                                                       # STEP 45
component3 = "epsilon"                                                  # STEP 46
path0 += "/" + component0                                               # STEP 47
os0.rename(path0,path1)                                                 # STEP 48
os0.link(path2,path1)                                                   # STEP 49
str2 += " "                                                             # STEP 50
fd0 = os0.open(path0, os.O_CREAT)                                       # STEP 51
file0 = opener0(path0,'w')                                              # STEP 52
os0.rename(path0,path1)                                                 # STEP 53
os0.removedirs(path0)                                                   # STEP 54
os0.symlink(path0,path0)                                                # STEP 55
str2 = ""                                                               # STEP 56
file0.seek(bytes1)                                                      # STEP 57
str4 += 'x'                                                             # STEP 58
os0.mkdir(path1)                                                        # STEP 59
os0.symlink(path1,path0)                                                # STEP 60
bytes2 += 1                                                             # STEP 61
result = os0.path.dirname(path1)                                        # STEP 62
path0 += "/" + component3                                               # STEP 63
file0.flush()                                                           # STEP 64
result = os0.path.dirname(path0)                                        # STEP 65
str3 = ""                                                               # STEP 66
str2 += 'x'                                                             # STEP 67
str2 += 'r'                                                             # STEP 68
path0 += "/" + component0                                               # STEP 69
path0 = "/Volumes/ramdisk/test"                                         # STEP 70
str3 += 'g'                                                             # STEP 71
result = file0.read()                                                   # STEP 72
os0.removedirs(path2)                                                   # STEP 73
str3 += 'p'                                                             # STEP 74
str3 += " "                                                             # STEP 75
result = os0.readlink(path0)                                            # STEP 76
os0.symlink(path2,path0)                                                # STEP 77
str4 += 'r'                                                             # STEP 78
result = os0.path.isfile(path2)                                         # STEP 79
path3 = "/Volumes/ramdisk/test"                                         # STEP 80
str4 += 'm'                                                             # STEP 81
component3 = "g"                                                        # STEP 82
str1 = ""                                                               # STEP 83
component0 = "h"                                                        # STEP 84
path1 = "/Volumes/ramdisk/test"                                         # STEP 85
stat3 = os0.stat(path2)                                                 # STEP 86
os0.symlink(path2,path1)                                                # STEP 87
os0.removedirs(path3)                                                   # STEP 88
bytes0 += 1                                                             # STEP 89
result = os0.path.dirname(path1)                                        # STEP 90
stat3 = os0.lstat(path2)                                                # STEP 91
str3 += 'n'                                                             # STEP 92
str1 += 'd'                                                             # STEP 93
str4 += 'v'                                                             # STEP 94
os0.link(path0,path3)                                                   # STEP 95
str1 += 'd'                                                             # STEP 96
result = os0.path.abspath(path3)                                        # STEP 97
os0.rename(path2,path1)                                                 # STEP 98
os0.mkdir(path3)                                                        # STEP 99
path2 += "/" + component0                                              # STEP 100
result = file0.readline(bytes4)                                        # STEP 101
os0.link(path2,path2)                                                  # STEP 102
str1 += 't'                                                            # STEP 103
str3 += 'i'                                                            # STEP 104
os0.link(path0,path0)                                                  # STEP 105
str1 += 'e'                                                            # STEP 106
str2 += 'o'                                                            # STEP 107
str2 += 'f'                                                            # STEP 108
file0.flush()                                                          # STEP 109
bytes0 += 1                                                            # STEP 110
str3 += 'k'                                                            # STEP 111
str4 += 'y'                                                            # STEP 112
str3 += 'l'                                                            # STEP 113
str4 += 'b'                                                            # STEP 114
str3 += 'w'                                                            # STEP 115
str2 += 'b'                                                            # STEP 116
file0.seek(bytes4)                                                     # STEP 117
str3 += 'b'                                                            # STEP 118
os0.rename(path2,path1)                                                # STEP 119
str4 += 'w'                                                            # STEP 120
str3 += " "                                                            # STEP 121
str3 += 'p'                                                            # STEP 122
str1 = ""                                                              # STEP 123
path1 += "/" + component3                                              # STEP 124
os0.makedirs(path3)                                                    # STEP 125
str4 += 'o'                                                            # STEP 126
bytes1 += 1                                                            # STEP 127
str1 += 'm'                                                            # STEP 128
component3 = "d"                                                       # STEP 129
str1 += 'j'                                                            # STEP 130
stat0 = os0.stat(path1)                                                # STEP 131
str3 += 'b'                                                            # STEP 132
file0.flush()                                                          # STEP 133
stat0 = os0.lstat(path1)                                               # STEP 134
result = os0.read(fd0,bytes1)                                          # STEP 135
str3 += 'u'                                                            # STEP 136
str4 += 'j'                                                            # STEP 137
str1 += 'l'                                                            # STEP 138
os0.link(path0,path3)                                                  # STEP 139
str2 += 'q'                                                            # STEP 140
path0 += "/" + component3                                              # STEP 141
result = sorted(os0.listdir(path1))                                    # STEP 142
os0.removedirs(path1)                                                  # STEP 143
stat3 = os0.lstat(path2)                                               # STEP 144
component3 = "g"                                                       # STEP 145
file0.seek(bytes0)                                                     # STEP 146
str4 += 'e'                                                            # STEP 147
str4 += " "                                                            # STEP 148
os0.symlink(path0,path0)                                               # STEP 149
os0.link(path0,path2)                                                  # STEP 150
path2 += "/" + component2                                              # STEP 151
os0.symlink(path2,path0)                                               # STEP 152
os0.rename(path2,path1)                                                # STEP 153
result = os0.path.islink(path3)                                        # STEP 154
str2 += 'a'                                                            # STEP 155
os0.write(fd0,str1)                                                    # STEP 156
component0 = "delta"                                                   # STEP 157
os0.makedirs(path1)                                                    # STEP 158
str1 += 'a'                                                            # STEP 159
str2 += 'z'                                                            # STEP 160
file0.write(str4)                                                      # STEP 161
str3 += 'd'                                                            # STEP 162
os0.link(path1,path3)                                                  # STEP 163
os0.symlink(path3,path3)                                               # STEP 164
str4 += 'e'                                                            # STEP 165
str2 += 'y'                                                            # STEP 166
str1 = ""                                                              # STEP 167
bytes2 = 0                                                             # STEP 168
component2 = "c"                                                       # STEP 169
os0.symlink(path1,path0)                                               # STEP 170
path2 = "/Volumes/ramdisk/test"                                        # STEP 171
os0.mkdir(path2)                                                       # STEP 172
str3 += 'p'                                                            # STEP 173
os0.rename(path1,path0)                                                # STEP 174
str4 += 'e'                                                            # STEP 175
str2 += 'p'                                                            # STEP 176
str1 += 'r'                                                            # STEP 177
os0.mkdir(path1)                                                       # STEP 178
os0.removedirs(path3)                                                  # STEP 179
result = file0.read(bytes0)                                            # STEP 180
result = os0.path.isdir(path3)                                         # STEP 181
result = sorted(os0.listdir(path2))                                    # STEP 182
result = file0.read(bytes4)                                            # STEP 183
bytes4 = 0                                                             # STEP 184
os0.symlink(path0,path1)                                               # STEP 185
str4 += 'v'                                                            # STEP 186
os0.link(path3,path1)                                                  # STEP 187
result = os0.path.islink(path0)                                        # STEP 188
str1 += 'i'                                                            # STEP 189
os0.removedirs(path0)                                                  # STEP 190
str1 += 'o'                                                            # STEP 191
bytes3 = 0                                                             # STEP 192
result = sorted(os0.listdir(path0))                                    # STEP 193
os0.write(fd0,str4)                                                    # STEP 194
str2 += 'c'                                                            # STEP 195
os0.rename(path0,path3)                                                # STEP 196
str1 += " "                                                            # STEP 197
str2 += 't'                                                            # STEP 198
file0.write(str1)                                                      # STEP 199
str1 += 'b'                                                            # STEP 200
result = os0.path.lexists(path0)                                       # STEP 201
result = os0.path.exists(path0)                                        # STEP 202
os0.link(path3,path3)                                                  # STEP 203
str4 += 'b'                                                            # STEP 204
str2 += 'h'                                                            # STEP 205
result = os0.path.dirname(path1)                                       # STEP 206
os0.removedirs(path3)                                                  # STEP 207
bytes3 += 1                                                            # STEP 208
result = os0.path.isfile(path0)                                        # STEP 209
path0 += "/" + component2                                              # STEP 210
stat3 = os0.stat(path0)                                                # STEP 211
os0.makedirs(path0)                                                    # STEP 212
os0.makedirs(path2)                                                    # STEP 213
stat0 = os0.lstat(path0)                                               # STEP 214
component2 = "epsilon"                                                 # STEP 215
path3 += "/" + component3                                              # STEP 216
os0.symlink(path0,path3)                                               # STEP 217
str1 += 'k'                                                            # STEP 218
str3 += 'm'                                                            # STEP 219
os0.link(path2,path2)                                                  # STEP 220
result = sorted(os0.listdir(path2))                                    # STEP 221
result = os0.readlink(path1)                                           # STEP 222
result = os0.readlink(path2)                                           # STEP 223
str3 += 'c'                                                            # STEP 224
str1 += 'p'                                                            # STEP 225
str3 += 'b'                                                            # STEP 226
str4 += 'k'                                                            # STEP 227
str1 += 'c'                                                            # STEP 228
path0 += "/" + component3                                              # STEP 229
os0.path.getsize(path0)                                                # STEP 230
os0.symlink(path3,path2)                                               # STEP 231
bytes1 = 0                                                             # STEP 232
str4 += 'j'                                                            # STEP 233
path3 = "/Volumes/ramdisk/test"                                        # STEP 234
os0.mkdir(path1)                                                       # STEP 235
str2 += 'f'                                                            # STEP 236
str1 += 'g'                                                            # STEP 237
str3 += 'k'                                                            # STEP 238
result = os0.path.islink(path2)                                        # STEP 239
str3 = ""                                                              # STEP 240
path0 += "/" + component0                                              # STEP 241
path3 += "/" + component0                                              # STEP 242
str4 += 't'                                                            # STEP 243
bytes3 += 1                                                            # STEP 244
str1 += 'm'                                                            # STEP 245
result = file0.readline(bytes1)                                        # STEP 246
os0.remove(path0)                                                      # STEP 247
os0.rename(path0,path2)                                                # STEP 248
os0.link(path3,path3)                                                  # STEP 249
result = os0.path.lexists(path2)                                       # STEP 250
os0.removedirs(path1)                                                  # STEP 251
os0.remove(path0)                                                      # STEP 252
result = os0.path.dirname(path0)                                       # STEP 253
path1 = "/Volumes/ramdisk/test"                                        # STEP 254
str4 += 'f'                                                            # STEP 255
str1 += 'a'                                                            # STEP 256
stat0 = os0.lstat(path3)                                               # STEP 257
component0 = "d"                                                       # STEP 258
str3 += 'd'                                                            # STEP 259
str1 += 'a'                                                            # STEP 260
str4 += 'l'                                                            # STEP 261
str2 += 'p'                                                            # STEP 262
str3 += 'u'                                                            # STEP 263
os0.symlink(path1,path2)                                               # STEP 264
os0.rename(path0,path1)                                                # STEP 265
str2 += 'a'                                                            # STEP 266
str4 += 'z'                                                            # STEP 267
os0.symlink(path2,path2)                                               # STEP 268
component3 = "a"                                                       # STEP 269
path3 += "/" + component2                                              # STEP 270
os0.symlink(path2,path2)                                               # STEP 271
result = file0.readlines()                                             # STEP 272
path1 += "/" + component2                                              # STEP 273
str2 += 'f'                                                            # STEP 274
str4 += 'b'                                                            # STEP 275
file0.seek(bytes3)                                                     # STEP 276
file0.write(str1)                                                      # STEP 277
result = sorted(os0.listdir(path2))                                    # STEP 278
os0.link(path2,path2)                                                  # STEP 279
str3 = ""                                                              # STEP 280
str2 += 'd'                                                            # STEP 281
component2 = "h"                                                       # STEP 282
os0.rmdir(path1)                                                       # STEP 283
stat0 = os0.lstat(path3)                                               # STEP 284
result = file0.readline(bytes1)                                        # STEP 285
stat3 = os0.stat(path0)                                                # STEP 286
result = os0.read(fd0,bytes4)                                          # STEP 287
os0.symlink(path3,path3)                                               # STEP 288
stat3 = os0.stat(path1)                                                # STEP 289
os0.symlink(path2,path2)                                               # STEP 290
str2 += 'e'                                                            # STEP 291
result = os0.read(fd0,bytes0)                                          # STEP 292
ERROR: (<type 'exceptions.AssertionError'>, AssertionError(' () == (\x00\x00) ',), <traceback object at 0x106aca5f0>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 16086, in act372
    try: assert result == result_REF, " (%s) == (%s) " % (result, result_REF)
FAILURE IS NEW, STORING; NOW 3 DISTINCT FAILURES
TEST #107 STEP #0 (0:00:30.250543) Sat Jul 22 00:49:43 2017 [ 898 stmts 1168 branches ] 10524 TOTAL ACTIONS (347.894582985/s)
UNCAUGHT EXCEPTION
ERROR: (<type 'exceptions.AssertionError'>, AssertionError(' () == (w) ',), <traceback object at 0x104d28560>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 16374, in act376
    try: assert result == result_REF, " (%s) == (%s) " % (result, result_REF)
Original test has 215 steps

SAVING TEST AS failure.4452.test.3
FINAL VERSION OF TEST, WITH LOGGED REPLAY:
component3 = "lambda"                                                    # STEP 0
component2 = "d"                                                         # STEP 1
component4 = "d"                                                         # STEP 2
component0 = "e"                                                         # STEP 3
path1 = "/Volumes/ramdisk/test"                                          # STEP 4
component1 = "phi"                                                       # STEP 5
path1 += "/" + component3                                                # STEP 6
component3 = "alpha"                                                     # STEP 7
str4 = ""                                                                # STEP 8
str4 += 'i'                                                              # STEP 9
bytes4 = 0                                                              # STEP 10
str4 += 'i'                                                             # STEP 11
str4 += 'h'                                                             # STEP 12
str4 += 'v'                                                             # STEP 13
str4 += 'p'                                                             # STEP 14
os0 = newFakeOS()                                                       # STEP 15
fd0 = os0.open(path1, os.O_RDONLY)                                      # STEP 16
stat1 = os0.lstat(path1)                                                # STEP 17
stat1 = os0.stat(path1)                                                 # STEP 18
str4 += 'x'                                                             # STEP 19
stat4 = os0.lstat(path1)                                                # STEP 20
str4 += 'y'                                                             # STEP 21
bytes4 += 1                                                             # STEP 22
fd0 = os0.open(path1, os.O_WRONLY | os.O_APPEND)                        # STEP 23
bytes2 = 0                                                              # STEP 24
str4 = ""                                                               # STEP 25
str2 = ""                                                               # STEP 26
opener0 = newFakeOpener(os0)                                            # STEP 27
str2 += 'z'                                                             # STEP 28
str4 += 'w'                                                             # STEP 29
os0.makedirs(path1)                                                     # STEP 30
bytes1 = 0                                                              # STEP 31
stat2 = os0.stat(path1)                                                 # STEP 32
str2 += 'u'                                                             # STEP 33
str2 += 'r'                                                             # STEP 34
str4 += 'g'                                                             # STEP 35
bytes4 = 0                                                              # STEP 36
str2 += 'w'                                                             # STEP 37
path2 = "/Volumes/ramdisk/test"                                         # STEP 38
path0 = "/Volumes/ramdisk/test"                                         # STEP 39
str4 += 'a'                                                             # STEP 40
os0.makedirs(path0)                                                     # STEP 41
result = os0.path.dirname(path1)                                        # STEP 42
os0.link(path0,path1)                                                   # STEP 43
bytes0 = 0                                                              # STEP 44
stat1 = os0.lstat(path1)                                                # STEP 45
result = os0.path.abspath(path0)                                        # STEP 46
str2 += 'h'                                                             # STEP 47
stat4 = os0.stat(path1)                                                 # STEP 48
result = os0.path.isfile(path1)                                         # STEP 49
bytes2 += 1                                                             # STEP 50
os0.makedirs(path2)                                                     # STEP 51
path2 += "/" + component3                                               # STEP 52
os0.remove(path2)                                                       # STEP 53
component3 = "epsilon"                                                  # STEP 54
path0 += "/" + component0                                               # STEP 55
os0.rename(path0,path1)                                                 # STEP 56
os0.link(path2,path1)                                                   # STEP 57
str2 += " "                                                             # STEP 58
fd0 = os0.open(path0, os.O_CREAT)                                       # STEP 59
file0 = opener0(path0,'w')                                              # STEP 60
str4 += 'i'                                                             # STEP 61
bytes0 += 1                                                             # STEP 62
result = os0.path.islink(path2)                                         # STEP 63
str4 += 'h'                                                             # STEP 64
os0.remove(path2)                                                       # STEP 65
str4 += 'h'                                                             # STEP 66
file0.next()                                                            # STEP 67
result = file0.read(bytes0)                                             # STEP 68
path2 += "/" + component4                                               # STEP 69
str2 += 's'                                                             # STEP 70
component0 = "epsilon"                                                  # STEP 71
os0.makedirs(path1)                                                     # STEP 72
path1 += "/" + component2                                               # STEP 73
str4 += 'y'                                                             # STEP 74
component4 = "delta"                                                    # STEP 75
result = file0.readline(bytes1)                                         # STEP 76
os0.symlink(path2,path0)                                                # STEP 77
os0.link(path0,path1)                                                   # STEP 78
str4 += 'h'                                                             # STEP 79
result = file0.read(bytes2)                                             # STEP 80
os0.symlink(path0,path1)                                                # STEP 81
str4 += 'a'                                                             # STEP 82
result = file0.readline(bytes2)                                         # STEP 83
str3 = ""                                                               # STEP 84
result = file0.readline(bytes2)                                         # STEP 85
os0.symlink(path1,path0)                                                # STEP 86
os0.link(path2,path2)                                                   # STEP 87
file0.write(str4)                                                       # STEP 88
str2 += 'h'                                                             # STEP 89
os0.path.getsize(path1)                                                 # STEP 90
str4 += 'r'                                                             # STEP 91
path1 += "/" + component0                                               # STEP 92
str4 += 'i'                                                             # STEP 93
str4 += 'z'                                                             # STEP 94
str3 += 'r'                                                             # STEP 95
str3 += 'j'                                                             # STEP 96
stat0 = os0.lstat(path0)                                                # STEP 97
str2 += 's'                                                             # STEP 98
os0.link(path0,path1)                                                   # STEP 99
result = os0.readlink(path2)                                           # STEP 100
str4 += 'i'                                                            # STEP 101
bytes2 += 1                                                            # STEP 102
str3 += 'b'                                                            # STEP 103
path1 = "/Volumes/ramdisk/test"                                        # STEP 104
str3 += 'e'                                                            # STEP 105
str2 += 'y'                                                            # STEP 106
component0 = "lambda"                                                  # STEP 107
result = sorted(os0.listdir(path2))                                    # STEP 108
str3 += 'k'                                                            # STEP 109
bytes0 += 1                                                            # STEP 110
file0.next()                                                           # STEP 111
os0.link(path2,path0)                                                  # STEP 112
str1 = ""                                                              # STEP 113
os0.link(path2,path2)                                                  # STEP 114
str2 += 'j'                                                            # STEP 115
os0.symlink(path2,path0)                                               # STEP 116
str2 += 'w'                                                            # STEP 117
str3 += 'd'                                                            # STEP 118
str2 += 'c'                                                            # STEP 119
str1 += 'o'                                                            # STEP 120
component2 = "h"                                                       # STEP 121
result = os0.path.abspath(path1)                                       # STEP 122
str3 += 'j'                                                            # STEP 123
str2 += 'a'                                                            # STEP 124
str3 += 'y'                                                            # STEP 125
str4 += 'w'                                                            # STEP 126
path0 = "/Volumes/ramdisk/test"                                        # STEP 127
str3 += 't'                                                            # STEP 128
os0.link(path1,path0)                                                  # STEP 129
str4 += 'b'                                                            # STEP 130
str2 += 'z'                                                            # STEP 131
str1 += 'h'                                                            # STEP 132
path2 += "/" + component4                                              # STEP 133
str3 += 'n'                                                            # STEP 134
os0.mkdir(path0)                                                       # STEP 135
str4 += 'g'                                                            # STEP 136
component4 = "d"                                                       # STEP 137
os0.symlink(path0,path1)                                               # STEP 138
str2 += 'y'                                                            # STEP 139
result = os0.path.isfile(path0)                                        # STEP 140
result = os0.path.islink(path1)                                        # STEP 141
result = file0.read(bytes4)                                            # STEP 142
os0.link(path2,path1)                                                  # STEP 143
str2 += 'u'                                                            # STEP 144
str1 += 'g'                                                            # STEP 145
str4 += 'h'                                                            # STEP 146
str2 += 'f'                                                            # STEP 147
bytes2 += 1                                                            # STEP 148
str1 += 'p'                                                            # STEP 149
file0.seek(bytes2)                                                     # STEP 150
path0 += "/" + component1                                              # STEP 151
str1 += 'z'                                                            # STEP 152
result = os0.readlink(path2)                                           # STEP 153
str1 += 'n'                                                            # STEP 154
file0.write(str3)                                                      # STEP 155
file0.write(str4)                                                      # STEP 156
path0 += "/" + component4                                              # STEP 157
os0.path.getsize(path0)                                                # STEP 158
result = file0.readline(bytes1)                                        # STEP 159
str2 += 'm'                                                            # STEP 160
str4 += 'z'                                                            # STEP 161
str2 += 'j'                                                            # STEP 162
result = os0.path.isdir(path1)                                         # STEP 163
str1 += 'm'                                                            # STEP 164
str2 += 'j'                                                            # STEP 165
str3 += 'b'                                                            # STEP 166
os0.write(fd0,str1)                                                    # STEP 167
os0.makedirs(path0)                                                    # STEP 168
component1 = "phi"                                                     # STEP 169
str3 += 'j'                                                            # STEP 170
str4 += 'c'                                                            # STEP 171
result = os0.path.isdir(path2)                                         # STEP 172
component4 = "d"                                                       # STEP 173
os0.write(fd0,str4)                                                    # STEP 174
file0.write(str3)                                                      # STEP 175
os0.link(path2,path0)                                                  # STEP 176
file0.write(str4)                                                      # STEP 177
os0.write(fd0,str3)                                                    # STEP 178
str3 += 'g'                                                            # STEP 179
str4 += 's'                                                            # STEP 180
str2 += 's'                                                            # STEP 181
os0.mkdir(path0)                                                       # STEP 182
bytes2 += 1                                                            # STEP 183
str3 += 'r'                                                            # STEP 184
str1 += 'k'                                                            # STEP 185
os0.remove(path1)                                                      # STEP 186
os0.path.getsize(path2)                                                # STEP 187
os0.link(path2,path0)                                                  # STEP 188
path2 += "/" + component4                                              # STEP 189
str4 += 'a'                                                            # STEP 190
str2 += 'k'                                                            # STEP 191
path4 = "/Volumes/ramdisk/test"                                        # STEP 192
result = file0.read(bytes4)                                            # STEP 193
result = os0.path.isabs(path4)                                         # STEP 194
str2 += 'c'                                                            # STEP 195
str3 += 'x'                                                            # STEP 196
str4 += 'x'                                                            # STEP 197
str3 += 'u'                                                            # STEP 198
os0.rmdir(path0)                                                       # STEP 199
str1 += " "                                                            # STEP 200
os0.link(path0,path4)                                                  # STEP 201
result = os0.path.dirname(path2)                                       # STEP 202
str1 += " "                                                            # STEP 203
component4 = "phi"                                                     # STEP 204
result = os0.path.isfile(path4)                                        # STEP 205
os0.remove(path4)                                                      # STEP 206
bytes4 += 1                                                            # STEP 207
os0.rename(path2,path0)                                                # STEP 208
result = file0.readlines()                                             # STEP 209
str4 += 'b'                                                            # STEP 210
str4 += 'v'                                                            # STEP 211
result = sorted(os0.listdir(path4))                                    # STEP 212
result = os0.path.lexists(path2)                                       # STEP 213
result = os0.read(fd0,bytes4)                                          # STEP 214
ERROR: (<type 'exceptions.AssertionError'>, AssertionError(' () == (w) ',), <traceback object at 0x104f61878>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 16374, in act376
    try: assert result == result_REF, " (%s) == (%s) " % (result, result_REF)
FAILURE IS NEW, STORING; NOW 4 DISTINCT FAILURES
UNCAUGHT EXCEPTION
ERROR: (<type 'exceptions.AssertionError'>, AssertionError(' () == (wgai) ',), <traceback object at 0x108a10488>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 16230, in act374
    try: assert result == result_REF, " (%s) == (%s) " % (result, result_REF)
Original test has 212 steps

SAVING TEST AS failure.4452.test.4
FINAL VERSION OF TEST, WITH LOGGED REPLAY:
component3 = "lambda"                                                    # STEP 0
component2 = "d"                                                         # STEP 1
component4 = "d"                                                         # STEP 2
component0 = "e"                                                         # STEP 3
path1 = "/Volumes/ramdisk/test"                                          # STEP 4
component1 = "phi"                                                       # STEP 5
path1 += "/" + component3                                                # STEP 6
component3 = "alpha"                                                     # STEP 7
str4 = ""                                                                # STEP 8
str4 += 'i'                                                              # STEP 9
bytes4 = 0                                                              # STEP 10
str4 += 'i'                                                             # STEP 11
str4 += 'h'                                                             # STEP 12
str4 += 'v'                                                             # STEP 13
str4 += 'p'                                                             # STEP 14
os0 = newFakeOS()                                                       # STEP 15
fd0 = os0.open(path1, os.O_RDONLY)                                      # STEP 16
stat1 = os0.lstat(path1)                                                # STEP 17
stat1 = os0.stat(path1)                                                 # STEP 18
str4 += 'x'                                                             # STEP 19
stat4 = os0.lstat(path1)                                                # STEP 20
str4 += 'y'                                                             # STEP 21
bytes4 += 1                                                             # STEP 22
fd0 = os0.open(path1, os.O_WRONLY | os.O_APPEND)                        # STEP 23
bytes2 = 0                                                              # STEP 24
str4 = ""                                                               # STEP 25
str2 = ""                                                               # STEP 26
opener0 = newFakeOpener(os0)                                            # STEP 27
str2 += 'z'                                                             # STEP 28
str4 += 'w'                                                             # STEP 29
os0.makedirs(path1)                                                     # STEP 30
bytes1 = 0                                                              # STEP 31
stat2 = os0.stat(path1)                                                 # STEP 32
str2 += 'u'                                                             # STEP 33
str2 += 'r'                                                             # STEP 34
str4 += 'g'                                                             # STEP 35
bytes4 = 0                                                              # STEP 36
str2 += 'w'                                                             # STEP 37
path2 = "/Volumes/ramdisk/test"                                         # STEP 38
path0 = "/Volumes/ramdisk/test"                                         # STEP 39
str4 += 'a'                                                             # STEP 40
os0.makedirs(path0)                                                     # STEP 41
result = os0.path.dirname(path1)                                        # STEP 42
os0.link(path0,path1)                                                   # STEP 43
bytes0 = 0                                                              # STEP 44
stat1 = os0.lstat(path1)                                                # STEP 45
result = os0.path.abspath(path0)                                        # STEP 46
str2 += 'h'                                                             # STEP 47
stat4 = os0.stat(path1)                                                 # STEP 48
result = os0.path.isfile(path1)                                         # STEP 49
bytes2 += 1                                                             # STEP 50
os0.makedirs(path2)                                                     # STEP 51
path2 += "/" + component3                                               # STEP 52
os0.remove(path2)                                                       # STEP 53
component3 = "epsilon"                                                  # STEP 54
path0 += "/" + component0                                               # STEP 55
os0.rename(path0,path1)                                                 # STEP 56
os0.link(path2,path1)                                                   # STEP 57
str2 += " "                                                             # STEP 58
fd0 = os0.open(path0, os.O_CREAT)                                       # STEP 59
file0 = opener0(path0,'w')                                              # STEP 60
str4 += 'i'                                                             # STEP 61
bytes0 += 1                                                             # STEP 62
result = os0.path.islink(path2)                                         # STEP 63
str4 += 'h'                                                             # STEP 64
os0.remove(path2)                                                       # STEP 65
str4 += 'h'                                                             # STEP 66
file0.next()                                                            # STEP 67
result = file0.read(bytes0)                                             # STEP 68
path2 += "/" + component4                                               # STEP 69
str2 += 's'                                                             # STEP 70
component0 = "epsilon"                                                  # STEP 71
os0.makedirs(path1)                                                     # STEP 72
path1 += "/" + component2                                               # STEP 73
str4 += 'y'                                                             # STEP 74
component4 = "delta"                                                    # STEP 75
result = file0.readline(bytes1)                                         # STEP 76
os0.symlink(path2,path0)                                                # STEP 77
os0.link(path0,path1)                                                   # STEP 78
str4 += 'h'                                                             # STEP 79
result = file0.read(bytes2)                                             # STEP 80
os0.symlink(path0,path1)                                                # STEP 81
str4 += 'a'                                                             # STEP 82
result = file0.readline(bytes2)                                         # STEP 83
str3 = ""                                                               # STEP 84
result = file0.readline(bytes2)                                         # STEP 85
os0.symlink(path1,path0)                                                # STEP 86
file0.write(str4)                                                       # STEP 87
str2 += 'h'                                                             # STEP 88
os0.path.getsize(path1)                                                 # STEP 89
str4 += 'r'                                                             # STEP 90
path1 += "/" + component0                                               # STEP 91
str4 += 'i'                                                             # STEP 92
str4 += 'z'                                                             # STEP 93
str3 += 'r'                                                             # STEP 94
str3 += 'j'                                                             # STEP 95
stat0 = os0.lstat(path0)                                                # STEP 96
str2 += 's'                                                             # STEP 97
os0.link(path0,path1)                                                   # STEP 98
result = os0.readlink(path2)                                            # STEP 99
str4 += 'i'                                                            # STEP 100
bytes2 += 1                                                            # STEP 101
str3 += 'b'                                                            # STEP 102
path1 = "/Volumes/ramdisk/test"                                        # STEP 103
str3 += 'e'                                                            # STEP 104
str2 += 'y'                                                            # STEP 105
component0 = "lambda"                                                  # STEP 106
result = sorted(os0.listdir(path2))                                    # STEP 107
str3 += 'k'                                                            # STEP 108
bytes0 += 1                                                            # STEP 109
file0.next()                                                           # STEP 110
os0.link(path2,path0)                                                  # STEP 111
str1 = ""                                                              # STEP 112
os0.link(path2,path2)                                                  # STEP 113
str2 += 'j'                                                            # STEP 114
os0.symlink(path2,path0)                                               # STEP 115
str2 += 'w'                                                            # STEP 116
str3 += 'd'                                                            # STEP 117
str2 += 'c'                                                            # STEP 118
str1 += 'o'                                                            # STEP 119
component2 = "h"                                                       # STEP 120
str1 += 'f'                                                            # STEP 121
str3 += 'j'                                                            # STEP 122
str2 += 'a'                                                            # STEP 123
str3 += 'y'                                                            # STEP 124
str4 += 'w'                                                            # STEP 125
path0 = "/Volumes/ramdisk/test"                                        # STEP 126
str3 += 't'                                                            # STEP 127
os0.link(path1,path0)                                                  # STEP 128
str4 += 'b'                                                            # STEP 129
str2 += 'z'                                                            # STEP 130
str1 += 'h'                                                            # STEP 131
path2 += "/" + component4                                              # STEP 132
str3 += 'n'                                                            # STEP 133
os0.mkdir(path0)                                                       # STEP 134
str4 += 'g'                                                            # STEP 135
component4 = "d"                                                       # STEP 136
os0.symlink(path0,path1)                                               # STEP 137
str2 += 'y'                                                            # STEP 138
result = os0.path.isfile(path0)                                        # STEP 139
result = os0.path.islink(path1)                                        # STEP 140
result = file0.read(bytes4)                                            # STEP 141
os0.link(path2,path1)                                                  # STEP 142
str2 += 'u'                                                            # STEP 143
str1 += 'g'                                                            # STEP 144
str4 += 'h'                                                            # STEP 145
str2 += 'f'                                                            # STEP 146
bytes2 += 1                                                            # STEP 147
str1 += 'p'                                                            # STEP 148
file0.seek(bytes2)                                                     # STEP 149
path0 += "/" + component1                                              # STEP 150
str1 += 'z'                                                            # STEP 151
result = os0.readlink(path2)                                           # STEP 152
str1 += 'n'                                                            # STEP 153
file0.write(str3)                                                      # STEP 154
file0.write(str4)                                                      # STEP 155
path0 += "/" + component4                                              # STEP 156
os0.path.getsize(path0)                                                # STEP 157
result = file0.readline(bytes1)                                        # STEP 158
str2 += 'm'                                                            # STEP 159
str4 += 'z'                                                            # STEP 160
str2 += 'j'                                                            # STEP 161
result = os0.path.isdir(path1)                                         # STEP 162
str1 += 'm'                                                            # STEP 163
str2 += 'j'                                                            # STEP 164
str3 += 'b'                                                            # STEP 165
os0.write(fd0,str1)                                                    # STEP 166
os0.makedirs(path0)                                                    # STEP 167
component1 = "phi"                                                     # STEP 168
str3 += 'j'                                                            # STEP 169
str4 += 'c'                                                            # STEP 170
result = os0.path.isdir(path2)                                         # STEP 171
component4 = "d"                                                       # STEP 172
os0.write(fd0,str4)                                                    # STEP 173
file0.write(str3)                                                      # STEP 174
os0.link(path2,path0)                                                  # STEP 175
file0.write(str4)                                                      # STEP 176
os0.write(fd0,str3)                                                    # STEP 177
str3 += 'g'                                                            # STEP 178
str4 += 's'                                                            # STEP 179
str2 += 's'                                                            # STEP 180
os0.mkdir(path0)                                                       # STEP 181
bytes2 += 1                                                            # STEP 182
str3 += 'r'                                                            # STEP 183
str1 += 'k'                                                            # STEP 184
os0.remove(path1)                                                      # STEP 185
os0.path.getsize(path2)                                                # STEP 186
os0.link(path2,path0)                                                  # STEP 187
path2 += "/" + component4                                              # STEP 188
str4 += 'a'                                                            # STEP 189
str2 += 'k'                                                            # STEP 190
path4 = "/Volumes/ramdisk/test"                                        # STEP 191
result = file0.read(bytes4)                                            # STEP 192
result = os0.path.isabs(path4)                                         # STEP 193
str2 += 'c'                                                            # STEP 194
str3 += 'x'                                                            # STEP 195
str4 += 'x'                                                            # STEP 196
str3 += 'u'                                                            # STEP 197
os0.rmdir(path0)                                                       # STEP 198
result = os0.read(fd0,bytes4)                                          # STEP 199
str1 += 'z'                                                            # STEP 200
path0 += "/" + component3                                              # STEP 201
os0.link(path2,path0)                                                  # STEP 202
component3 = "b"                                                       # STEP 203
str3 += 'q'                                                            # STEP 204
path2 += "/" + component0                                              # STEP 205
result = sorted(os0.listdir(path2))                                    # STEP 206
result = os0.readlink(path4)                                           # STEP 207
file0.write(str1)                                                      # STEP 208
os0.rename(path0,path2)                                                # STEP 209
path4 += "/" + component3                                              # STEP 210
result = os0.read(fd0,bytes2)                                          # STEP 211
ERROR: (<type 'exceptions.AssertionError'>, AssertionError(' () == (wgai) ',), <traceback object at 0x10539fbd8>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 16230, in act374
    try: assert result == result_REF, " (%s) == (%s) " % (result, result_REF)
FAILURE IS NEW, STORING; NOW 5 DISTINCT FAILURES
UNCAUGHT EXCEPTION
ERROR: (<type 'exceptions.AssertionError'>, AssertionError(' () == (w) ',), <traceback object at 0x108e8d560>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 16086, in act372
    try: assert result == result_REF, " (%s) == (%s) " % (result, result_REF)
Original test has 174 steps

SAVING TEST AS failure.4452.test.5
FINAL VERSION OF TEST, WITH LOGGED REPLAY:
component3 = "lambda"                                                    # STEP 0
component2 = "d"                                                         # STEP 1
component4 = "d"                                                         # STEP 2
component0 = "e"                                                         # STEP 3
path1 = "/Volumes/ramdisk/test"                                          # STEP 4
component1 = "phi"                                                       # STEP 5
path1 += "/" + component3                                                # STEP 6
component3 = "alpha"                                                     # STEP 7
str4 = ""                                                                # STEP 8
str4 += 'i'                                                              # STEP 9
bytes4 = 0                                                              # STEP 10
str4 += 'i'                                                             # STEP 11
str4 += 'h'                                                             # STEP 12
str4 += 'v'                                                             # STEP 13
str4 += 'p'                                                             # STEP 14
os0 = newFakeOS()                                                       # STEP 15
fd0 = os0.open(path1, os.O_RDONLY)                                      # STEP 16
stat1 = os0.lstat(path1)                                                # STEP 17
stat1 = os0.stat(path1)                                                 # STEP 18
str4 += 'x'                                                             # STEP 19
stat4 = os0.lstat(path1)                                                # STEP 20
str4 += 'y'                                                             # STEP 21
bytes4 += 1                                                             # STEP 22
fd0 = os0.open(path1, os.O_WRONLY | os.O_APPEND)                        # STEP 23
bytes2 = 0                                                              # STEP 24
str4 = ""                                                               # STEP 25
str2 = ""                                                               # STEP 26
opener0 = newFakeOpener(os0)                                            # STEP 27
str2 += 'z'                                                             # STEP 28
str4 += 'w'                                                             # STEP 29
os0.makedirs(path1)                                                     # STEP 30
bytes1 = 0                                                              # STEP 31
stat2 = os0.stat(path1)                                                 # STEP 32
str2 += 'u'                                                             # STEP 33
str2 += 'r'                                                             # STEP 34
str4 += 'g'                                                             # STEP 35
bytes4 = 0                                                              # STEP 36
str2 += 'w'                                                             # STEP 37
path2 = "/Volumes/ramdisk/test"                                         # STEP 38
path0 = "/Volumes/ramdisk/test"                                         # STEP 39
str4 += 'a'                                                             # STEP 40
os0.makedirs(path0)                                                     # STEP 41
result = os0.path.dirname(path1)                                        # STEP 42
os0.link(path0,path1)                                                   # STEP 43
bytes0 = 0                                                              # STEP 44
stat1 = os0.lstat(path1)                                                # STEP 45
result = os0.path.abspath(path0)                                        # STEP 46
str2 += 'h'                                                             # STEP 47
stat4 = os0.stat(path1)                                                 # STEP 48
result = os0.path.isfile(path1)                                         # STEP 49
bytes2 += 1                                                             # STEP 50
os0.makedirs(path2)                                                     # STEP 51
path2 += "/" + component3                                               # STEP 52
os0.remove(path2)                                                       # STEP 53
component3 = "epsilon"                                                  # STEP 54
path0 += "/" + component0                                               # STEP 55
os0.rename(path0,path1)                                                 # STEP 56
os0.link(path2,path1)                                                   # STEP 57
str2 += " "                                                             # STEP 58
fd0 = os0.open(path0, os.O_CREAT)                                       # STEP 59
file0 = opener0(path0,'w')                                              # STEP 60
os0.rename(path0,path1)                                                 # STEP 61
bytes0 += 1                                                             # STEP 62
result = os0.path.islink(path2)                                         # STEP 63
str4 += 'h'                                                             # STEP 64
os0.remove(path2)                                                       # STEP 65
str4 += 'h'                                                             # STEP 66
file0.next()                                                            # STEP 67
result = file0.read(bytes0)                                             # STEP 68
path2 += "/" + component4                                               # STEP 69
str2 += 's'                                                             # STEP 70
component0 = "epsilon"                                                  # STEP 71
os0.makedirs(path1)                                                     # STEP 72
path1 += "/" + component2                                               # STEP 73
str4 += 'y'                                                             # STEP 74
component4 = "delta"                                                    # STEP 75
result = file0.readline(bytes1)                                         # STEP 76
os0.symlink(path2,path0)                                                # STEP 77
os0.link(path0,path1)                                                   # STEP 78
str4 += 'h'                                                             # STEP 79
result = file0.read(bytes2)                                             # STEP 80
os0.symlink(path0,path1)                                                # STEP 81
str4 += 'a'                                                             # STEP 82
result = file0.readline(bytes2)                                         # STEP 83
str3 = ""                                                               # STEP 84
result = file0.readline(bytes2)                                         # STEP 85
os0.symlink(path1,path0)                                                # STEP 86
os0.link(path2,path2)                                                   # STEP 87
file0.write(str4)                                                       # STEP 88
str2 += 'h'                                                             # STEP 89
os0.path.getsize(path1)                                                 # STEP 90
str4 += 'r'                                                             # STEP 91
path1 += "/" + component0                                               # STEP 92
str4 += 'i'                                                             # STEP 93
str4 += 'z'                                                             # STEP 94
str3 += 'r'                                                             # STEP 95
str3 += 'j'                                                             # STEP 96
stat0 = os0.lstat(path0)                                                # STEP 97
str2 += 's'                                                             # STEP 98
os0.link(path0,path1)                                                   # STEP 99
result = os0.readlink(path0)                                           # STEP 100
str4 += 'u'                                                            # STEP 101
str2 += 'c'                                                            # STEP 102
str3 += 'f'                                                            # STEP 103
os0.link(path1,path0)                                                  # STEP 104
str4 += 'q'                                                            # STEP 105
result = os0.readlink(path2)                                           # STEP 106
str4 += 'i'                                                            # STEP 107
result = stat0.st_size                                                 # STEP 108
os0.symlink(path0,path0)                                               # STEP 109
str2 += 'n'                                                            # STEP 110
str3 += 'o'                                                            # STEP 111
component2 = "f"                                                       # STEP 112
file0.truncate()                                                       # STEP 113
file0.seek(bytes1)                                                     # STEP 114
result = os0.path.islink(path1)                                        # STEP 115
result = os0.path.isfile(path0)                                        # STEP 116
os0.rmdir(path0)                                                       # STEP 117
str4 += 'l'                                                            # STEP 118
str3 += 'q'                                                            # STEP 119
os0.link(path0,path0)                                                  # STEP 120
str3 += 'w'                                                            # STEP 121
str3 += 'd'                                                            # STEP 122
stat3 = os0.lstat(path2)                                               # STEP 123
result = os0.path.lexists(path2)                                       # STEP 124
result = os0.read(fd0,bytes4)                                          # STEP 125
result = os0.path.abspath(path1)                                       # STEP 126
result = stat0.st_size                                                 # STEP 127
component0 = "epsilon"                                                 # STEP 128
str3 += 'n'                                                            # STEP 129
os0.link(path2,path2)                                                  # STEP 130
str3 += 'g'                                                            # STEP 131
path1 += "/" + component0                                              # STEP 132
str3 += 'r'                                                            # STEP 133
component0 = "phi"                                                     # STEP 134
str3 += 'o'                                                            # STEP 135
str2 += 'g'                                                            # STEP 136
path2 += "/" + component1                                              # STEP 137
result = file0.read()                                                  # STEP 138
os0.rename(path0,path2)                                                # STEP 139
result = os0.read(fd0,bytes1)                                          # STEP 140
result = file0.readlines()                                             # STEP 141
str3 += 'o'                                                            # STEP 142
str3 += 'a'                                                            # STEP 143
os0.write(fd0,str4)                                                    # STEP 144
os0.link(path2,path2)                                                  # STEP 145
str2 += 'p'                                                            # STEP 146
component1 = "b"                                                       # STEP 147
os0.write(fd0,str3)                                                    # STEP 148
str3 += " "                                                            # STEP 149
str4 += 'a'                                                            # STEP 150
os0.rename(path0,path1)                                                # STEP 151
str4 += 'j'                                                            # STEP 152
file0.seek(bytes0)                                                     # STEP 153
result = os0.path.exists(path0)                                        # STEP 154
str2 += 'd'                                                            # STEP 155
result = os0.path.exists(path0)                                        # STEP 156
str3 += 'h'                                                            # STEP 157
result = sorted(os0.listdir(path0))                                    # STEP 158
str3 += 'i'                                                            # STEP 159
str2 += 't'                                                            # STEP 160
result = file0.readline()                                              # STEP 161
path2 += "/" + component1                                              # STEP 162
str2 += 'k'                                                            # STEP 163
result = os0.path.dirname(path1)                                       # STEP 164
stat3 = os0.stat(path1)                                                # STEP 165
result = os0.path.islink(path2)                                        # STEP 166
result = file0.readline(bytes0)                                        # STEP 167
result = os0.read(fd0,bytes4)                                          # STEP 168
os0.makedirs(path2)                                                    # STEP 169
result = os0.path.lexists(path1)                                       # STEP 170
bytes2 += 1                                                            # STEP 171
result = sorted(os0.listdir(path0))                                    # STEP 172
result = os0.read(fd0,bytes0)                                          # STEP 173
ERROR: (<type 'exceptions.AssertionError'>, AssertionError(' () == (w) ',), <traceback object at 0x1063e7710>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 16086, in act372
    try: assert result == result_REF, " (%s) == (%s) " % (result, result_REF)
FAILURE IS NEW, STORING; NOW 6 DISTINCT FAILURES
UNCAUGHT EXCEPTION
ERROR: (<type 'exceptions.AssertionError'>, AssertionError(' (0) == (6) ',), <traceback object at 0x1067ec5a8>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 21826, in act458
    try: assert result == result_REF, " (%s) == (%s) " % (result, result_REF)
Original test has 106 steps

SAVING TEST AS failure.4452.test.6
FINAL VERSION OF TEST, WITH LOGGED REPLAY:
component0 = "a"                                                         # STEP 0
bytes3 = 0                                                               # STEP 1
component4 = "a"                                                         # STEP 2
component1 = "delta"                                                     # STEP 3
component2 = "phi"                                                       # STEP 4
os0 = newFakeOS()                                                        # STEP 5
opener0 = newFakeOpener(os0)                                             # STEP 6
component3 = "a"                                                         # STEP 7
path0 = "/Volumes/ramdisk/test"                                          # STEP 8
path2 = "/Volumes/ramdisk/test"                                          # STEP 9
result = os0.path.isabs(path2)                                          # STEP 10
result = os0.path.abspath(path2)                                        # STEP 11
os0.makedirs(path0)                                                     # STEP 12
result = os0.path.exists(path0)                                         # STEP 13
str4 = ""                                                               # STEP 14
os0.mkdir(path0)                                                        # STEP 15
str4 += 't'                                                             # STEP 16
os0.symlink(path0,path0)                                                # STEP 17
str0 = ""                                                               # STEP 18
str4 += 'r'                                                             # STEP 19
str4 += " "                                                             # STEP 20
str0 += 'y'                                                             # STEP 21
path1 = "/Volumes/ramdisk/test"                                         # STEP 22
result = os0.path.islink(path1)                                         # STEP 23
str4 += 'k'                                                             # STEP 24
file0 = opener0(path0)                                                  # STEP 25
result = os0.path.isabs(path0)                                          # STEP 26
path0 += "/" + component3                                               # STEP 27
component3 = "a"                                                        # STEP 28
str0 += 'h'                                                             # STEP 29
str4 += 'h'                                                             # STEP 30
file0 = opener0(path0,'w')                                              # STEP 31
str4 += 'r'                                                             # STEP 32
result = file0.read()                                                   # STEP 33
str0 += 'o'                                                             # STEP 34
fd0 = os0.open(path0, os.O_CREAT | os.O_WRONLY | os.O_EXCL)             # STEP 35
path4 = "/Volumes/ramdisk/test"                                         # STEP 36
result = os0.path.lexists(path1)                                        # STEP 37
file0.write(str4)                                                       # STEP 38
result = os0.path.isdir(path1)                                          # STEP 39
os0.mkdir(path0)                                                        # STEP 40
str0 = ""                                                               # STEP 41
str4 += 'b'                                                             # STEP 42
os0.link(path0,path4)                                                   # STEP 43
file0.seek(bytes3)                                                      # STEP 44
os0.link(path4,path2)                                                   # STEP 45
str4 += 'c'                                                             # STEP 46
result = os0.path.abspath(path2)                                        # STEP 47
bytes4 = 0                                                              # STEP 48
path3 = "/Volumes/ramdisk/test"                                         # STEP 49
bytes1 = 0                                                              # STEP 50
str0 += 'y'                                                             # STEP 51
os0.remove(path1)                                                       # STEP 52
os0.mkdir(path0)                                                        # STEP 53
str0 += 'f'                                                             # STEP 54
str4 += 'u'                                                             # STEP 55
fd0 = os0.open(path0, os.O_CREAT)                                       # STEP 56
result = os0.path.abspath(path1)                                        # STEP 57
str4 += 'a'                                                             # STEP 58
str4 += 'w'                                                             # STEP 59
os0.rename(path0,path1)                                                 # STEP 60
result = os0.readlink(path1)                                            # STEP 61
stat1 = os0.stat(path0)                                                 # STEP 62
result = file0.read(bytes3)                                             # STEP 63
os0.symlink(path2,path4)                                                # STEP 64
file0.write(str4)                                                       # STEP 65
stat0 = os0.stat(path0)                                                 # STEP 66
str0 += 'd'                                                             # STEP 67
str4 += 'j'                                                             # STEP 68
os0.mkdir(path0)                                                        # STEP 69
str0 += 's'                                                             # STEP 70
path1 += "/" + component0                                               # STEP 71
os0.makedirs(path2)                                                     # STEP 72
str0 = ""                                                               # STEP 73
component0 = "f"                                                        # STEP 74
path3 += "/" + component4                                               # STEP 75
os0.symlink(path0,path3)                                                # STEP 76
os0.rmdir(path3)                                                        # STEP 77
result = os0.path.abspath(path2)                                        # STEP 78
result = os0.path.exists(path3)                                         # STEP 79
os0.symlink(path1,path4)                                                # STEP 80
stat4 = os0.lstat(path3)                                                # STEP 81
result = file0.read(bytes3)                                             # STEP 82
stat3 = os0.lstat(path1)                                                # STEP 83
result = os0.path.isabs(path2)                                          # STEP 84
str4 += 'f'                                                             # STEP 85
os0.rename(path0,path2)                                                 # STEP 86
os0.link(path2,path0)                                                   # STEP 87
result = os0.path.isabs(path3)                                          # STEP 88
os0.symlink(path0,path1)                                                # STEP 89
path1 = "/Volumes/ramdisk/test"                                         # STEP 90
os0.link(path1,path3)                                                   # STEP 91
path1 += "/" + component2                                               # STEP 92
result = os0.path.lexists(path0)                                        # STEP 93
os0.link(path0,path4)                                                   # STEP 94
result = os0.path.islink(path3)                                         # STEP 95
str0 += 'm'                                                             # STEP 96
str2 = ""                                                               # STEP 97
result = sorted(os0.listdir(path2))                                     # STEP 98
str4 += 'h'                                                             # STEP 99
str2 += 'e'                                                            # STEP 100
os0.rename(path1,path4)                                                # STEP 101
result = file0.read(bytes1)                                            # STEP 102
path4 += "/" + component2                                              # STEP 103
os0.makedirs(path4)                                                    # STEP 104
result = stat1.st_size                                                 # STEP 105
ERROR: (<type 'exceptions.AssertionError'>, AssertionError(' (0) == (6) ',), <traceback object at 0x1043f8710>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 21826, in act458
    try: assert result == result_REF, " (%s) == (%s) " % (result, result_REF)
FAILURE IS NEW, STORING; NOW 7 DISTINCT FAILURES
STOPPING TEST DUE TO TIMEOUT, TERMINATED AT LENGTH 307
STOPPING TESTING DUE TO TIMEOUT
42.2891118543 PERCENT COVERED
60.5851659775 TOTAL RUNTIME
172 EXECUTED
16775 TOTAL TEST OPERATIONS
23.6127238274 TIME SPENT EXECUTING TEST OPERATIONS
0.581502437592 TIME SPENT EVALUATING GUARDS AND CHOOSING ACTIONS
0.0114097595215 TIME SPENT CHECKING PROPERTIES
23.6241335869 TOTAL TIME SPENT RUNNING SUT
0.50394821167 TIME SPENT RESTARTING
0.0 TIME SPENT REDUCING TEST CASES
7 FAILED
0 REPEATS OF FAILURES
7 ACTUAL DISTINCT FAILURES

FAILURE 0
component2 = "d"                                                         # STEP 0
component0 = "phi"                                                       # STEP 1
component3 = "alpha"                                                     # STEP 2
component1 = "beta"                                                      # STEP 3
component4 = "a"                                                         # STEP 4
path4 = "/Volumes/ramdisk/test"                                          # STEP 5
path4 += "/" + component4                                                # STEP 6
path4 += "/" + component2                                                # STEP 7
path4 += "/" + component2                                                # STEP 8
bytes1 = 0                                                               # STEP 9
component4 = "f"                                                        # STEP 10
component2 = "f"                                                        # STEP 11
path3 = "/Volumes/ramdisk/test"                                         # STEP 12
bytes0 = 0                                                              # STEP 13
path0 = "/Volumes/ramdisk/test"                                         # STEP 14
str1 = ""                                                               # STEP 15
path3 += "/" + component4                                               # STEP 16
str1 += 'y'                                                             # STEP 17
str1 = ""                                                               # STEP 18
component4 = "gamma"                                                    # STEP 19
path0 += "/" + component1                                               # STEP 20
path0 += "/" + component3                                               # STEP 21
str1 += 'y'                                                             # STEP 22
bytes4 = 0                                                              # STEP 23
bytes1 += 1                                                             # STEP 24
component1 = "h"                                                        # STEP 25
component3 = "alpha"                                                    # STEP 26
bytes1 += 1                                                             # STEP 27
str1 += 'b'                                                             # STEP 28
str1 += 'm'                                                             # STEP 29
os0 = newFakeOS()                                                       # STEP 30
stat3 = os0.stat(path0)                                                 # STEP 31
stat0 = os0.stat(path3)                                                 # STEP 32
os0.link(path0,path0)                                                   # STEP 33
fd0 = os0.open(path3, os.O_CREAT | os.O_WRONLY | os.O_EXCL)             # STEP 34
path4 += "/" + component4                                               # STEP 35
str2 = ""                                                               # STEP 36
os0.rmdir(path4)                                                        # STEP 37
os0.makedirs(path4)                                                     # STEP 38
str2 += 'i'                                                             # STEP 39
str2 += 's'                                                             # STEP 40
str1 += 'c'                                                             # STEP 41
str1 += 'k'                                                             # STEP 42
str2 += 'p'                                                             # STEP 43
str1 += 'd'                                                             # STEP 44
str1 += 's'                                                             # STEP 45
stat0 = os0.lstat(path3)                                                # STEP 46
os0.rename(path0,path4)                                                 # STEP 47
os0.makedirs(path3)                                                     # STEP 48
str4 = ""                                                               # STEP 49
str2 += 'q'                                                             # STEP 50
str4 += 's'                                                             # STEP 51
result = os0.path.lexists(path4)                                        # STEP 52
os0.rename(path4,path0)                                                 # STEP 53
os0.symlink(path4,path4)                                                # STEP 54
str1 += 'i'                                                             # STEP 55
str4 += 'd'                                                             # STEP 56
str1 += 'z'                                                             # STEP 57
result = os0.path.isfile(path3)                                         # STEP 58
os0.mkdir(path4)                                                        # STEP 59
result = os0.path.lexists(path4)                                        # STEP 60
path3 += "/" + component3                                               # STEP 61
str4 += 'z'                                                             # STEP 62
str4 += 'a'                                                             # STEP 63
os0.rename(path4,path3)                                                 # STEP 64
str2 += 'h'                                                             # STEP 65
opener0 = newFakeOpener(os0)                                            # STEP 66
str1 += 'o'                                                             # STEP 67
os0.makedirs(path4)                                                     # STEP 68
str2 += 'm'                                                             # STEP 69
os0.link(path3,path4)                                                   # STEP 70
str2 += 'z'                                                             # STEP 71
str1 += 'q'                                                             # STEP 72
component3 = "a"                                                        # STEP 73
os0.makedirs(path3)                                                     # STEP 74
str2 += 'g'                                                             # STEP 75
file0 = opener0(path3,'r')                                              # STEP 76
component4 = "d"                                                        # STEP 77
stat2 = os0.lstat(path3)                                                # STEP 78
result = os0.path.lexists(path4)                                        # STEP 79
str2 += " "                                                             # STEP 80
str4 += 'w'                                                             # STEP 81
os0.removedirs(path3)                                                   # STEP 82
file0 = opener0(path3,'w')                                              # STEP 83
os0.link(path0,path3)                                                   # STEP 84
os0.link(path4,path4)                                                   # STEP 85
path3 += "/" + component4                                               # STEP 86
result = os0.path.lexists(path3)                                        # STEP 87
str2 += 's'                                                             # STEP 88
stat3 = os0.stat(path0)                                                 # STEP 89
str2 += 'b'                                                             # STEP 90
component4 = "alpha"                                                    # STEP 91
stat2 = os0.fstat(fd0)                                                  # STEP 92
path0 += "/" + component4                                               # STEP 93
path0 += "/" + component2                                               # STEP 94
component2 = "e"                                                        # STEP 95
stat4 = os0.fstat(fd0)                                                  # STEP 96
os0.remove(path4)                                                       # STEP 97
str1 += 'o'                                                             # STEP 98
path3 += "/" + component0                                               # STEP 99
component4 = "d"                                                       # STEP 100
os0.symlink(path4,path3)                                               # STEP 101
str2 += 'c'                                                            # STEP 102
result = stat4.st_nlink                                                # STEP 103
result = stat2.st_nlink                                                # STEP 104
str2 += 'z'                                                            # STEP 105
result = sorted(os0.listdir(path0))                                    # STEP 106
str1 += 'w'                                                            # STEP 107
result = os0.path.islink(path4)                                        # STEP 108
os0.link(path0,path3)                                                  # STEP 109
path3 += "/" + component4                                              # STEP 110
result = os0.path.abspath(path3)                                       # STEP 111
str1 += 'u'                                                            # STEP 112
result = os0.path.isabs(path3)                                         # STEP 113
component4 = "g"                                                       # STEP 114
path4 = "/Volumes/ramdisk/test"                                        # STEP 115
str4 += 'r'                                                            # STEP 116
result = os0.path.lexists(path3)                                       # STEP 117
str2 = ""                                                              # STEP 118
str1 += 'r'                                                            # STEP 119
component0 = "c"                                                       # STEP 120
str0 = ""                                                              # STEP 121
path0 += "/" + component2                                              # STEP 122
component2 = "e"                                                       # STEP 123
os0.link(path4,path4)                                                  # STEP 124
result = os0.path.isabs(path3)                                         # STEP 125
path3 += "/" + component2                                              # STEP 126
os0.link(path4,path4)                                                  # STEP 127
component2 = "b"                                                       # STEP 128
str1 += 'w'                                                            # STEP 129
str2 += 'k'                                                            # STEP 130
result = os0.read(fd0,bytes4)                                          # STEP 131
str2 += 't'                                                            # STEP 132
stat4 = os0.stat(path3)                                                # STEP 133
result = os0.path.dirname(path0)                                       # STEP 134
result = stat0.st_nlink                                                # STEP 135
result = os0.read(fd0,bytes0)                                          # STEP 136
str4 += 'j'                                                            # STEP 137
stat2 = os0.lstat(path0)                                               # STEP 138
os0.link(path3,path3)                                                  # STEP 139
path4 += "/" + component1                                              # STEP 140
str4 += 'g'                                                            # STEP 141
str4 += 'm'                                                            # STEP 142
os0.close(fd0)                                                         # STEP 143
os0.symlink(path4,path4)                                               # STEP 144
path4 += "/" + component0                                              # STEP 145
fd0 = os0.open(path0, os.O_CREAT | os.O_WRONLY | os.O_TRUNC | os.O_EXCL)  # STEP 146
str0 += " "                                                            # STEP 147
str0 += 'r'                                                            # STEP 148
str1 += 'c'                                                            # STEP 149
os0.remove(path4)                                                      # STEP 150
str4 = ""                                                              # STEP 151
str1 += 'w'                                                            # STEP 152
component1 = "gamma"                                                   # STEP 153
bytes2 = 0                                                             # STEP 154
bytes4 = 0                                                             # STEP 155
os0.symlink(path4,path0)                                               # STEP 156
result = os0.path.lexists(path0)                                       # STEP 157
result = os0.path.exists(path4)                                        # STEP 158
str1 += 't'                                                            # STEP 159
str2 += 'e'                                                            # STEP 160
result = os0.path.isdir(path3)                                         # STEP 161
component0 = "g"                                                       # STEP 162
result = os0.path.isabs(path3)                                         # STEP 163
os0.write(fd0,str0)                                                    # STEP 164
str2 += 'u'                                                            # STEP 165
str0 += 's'                                                            # STEP 166
result = os0.path.isdir(path0)                                         # STEP 167
stat1 = os0.fstat(fd0)                                                 # STEP 168
os0.removedirs(path4)                                                  # STEP 169
result = os0.read(fd0,bytes2)                                          # STEP 170
result = os0.read(fd0,bytes1)                                          # STEP 171
str4 += 'g'                                                            # STEP 172
str1 += 'k'                                                            # STEP 173
file0 = opener0(path4,'a')                                             # STEP 174
str1 += 'i'                                                            # STEP 175
str1 += 'v'                                                            # STEP 176
result = os0.path.isfile(path4)                                        # STEP 177
os0.link(path4,path4)                                                  # STEP 178
str2 += 't'                                                            # STEP 179
bytes0 = 0                                                             # STEP 180
os0.symlink(path3,path3)                                               # STEP 181
os0.path.getsize(path0)                                                # STEP 182
os0.rmdir(path4)                                                       # STEP 183
result = os0.path.lexists(path4)                                       # STEP 184
stat0 = os0.stat(path3)                                                # STEP 185
str2 += 'o'                                                            # STEP 186
os0.link(path0,path3)                                                  # STEP 187
str4 += 'u'                                                            # STEP 188
stat1 = os0.lstat(path4)                                               # STEP 189
result = os0.read(fd0,bytes1)                                          # STEP 190
os0.makedirs(path0)                                                    # STEP 191
str2 += 't'                                                            # STEP 192
os0.remove(path0)                                                      # STEP 193
os0.path.getsize(path4)                                                # STEP 194
os0.makedirs(path4)                                                    # STEP 195
file0 = opener0(path0,'a')                                             # STEP 196
str2 += 'x'                                                            # STEP 197
result = os0.path.isabs(path3)                                         # STEP 198
path3 += "/" + component3                                              # STEP 199
result = stat0.st_nlink                                                # STEP 200
str4 += 't'                                                            # STEP 201
os0.link(path3,path0)                                                  # STEP 202
os0.rmdir(path3)                                                       # STEP 203
str0 += 'z'                                                            # STEP 204
str2 += 'z'                                                            # STEP 205
str2 += " "                                                            # STEP 206
result = stat0.st_size                                                 # STEP 207
result = os0.read(fd0,bytes0)                                          # STEP 208
str2 += 'p'                                                            # STEP 209
os0.link(path0,path3)                                                  # STEP 210
component3 = "gamma"                                                   # STEP 211
str2 += 'e'                                                            # STEP 212
stat0 = os0.stat(path4)                                                # STEP 213
file0 = opener0(path0)                                                 # STEP 214
stat1 = os0.stat(path0)                                                # STEP 215
path0 += "/" + component2                                              # STEP 216
os0.mkdir(path3)                                                       # STEP 217
str4 += 'w'                                                            # STEP 218
os0.rmdir(path0)                                                       # STEP 219
file0 = opener0(path3)                                                 # STEP 220
component2 = "f"                                                       # STEP 221
str4 += 'x'                                                            # STEP 222
file0 = opener0(path0,'w')                                             # STEP 223
os0.link(path3,path4)                                                  # STEP 224
os0.link(path4,path4)                                                  # STEP 225
os0.rename(path4,path0)                                                # STEP 226
os0.link(path0,path3)                                                  # STEP 227
file0.write(str4)                                                      # STEP 228
result = os0.path.islink(path0)                                        # STEP 229
result = os0.path.dirname(path0)                                       # STEP 230
str2 += 'd'                                                            # STEP 231
path3 += "/" + component3                                              # STEP 232
str0 += 'n'                                                            # STEP 233
str2 += 'w'                                                            # STEP 234
component3 = "a"                                                       # STEP 235
os0.rmdir(path3)                                                       # STEP 236
result = os0.path.abspath(path0)                                       # STEP 237
result = file0.read(bytes4)                                            # STEP 238
str4 += " "                                                            # STEP 239
str4 += 'j'                                                            # STEP 240
result = os0.path.dirname(path0)                                       # STEP 241
os0.rmdir(path0)                                                       # STEP 242
str1 = ""                                                              # STEP 243
str0 += 's'                                                            # STEP 244
str0 += 'c'                                                            # STEP 245
result = file0.readline(bytes2)                                        # STEP 246
path3 += "/" + component2                                              # STEP 247
str2 += " "                                                            # STEP 248
file0.write(str2)                                                      # STEP 249
str2 += 'i'                                                            # STEP 250
os0.link(path0,path3)                                                  # STEP 251
os0.link(path3,path3)                                                  # STEP 252
component2 = "g"                                                       # STEP 253
result = os0.path.isabs(path0)                                         # STEP 254
str2 += 'n'                                                            # STEP 255
result = os0.read(fd0,bytes4)                                          # STEP 256
result = file0.readline(bytes2)                                        # STEP 257
ERROR: (<type 'exceptions.OSError'>, OSError(9, 'File is not open for reading.'), <traceback object at 0x106f07e60>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 28821, in act572
    result = self.p_file[0].readline(self.p_bytes[2])
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4284, in read_error
    self._raise('File is not open for reading.')
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4112, in _raise
    raise OSError(errno.EBADF, message)
FAILURE 1
component4 = "f"                                                         # STEP 0
component3 = "h"                                                         # STEP 1
component2 = "c"                                                         # STEP 2
component0 = "h"                                                         # STEP 3
bytes2 = 0                                                               # STEP 4
str2 = ""                                                                # STEP 5
str2 += 's'                                                              # STEP 6
str2 += 'd'                                                              # STEP 7
str2 += 'j'                                                              # STEP 8
component1 = "lambda"                                                    # STEP 9
str2 += 'q'                                                             # STEP 10
str2 += 'l'                                                             # STEP 11
str2 += 'e'                                                             # STEP 12
str2 += 'g'                                                             # STEP 13
str2 += 'r'                                                             # STEP 14
str2 += 'x'                                                             # STEP 15
str2 += 'g'                                                             # STEP 16
path1 = "/Volumes/ramdisk/test"                                         # STEP 17
path1 += "/" + component4                                               # STEP 18
component4 = "g"                                                        # STEP 19
str2 += 'g'                                                             # STEP 20
str2 += 'a'                                                             # STEP 21
bytes2 += 1                                                             # STEP 22
path1 = "/Volumes/ramdisk/test"                                         # STEP 23
str2 += 'b'                                                             # STEP 24
str2 += 'e'                                                             # STEP 25
str2 += 'b'                                                             # STEP 26
str2 += " "                                                             # STEP 27
str2 += 'b'                                                             # STEP 28
str2 += 'm'                                                             # STEP 29
str2 += 'n'                                                             # STEP 30
str3 = ""                                                               # STEP 31
str3 += 'o'                                                             # STEP 32
str2 += " "                                                             # STEP 33
str2 += 'a'                                                             # STEP 34
str2 = ""                                                               # STEP 35
str3 += 'u'                                                             # STEP 36
str2 += 'h'                                                             # STEP 37
str3 += 'g'                                                             # STEP 38
str3 += 'o'                                                             # STEP 39
str3 += 'y'                                                             # STEP 40
str2 += 'c'                                                             # STEP 41
str3 += 'z'                                                             # STEP 42
str3 += 'y'                                                             # STEP 43
str2 += 'p'                                                             # STEP 44
str3 += 'u'                                                             # STEP 45
str2 += 'r'                                                             # STEP 46
str2 += 'y'                                                             # STEP 47
str3 += 'd'                                                             # STEP 48
os0 = newFakeOS()                                                       # STEP 49
str2 += 'b'                                                             # STEP 50
str3 += 'a'                                                             # STEP 51
os0.link(path1,path1)                                                   # STEP 52
str2 += 'h'                                                             # STEP 53
str3 += 'w'                                                             # STEP 54
path3 = "/Volumes/ramdisk/test"                                         # STEP 55
os0.link(path3,path3)                                                   # STEP 56
result = os0.readlink(path1)                                            # STEP 57
bytes0 = 0                                                              # STEP 58
result = os0.path.isfile(path1)                                         # STEP 59
str4 = ""                                                               # STEP 60
str3 += 'x'                                                             # STEP 61
str2 += 'u'                                                             # STEP 62
str4 += 'u'                                                             # STEP 63
str3 += 'm'                                                             # STEP 64
result = os0.path.abspath(path1)                                        # STEP 65
str2 += 'j'                                                             # STEP 66
opener0 = newFakeOpener(os0)                                            # STEP 67
path0 = "/Volumes/ramdisk/test"                                         # STEP 68
path2 = "/Volumes/ramdisk/test"                                         # STEP 69
result = os0.path.isabs(path2)                                          # STEP 70
result = os0.path.abspath(path2)                                        # STEP 71
os0.makedirs(path0)                                                     # STEP 72
result = os0.path.exists(path0)                                         # STEP 73
str4 = ""                                                               # STEP 74
os0.mkdir(path0)                                                        # STEP 75
str4 += 't'                                                             # STEP 76
os0.symlink(path0,path0)                                                # STEP 77
str0 = ""                                                               # STEP 78
str4 += 'r'                                                             # STEP 79
str4 += " "                                                             # STEP 80
result = os0.path.abspath(path0)                                        # STEP 81
str0 += 'y'                                                             # STEP 82
path1 = "/Volumes/ramdisk/test"                                         # STEP 83
result = os0.path.islink(path1)                                         # STEP 84
str4 += 'k'                                                             # STEP 85
file0 = opener0(path0)                                                  # STEP 86
result = os0.path.isabs(path0)                                          # STEP 87
path0 += "/" + component3                                               # STEP 88
component3 = "a"                                                        # STEP 89
str0 += 'h'                                                             # STEP 90
str4 += 'h'                                                             # STEP 91
file0 = opener0(path0,'w')                                              # STEP 92
str4 += 'r'                                                             # STEP 93
result = file0.read()                                                   # STEP 94
str0 += 'o'                                                             # STEP 95
fd0 = os0.open(path0, os.O_CREAT | os.O_WRONLY | os.O_EXCL)             # STEP 96
path4 = "/Volumes/ramdisk/test"                                         # STEP 97
result = os0.path.lexists(path1)                                        # STEP 98
file0.write(str4)                                                       # STEP 99
result = os0.path.isdir(path1)                                         # STEP 100
os0.mkdir(path0)                                                       # STEP 101
str0 = ""                                                              # STEP 102
str4 += 'b'                                                            # STEP 103
os0.link(path0,path4)                                                  # STEP 104
os0.link(path4,path2)                                                  # STEP 105
str4 += 'c'                                                            # STEP 106
result = os0.path.abspath(path2)                                       # STEP 107
bytes4 = 0                                                             # STEP 108
path3 = "/Volumes/ramdisk/test"                                        # STEP 109
bytes1 = 0                                                             # STEP 110
str0 += 'y'                                                            # STEP 111
os0.remove(path1)                                                      # STEP 112
os0.mkdir(path0)                                                       # STEP 113
str0 += 'f'                                                            # STEP 114
str4 += 'u'                                                            # STEP 115
fd0 = os0.open(path0, os.O_CREAT)                                      # STEP 116
bytes3 = 0                                                             # STEP 117
bytes0 += 1                                                            # STEP 118
path3 += "/" + component4                                              # STEP 119
result = os0.path.dirname(path0)                                       # STEP 120
os0.symlink(path4,path2)                                               # STEP 121
result = file0.readline(bytes4)                                        # STEP 122
component4 = "c"                                                       # STEP 123
result = file0.read(bytes0)                                            # STEP 124
stat4 = os0.lstat(path3)                                               # STEP 125
str4 += 'm'                                                            # STEP 126
path1 += "/" + component2                                              # STEP 127
os0.link(path4,path4)                                                  # STEP 128
result = os0.path.exists(path1)                                        # STEP 129
os0.link(path3,path4)                                                  # STEP 130
result = os0.path.dirname(path4)                                       # STEP 131
str0 += 'y'                                                            # STEP 132
path4 += "/" + component2                                              # STEP 133
result = file0.readline(bytes0)                                        # STEP 134
stat4 = os0.stat(path1)                                                # STEP 135
str0 += 'n'                                                            # STEP 136
stat3 = os0.stat(path1)                                                # STEP 137
stat0 = os0.lstat(path1)                                               # STEP 138
str0 += 'y'                                                            # STEP 139
str4 += 'w'                                                            # STEP 140
str4 += 'a'                                                            # STEP 141
str3 += 's'                                                            # STEP 142
os0.link(path2,path0)                                                  # STEP 143
result = file0.read(bytes3)                                            # STEP 144
os0.remove(path4)                                                      # STEP 145
os0.link(path4,path2)                                                  # STEP 146
stat4 = os0.stat(path0)                                                # STEP 147
str3 += 'c'                                                            # STEP 148
os0.makedirs(path1)                                                    # STEP 149
path1 += "/" + component0                                              # STEP 150
path4 += "/" + component4                                              # STEP 151
result = os0.path.exists(path4)                                        # STEP 152
os0.remove(path1)                                                      # STEP 153
stat0 = os0.lstat(path3)                                               # STEP 154
component2 = "omega"                                                   # STEP 155
str3 += 'y'                                                            # STEP 156
result = os0.readlink(path4)                                           # STEP 157
component0 = "alpha"                                                   # STEP 158
os0.mkdir(path4)                                                       # STEP 159
path1 += "/" + component0                                              # STEP 160
os0.mkdir(path1)                                                       # STEP 161
str0 += 'h'                                                            # STEP 162
file0.seek(bytes2)                                                     # STEP 163
path4 += "/" + component2                                              # STEP 164
str0 += 'y'                                                            # STEP 165
component2 = "d"                                                       # STEP 166
stat2 = os0.stat(path0)                                                # STEP 167
result = os0.readlink(path0)                                           # STEP 168
str4 += 'y'                                                            # STEP 169
path0 += "/" + component2                                              # STEP 170
result = file0.readlines()                                             # STEP 171
result = os0.path.exists(path0)                                        # STEP 172
str4 += 'l'                                                            # STEP 173
os0.link(path0,path0)                                                  # STEP 174
result = os0.path.lexists(path2)                                       # STEP 175
str4 += 'a'                                                            # STEP 176
component2 = "beta"                                                    # STEP 177
os0.rename(path1,path4)                                                # STEP 178
str3 += 's'                                                            # STEP 179
path0 += "/" + component0                                              # STEP 180
os0.remove(path3)                                                      # STEP 181
os0.write(fd0,str0)                                                    # STEP 182
os0.rename(path4,path0)                                                # STEP 183
os0.remove(path1)                                                      # STEP 184
path1 += "/" + component1                                              # STEP 185
str3 += 'i'                                                            # STEP 186
str2 += 'm'                                                            # STEP 187
str3 += 's'                                                            # STEP 188
os0.remove(path2)                                                      # STEP 189
str3 += 't'                                                            # STEP 190
path1 += "/" + component3                                              # STEP 191
component3 = "b"                                                       # STEP 192
str2 += 'd'                                                            # STEP 193
component0 = "gamma"                                                   # STEP 194
result = stat2.st_size                                                 # STEP 195
ERROR: (<type 'exceptions.AssertionError'>, AssertionError(' (0) == (6) ',), <traceback object at 0x1081f1638>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 21881, in act459
    try: assert result == result_REF, " (%s) == (%s) " % (result, result_REF)
FAILURE 2
component3 = "lambda"                                                    # STEP 0
component2 = "d"                                                         # STEP 1
component4 = "d"                                                         # STEP 2
component0 = "e"                                                         # STEP 3
path1 = "/Volumes/ramdisk/test"                                          # STEP 4
component1 = "phi"                                                       # STEP 5
path1 += "/" + component3                                                # STEP 6
component3 = "alpha"                                                     # STEP 7
bytes4 = 0                                                               # STEP 8
os0 = newFakeOS()                                                        # STEP 9
fd0 = os0.open(path1, os.O_RDONLY)                                      # STEP 10
stat1 = os0.lstat(path1)                                                # STEP 11
stat1 = os0.stat(path1)                                                 # STEP 12
stat4 = os0.lstat(path1)                                                # STEP 13
bytes4 += 1                                                             # STEP 14
fd0 = os0.open(path1, os.O_WRONLY | os.O_APPEND)                        # STEP 15
bytes2 = 0                                                              # STEP 16
str4 = ""                                                               # STEP 17
str2 = ""                                                               # STEP 18
opener0 = newFakeOpener(os0)                                            # STEP 19
str2 += 'z'                                                             # STEP 20
str4 += 'w'                                                             # STEP 21
os0.makedirs(path1)                                                     # STEP 22
bytes1 = 0                                                              # STEP 23
stat2 = os0.stat(path1)                                                 # STEP 24
str2 += 'u'                                                             # STEP 25
str2 += 'r'                                                             # STEP 26
str4 += 'g'                                                             # STEP 27
bytes4 = 0                                                              # STEP 28
str2 += 'w'                                                             # STEP 29
path2 = "/Volumes/ramdisk/test"                                         # STEP 30
path0 = "/Volumes/ramdisk/test"                                         # STEP 31
str4 += 'a'                                                             # STEP 32
os0.makedirs(path0)                                                     # STEP 33
result = os0.path.dirname(path1)                                        # STEP 34
os0.link(path0,path1)                                                   # STEP 35
bytes0 = 0                                                              # STEP 36
stat1 = os0.lstat(path1)                                                # STEP 37
result = os0.path.abspath(path0)                                        # STEP 38
str2 += 'h'                                                             # STEP 39
stat4 = os0.stat(path1)                                                 # STEP 40
result = os0.path.isfile(path1)                                         # STEP 41
bytes2 += 1                                                             # STEP 42
os0.makedirs(path2)                                                     # STEP 43
path2 += "/" + component3                                               # STEP 44
os0.remove(path2)                                                       # STEP 45
component3 = "epsilon"                                                  # STEP 46
path0 += "/" + component0                                               # STEP 47
os0.rename(path0,path1)                                                 # STEP 48
os0.link(path2,path1)                                                   # STEP 49
str2 += " "                                                             # STEP 50
fd0 = os0.open(path0, os.O_CREAT)                                       # STEP 51
file0 = opener0(path0,'w')                                              # STEP 52
os0.rename(path0,path1)                                                 # STEP 53
os0.removedirs(path0)                                                   # STEP 54
os0.symlink(path0,path0)                                                # STEP 55
str2 = ""                                                               # STEP 56
file0.seek(bytes1)                                                      # STEP 57
str4 += 'x'                                                             # STEP 58
os0.mkdir(path1)                                                        # STEP 59
os0.symlink(path1,path0)                                                # STEP 60
bytes2 += 1                                                             # STEP 61
result = os0.path.dirname(path1)                                        # STEP 62
path0 += "/" + component3                                               # STEP 63
file0.flush()                                                           # STEP 64
result = os0.path.dirname(path0)                                        # STEP 65
str3 = ""                                                               # STEP 66
str2 += 'x'                                                             # STEP 67
str2 += 'r'                                                             # STEP 68
path0 += "/" + component0                                               # STEP 69
path0 = "/Volumes/ramdisk/test"                                         # STEP 70
str3 += 'g'                                                             # STEP 71
result = file0.read()                                                   # STEP 72
os0.removedirs(path2)                                                   # STEP 73
str3 += 'p'                                                             # STEP 74
str3 += " "                                                             # STEP 75
result = os0.readlink(path0)                                            # STEP 76
os0.symlink(path2,path0)                                                # STEP 77
str4 += 'r'                                                             # STEP 78
result = os0.path.isfile(path2)                                         # STEP 79
path3 = "/Volumes/ramdisk/test"                                         # STEP 80
str4 += 'm'                                                             # STEP 81
component3 = "g"                                                        # STEP 82
str1 = ""                                                               # STEP 83
component0 = "h"                                                        # STEP 84
path1 = "/Volumes/ramdisk/test"                                         # STEP 85
stat3 = os0.stat(path2)                                                 # STEP 86
os0.symlink(path2,path1)                                                # STEP 87
os0.removedirs(path3)                                                   # STEP 88
bytes0 += 1                                                             # STEP 89
result = os0.path.dirname(path1)                                        # STEP 90
stat3 = os0.lstat(path2)                                                # STEP 91
str3 += 'n'                                                             # STEP 92
str1 += 'd'                                                             # STEP 93
str4 += 'v'                                                             # STEP 94
os0.link(path0,path3)                                                   # STEP 95
str1 += 'd'                                                             # STEP 96
result = os0.path.abspath(path3)                                        # STEP 97
os0.rename(path2,path1)                                                 # STEP 98
os0.mkdir(path3)                                                        # STEP 99
path2 += "/" + component0                                              # STEP 100
result = file0.readline(bytes4)                                        # STEP 101
os0.link(path2,path2)                                                  # STEP 102
str1 += 't'                                                            # STEP 103
str3 += 'i'                                                            # STEP 104
os0.link(path0,path0)                                                  # STEP 105
str1 += 'e'                                                            # STEP 106
str2 += 'o'                                                            # STEP 107
str2 += 'f'                                                            # STEP 108
file0.flush()                                                          # STEP 109
bytes0 += 1                                                            # STEP 110
str3 += 'k'                                                            # STEP 111
str4 += 'y'                                                            # STEP 112
str3 += 'l'                                                            # STEP 113
str4 += 'b'                                                            # STEP 114
str3 += 'w'                                                            # STEP 115
str2 += 'b'                                                            # STEP 116
file0.seek(bytes4)                                                     # STEP 117
str3 += 'b'                                                            # STEP 118
os0.rename(path2,path1)                                                # STEP 119
str4 += 'w'                                                            # STEP 120
str3 += " "                                                            # STEP 121
str3 += 'p'                                                            # STEP 122
str1 = ""                                                              # STEP 123
path1 += "/" + component3                                              # STEP 124
os0.makedirs(path3)                                                    # STEP 125
str4 += 'o'                                                            # STEP 126
bytes1 += 1                                                            # STEP 127
str1 += 'm'                                                            # STEP 128
component3 = "d"                                                       # STEP 129
str1 += 'j'                                                            # STEP 130
stat0 = os0.stat(path1)                                                # STEP 131
str3 += 'b'                                                            # STEP 132
file0.flush()                                                          # STEP 133
stat0 = os0.lstat(path1)                                               # STEP 134
result = os0.read(fd0,bytes1)                                          # STEP 135
str3 += 'u'                                                            # STEP 136
str4 += 'j'                                                            # STEP 137
str1 += 'l'                                                            # STEP 138
os0.link(path0,path3)                                                  # STEP 139
str2 += 'q'                                                            # STEP 140
path0 += "/" + component3                                              # STEP 141
result = sorted(os0.listdir(path1))                                    # STEP 142
os0.removedirs(path1)                                                  # STEP 143
stat3 = os0.lstat(path2)                                               # STEP 144
component3 = "g"                                                       # STEP 145
file0.seek(bytes0)                                                     # STEP 146
str4 += 'e'                                                            # STEP 147
str4 += " "                                                            # STEP 148
os0.symlink(path0,path0)                                               # STEP 149
os0.link(path0,path2)                                                  # STEP 150
path2 += "/" + component2                                              # STEP 151
os0.symlink(path2,path0)                                               # STEP 152
os0.rename(path2,path1)                                                # STEP 153
result = os0.path.islink(path3)                                        # STEP 154
str2 += 'a'                                                            # STEP 155
os0.write(fd0,str1)                                                    # STEP 156
component0 = "delta"                                                   # STEP 157
os0.makedirs(path1)                                                    # STEP 158
str1 += 'a'                                                            # STEP 159
str2 += 'z'                                                            # STEP 160
file0.write(str4)                                                      # STEP 161
str3 += 'd'                                                            # STEP 162
os0.link(path1,path3)                                                  # STEP 163
os0.symlink(path3,path3)                                               # STEP 164
str4 += 'e'                                                            # STEP 165
str2 += 'y'                                                            # STEP 166
str1 = ""                                                              # STEP 167
bytes2 = 0                                                             # STEP 168
component2 = "c"                                                       # STEP 169
os0.symlink(path1,path0)                                               # STEP 170
path2 = "/Volumes/ramdisk/test"                                        # STEP 171
os0.mkdir(path2)                                                       # STEP 172
str3 += 'p'                                                            # STEP 173
os0.rename(path1,path0)                                                # STEP 174
str4 += 'e'                                                            # STEP 175
str2 += 'p'                                                            # STEP 176
str1 += 'r'                                                            # STEP 177
os0.mkdir(path1)                                                       # STEP 178
os0.removedirs(path3)                                                  # STEP 179
result = file0.read(bytes0)                                            # STEP 180
result = os0.path.isdir(path3)                                         # STEP 181
result = sorted(os0.listdir(path2))                                    # STEP 182
result = file0.read(bytes4)                                            # STEP 183
bytes4 = 0                                                             # STEP 184
os0.symlink(path0,path1)                                               # STEP 185
str4 += 'v'                                                            # STEP 186
os0.link(path3,path1)                                                  # STEP 187
result = os0.path.islink(path0)                                        # STEP 188
str1 += 'i'                                                            # STEP 189
os0.removedirs(path0)                                                  # STEP 190
str1 += 'o'                                                            # STEP 191
bytes3 = 0                                                             # STEP 192
result = sorted(os0.listdir(path0))                                    # STEP 193
os0.write(fd0,str4)                                                    # STEP 194
str2 += 'c'                                                            # STEP 195
os0.rename(path0,path3)                                                # STEP 196
str1 += " "                                                            # STEP 197
str2 += 't'                                                            # STEP 198
file0.write(str1)                                                      # STEP 199
str1 += 'b'                                                            # STEP 200
result = os0.path.lexists(path0)                                       # STEP 201
result = os0.path.exists(path0)                                        # STEP 202
os0.link(path3,path3)                                                  # STEP 203
str4 += 'b'                                                            # STEP 204
str2 += 'h'                                                            # STEP 205
result = os0.path.dirname(path1)                                       # STEP 206
os0.removedirs(path3)                                                  # STEP 207
bytes3 += 1                                                            # STEP 208
result = os0.path.isfile(path0)                                        # STEP 209
path0 += "/" + component2                                              # STEP 210
stat3 = os0.stat(path0)                                                # STEP 211
os0.makedirs(path0)                                                    # STEP 212
os0.makedirs(path2)                                                    # STEP 213
stat0 = os0.lstat(path0)                                               # STEP 214
component2 = "epsilon"                                                 # STEP 215
path3 += "/" + component3                                              # STEP 216
os0.symlink(path0,path3)                                               # STEP 217
str1 += 'k'                                                            # STEP 218
str3 += 'm'                                                            # STEP 219
os0.link(path2,path2)                                                  # STEP 220
result = sorted(os0.listdir(path2))                                    # STEP 221
result = os0.readlink(path1)                                           # STEP 222
result = os0.readlink(path2)                                           # STEP 223
str3 += 'c'                                                            # STEP 224
str1 += 'p'                                                            # STEP 225
str3 += 'b'                                                            # STEP 226
str4 += 'k'                                                            # STEP 227
str1 += 'c'                                                            # STEP 228
path0 += "/" + component3                                              # STEP 229
os0.path.getsize(path0)                                                # STEP 230
os0.symlink(path3,path2)                                               # STEP 231
bytes1 = 0                                                             # STEP 232
str4 += 'j'                                                            # STEP 233
path3 = "/Volumes/ramdisk/test"                                        # STEP 234
os0.mkdir(path1)                                                       # STEP 235
str2 += 'f'                                                            # STEP 236
str1 += 'g'                                                            # STEP 237
str3 += 'k'                                                            # STEP 238
result = os0.path.islink(path2)                                        # STEP 239
str3 = ""                                                              # STEP 240
path0 += "/" + component0                                              # STEP 241
path3 += "/" + component0                                              # STEP 242
str4 += 't'                                                            # STEP 243
bytes3 += 1                                                            # STEP 244
str1 += 'm'                                                            # STEP 245
result = file0.readline(bytes1)                                        # STEP 246
os0.remove(path0)                                                      # STEP 247
os0.rename(path0,path2)                                                # STEP 248
os0.link(path3,path3)                                                  # STEP 249
result = os0.path.lexists(path2)                                       # STEP 250
os0.removedirs(path1)                                                  # STEP 251
os0.remove(path0)                                                      # STEP 252
result = os0.path.dirname(path0)                                       # STEP 253
path1 = "/Volumes/ramdisk/test"                                        # STEP 254
str4 += 'f'                                                            # STEP 255
str1 += 'a'                                                            # STEP 256
stat0 = os0.lstat(path3)                                               # STEP 257
component0 = "d"                                                       # STEP 258
str3 += 'd'                                                            # STEP 259
str1 += 'a'                                                            # STEP 260
str4 += 'l'                                                            # STEP 261
str2 += 'p'                                                            # STEP 262
str3 += 'u'                                                            # STEP 263
os0.symlink(path1,path2)                                               # STEP 264
os0.rename(path0,path1)                                                # STEP 265
str2 += 'a'                                                            # STEP 266
str4 += 'z'                                                            # STEP 267
os0.symlink(path2,path2)                                               # STEP 268
component3 = "a"                                                       # STEP 269
path3 += "/" + component2                                              # STEP 270
os0.symlink(path2,path2)                                               # STEP 271
result = file0.readlines()                                             # STEP 272
path1 += "/" + component2                                              # STEP 273
str2 += 'f'                                                            # STEP 274
str4 += 'b'                                                            # STEP 275
file0.seek(bytes3)                                                     # STEP 276
file0.write(str1)                                                      # STEP 277
result = sorted(os0.listdir(path2))                                    # STEP 278
os0.link(path2,path2)                                                  # STEP 279
str3 = ""                                                              # STEP 280
str2 += 'd'                                                            # STEP 281
component2 = "h"                                                       # STEP 282
os0.rmdir(path1)                                                       # STEP 283
stat0 = os0.lstat(path3)                                               # STEP 284
result = file0.readline(bytes1)                                        # STEP 285
stat3 = os0.stat(path0)                                                # STEP 286
result = os0.read(fd0,bytes4)                                          # STEP 287
os0.symlink(path3,path3)                                               # STEP 288
stat3 = os0.stat(path1)                                                # STEP 289
os0.symlink(path2,path2)                                               # STEP 290
str2 += 'e'                                                            # STEP 291
result = os0.read(fd0,bytes0)                                          # STEP 292
ERROR: (<type 'exceptions.AssertionError'>, AssertionError(' () == (\x00\x00) ',), <traceback object at 0x106aca5f0>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 16086, in act372
    try: assert result == result_REF, " (%s) == (%s) " % (result, result_REF)
FAILURE 3
component3 = "lambda"                                                    # STEP 0
component2 = "d"                                                         # STEP 1
component4 = "d"                                                         # STEP 2
component0 = "e"                                                         # STEP 3
path1 = "/Volumes/ramdisk/test"                                          # STEP 4
component1 = "phi"                                                       # STEP 5
path1 += "/" + component3                                                # STEP 6
component3 = "alpha"                                                     # STEP 7
str4 = ""                                                                # STEP 8
str4 += 'i'                                                              # STEP 9
bytes4 = 0                                                              # STEP 10
str4 += 'i'                                                             # STEP 11
str4 += 'h'                                                             # STEP 12
str4 += 'v'                                                             # STEP 13
str4 += 'p'                                                             # STEP 14
os0 = newFakeOS()                                                       # STEP 15
fd0 = os0.open(path1, os.O_RDONLY)                                      # STEP 16
stat1 = os0.lstat(path1)                                                # STEP 17
stat1 = os0.stat(path1)                                                 # STEP 18
str4 += 'x'                                                             # STEP 19
stat4 = os0.lstat(path1)                                                # STEP 20
str4 += 'y'                                                             # STEP 21
bytes4 += 1                                                             # STEP 22
fd0 = os0.open(path1, os.O_WRONLY | os.O_APPEND)                        # STEP 23
bytes2 = 0                                                              # STEP 24
str4 = ""                                                               # STEP 25
str2 = ""                                                               # STEP 26
opener0 = newFakeOpener(os0)                                            # STEP 27
str2 += 'z'                                                             # STEP 28
str4 += 'w'                                                             # STEP 29
os0.makedirs(path1)                                                     # STEP 30
bytes1 = 0                                                              # STEP 31
stat2 = os0.stat(path1)                                                 # STEP 32
str2 += 'u'                                                             # STEP 33
str2 += 'r'                                                             # STEP 34
str4 += 'g'                                                             # STEP 35
bytes4 = 0                                                              # STEP 36
str2 += 'w'                                                             # STEP 37
path2 = "/Volumes/ramdisk/test"                                         # STEP 38
path0 = "/Volumes/ramdisk/test"                                         # STEP 39
str4 += 'a'                                                             # STEP 40
os0.makedirs(path0)                                                     # STEP 41
result = os0.path.dirname(path1)                                        # STEP 42
os0.link(path0,path1)                                                   # STEP 43
bytes0 = 0                                                              # STEP 44
stat1 = os0.lstat(path1)                                                # STEP 45
result = os0.path.abspath(path0)                                        # STEP 46
str2 += 'h'                                                             # STEP 47
stat4 = os0.stat(path1)                                                 # STEP 48
result = os0.path.isfile(path1)                                         # STEP 49
bytes2 += 1                                                             # STEP 50
os0.makedirs(path2)                                                     # STEP 51
path2 += "/" + component3                                               # STEP 52
os0.remove(path2)                                                       # STEP 53
component3 = "epsilon"                                                  # STEP 54
path0 += "/" + component0                                               # STEP 55
os0.rename(path0,path1)                                                 # STEP 56
os0.link(path2,path1)                                                   # STEP 57
str2 += " "                                                             # STEP 58
fd0 = os0.open(path0, os.O_CREAT)                                       # STEP 59
file0 = opener0(path0,'w')                                              # STEP 60
str4 += 'i'                                                             # STEP 61
bytes0 += 1                                                             # STEP 62
result = os0.path.islink(path2)                                         # STEP 63
str4 += 'h'                                                             # STEP 64
os0.remove(path2)                                                       # STEP 65
str4 += 'h'                                                             # STEP 66
file0.next()                                                            # STEP 67
result = file0.read(bytes0)                                             # STEP 68
path2 += "/" + component4                                               # STEP 69
str2 += 's'                                                             # STEP 70
component0 = "epsilon"                                                  # STEP 71
os0.makedirs(path1)                                                     # STEP 72
path1 += "/" + component2                                               # STEP 73
str4 += 'y'                                                             # STEP 74
component4 = "delta"                                                    # STEP 75
result = file0.readline(bytes1)                                         # STEP 76
os0.symlink(path2,path0)                                                # STEP 77
os0.link(path0,path1)                                                   # STEP 78
str4 += 'h'                                                             # STEP 79
result = file0.read(bytes2)                                             # STEP 80
os0.symlink(path0,path1)                                                # STEP 81
str4 += 'a'                                                             # STEP 82
result = file0.readline(bytes2)                                         # STEP 83
str3 = ""                                                               # STEP 84
result = file0.readline(bytes2)                                         # STEP 85
os0.symlink(path1,path0)                                                # STEP 86
os0.link(path2,path2)                                                   # STEP 87
file0.write(str4)                                                       # STEP 88
str2 += 'h'                                                             # STEP 89
os0.path.getsize(path1)                                                 # STEP 90
str4 += 'r'                                                             # STEP 91
path1 += "/" + component0                                               # STEP 92
str4 += 'i'                                                             # STEP 93
str4 += 'z'                                                             # STEP 94
str3 += 'r'                                                             # STEP 95
str3 += 'j'                                                             # STEP 96
stat0 = os0.lstat(path0)                                                # STEP 97
str2 += 's'                                                             # STEP 98
os0.link(path0,path1)                                                   # STEP 99
result = os0.readlink(path2)                                           # STEP 100
str4 += 'i'                                                            # STEP 101
bytes2 += 1                                                            # STEP 102
str3 += 'b'                                                            # STEP 103
path1 = "/Volumes/ramdisk/test"                                        # STEP 104
str3 += 'e'                                                            # STEP 105
str2 += 'y'                                                            # STEP 106
component0 = "lambda"                                                  # STEP 107
result = sorted(os0.listdir(path2))                                    # STEP 108
str3 += 'k'                                                            # STEP 109
bytes0 += 1                                                            # STEP 110
file0.next()                                                           # STEP 111
os0.link(path2,path0)                                                  # STEP 112
str1 = ""                                                              # STEP 113
os0.link(path2,path2)                                                  # STEP 114
str2 += 'j'                                                            # STEP 115
os0.symlink(path2,path0)                                               # STEP 116
str2 += 'w'                                                            # STEP 117
str3 += 'd'                                                            # STEP 118
str2 += 'c'                                                            # STEP 119
str1 += 'o'                                                            # STEP 120
component2 = "h"                                                       # STEP 121
result = os0.path.abspath(path1)                                       # STEP 122
str3 += 'j'                                                            # STEP 123
str2 += 'a'                                                            # STEP 124
str3 += 'y'                                                            # STEP 125
str4 += 'w'                                                            # STEP 126
path0 = "/Volumes/ramdisk/test"                                        # STEP 127
str3 += 't'                                                            # STEP 128
os0.link(path1,path0)                                                  # STEP 129
str4 += 'b'                                                            # STEP 130
str2 += 'z'                                                            # STEP 131
str1 += 'h'                                                            # STEP 132
path2 += "/" + component4                                              # STEP 133
str3 += 'n'                                                            # STEP 134
os0.mkdir(path0)                                                       # STEP 135
str4 += 'g'                                                            # STEP 136
component4 = "d"                                                       # STEP 137
os0.symlink(path0,path1)                                               # STEP 138
str2 += 'y'                                                            # STEP 139
result = os0.path.isfile(path0)                                        # STEP 140
result = os0.path.islink(path1)                                        # STEP 141
result = file0.read(bytes4)                                            # STEP 142
os0.link(path2,path1)                                                  # STEP 143
str2 += 'u'                                                            # STEP 144
str1 += 'g'                                                            # STEP 145
str4 += 'h'                                                            # STEP 146
str2 += 'f'                                                            # STEP 147
bytes2 += 1                                                            # STEP 148
str1 += 'p'                                                            # STEP 149
file0.seek(bytes2)                                                     # STEP 150
path0 += "/" + component1                                              # STEP 151
str1 += 'z'                                                            # STEP 152
result = os0.readlink(path2)                                           # STEP 153
str1 += 'n'                                                            # STEP 154
file0.write(str3)                                                      # STEP 155
file0.write(str4)                                                      # STEP 156
path0 += "/" + component4                                              # STEP 157
os0.path.getsize(path0)                                                # STEP 158
result = file0.readline(bytes1)                                        # STEP 159
str2 += 'm'                                                            # STEP 160
str4 += 'z'                                                            # STEP 161
str2 += 'j'                                                            # STEP 162
result = os0.path.isdir(path1)                                         # STEP 163
str1 += 'm'                                                            # STEP 164
str2 += 'j'                                                            # STEP 165
str3 += 'b'                                                            # STEP 166
os0.write(fd0,str1)                                                    # STEP 167
os0.makedirs(path0)                                                    # STEP 168
component1 = "phi"                                                     # STEP 169
str3 += 'j'                                                            # STEP 170
str4 += 'c'                                                            # STEP 171
result = os0.path.isdir(path2)                                         # STEP 172
component4 = "d"                                                       # STEP 173
os0.write(fd0,str4)                                                    # STEP 174
file0.write(str3)                                                      # STEP 175
os0.link(path2,path0)                                                  # STEP 176
file0.write(str4)                                                      # STEP 177
os0.write(fd0,str3)                                                    # STEP 178
str3 += 'g'                                                            # STEP 179
str4 += 's'                                                            # STEP 180
str2 += 's'                                                            # STEP 181
os0.mkdir(path0)                                                       # STEP 182
bytes2 += 1                                                            # STEP 183
str3 += 'r'                                                            # STEP 184
str1 += 'k'                                                            # STEP 185
os0.remove(path1)                                                      # STEP 186
os0.path.getsize(path2)                                                # STEP 187
os0.link(path2,path0)                                                  # STEP 188
path2 += "/" + component4                                              # STEP 189
str4 += 'a'                                                            # STEP 190
str2 += 'k'                                                            # STEP 191
path4 = "/Volumes/ramdisk/test"                                        # STEP 192
result = file0.read(bytes4)                                            # STEP 193
result = os0.path.isabs(path4)                                         # STEP 194
str2 += 'c'                                                            # STEP 195
str3 += 'x'                                                            # STEP 196
str4 += 'x'                                                            # STEP 197
str3 += 'u'                                                            # STEP 198
os0.rmdir(path0)                                                       # STEP 199
str1 += " "                                                            # STEP 200
os0.link(path0,path4)                                                  # STEP 201
result = os0.path.dirname(path2)                                       # STEP 202
str1 += " "                                                            # STEP 203
component4 = "phi"                                                     # STEP 204
result = os0.path.isfile(path4)                                        # STEP 205
os0.remove(path4)                                                      # STEP 206
bytes4 += 1                                                            # STEP 207
os0.rename(path2,path0)                                                # STEP 208
result = file0.readlines()                                             # STEP 209
str4 += 'b'                                                            # STEP 210
str4 += 'v'                                                            # STEP 211
result = sorted(os0.listdir(path4))                                    # STEP 212
result = os0.path.lexists(path2)                                       # STEP 213
result = os0.read(fd0,bytes4)                                          # STEP 214
ERROR: (<type 'exceptions.AssertionError'>, AssertionError(' () == (w) ',), <traceback object at 0x104f61878>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 16374, in act376
    try: assert result == result_REF, " (%s) == (%s) " % (result, result_REF)
FAILURE 4
component3 = "lambda"                                                    # STEP 0
component2 = "d"                                                         # STEP 1
component4 = "d"                                                         # STEP 2
component0 = "e"                                                         # STEP 3
path1 = "/Volumes/ramdisk/test"                                          # STEP 4
component1 = "phi"                                                       # STEP 5
path1 += "/" + component3                                                # STEP 6
component3 = "alpha"                                                     # STEP 7
str4 = ""                                                                # STEP 8
str4 += 'i'                                                              # STEP 9
bytes4 = 0                                                              # STEP 10
str4 += 'i'                                                             # STEP 11
str4 += 'h'                                                             # STEP 12
str4 += 'v'                                                             # STEP 13
str4 += 'p'                                                             # STEP 14
os0 = newFakeOS()                                                       # STEP 15
fd0 = os0.open(path1, os.O_RDONLY)                                      # STEP 16
stat1 = os0.lstat(path1)                                                # STEP 17
stat1 = os0.stat(path1)                                                 # STEP 18
str4 += 'x'                                                             # STEP 19
stat4 = os0.lstat(path1)                                                # STEP 20
str4 += 'y'                                                             # STEP 21
bytes4 += 1                                                             # STEP 22
fd0 = os0.open(path1, os.O_WRONLY | os.O_APPEND)                        # STEP 23
bytes2 = 0                                                              # STEP 24
str4 = ""                                                               # STEP 25
str2 = ""                                                               # STEP 26
opener0 = newFakeOpener(os0)                                            # STEP 27
str2 += 'z'                                                             # STEP 28
str4 += 'w'                                                             # STEP 29
os0.makedirs(path1)                                                     # STEP 30
bytes1 = 0                                                              # STEP 31
stat2 = os0.stat(path1)                                                 # STEP 32
str2 += 'u'                                                             # STEP 33
str2 += 'r'                                                             # STEP 34
str4 += 'g'                                                             # STEP 35
bytes4 = 0                                                              # STEP 36
str2 += 'w'                                                             # STEP 37
path2 = "/Volumes/ramdisk/test"                                         # STEP 38
path0 = "/Volumes/ramdisk/test"                                         # STEP 39
str4 += 'a'                                                             # STEP 40
os0.makedirs(path0)                                                     # STEP 41
result = os0.path.dirname(path1)                                        # STEP 42
os0.link(path0,path1)                                                   # STEP 43
bytes0 = 0                                                              # STEP 44
stat1 = os0.lstat(path1)                                                # STEP 45
result = os0.path.abspath(path0)                                        # STEP 46
str2 += 'h'                                                             # STEP 47
stat4 = os0.stat(path1)                                                 # STEP 48
result = os0.path.isfile(path1)                                         # STEP 49
bytes2 += 1                                                             # STEP 50
os0.makedirs(path2)                                                     # STEP 51
path2 += "/" + component3                                               # STEP 52
os0.remove(path2)                                                       # STEP 53
component3 = "epsilon"                                                  # STEP 54
path0 += "/" + component0                                               # STEP 55
os0.rename(path0,path1)                                                 # STEP 56
os0.link(path2,path1)                                                   # STEP 57
str2 += " "                                                             # STEP 58
fd0 = os0.open(path0, os.O_CREAT)                                       # STEP 59
file0 = opener0(path0,'w')                                              # STEP 60
str4 += 'i'                                                             # STEP 61
bytes0 += 1                                                             # STEP 62
result = os0.path.islink(path2)                                         # STEP 63
str4 += 'h'                                                             # STEP 64
os0.remove(path2)                                                       # STEP 65
str4 += 'h'                                                             # STEP 66
file0.next()                                                            # STEP 67
result = file0.read(bytes0)                                             # STEP 68
path2 += "/" + component4                                               # STEP 69
str2 += 's'                                                             # STEP 70
component0 = "epsilon"                                                  # STEP 71
os0.makedirs(path1)                                                     # STEP 72
path1 += "/" + component2                                               # STEP 73
str4 += 'y'                                                             # STEP 74
component4 = "delta"                                                    # STEP 75
result = file0.readline(bytes1)                                         # STEP 76
os0.symlink(path2,path0)                                                # STEP 77
os0.link(path0,path1)                                                   # STEP 78
str4 += 'h'                                                             # STEP 79
result = file0.read(bytes2)                                             # STEP 80
os0.symlink(path0,path1)                                                # STEP 81
str4 += 'a'                                                             # STEP 82
result = file0.readline(bytes2)                                         # STEP 83
str3 = ""                                                               # STEP 84
result = file0.readline(bytes2)                                         # STEP 85
os0.symlink(path1,path0)                                                # STEP 86
file0.write(str4)                                                       # STEP 87
str2 += 'h'                                                             # STEP 88
os0.path.getsize(path1)                                                 # STEP 89
str4 += 'r'                                                             # STEP 90
path1 += "/" + component0                                               # STEP 91
str4 += 'i'                                                             # STEP 92
str4 += 'z'                                                             # STEP 93
str3 += 'r'                                                             # STEP 94
str3 += 'j'                                                             # STEP 95
stat0 = os0.lstat(path0)                                                # STEP 96
str2 += 's'                                                             # STEP 97
os0.link(path0,path1)                                                   # STEP 98
result = os0.readlink(path2)                                            # STEP 99
str4 += 'i'                                                            # STEP 100
bytes2 += 1                                                            # STEP 101
str3 += 'b'                                                            # STEP 102
path1 = "/Volumes/ramdisk/test"                                        # STEP 103
str3 += 'e'                                                            # STEP 104
str2 += 'y'                                                            # STEP 105
component0 = "lambda"                                                  # STEP 106
result = sorted(os0.listdir(path2))                                    # STEP 107
str3 += 'k'                                                            # STEP 108
bytes0 += 1                                                            # STEP 109
file0.next()                                                           # STEP 110
os0.link(path2,path0)                                                  # STEP 111
str1 = ""                                                              # STEP 112
os0.link(path2,path2)                                                  # STEP 113
str2 += 'j'                                                            # STEP 114
os0.symlink(path2,path0)                                               # STEP 115
str2 += 'w'                                                            # STEP 116
str3 += 'd'                                                            # STEP 117
str2 += 'c'                                                            # STEP 118
str1 += 'o'                                                            # STEP 119
component2 = "h"                                                       # STEP 120
str1 += 'f'                                                            # STEP 121
str3 += 'j'                                                            # STEP 122
str2 += 'a'                                                            # STEP 123
str3 += 'y'                                                            # STEP 124
str4 += 'w'                                                            # STEP 125
path0 = "/Volumes/ramdisk/test"                                        # STEP 126
str3 += 't'                                                            # STEP 127
os0.link(path1,path0)                                                  # STEP 128
str4 += 'b'                                                            # STEP 129
str2 += 'z'                                                            # STEP 130
str1 += 'h'                                                            # STEP 131
path2 += "/" + component4                                              # STEP 132
str3 += 'n'                                                            # STEP 133
os0.mkdir(path0)                                                       # STEP 134
str4 += 'g'                                                            # STEP 135
component4 = "d"                                                       # STEP 136
os0.symlink(path0,path1)                                               # STEP 137
str2 += 'y'                                                            # STEP 138
result = os0.path.isfile(path0)                                        # STEP 139
result = os0.path.islink(path1)                                        # STEP 140
result = file0.read(bytes4)                                            # STEP 141
os0.link(path2,path1)                                                  # STEP 142
str2 += 'u'                                                            # STEP 143
str1 += 'g'                                                            # STEP 144
str4 += 'h'                                                            # STEP 145
str2 += 'f'                                                            # STEP 146
bytes2 += 1                                                            # STEP 147
str1 += 'p'                                                            # STEP 148
file0.seek(bytes2)                                                     # STEP 149
path0 += "/" + component1                                              # STEP 150
str1 += 'z'                                                            # STEP 151
result = os0.readlink(path2)                                           # STEP 152
str1 += 'n'                                                            # STEP 153
file0.write(str3)                                                      # STEP 154
file0.write(str4)                                                      # STEP 155
path0 += "/" + component4                                              # STEP 156
os0.path.getsize(path0)                                                # STEP 157
result = file0.readline(bytes1)                                        # STEP 158
str2 += 'm'                                                            # STEP 159
str4 += 'z'                                                            # STEP 160
str2 += 'j'                                                            # STEP 161
result = os0.path.isdir(path1)                                         # STEP 162
str1 += 'm'                                                            # STEP 163
str2 += 'j'                                                            # STEP 164
str3 += 'b'                                                            # STEP 165
os0.write(fd0,str1)                                                    # STEP 166
os0.makedirs(path0)                                                    # STEP 167
component1 = "phi"                                                     # STEP 168
str3 += 'j'                                                            # STEP 169
str4 += 'c'                                                            # STEP 170
result = os0.path.isdir(path2)                                         # STEP 171
component4 = "d"                                                       # STEP 172
os0.write(fd0,str4)                                                    # STEP 173
file0.write(str3)                                                      # STEP 174
os0.link(path2,path0)                                                  # STEP 175
file0.write(str4)                                                      # STEP 176
os0.write(fd0,str3)                                                    # STEP 177
str3 += 'g'                                                            # STEP 178
str4 += 's'                                                            # STEP 179
str2 += 's'                                                            # STEP 180
os0.mkdir(path0)                                                       # STEP 181
bytes2 += 1                                                            # STEP 182
str3 += 'r'                                                            # STEP 183
str1 += 'k'                                                            # STEP 184
os0.remove(path1)                                                      # STEP 185
os0.path.getsize(path2)                                                # STEP 186
os0.link(path2,path0)                                                  # STEP 187
path2 += "/" + component4                                              # STEP 188
str4 += 'a'                                                            # STEP 189
str2 += 'k'                                                            # STEP 190
path4 = "/Volumes/ramdisk/test"                                        # STEP 191
result = file0.read(bytes4)                                            # STEP 192
result = os0.path.isabs(path4)                                         # STEP 193
str2 += 'c'                                                            # STEP 194
str3 += 'x'                                                            # STEP 195
str4 += 'x'                                                            # STEP 196
str3 += 'u'                                                            # STEP 197
os0.rmdir(path0)                                                       # STEP 198
result = os0.read(fd0,bytes4)                                          # STEP 199
str1 += 'z'                                                            # STEP 200
path0 += "/" + component3                                              # STEP 201
os0.link(path2,path0)                                                  # STEP 202
component3 = "b"                                                       # STEP 203
str3 += 'q'                                                            # STEP 204
path2 += "/" + component0                                              # STEP 205
result = sorted(os0.listdir(path2))                                    # STEP 206
result = os0.readlink(path4)                                           # STEP 207
file0.write(str1)                                                      # STEP 208
os0.rename(path0,path2)                                                # STEP 209
path4 += "/" + component3                                              # STEP 210
result = os0.read(fd0,bytes2)                                          # STEP 211
ERROR: (<type 'exceptions.AssertionError'>, AssertionError(' () == (wgai) ',), <traceback object at 0x10539fbd8>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 16230, in act374
    try: assert result == result_REF, " (%s) == (%s) " % (result, result_REF)
FAILURE 5
component3 = "lambda"                                                    # STEP 0
component2 = "d"                                                         # STEP 1
component4 = "d"                                                         # STEP 2
component0 = "e"                                                         # STEP 3
path1 = "/Volumes/ramdisk/test"                                          # STEP 4
component1 = "phi"                                                       # STEP 5
path1 += "/" + component3                                                # STEP 6
component3 = "alpha"                                                     # STEP 7
str4 = ""                                                                # STEP 8
str4 += 'i'                                                              # STEP 9
bytes4 = 0                                                              # STEP 10
str4 += 'i'                                                             # STEP 11
str4 += 'h'                                                             # STEP 12
str4 += 'v'                                                             # STEP 13
str4 += 'p'                                                             # STEP 14
os0 = newFakeOS()                                                       # STEP 15
fd0 = os0.open(path1, os.O_RDONLY)                                      # STEP 16
stat1 = os0.lstat(path1)                                                # STEP 17
stat1 = os0.stat(path1)                                                 # STEP 18
str4 += 'x'                                                             # STEP 19
stat4 = os0.lstat(path1)                                                # STEP 20
str4 += 'y'                                                             # STEP 21
bytes4 += 1                                                             # STEP 22
fd0 = os0.open(path1, os.O_WRONLY | os.O_APPEND)                        # STEP 23
bytes2 = 0                                                              # STEP 24
str4 = ""                                                               # STEP 25
str2 = ""                                                               # STEP 26
opener0 = newFakeOpener(os0)                                            # STEP 27
str2 += 'z'                                                             # STEP 28
str4 += 'w'                                                             # STEP 29
os0.makedirs(path1)                                                     # STEP 30
bytes1 = 0                                                              # STEP 31
stat2 = os0.stat(path1)                                                 # STEP 32
str2 += 'u'                                                             # STEP 33
str2 += 'r'                                                             # STEP 34
str4 += 'g'                                                             # STEP 35
bytes4 = 0                                                              # STEP 36
str2 += 'w'                                                             # STEP 37
path2 = "/Volumes/ramdisk/test"                                         # STEP 38
path0 = "/Volumes/ramdisk/test"                                         # STEP 39
str4 += 'a'                                                             # STEP 40
os0.makedirs(path0)                                                     # STEP 41
result = os0.path.dirname(path1)                                        # STEP 42
os0.link(path0,path1)                                                   # STEP 43
bytes0 = 0                                                              # STEP 44
stat1 = os0.lstat(path1)                                                # STEP 45
result = os0.path.abspath(path0)                                        # STEP 46
str2 += 'h'                                                             # STEP 47
stat4 = os0.stat(path1)                                                 # STEP 48
result = os0.path.isfile(path1)                                         # STEP 49
bytes2 += 1                                                             # STEP 50
os0.makedirs(path2)                                                     # STEP 51
path2 += "/" + component3                                               # STEP 52
os0.remove(path2)                                                       # STEP 53
component3 = "epsilon"                                                  # STEP 54
path0 += "/" + component0                                               # STEP 55
os0.rename(path0,path1)                                                 # STEP 56
os0.link(path2,path1)                                                   # STEP 57
str2 += " "                                                             # STEP 58
fd0 = os0.open(path0, os.O_CREAT)                                       # STEP 59
file0 = opener0(path0,'w')                                              # STEP 60
os0.rename(path0,path1)                                                 # STEP 61
bytes0 += 1                                                             # STEP 62
result = os0.path.islink(path2)                                         # STEP 63
str4 += 'h'                                                             # STEP 64
os0.remove(path2)                                                       # STEP 65
str4 += 'h'                                                             # STEP 66
file0.next()                                                            # STEP 67
result = file0.read(bytes0)                                             # STEP 68
path2 += "/" + component4                                               # STEP 69
str2 += 's'                                                             # STEP 70
component0 = "epsilon"                                                  # STEP 71
os0.makedirs(path1)                                                     # STEP 72
path1 += "/" + component2                                               # STEP 73
str4 += 'y'                                                             # STEP 74
component4 = "delta"                                                    # STEP 75
result = file0.readline(bytes1)                                         # STEP 76
os0.symlink(path2,path0)                                                # STEP 77
os0.link(path0,path1)                                                   # STEP 78
str4 += 'h'                                                             # STEP 79
result = file0.read(bytes2)                                             # STEP 80
os0.symlink(path0,path1)                                                # STEP 81
str4 += 'a'                                                             # STEP 82
result = file0.readline(bytes2)                                         # STEP 83
str3 = ""                                                               # STEP 84
result = file0.readline(bytes2)                                         # STEP 85
os0.symlink(path1,path0)                                                # STEP 86
os0.link(path2,path2)                                                   # STEP 87
file0.write(str4)                                                       # STEP 88
str2 += 'h'                                                             # STEP 89
os0.path.getsize(path1)                                                 # STEP 90
str4 += 'r'                                                             # STEP 91
path1 += "/" + component0                                               # STEP 92
str4 += 'i'                                                             # STEP 93
str4 += 'z'                                                             # STEP 94
str3 += 'r'                                                             # STEP 95
str3 += 'j'                                                             # STEP 96
stat0 = os0.lstat(path0)                                                # STEP 97
str2 += 's'                                                             # STEP 98
os0.link(path0,path1)                                                   # STEP 99
result = os0.readlink(path0)                                           # STEP 100
str4 += 'u'                                                            # STEP 101
str2 += 'c'                                                            # STEP 102
str3 += 'f'                                                            # STEP 103
os0.link(path1,path0)                                                  # STEP 104
str4 += 'q'                                                            # STEP 105
result = os0.readlink(path2)                                           # STEP 106
str4 += 'i'                                                            # STEP 107
result = stat0.st_size                                                 # STEP 108
os0.symlink(path0,path0)                                               # STEP 109
str2 += 'n'                                                            # STEP 110
str3 += 'o'                                                            # STEP 111
component2 = "f"                                                       # STEP 112
file0.truncate()                                                       # STEP 113
file0.seek(bytes1)                                                     # STEP 114
result = os0.path.islink(path1)                                        # STEP 115
result = os0.path.isfile(path0)                                        # STEP 116
os0.rmdir(path0)                                                       # STEP 117
str4 += 'l'                                                            # STEP 118
str3 += 'q'                                                            # STEP 119
os0.link(path0,path0)                                                  # STEP 120
str3 += 'w'                                                            # STEP 121
str3 += 'd'                                                            # STEP 122
stat3 = os0.lstat(path2)                                               # STEP 123
result = os0.path.lexists(path2)                                       # STEP 124
result = os0.read(fd0,bytes4)                                          # STEP 125
result = os0.path.abspath(path1)                                       # STEP 126
result = stat0.st_size                                                 # STEP 127
component0 = "epsilon"                                                 # STEP 128
str3 += 'n'                                                            # STEP 129
os0.link(path2,path2)                                                  # STEP 130
str3 += 'g'                                                            # STEP 131
path1 += "/" + component0                                              # STEP 132
str3 += 'r'                                                            # STEP 133
component0 = "phi"                                                     # STEP 134
str3 += 'o'                                                            # STEP 135
str2 += 'g'                                                            # STEP 136
path2 += "/" + component1                                              # STEP 137
result = file0.read()                                                  # STEP 138
os0.rename(path0,path2)                                                # STEP 139
result = os0.read(fd0,bytes1)                                          # STEP 140
result = file0.readlines()                                             # STEP 141
str3 += 'o'                                                            # STEP 142
str3 += 'a'                                                            # STEP 143
os0.write(fd0,str4)                                                    # STEP 144
os0.link(path2,path2)                                                  # STEP 145
str2 += 'p'                                                            # STEP 146
component1 = "b"                                                       # STEP 147
os0.write(fd0,str3)                                                    # STEP 148
str3 += " "                                                            # STEP 149
str4 += 'a'                                                            # STEP 150
os0.rename(path0,path1)                                                # STEP 151
str4 += 'j'                                                            # STEP 152
file0.seek(bytes0)                                                     # STEP 153
result = os0.path.exists(path0)                                        # STEP 154
str2 += 'd'                                                            # STEP 155
result = os0.path.exists(path0)                                        # STEP 156
str3 += 'h'                                                            # STEP 157
result = sorted(os0.listdir(path0))                                    # STEP 158
str3 += 'i'                                                            # STEP 159
str2 += 't'                                                            # STEP 160
result = file0.readline()                                              # STEP 161
path2 += "/" + component1                                              # STEP 162
str2 += 'k'                                                            # STEP 163
result = os0.path.dirname(path1)                                       # STEP 164
stat3 = os0.stat(path1)                                                # STEP 165
result = os0.path.islink(path2)                                        # STEP 166
result = file0.readline(bytes0)                                        # STEP 167
result = os0.read(fd0,bytes4)                                          # STEP 168
os0.makedirs(path2)                                                    # STEP 169
result = os0.path.lexists(path1)                                       # STEP 170
bytes2 += 1                                                            # STEP 171
result = sorted(os0.listdir(path0))                                    # STEP 172
result = os0.read(fd0,bytes0)                                          # STEP 173
ERROR: (<type 'exceptions.AssertionError'>, AssertionError(' () == (w) ',), <traceback object at 0x1063e7710>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 16086, in act372
    try: assert result == result_REF, " (%s) == (%s) " % (result, result_REF)
FAILURE 6
component0 = "a"                                                         # STEP 0
bytes3 = 0                                                               # STEP 1
component4 = "a"                                                         # STEP 2
component1 = "delta"                                                     # STEP 3
component2 = "phi"                                                       # STEP 4
os0 = newFakeOS()                                                        # STEP 5
opener0 = newFakeOpener(os0)                                             # STEP 6
component3 = "a"                                                         # STEP 7
path0 = "/Volumes/ramdisk/test"                                          # STEP 8
path2 = "/Volumes/ramdisk/test"                                          # STEP 9
result = os0.path.isabs(path2)                                          # STEP 10
result = os0.path.abspath(path2)                                        # STEP 11
os0.makedirs(path0)                                                     # STEP 12
result = os0.path.exists(path0)                                         # STEP 13
str4 = ""                                                               # STEP 14
os0.mkdir(path0)                                                        # STEP 15
str4 += 't'                                                             # STEP 16
os0.symlink(path0,path0)                                                # STEP 17
str0 = ""                                                               # STEP 18
str4 += 'r'                                                             # STEP 19
str4 += " "                                                             # STEP 20
str0 += 'y'                                                             # STEP 21
path1 = "/Volumes/ramdisk/test"                                         # STEP 22
result = os0.path.islink(path1)                                         # STEP 23
str4 += 'k'                                                             # STEP 24
file0 = opener0(path0)                                                  # STEP 25
result = os0.path.isabs(path0)                                          # STEP 26
path0 += "/" + component3                                               # STEP 27
component3 = "a"                                                        # STEP 28
str0 += 'h'                                                             # STEP 29
str4 += 'h'                                                             # STEP 30
file0 = opener0(path0,'w')                                              # STEP 31
str4 += 'r'                                                             # STEP 32
result = file0.read()                                                   # STEP 33
str0 += 'o'                                                             # STEP 34
fd0 = os0.open(path0, os.O_CREAT | os.O_WRONLY | os.O_EXCL)             # STEP 35
path4 = "/Volumes/ramdisk/test"                                         # STEP 36
result = os0.path.lexists(path1)                                        # STEP 37
file0.write(str4)                                                       # STEP 38
result = os0.path.isdir(path1)                                          # STEP 39
os0.mkdir(path0)                                                        # STEP 40
str0 = ""                                                               # STEP 41
str4 += 'b'                                                             # STEP 42
os0.link(path0,path4)                                                   # STEP 43
file0.seek(bytes3)                                                      # STEP 44
os0.link(path4,path2)                                                   # STEP 45
str4 += 'c'                                                             # STEP 46
result = os0.path.abspath(path2)                                        # STEP 47
bytes4 = 0                                                              # STEP 48
path3 = "/Volumes/ramdisk/test"                                         # STEP 49
bytes1 = 0                                                              # STEP 50
str0 += 'y'                                                             # STEP 51
os0.remove(path1)                                                       # STEP 52
os0.mkdir(path0)                                                        # STEP 53
str0 += 'f'                                                             # STEP 54
str4 += 'u'                                                             # STEP 55
fd0 = os0.open(path0, os.O_CREAT)                                       # STEP 56
result = os0.path.abspath(path1)                                        # STEP 57
str4 += 'a'                                                             # STEP 58
str4 += 'w'                                                             # STEP 59
os0.rename(path0,path1)                                                 # STEP 60
result = os0.readlink(path1)                                            # STEP 61
stat1 = os0.stat(path0)                                                 # STEP 62
result = file0.read(bytes3)                                             # STEP 63
os0.symlink(path2,path4)                                                # STEP 64
file0.write(str4)                                                       # STEP 65
stat0 = os0.stat(path0)                                                 # STEP 66
str0 += 'd'                                                             # STEP 67
str4 += 'j'                                                             # STEP 68
os0.mkdir(path0)                                                        # STEP 69
str0 += 's'                                                             # STEP 70
path1 += "/" + component0                                               # STEP 71
os0.makedirs(path2)                                                     # STEP 72
str0 = ""                                                               # STEP 73
component0 = "f"                                                        # STEP 74
path3 += "/" + component4                                               # STEP 75
os0.symlink(path0,path3)                                                # STEP 76
os0.rmdir(path3)                                                        # STEP 77
result = os0.path.abspath(path2)                                        # STEP 78
result = os0.path.exists(path3)                                         # STEP 79
os0.symlink(path1,path4)                                                # STEP 80
stat4 = os0.lstat(path3)                                                # STEP 81
result = file0.read(bytes3)                                             # STEP 82
stat3 = os0.lstat(path1)                                                # STEP 83
result = os0.path.isabs(path2)                                          # STEP 84
str4 += 'f'                                                             # STEP 85
os0.rename(path0,path2)                                                 # STEP 86
os0.link(path2,path0)                                                   # STEP 87
result = os0.path.isabs(path3)                                          # STEP 88
os0.symlink(path0,path1)                                                # STEP 89
path1 = "/Volumes/ramdisk/test"                                         # STEP 90
os0.link(path1,path3)                                                   # STEP 91
path1 += "/" + component2                                               # STEP 92
result = os0.path.lexists(path0)                                        # STEP 93
os0.link(path0,path4)                                                   # STEP 94
result = os0.path.islink(path3)                                         # STEP 95
str0 += 'm'                                                             # STEP 96
str2 = ""                                                               # STEP 97
result = sorted(os0.listdir(path2))                                     # STEP 98
str4 += 'h'                                                             # STEP 99
str2 += 'e'                                                            # STEP 100
os0.rename(path1,path4)                                                # STEP 101
result = file0.read(bytes1)                                            # STEP 102
path4 += "/" + component2                                              # STEP 103
os0.makedirs(path4)                                                    # STEP 104
result = stat1.st_size                                                 # STEP 105
ERROR: (<type 'exceptions.AssertionError'>, AssertionError(' (0) == (6) ',), <traceback object at 0x1043f8710>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 21826, in act458
    try: assert result == result_REF, " (%s) == (%s) " % (result, result_REF)
1176 BRANCHES COVERED
903 STATEMENTS COVERED
