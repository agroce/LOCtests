Random testing using config=Config(swarmSwitch=None, verbose=False, reducePool=False, failedLogging=None, exploitBestHint=1, greedyStutter=False, internal=False, exploit=0.8, seed=None, generalize=False, useHints=False, localize=False, total=False, speed='FAST', probs=None, normalize=False, verboseExploit=False, highLowSwarm=None, replayable=False, essentials=False, noCoverageExploit=False, quickTests=False, relax=False, enumerateEnabled=False, uniqueValuesAnalysis=False, swarm=False, noReassign=False, html=None, fastQuickAnalysis=False, progress=False, swarmLength=None, noSwarmDependencies=False, profile=False, LOCBaseline=0.2, noEnumerateEnabled=False, full=True, multiple=True, timedProgress=30, silentFail=True, stopWhenStatements=None, swarmP=0.5, stopWhenBranches=None, noAlphaConvert=False, coverFile='coverage.out', readQuick=False, verboseActions=False, running=False, computeFeatureStats=False, compareFails=False, swarmProbs=None, output='failure.4135.test', genDepth=None, Pcrossover=0.2, quickAnalysis=False, keepLast=False, exploitCeiling=0.1, logging=None, LOCProbs=False, noCheck=False, maxTests=-1, noExceptionMatch=False, Pmutate=0.8, depth=100, showActions=False, throughput=False, noCover=False, timeout=60, stutter=None, uncaught=False, markov=None, startExploit=0)
UNCAUGHT EXCEPTION
ERROR: (<type 'exceptions.OSError'>, OSError(9, 'File is not open for reading.'), <traceback object at 0x107266dd0>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 28528, in act567
    result = self.p_file[0].read(self.p_bytes[3])
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4284, in read_error
    self._raise('File is not open for reading.')
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4112, in _raise
    raise OSError(errno.EBADF, message)
Original test has 101 steps

SAVING TEST AS failure.4135.test.0
FINAL VERSION OF TEST, WITH LOGGED REPLAY:
path0 = "/Volumes/ramdisk/test"                                          # STEP 0
component2 = "alpha"                                                     # STEP 1
component3 = "h"                                                         # STEP 2
component0 = "h"                                                         # STEP 3
bytes1 = 0                                                               # STEP 4
component1 = "b"                                                         # STEP 5
component4 = "a"                                                         # STEP 6
os0 = newFakeOS()                                                        # STEP 7
path0 += "/" + component0                                                # STEP 8
result = os0.path.islink(path0)                                          # STEP 9
stat2 = os0.lstat(path0)                                                # STEP 10
fd0 = os0.open(path0, os.O_CREAT | os.O_WRONLY | os.O_EXCL)             # STEP 11
result = os0.path.islink(path0)                                         # STEP 12
component0 = "a"                                                        # STEP 13
str0 = ""                                                               # STEP 14
stat2 = os0.fstat(fd0)                                                  # STEP 15
result = os0.path.exists(path0)                                         # STEP 16
path0 += "/" + component2                                               # STEP 17
stat0 = os0.fstat(fd0)                                                  # STEP 18
stat1 = os0.lstat(path0)                                                # STEP 19
stat3 = os0.stat(path0)                                                 # STEP 20
os0.write(fd0,str0)                                                     # STEP 21
component2 = "a"                                                        # STEP 22
os0.close(fd0)                                                          # STEP 23
str0 += 'd'                                                             # STEP 24
str0 += 'y'                                                             # STEP 25
str0 += 'a'                                                             # STEP 26
result = os0.path.exists(path0)                                         # STEP 27
path0 = "/Volumes/ramdisk/test"                                         # STEP 28
result = stat2.st_nlink                                                 # STEP 29
path0 += "/" + component4                                               # STEP 30
bytes3 = 0                                                              # STEP 31
path0 = "/Volumes/ramdisk/test"                                         # STEP 32
str0 += 'y'                                                             # STEP 33
component4 = "c"                                                        # STEP 34
str0 += " "                                                             # STEP 35
os0.symlink(path0,path0)                                                # STEP 36
result = os0.path.isfile(path0)                                         # STEP 37
str1 = ""                                                               # STEP 38
str0 += 'd'                                                             # STEP 39
str0 += 'c'                                                             # STEP 40
str1 += 'z'                                                             # STEP 41
bytes0 = 0                                                              # STEP 42
result = os0.path.abspath(path0)                                        # STEP 43
result = stat2.st_nlink                                                 # STEP 44
str1 += 'z'                                                             # STEP 45
stat1 = os0.fstat(fd0)                                                  # STEP 46
str1 += 'p'                                                             # STEP 47
bytes0 += 1                                                             # STEP 48
str1 += 'p'                                                             # STEP 49
bytes3 += 1                                                             # STEP 50
stat4 = os0.fstat(fd0)                                                  # STEP 51
opener0 = newFakeOpener(os0)                                            # STEP 52
str0 += 'n'                                                             # STEP 53
result = stat0.st_nlink                                                 # STEP 54
str0 += 'i'                                                             # STEP 55
result = os0.path.islink(path0)                                         # STEP 56
str0 += 'c'                                                             # STEP 57
stat2 = os0.fstat(fd0)                                                  # STEP 58
str0 += 'y'                                                             # STEP 59
path4 = "/Volumes/ramdisk/test"                                         # STEP 60
result = os0.path.islink(path4)                                         # STEP 61
str0 += 'b'                                                             # STEP 62
os0.symlink(path0,path4)                                                # STEP 63
result = stat0.st_size                                                  # STEP 64
str1 = ""                                                               # STEP 65
str1 += 'x'                                                             # STEP 66
path0 += "/" + component4                                               # STEP 67
os0.write(fd0,str0)                                                     # STEP 68
result = os0.path.dirname(path0)                                        # STEP 69
stat4 = os0.lstat(path0)                                                # STEP 70
bytes4 = 0                                                              # STEP 71
str0 += 'x'                                                             # STEP 72
str0 += 'p'                                                             # STEP 73
stat3 = os0.fstat(fd0)                                                  # STEP 74
component4 = "g"                                                        # STEP 75
str1 += 'k'                                                             # STEP 76
os0.link(path0,path0)                                                   # STEP 77
stat1 = os0.lstat(path0)                                                # STEP 78
file0 = opener0(path4,'w')                                              # STEP 79
result = os0.readlink(path4)                                            # STEP 80
result = stat0.st_nlink                                                 # STEP 81
file0 = opener0(path4,'r')                                              # STEP 82
str0 += 'z'                                                             # STEP 83
str0 += 'z'                                                             # STEP 84
str0 += 't'                                                             # STEP 85
bytes0 = 0                                                              # STEP 86
str1 += 'i'                                                             # STEP 87
result = os0.readlink(path0)                                            # STEP 88
file0 = opener0(path0,'w')                                              # STEP 89
path1 = "/Volumes/ramdisk/test"                                         # STEP 90
str1 += 'v'                                                             # STEP 91
os0.removedirs(path4)                                                   # STEP 92
result = os0.read(fd0,bytes4)                                           # STEP 93
str1 += 'w'                                                             # STEP 94
stat1 = os0.fstat(fd0)                                                  # STEP 95
os0.remove(path0)                                                       # STEP 96
os0.write(fd0,str0)                                                     # STEP 97
os0.write(fd0,str0)                                                     # STEP 98
result = os0.path.isdir(path0)                                          # STEP 99
result = file0.read(bytes3)                                            # STEP 100
ERROR: (<type 'exceptions.OSError'>, OSError(9, 'File is not open for reading.'), <traceback object at 0x104cf08c0>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 28528, in act567
    result = self.p_file[0].read(self.p_bytes[3])
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4284, in read_error
    self._raise('File is not open for reading.')
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4112, in _raise
    raise OSError(errno.EBADF, message)
FAILURE IS NEW, STORING; NOW 1 DISTINCT FAILURES
UNCAUGHT EXCEPTION
ERROR: (<type 'exceptions.OSError'>, OSError(9, 'File is not open for reading.'), <traceback object at 0x105d30e18>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 28881, in act573
    result = self.p_file[0].readline(self.p_bytes[3])
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4284, in read_error
    self._raise('File is not open for reading.')
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4112, in _raise
    raise OSError(errno.EBADF, message)
Original test has 180 steps

SAVING TEST AS failure.4135.test.1
FINAL VERSION OF TEST, WITH LOGGED REPLAY:
path0 = "/Volumes/ramdisk/test"                                          # STEP 0
component2 = "alpha"                                                     # STEP 1
component3 = "h"                                                         # STEP 2
component0 = "h"                                                         # STEP 3
bytes1 = 0                                                               # STEP 4
component1 = "b"                                                         # STEP 5
component4 = "a"                                                         # STEP 6
os0 = newFakeOS()                                                        # STEP 7
path0 += "/" + component0                                                # STEP 8
result = os0.path.islink(path0)                                          # STEP 9
stat2 = os0.lstat(path0)                                                # STEP 10
fd0 = os0.open(path0, os.O_CREAT | os.O_WRONLY | os.O_EXCL)             # STEP 11
result = os0.path.islink(path0)                                         # STEP 12
component0 = "a"                                                        # STEP 13
str0 = ""                                                               # STEP 14
stat2 = os0.fstat(fd0)                                                  # STEP 15
result = os0.path.exists(path0)                                         # STEP 16
path0 += "/" + component2                                               # STEP 17
stat0 = os0.fstat(fd0)                                                  # STEP 18
stat1 = os0.lstat(path0)                                                # STEP 19
stat3 = os0.stat(path0)                                                 # STEP 20
os0.write(fd0,str0)                                                     # STEP 21
component2 = "a"                                                        # STEP 22
os0.close(fd0)                                                          # STEP 23
str0 += 'd'                                                             # STEP 24
str0 += 'y'                                                             # STEP 25
str0 += 'a'                                                             # STEP 26
result = os0.path.exists(path0)                                         # STEP 27
path0 = "/Volumes/ramdisk/test"                                         # STEP 28
result = stat2.st_nlink                                                 # STEP 29
path0 += "/" + component4                                               # STEP 30
bytes3 = 0                                                              # STEP 31
path0 = "/Volumes/ramdisk/test"                                         # STEP 32
str0 += 'y'                                                             # STEP 33
component4 = "c"                                                        # STEP 34
str0 += " "                                                             # STEP 35
os0.symlink(path0,path0)                                                # STEP 36
result = os0.path.isfile(path0)                                         # STEP 37
str1 = ""                                                               # STEP 38
str0 += 'd'                                                             # STEP 39
str0 += 'c'                                                             # STEP 40
str1 += 'z'                                                             # STEP 41
bytes0 = 0                                                              # STEP 42
result = os0.path.abspath(path0)                                        # STEP 43
result = stat2.st_nlink                                                 # STEP 44
str1 += 'z'                                                             # STEP 45
stat1 = os0.fstat(fd0)                                                  # STEP 46
str1 += 'p'                                                             # STEP 47
bytes0 += 1                                                             # STEP 48
str1 += 'p'                                                             # STEP 49
bytes3 += 1                                                             # STEP 50
stat4 = os0.fstat(fd0)                                                  # STEP 51
opener0 = newFakeOpener(os0)                                            # STEP 52
str0 += 'n'                                                             # STEP 53
str0 += 'r'                                                             # STEP 54
result = stat0.st_nlink                                                 # STEP 55
str0 += 'i'                                                             # STEP 56
result = os0.path.islink(path0)                                         # STEP 57
str0 += 'c'                                                             # STEP 58
stat2 = os0.fstat(fd0)                                                  # STEP 59
str0 += 'y'                                                             # STEP 60
path4 = "/Volumes/ramdisk/test"                                         # STEP 61
result = os0.path.islink(path4)                                         # STEP 62
str0 += 'b'                                                             # STEP 63
os0.symlink(path0,path4)                                                # STEP 64
result = stat0.st_size                                                  # STEP 65
str1 = ""                                                               # STEP 66
str1 += 'x'                                                             # STEP 67
path0 += "/" + component4                                               # STEP 68
os0.write(fd0,str0)                                                     # STEP 69
str0 += 'k'                                                             # STEP 70
os0.makedirs(path4)                                                     # STEP 71
str1 += 'q'                                                             # STEP 72
str0 += 'x'                                                             # STEP 73
bytes0 += 1                                                             # STEP 74
path0 += "/" + component0                                               # STEP 75
file0 = opener0(path0,'w')                                              # STEP 76
str1 += 'g'                                                             # STEP 77
file0 = opener0(path4)                                                  # STEP 78
result = os0.read(fd0,bytes1)                                           # STEP 79
fd0 = os0.open(path0, os.O_CREAT | os.O_WRONLY | os.O_EXCL)             # STEP 80
str0 += " "                                                             # STEP 81
path0 += "/" + component0                                               # STEP 82
os0.link(path4,path4)                                                   # STEP 83
str0 += 'm'                                                             # STEP 84
str0 += 't'                                                             # STEP 85
path2 = "/Volumes/ramdisk/test"                                         # STEP 86
result = stat0.st_size                                                  # STEP 87
os0.symlink(path0,path2)                                                # STEP 88
str0 += " "                                                             # STEP 89
component4 = "omega"                                                    # STEP 90
result = os0.path.isabs(path4)                                          # STEP 91
str1 += 'g'                                                             # STEP 92
result = sorted(os0.listdir(path2))                                     # STEP 93
file0 = opener0(path2,'a')                                              # STEP 94
path0 += "/" + component3                                               # STEP 95
component0 = "phi"                                                      # STEP 96
result = sorted(os0.listdir(path2))                                     # STEP 97
str0 += 'a'                                                             # STEP 98
str1 += 'i'                                                             # STEP 99
component3 = "e"                                                       # STEP 100
str0 += 'f'                                                            # STEP 101
path2 += "/" + component4                                              # STEP 102
bytes4 = 0                                                             # STEP 103
path0 = "/Volumes/ramdisk/test"                                        # STEP 104
result = os0.path.islink(path2)                                        # STEP 105
stat3 = os0.lstat(path2)                                               # STEP 106
str1 += 'z'                                                            # STEP 107
result = os0.path.exists(path0)                                        # STEP 108
bytes4 += 1                                                            # STEP 109
os0.rmdir(path2)                                                       # STEP 110
stat1 = os0.fstat(fd0)                                                 # STEP 111
os0.symlink(path0,path0)                                               # STEP 112
file0 = opener0(path0,'a')                                             # STEP 113
path4 += "/" + component3                                              # STEP 114
os0.symlink(path4,path0)                                               # STEP 115
component4 = "g"                                                       # STEP 116
str0 += 'j'                                                            # STEP 117
result = os0.path.islink(path2)                                        # STEP 118
result = os0.path.dirname(path4)                                       # STEP 119
str1 += 'o'                                                            # STEP 120
os0.link(path4,path4)                                                  # STEP 121
component3 = "omega"                                                   # STEP 122
str0 += 'q'                                                            # STEP 123
os0.makedirs(path2)                                                    # STEP 124
result = os0.path.islink(path2)                                        # STEP 125
bytes1 = 0                                                             # STEP 126
str3 = ""                                                              # STEP 127
path0 += "/" + component4                                              # STEP 128
os0.path.getsize(path0)                                                # STEP 129
str3 += " "                                                            # STEP 130
os0.mkdir(path0)                                                       # STEP 131
result = os0.read(fd0,bytes1)                                          # STEP 132
str3 += 'a'                                                            # STEP 133
result = os0.read(fd0,bytes1)                                          # STEP 134
os0.path.getsize(path4)                                                # STEP 135
file0 = opener0(path4,'a')                                             # STEP 136
stat1 = os0.stat(path4)                                                # STEP 137
str3 += 'k'                                                            # STEP 138
result = os0.path.abspath(path2)                                       # STEP 139
result = os0.read(fd0,bytes0)                                          # STEP 140
str1 += 'p'                                                            # STEP 141
result = os0.read(fd0,bytes1)                                          # STEP 142
result = os0.read(fd0,bytes0)                                          # STEP 143
str0 = ""                                                              # STEP 144
path2 = "/Volumes/ramdisk/test"                                        # STEP 145
stat3 = os0.lstat(path4)                                               # STEP 146
str0 += 'u'                                                            # STEP 147
result = os0.path.isdir(path2)                                         # STEP 148
str1 += 'o'                                                            # STEP 149
path2 += "/" + component2                                              # STEP 150
str1 += 'q'                                                            # STEP 151
str0 += 'd'                                                            # STEP 152
path4 += "/" + component3                                              # STEP 153
component3 = "lambda"                                                  # STEP 154
str0 += 'c'                                                            # STEP 155
result = stat1.st_size                                                 # STEP 156
path0 += "/" + component4                                              # STEP 157
str1 = ""                                                              # STEP 158
str0 += 't'                                                            # STEP 159
file0.write(str3)                                                      # STEP 160
str0 += 'b'                                                            # STEP 161
str3 += 'e'                                                            # STEP 162
str3 += 'q'                                                            # STEP 163
str1 += 'c'                                                            # STEP 164
stat0 = os0.lstat(path0)                                               # STEP 165
stat1 = os0.stat(path0)                                                # STEP 166
str0 += 'x'                                                            # STEP 167
result = stat2.st_nlink                                                # STEP 168
os0.link(path0,path4)                                                  # STEP 169
str0 += 'p'                                                            # STEP 170
component2 = "alpha"                                                   # STEP 171
str1 += 'j'                                                            # STEP 172
str1 += 'f'                                                            # STEP 173
str0 += 'c'                                                            # STEP 174
str3 += 'c'                                                            # STEP 175
str3 += 'o'                                                            # STEP 176
str1 += 'z'                                                            # STEP 177
result = os0.path.lexists(path2)                                       # STEP 178
result = file0.readline(bytes3)                                        # STEP 179
ERROR: (<type 'exceptions.OSError'>, OSError(9, 'File is not open for reading.'), <traceback object at 0x10750f248>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 28881, in act573
    result = self.p_file[0].readline(self.p_bytes[3])
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4284, in read_error
    self._raise('File is not open for reading.')
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4112, in _raise
    raise OSError(errno.EBADF, message)
FAILURE IS NEW, STORING; NOW 2 DISTINCT FAILURES
UNCAUGHT EXCEPTION
ERROR: (<type 'exceptions.OSError'>, OSError(9, 'File is not open for reading.'), <traceback object at 0x105cffa28>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 28941, in act574
    result = self.p_file[0].readline(self.p_bytes[4])
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4284, in read_error
    self._raise('File is not open for reading.')
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4112, in _raise
    raise OSError(errno.EBADF, message)
Original test has 193 steps

SAVING TEST AS failure.4135.test.2
FINAL VERSION OF TEST, WITH LOGGED REPLAY:
path0 = "/Volumes/ramdisk/test"                                          # STEP 0
component2 = "alpha"                                                     # STEP 1
component3 = "h"                                                         # STEP 2
component0 = "h"                                                         # STEP 3
bytes1 = 0                                                               # STEP 4
component1 = "b"                                                         # STEP 5
component4 = "a"                                                         # STEP 6
os0 = newFakeOS()                                                        # STEP 7
path0 += "/" + component0                                                # STEP 8
result = os0.path.islink(path0)                                          # STEP 9
stat2 = os0.lstat(path0)                                                # STEP 10
fd0 = os0.open(path0, os.O_CREAT | os.O_WRONLY | os.O_EXCL)             # STEP 11
result = os0.path.islink(path0)                                         # STEP 12
component0 = "a"                                                        # STEP 13
str0 = ""                                                               # STEP 14
stat2 = os0.fstat(fd0)                                                  # STEP 15
str0 += 't'                                                             # STEP 16
result = os0.path.exists(path0)                                         # STEP 17
path0 += "/" + component2                                               # STEP 18
stat0 = os0.fstat(fd0)                                                  # STEP 19
stat1 = os0.lstat(path0)                                                # STEP 20
stat3 = os0.stat(path0)                                                 # STEP 21
os0.write(fd0,str0)                                                     # STEP 22
component2 = "a"                                                        # STEP 23
os0.close(fd0)                                                          # STEP 24
str0 += 'd'                                                             # STEP 25
str0 += 'y'                                                             # STEP 26
str0 += 'a'                                                             # STEP 27
result = os0.path.exists(path0)                                         # STEP 28
path0 = "/Volumes/ramdisk/test"                                         # STEP 29
result = stat2.st_nlink                                                 # STEP 30
path0 += "/" + component4                                               # STEP 31
bytes3 = 0                                                              # STEP 32
path0 = "/Volumes/ramdisk/test"                                         # STEP 33
str0 += 'y'                                                             # STEP 34
component4 = "c"                                                        # STEP 35
str0 += " "                                                             # STEP 36
os0.symlink(path0,path0)                                                # STEP 37
result = os0.path.isfile(path0)                                         # STEP 38
str1 = ""                                                               # STEP 39
str0 += 'd'                                                             # STEP 40
str0 += 'c'                                                             # STEP 41
str1 += 'z'                                                             # STEP 42
bytes0 = 0                                                              # STEP 43
result = os0.path.abspath(path0)                                        # STEP 44
result = stat2.st_nlink                                                 # STEP 45
str1 += 'z'                                                             # STEP 46
stat1 = os0.fstat(fd0)                                                  # STEP 47
str1 += 'p'                                                             # STEP 48
bytes0 += 1                                                             # STEP 49
str1 += 'p'                                                             # STEP 50
bytes3 += 1                                                             # STEP 51
stat4 = os0.fstat(fd0)                                                  # STEP 52
opener0 = newFakeOpener(os0)                                            # STEP 53
str0 += 'n'                                                             # STEP 54
str0 += 'r'                                                             # STEP 55
result = stat0.st_nlink                                                 # STEP 56
str0 += 'i'                                                             # STEP 57
result = os0.path.islink(path0)                                         # STEP 58
str0 += 'c'                                                             # STEP 59
stat2 = os0.fstat(fd0)                                                  # STEP 60
str0 += 'y'                                                             # STEP 61
path4 = "/Volumes/ramdisk/test"                                         # STEP 62
result = os0.path.islink(path4)                                         # STEP 63
str0 += 'b'                                                             # STEP 64
os0.symlink(path0,path4)                                                # STEP 65
result = stat0.st_size                                                  # STEP 66
str1 = ""                                                               # STEP 67
str1 += 'x'                                                             # STEP 68
path0 += "/" + component4                                               # STEP 69
os0.write(fd0,str0)                                                     # STEP 70
str0 += 'k'                                                             # STEP 71
os0.makedirs(path4)                                                     # STEP 72
str1 += 'q'                                                             # STEP 73
str0 += 'x'                                                             # STEP 74
bytes0 += 1                                                             # STEP 75
path0 += "/" + component0                                               # STEP 76
file0 = opener0(path0,'w')                                              # STEP 77
str1 += 'g'                                                             # STEP 78
file0 = opener0(path4)                                                  # STEP 79
result = os0.read(fd0,bytes1)                                           # STEP 80
fd0 = os0.open(path0, os.O_CREAT | os.O_WRONLY | os.O_EXCL)             # STEP 81
str0 += " "                                                             # STEP 82
path0 += "/" + component0                                               # STEP 83
os0.link(path4,path4)                                                   # STEP 84
str0 += 'm'                                                             # STEP 85
str0 += 't'                                                             # STEP 86
path2 = "/Volumes/ramdisk/test"                                         # STEP 87
result = stat0.st_size                                                  # STEP 88
os0.symlink(path0,path2)                                                # STEP 89
str0 += " "                                                             # STEP 90
component4 = "omega"                                                    # STEP 91
result = os0.path.isabs(path4)                                          # STEP 92
str1 += 'g'                                                             # STEP 93
result = sorted(os0.listdir(path2))                                     # STEP 94
file0 = opener0(path2,'a')                                              # STEP 95
path0 += "/" + component3                                               # STEP 96
component0 = "phi"                                                      # STEP 97
result = sorted(os0.listdir(path2))                                     # STEP 98
str0 += 'a'                                                             # STEP 99
str1 += 'i'                                                            # STEP 100
component3 = "e"                                                       # STEP 101
str0 += 'f'                                                            # STEP 102
path2 += "/" + component4                                              # STEP 103
bytes4 = 0                                                             # STEP 104
path0 = "/Volumes/ramdisk/test"                                        # STEP 105
result = os0.path.islink(path2)                                        # STEP 106
stat3 = os0.lstat(path2)                                               # STEP 107
str1 += 'z'                                                            # STEP 108
result = os0.path.exists(path0)                                        # STEP 109
bytes4 += 1                                                            # STEP 110
os0.rmdir(path2)                                                       # STEP 111
stat1 = os0.fstat(fd0)                                                 # STEP 112
os0.symlink(path0,path0)                                               # STEP 113
file0 = opener0(path0,'a')                                             # STEP 114
path4 += "/" + component3                                              # STEP 115
os0.symlink(path4,path0)                                               # STEP 116
component4 = "g"                                                       # STEP 117
str0 += 'j'                                                            # STEP 118
result = os0.path.islink(path2)                                        # STEP 119
result = os0.path.dirname(path4)                                       # STEP 120
str1 += 'o'                                                            # STEP 121
os0.link(path4,path4)                                                  # STEP 122
component3 = "omega"                                                   # STEP 123
str0 += 'q'                                                            # STEP 124
os0.makedirs(path2)                                                    # STEP 125
result = os0.path.islink(path2)                                        # STEP 126
bytes1 = 0                                                             # STEP 127
str3 = ""                                                              # STEP 128
path0 += "/" + component4                                              # STEP 129
os0.path.getsize(path0)                                                # STEP 130
str3 += " "                                                            # STEP 131
os0.mkdir(path0)                                                       # STEP 132
result = os0.read(fd0,bytes1)                                          # STEP 133
str3 += 'a'                                                            # STEP 134
result = os0.read(fd0,bytes1)                                          # STEP 135
os0.path.getsize(path4)                                                # STEP 136
file0 = opener0(path4,'a')                                             # STEP 137
stat1 = os0.stat(path4)                                                # STEP 138
str3 += 'k'                                                            # STEP 139
result = os0.path.abspath(path2)                                       # STEP 140
result = os0.read(fd0,bytes0)                                          # STEP 141
str1 += 'p'                                                            # STEP 142
result = os0.read(fd0,bytes1)                                          # STEP 143
result = os0.read(fd0,bytes0)                                          # STEP 144
str0 = ""                                                              # STEP 145
path2 = "/Volumes/ramdisk/test"                                        # STEP 146
stat3 = os0.lstat(path4)                                               # STEP 147
str0 += 'u'                                                            # STEP 148
result = os0.path.isdir(path2)                                         # STEP 149
str1 += 'o'                                                            # STEP 150
path2 += "/" + component2                                              # STEP 151
str1 += 'q'                                                            # STEP 152
str0 += 'd'                                                            # STEP 153
path4 += "/" + component3                                              # STEP 154
component3 = "lambda"                                                  # STEP 155
str0 += 'c'                                                            # STEP 156
result = stat1.st_size                                                 # STEP 157
path0 += "/" + component4                                              # STEP 158
str1 = ""                                                              # STEP 159
str0 += 't'                                                            # STEP 160
file0.write(str3)                                                      # STEP 161
result = stat2.st_nlink                                                # STEP 162
str1 += 'q'                                                            # STEP 163
result = stat0.st_nlink                                                # STEP 164
bytes2 = 0                                                             # STEP 165
component2 = "lambda"                                                  # STEP 166
result = os0.path.lexists(path2)                                       # STEP 167
str1 += 'l'                                                            # STEP 168
result = stat1.st_size                                                 # STEP 169
str1 += 'r'                                                            # STEP 170
os0.makedirs(path2)                                                    # STEP 171
str0 += 's'                                                            # STEP 172
result = os0.path.abspath(path2)                                       # STEP 173
str1 += 'w'                                                            # STEP 174
str3 += 'u'                                                            # STEP 175
path2 += "/" + component0                                              # STEP 176
os0.link(path4,path4)                                                  # STEP 177
str3 += " "                                                            # STEP 178
result = sorted(os0.listdir(path4))                                    # STEP 179
str0 += 'a'                                                            # STEP 180
str3 += 'a'                                                            # STEP 181
str1 += " "                                                            # STEP 182
result = stat1.st_nlink                                                # STEP 183
component4 = "e"                                                       # STEP 184
component0 = "h"                                                       # STEP 185
stat0 = os0.stat(path0)                                                # STEP 186
str3 += 'v'                                                            # STEP 187
str3 += 'k'                                                            # STEP 188
os0.link(path4,path4)                                                  # STEP 189
str0 += 'c'                                                            # STEP 190
str0 += 'w'                                                            # STEP 191
result = file0.readline(bytes4)                                        # STEP 192
ERROR: (<type 'exceptions.OSError'>, OSError(9, 'File is not open for reading.'), <traceback object at 0x106a48ea8>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 28941, in act574
    result = self.p_file[0].readline(self.p_bytes[4])
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4284, in read_error
    self._raise('File is not open for reading.')
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4112, in _raise
    raise OSError(errno.EBADF, message)
FAILURE IS NEW, STORING; NOW 3 DISTINCT FAILURES
UNCAUGHT EXCEPTION
ERROR: (<type 'exceptions.OSError'>, OSError(9, 'File is not open for reading.'), <traceback object at 0x108a8ae18>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 28941, in act574
    result = self.p_file[0].readline(self.p_bytes[4])
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4284, in read_error
    self._raise('File is not open for reading.')
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4112, in _raise
    raise OSError(errno.EBADF, message)
Original test has 209 steps

SAVING TEST AS failure.4135.test.3
FINAL VERSION OF TEST, WITH LOGGED REPLAY:
path0 = "/Volumes/ramdisk/test"                                          # STEP 0
component2 = "alpha"                                                     # STEP 1
component3 = "h"                                                         # STEP 2
component0 = "h"                                                         # STEP 3
bytes1 = 0                                                               # STEP 4
component1 = "b"                                                         # STEP 5
component4 = "a"                                                         # STEP 6
os0 = newFakeOS()                                                        # STEP 7
path0 += "/" + component0                                                # STEP 8
result = os0.path.islink(path0)                                          # STEP 9
stat2 = os0.lstat(path0)                                                # STEP 10
fd0 = os0.open(path0, os.O_CREAT | os.O_WRONLY | os.O_EXCL)             # STEP 11
result = os0.path.islink(path0)                                         # STEP 12
component0 = "a"                                                        # STEP 13
str0 = ""                                                               # STEP 14
stat2 = os0.fstat(fd0)                                                  # STEP 15
result = os0.path.exists(path0)                                         # STEP 16
path0 += "/" + component2                                               # STEP 17
stat0 = os0.fstat(fd0)                                                  # STEP 18
stat1 = os0.lstat(path0)                                                # STEP 19
stat3 = os0.stat(path0)                                                 # STEP 20
os0.write(fd0,str0)                                                     # STEP 21
component2 = "a"                                                        # STEP 22
os0.close(fd0)                                                          # STEP 23
str0 += 'd'                                                             # STEP 24
str0 += 'y'                                                             # STEP 25
str0 += 'a'                                                             # STEP 26
result = os0.path.exists(path0)                                         # STEP 27
path0 = "/Volumes/ramdisk/test"                                         # STEP 28
result = stat2.st_nlink                                                 # STEP 29
path0 += "/" + component4                                               # STEP 30
bytes3 = 0                                                              # STEP 31
path0 = "/Volumes/ramdisk/test"                                         # STEP 32
str0 += 'y'                                                             # STEP 33
component4 = "c"                                                        # STEP 34
str0 += " "                                                             # STEP 35
os0.symlink(path0,path0)                                                # STEP 36
result = os0.path.isfile(path0)                                         # STEP 37
str1 = ""                                                               # STEP 38
str0 += 'd'                                                             # STEP 39
str0 += 'c'                                                             # STEP 40
str1 += 'z'                                                             # STEP 41
bytes0 = 0                                                              # STEP 42
result = os0.path.abspath(path0)                                        # STEP 43
result = stat2.st_nlink                                                 # STEP 44
str1 += 'z'                                                             # STEP 45
stat1 = os0.fstat(fd0)                                                  # STEP 46
str1 += 'p'                                                             # STEP 47
bytes0 += 1                                                             # STEP 48
str1 += 'p'                                                             # STEP 49
bytes3 += 1                                                             # STEP 50
stat4 = os0.fstat(fd0)                                                  # STEP 51
opener0 = newFakeOpener(os0)                                            # STEP 52
str0 += 'n'                                                             # STEP 53
str0 += 'r'                                                             # STEP 54
result = stat0.st_nlink                                                 # STEP 55
str0 += 'i'                                                             # STEP 56
result = os0.path.islink(path0)                                         # STEP 57
str0 += 'c'                                                             # STEP 58
stat2 = os0.fstat(fd0)                                                  # STEP 59
str0 += 'y'                                                             # STEP 60
path4 = "/Volumes/ramdisk/test"                                         # STEP 61
result = os0.path.islink(path4)                                         # STEP 62
str0 += 'b'                                                             # STEP 63
os0.symlink(path0,path4)                                                # STEP 64
result = stat0.st_size                                                  # STEP 65
str1 = ""                                                               # STEP 66
str1 += 'x'                                                             # STEP 67
path0 += "/" + component4                                               # STEP 68
os0.write(fd0,str0)                                                     # STEP 69
str0 += 'k'                                                             # STEP 70
os0.makedirs(path4)                                                     # STEP 71
str1 += 'q'                                                             # STEP 72
str0 += 'x'                                                             # STEP 73
bytes0 += 1                                                             # STEP 74
path0 += "/" + component0                                               # STEP 75
file0 = opener0(path0,'w')                                              # STEP 76
str1 += 'g'                                                             # STEP 77
file0 = opener0(path4)                                                  # STEP 78
result = os0.read(fd0,bytes1)                                           # STEP 79
fd0 = os0.open(path0, os.O_CREAT | os.O_WRONLY | os.O_EXCL)             # STEP 80
str0 += " "                                                             # STEP 81
path0 += "/" + component0                                               # STEP 82
os0.link(path4,path4)                                                   # STEP 83
str0 += 'm'                                                             # STEP 84
str0 += 't'                                                             # STEP 85
path2 = "/Volumes/ramdisk/test"                                         # STEP 86
result = stat0.st_size                                                  # STEP 87
os0.symlink(path0,path2)                                                # STEP 88
str0 += " "                                                             # STEP 89
component4 = "omega"                                                    # STEP 90
result = os0.path.isabs(path4)                                          # STEP 91
result = sorted(os0.listdir(path2))                                     # STEP 92
file0 = opener0(path2,'a')                                              # STEP 93
path0 += "/" + component3                                               # STEP 94
component0 = "phi"                                                      # STEP 95
result = sorted(os0.listdir(path2))                                     # STEP 96
str0 += 'a'                                                             # STEP 97
str1 += 'i'                                                             # STEP 98
component3 = "e"                                                        # STEP 99
str0 += 'f'                                                            # STEP 100
path2 += "/" + component4                                              # STEP 101
bytes4 = 0                                                             # STEP 102
path0 = "/Volumes/ramdisk/test"                                        # STEP 103
result = os0.path.islink(path2)                                        # STEP 104
stat3 = os0.lstat(path2)                                               # STEP 105
str1 += 'z'                                                            # STEP 106
result = os0.path.exists(path0)                                        # STEP 107
bytes4 += 1                                                            # STEP 108
os0.rmdir(path2)                                                       # STEP 109
stat1 = os0.fstat(fd0)                                                 # STEP 110
os0.symlink(path0,path0)                                               # STEP 111
file0 = opener0(path0,'a')                                             # STEP 112
path4 += "/" + component3                                              # STEP 113
os0.symlink(path4,path0)                                               # STEP 114
component4 = "g"                                                       # STEP 115
str0 += 'j'                                                            # STEP 116
result = os0.path.islink(path2)                                        # STEP 117
result = os0.path.dirname(path4)                                       # STEP 118
str1 += 'o'                                                            # STEP 119
os0.link(path4,path4)                                                  # STEP 120
component3 = "omega"                                                   # STEP 121
str0 += 'q'                                                            # STEP 122
os0.makedirs(path2)                                                    # STEP 123
result = os0.path.islink(path2)                                        # STEP 124
bytes1 = 0                                                             # STEP 125
str3 = ""                                                              # STEP 126
path0 += "/" + component4                                              # STEP 127
os0.path.getsize(path0)                                                # STEP 128
str3 += " "                                                            # STEP 129
os0.mkdir(path0)                                                       # STEP 130
result = os0.read(fd0,bytes1)                                          # STEP 131
str3 += 'a'                                                            # STEP 132
result = os0.read(fd0,bytes1)                                          # STEP 133
os0.path.getsize(path4)                                                # STEP 134
file0 = opener0(path4,'a')                                             # STEP 135
stat1 = os0.stat(path4)                                                # STEP 136
str3 += 'k'                                                            # STEP 137
result = os0.path.abspath(path2)                                       # STEP 138
result = os0.read(fd0,bytes0)                                          # STEP 139
str1 += 'p'                                                            # STEP 140
result = os0.read(fd0,bytes1)                                          # STEP 141
result = os0.read(fd0,bytes0)                                          # STEP 142
str0 = ""                                                              # STEP 143
path2 = "/Volumes/ramdisk/test"                                        # STEP 144
stat3 = os0.lstat(path4)                                               # STEP 145
str0 += 'u'                                                            # STEP 146
result = os0.path.isdir(path2)                                         # STEP 147
str1 += 'o'                                                            # STEP 148
path2 += "/" + component2                                              # STEP 149
str1 += 'q'                                                            # STEP 150
str0 += 'd'                                                            # STEP 151
path4 += "/" + component3                                              # STEP 152
component3 = "lambda"                                                  # STEP 153
str0 += 'c'                                                            # STEP 154
result = stat1.st_size                                                 # STEP 155
path0 += "/" + component4                                              # STEP 156
str1 = ""                                                              # STEP 157
str0 += 't'                                                            # STEP 158
file0.write(str3)                                                      # STEP 159
str3 += 'm'                                                            # STEP 160
bytes0 = 0                                                             # STEP 161
str0 += 'm'                                                            # STEP 162
result = os0.path.abspath(path0)                                       # STEP 163
path0 += "/" + component4                                              # STEP 164
component2 = "f"                                                       # STEP 165
bytes3 += 1                                                            # STEP 166
os0.rmdir(path2)                                                       # STEP 167
stat0 = os0.fstat(fd0)                                                 # STEP 168
str1 += 't'                                                            # STEP 169
os0.symlink(path4,path2)                                               # STEP 170
result = os0.path.isabs(path4)                                         # STEP 171
path2 += "/" + component1                                              # STEP 172
component1 = "lambda"                                                  # STEP 173
stat1 = os0.lstat(path2)                                               # STEP 174
result = os0.path.exists(path0)                                        # STEP 175
result = os0.read(fd0,bytes0)                                          # STEP 176
os0.symlink(path4,path0)                                               # STEP 177
str3 += 'h'                                                            # STEP 178
str0 += 'y'                                                            # STEP 179
str3 += 'o'                                                            # STEP 180
os0.symlink(path0,path4)                                               # STEP 181
result = sorted(os0.listdir(path2))                                    # STEP 182
result = os0.read(fd0,bytes0)                                          # STEP 183
str1 += 'j'                                                            # STEP 184
path0 += "/" + component3                                              # STEP 185
result = os0.path.isdir(path4)                                         # STEP 186
path4 += "/" + component2                                              # STEP 187
os0.rename(path4,path0)                                                # STEP 188
str0 += 'x'                                                            # STEP 189
file0.seek(bytes1)                                                     # STEP 190
component2 = "b"                                                       # STEP 191
str0 += 'd'                                                            # STEP 192
bytes1 += 1                                                            # STEP 193
component4 = "omega"                                                   # STEP 194
str3 += 'g'                                                            # STEP 195
result = os0.path.isabs(path4)                                         # STEP 196
result = os0.read(fd0,bytes1)                                          # STEP 197
file0.next()                                                           # STEP 198
result = stat2.st_size                                                 # STEP 199
str0 += 'j'                                                            # STEP 200
str1 += 's'                                                            # STEP 201
os0.symlink(path4,path2)                                               # STEP 202
str1 += 'l'                                                            # STEP 203
str3 += 'b'                                                            # STEP 204
result = os0.read(fd0,bytes0)                                          # STEP 205
component3 = "a"                                                       # STEP 206
os0.path.getsize(path0)                                                # STEP 207
result = file0.readline(bytes4)                                        # STEP 208
ERROR: (<type 'exceptions.OSError'>, OSError(9, 'File is not open for reading.'), <traceback object at 0x108ab4758>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 28941, in act574
    result = self.p_file[0].readline(self.p_bytes[4])
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4284, in read_error
    self._raise('File is not open for reading.')
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4112, in _raise
    raise OSError(errno.EBADF, message)
FAILURE IS NEW, STORING; NOW 4 DISTINCT FAILURES
TEST #113 STEP #0 (0:00:30.025472) Fri Jul 21 23:11:48 2017 [ 905 stmts 1180 branches ] 10916 TOTAL ACTIONS (363.557982602/s)
UNCAUGHT EXCEPTION
ERROR: (<type 'exceptions.OSError'>, OSError(9, 'File is not open for reading.'), <traceback object at 0x103078b90>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 28941, in act574
    result = self.p_file[0].readline(self.p_bytes[4])
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4284, in read_error
    self._raise('File is not open for reading.')
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4112, in _raise
    raise OSError(errno.EBADF, message)
Original test has 132 steps

SAVING TEST AS failure.4135.test.4
FINAL VERSION OF TEST, WITH LOGGED REPLAY:
path0 = "/Volumes/ramdisk/test"                                          # STEP 0
component2 = "alpha"                                                     # STEP 1
component3 = "h"                                                         # STEP 2
component0 = "h"                                                         # STEP 3
bytes1 = 0                                                               # STEP 4
component1 = "b"                                                         # STEP 5
component4 = "a"                                                         # STEP 6
os0 = newFakeOS()                                                        # STEP 7
path0 += "/" + component0                                                # STEP 8
result = os0.path.islink(path0)                                          # STEP 9
stat2 = os0.lstat(path0)                                                # STEP 10
fd0 = os0.open(path0, os.O_CREAT | os.O_WRONLY | os.O_EXCL)             # STEP 11
result = os0.path.islink(path0)                                         # STEP 12
component0 = "a"                                                        # STEP 13
str0 = ""                                                               # STEP 14
stat2 = os0.fstat(fd0)                                                  # STEP 15
result = os0.path.exists(path0)                                         # STEP 16
path0 += "/" + component2                                               # STEP 17
stat0 = os0.fstat(fd0)                                                  # STEP 18
stat1 = os0.lstat(path0)                                                # STEP 19
stat3 = os0.stat(path0)                                                 # STEP 20
os0.write(fd0,str0)                                                     # STEP 21
component2 = "a"                                                        # STEP 22
os0.close(fd0)                                                          # STEP 23
str0 += 'd'                                                             # STEP 24
str0 += 'y'                                                             # STEP 25
str0 += 'a'                                                             # STEP 26
result = os0.path.exists(path0)                                         # STEP 27
path0 = "/Volumes/ramdisk/test"                                         # STEP 28
result = stat2.st_nlink                                                 # STEP 29
path0 += "/" + component4                                               # STEP 30
bytes3 = 0                                                              # STEP 31
path0 = "/Volumes/ramdisk/test"                                         # STEP 32
str0 += 'y'                                                             # STEP 33
component4 = "c"                                                        # STEP 34
str0 += " "                                                             # STEP 35
os0.symlink(path0,path0)                                                # STEP 36
result = os0.path.isfile(path0)                                         # STEP 37
str1 = ""                                                               # STEP 38
str0 += 'd'                                                             # STEP 39
str0 += 'c'                                                             # STEP 40
str1 += 'z'                                                             # STEP 41
bytes0 = 0                                                              # STEP 42
result = os0.path.abspath(path0)                                        # STEP 43
result = stat2.st_nlink                                                 # STEP 44
str1 += 'z'                                                             # STEP 45
stat1 = os0.fstat(fd0)                                                  # STEP 46
str1 += 'p'                                                             # STEP 47
bytes0 += 1                                                             # STEP 48
str1 += 'p'                                                             # STEP 49
bytes3 += 1                                                             # STEP 50
stat4 = os0.fstat(fd0)                                                  # STEP 51
opener0 = newFakeOpener(os0)                                            # STEP 52
str0 += 'n'                                                             # STEP 53
str0 += 'r'                                                             # STEP 54
result = stat0.st_nlink                                                 # STEP 55
str0 += 'i'                                                             # STEP 56
result = os0.path.islink(path0)                                         # STEP 57
str0 += 'c'                                                             # STEP 58
stat2 = os0.fstat(fd0)                                                  # STEP 59
str0 += 'y'                                                             # STEP 60
path4 = "/Volumes/ramdisk/test"                                         # STEP 61
result = os0.path.islink(path4)                                         # STEP 62
str0 += 'b'                                                             # STEP 63
os0.symlink(path0,path4)                                                # STEP 64
result = stat0.st_size                                                  # STEP 65
str1 = ""                                                               # STEP 66
str1 += 'x'                                                             # STEP 67
path0 += "/" + component4                                               # STEP 68
os0.write(fd0,str0)                                                     # STEP 69
result = os0.path.dirname(path0)                                        # STEP 70
stat4 = os0.lstat(path0)                                                # STEP 71
bytes4 = 0                                                              # STEP 72
str0 += 'x'                                                             # STEP 73
str0 += 'p'                                                             # STEP 74
stat3 = os0.fstat(fd0)                                                  # STEP 75
component4 = "g"                                                        # STEP 76
str1 += 'k'                                                             # STEP 77
os0.link(path0,path0)                                                   # STEP 78
stat1 = os0.lstat(path0)                                                # STEP 79
file0 = opener0(path4,'w')                                              # STEP 80
result = os0.readlink(path4)                                            # STEP 81
result = stat0.st_nlink                                                 # STEP 82
file0 = opener0(path4,'r')                                              # STEP 83
str0 += 'z'                                                             # STEP 84
str0 += 'z'                                                             # STEP 85
str0 += 't'                                                             # STEP 86
bytes0 = 0                                                              # STEP 87
str1 += 'i'                                                             # STEP 88
result = os0.readlink(path0)                                            # STEP 89
file0 = opener0(path0,'w')                                              # STEP 90
stat3 = os0.fstat(fd0)                                                  # STEP 91
str0 += 'x'                                                             # STEP 92
str4 = ""                                                               # STEP 93
str1 += 'o'                                                             # STEP 94
os0.write(fd0,str1)                                                     # STEP 95
str0 = ""                                                               # STEP 96
os0.removedirs(path0)                                                   # STEP 97
file0.truncate()                                                        # STEP 98
str4 += 'e'                                                             # STEP 99
str1 += 'y'                                                            # STEP 100
str1 += 'r'                                                            # STEP 101
os0.remove(path4)                                                      # STEP 102
str4 += 'f'                                                            # STEP 103
result = os0.path.dirname(path4)                                       # STEP 104
result = os0.path.abspath(path0)                                       # STEP 105
str4 += 'd'                                                            # STEP 106
str0 += 'k'                                                            # STEP 107
result = os0.path.abspath(path0)                                       # STEP 108
os0.path.getsize(path0)                                                # STEP 109
str0 += " "                                                            # STEP 110
stat0 = os0.stat(path0)                                                # STEP 111
fd0 = os0.open(path0, os.O_CREAT | os.O_WRONLY | os.O_EXCL)            # STEP 112
str0 += 'h'                                                            # STEP 113
str1 += 't'                                                            # STEP 114
result = os0.read(fd0,bytes4)                                          # STEP 115
str0 += 'q'                                                            # STEP 116
str4 += 'z'                                                            # STEP 117
str1 += 'z'                                                            # STEP 118
str1 += 'e'                                                            # STEP 119
result = os0.path.exists(path4)                                        # STEP 120
str1 += 'p'                                                            # STEP 121
os0.write(fd0,str0)                                                    # STEP 122
str1 = ""                                                              # STEP 123
str1 += 'k'                                                            # STEP 124
str4 += 'a'                                                            # STEP 125
str0 = ""                                                              # STEP 126
str4 = ""                                                              # STEP 127
file0.write(str0)                                                      # STEP 128
os0.makedirs(path4)                                                    # STEP 129
bytes0 += 1                                                            # STEP 130
result = file0.readline(bytes4)                                        # STEP 131
ERROR: (<type 'exceptions.OSError'>, OSError(9, 'File is not open for reading.'), <traceback object at 0x103058cf8>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 28941, in act574
    result = self.p_file[0].readline(self.p_bytes[4])
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4284, in read_error
    self._raise('File is not open for reading.')
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4112, in _raise
    raise OSError(errno.EBADF, message)
FAILURE IS NEW, STORING; NOW 5 DISTINCT FAILURES
UNCAUGHT EXCEPTION
ERROR: (<type 'exceptions.OSError'>, OSError(9, 'File is not open for reading.'), <traceback object at 0x108e83050>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 28468, in act566
    result = self.p_file[0].read(self.p_bytes[2])
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4284, in read_error
    self._raise('File is not open for reading.')
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4112, in _raise
    raise OSError(errno.EBADF, message)
Original test has 117 steps

SAVING TEST AS failure.4135.test.5
FINAL VERSION OF TEST, WITH LOGGED REPLAY:
path0 = "/Volumes/ramdisk/test"                                          # STEP 0
component2 = "alpha"                                                     # STEP 1
component3 = "h"                                                         # STEP 2
component0 = "h"                                                         # STEP 3
bytes1 = 0                                                               # STEP 4
component4 = "a"                                                         # STEP 5
os0 = newFakeOS()                                                        # STEP 6
path0 += "/" + component0                                                # STEP 7
result = os0.path.islink(path0)                                          # STEP 8
stat2 = os0.lstat(path0)                                                 # STEP 9
fd0 = os0.open(path0, os.O_CREAT | os.O_WRONLY | os.O_EXCL)             # STEP 10
result = os0.path.islink(path0)                                         # STEP 11
component0 = "a"                                                        # STEP 12
str0 = ""                                                               # STEP 13
stat2 = os0.fstat(fd0)                                                  # STEP 14
result = os0.path.exists(path0)                                         # STEP 15
path0 += "/" + component2                                               # STEP 16
stat0 = os0.fstat(fd0)                                                  # STEP 17
stat1 = os0.lstat(path0)                                                # STEP 18
stat3 = os0.stat(path0)                                                 # STEP 19
os0.write(fd0,str0)                                                     # STEP 20
component2 = "a"                                                        # STEP 21
os0.close(fd0)                                                          # STEP 22
str0 += 'd'                                                             # STEP 23
str0 += 'y'                                                             # STEP 24
str0 += 'a'                                                             # STEP 25
result = os0.path.exists(path0)                                         # STEP 26
path0 = "/Volumes/ramdisk/test"                                         # STEP 27
result = stat2.st_nlink                                                 # STEP 28
path0 += "/" + component4                                               # STEP 29
bytes3 = 0                                                              # STEP 30
path0 = "/Volumes/ramdisk/test"                                         # STEP 31
str0 += 'y'                                                             # STEP 32
component4 = "c"                                                        # STEP 33
str0 += " "                                                             # STEP 34
os0.symlink(path0,path0)                                                # STEP 35
result = os0.path.isfile(path0)                                         # STEP 36
str1 = ""                                                               # STEP 37
str0 += 'd'                                                             # STEP 38
str0 += 'c'                                                             # STEP 39
str1 += 'z'                                                             # STEP 40
bytes0 = 0                                                              # STEP 41
result = os0.path.abspath(path0)                                        # STEP 42
result = stat2.st_nlink                                                 # STEP 43
str1 += 'z'                                                             # STEP 44
stat1 = os0.fstat(fd0)                                                  # STEP 45
str1 += 'p'                                                             # STEP 46
bytes0 += 1                                                             # STEP 47
str1 += 'p'                                                             # STEP 48
bytes3 += 1                                                             # STEP 49
stat4 = os0.fstat(fd0)                                                  # STEP 50
opener0 = newFakeOpener(os0)                                            # STEP 51
str0 += 'n'                                                             # STEP 52
str0 += 'r'                                                             # STEP 53
result = stat0.st_nlink                                                 # STEP 54
str0 += 'i'                                                             # STEP 55
result = os0.path.islink(path0)                                         # STEP 56
str0 += 'c'                                                             # STEP 57
stat2 = os0.fstat(fd0)                                                  # STEP 58
str0 += 'y'                                                             # STEP 59
path4 = "/Volumes/ramdisk/test"                                         # STEP 60
result = os0.path.islink(path4)                                         # STEP 61
str0 += 'b'                                                             # STEP 62
os0.symlink(path0,path4)                                                # STEP 63
result = stat0.st_size                                                  # STEP 64
str1 = ""                                                               # STEP 65
str1 += 'x'                                                             # STEP 66
path0 += "/" + component4                                               # STEP 67
os0.write(fd0,str0)                                                     # STEP 68
result = os0.path.dirname(path0)                                        # STEP 69
stat4 = os0.lstat(path0)                                                # STEP 70
bytes4 = 0                                                              # STEP 71
str0 += 'x'                                                             # STEP 72
str0 += 'p'                                                             # STEP 73
stat3 = os0.fstat(fd0)                                                  # STEP 74
component4 = "g"                                                        # STEP 75
str1 += 'k'                                                             # STEP 76
os0.link(path0,path0)                                                   # STEP 77
stat1 = os0.lstat(path0)                                                # STEP 78
file0 = opener0(path4,'w')                                              # STEP 79
result = os0.readlink(path4)                                            # STEP 80
result = stat0.st_nlink                                                 # STEP 81
file0 = opener0(path4,'r')                                              # STEP 82
str0 += 'z'                                                             # STEP 83
str0 += 'z'                                                             # STEP 84
str0 += 't'                                                             # STEP 85
bytes0 = 0                                                              # STEP 86
str1 += 'i'                                                             # STEP 87
result = os0.readlink(path0)                                            # STEP 88
file0 = opener0(path0,'w')                                              # STEP 89
stat3 = os0.fstat(fd0)                                                  # STEP 90
str0 += 'x'                                                             # STEP 91
str4 = ""                                                               # STEP 92
os0.symlink(path0,path0)                                                # STEP 93
str0 += 'x'                                                             # STEP 94
file0.seek(bytes1)                                                      # STEP 95
fd0 = os0.open(path0, os.O_CREAT | os.O_WRONLY | os.O_EXCL)             # STEP 96
str1 += 's'                                                             # STEP 97
str0 += 'k'                                                             # STEP 98
str0 += 'm'                                                             # STEP 99
str3 = ""                                                              # STEP 100
result = os0.path.lexists(path4)                                       # STEP 101
path0 += "/" + component0                                              # STEP 102
result = os0.path.exists(path0)                                        # STEP 103
result = os0.read(fd0,bytes4)                                          # STEP 104
bytes2 = 0                                                             # STEP 105
str3 += 't'                                                            # STEP 106
file0.truncate()                                                       # STEP 107
os0.rmdir(path0)                                                       # STEP 108
str0 += 'z'                                                            # STEP 109
str1 += 'r'                                                            # STEP 110
str3 += 'a'                                                            # STEP 111
str1 += 'c'                                                            # STEP 112
component0 = "lambda"                                                  # STEP 113
stat4 = os0.lstat(path0)                                               # STEP 114
str4 += 'r'                                                            # STEP 115
result = file0.read(bytes2)                                            # STEP 116
ERROR: (<type 'exceptions.OSError'>, OSError(9, 'File is not open for reading.'), <traceback object at 0x103c9cf38>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 28468, in act566
    result = self.p_file[0].read(self.p_bytes[2])
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4284, in read_error
    self._raise('File is not open for reading.')
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4112, in _raise
    raise OSError(errno.EBADF, message)
FAILURE IS NEW, STORING; NOW 6 DISTINCT FAILURES
UNCAUGHT EXCEPTION
ERROR: (<type 'exceptions.OSError'>, OSError(9, 'File is not open for reading.'), <traceback object at 0x106fb2ab8>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 28528, in act567
    result = self.p_file[0].read(self.p_bytes[3])
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4284, in read_error
    self._raise('File is not open for reading.')
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4112, in _raise
    raise OSError(errno.EBADF, message)
Original test has 273 steps

SAVING TEST AS failure.4135.test.6
FINAL VERSION OF TEST, WITH LOGGED REPLAY:
path0 = "/Volumes/ramdisk/test"                                          # STEP 0
component2 = "alpha"                                                     # STEP 1
component3 = "h"                                                         # STEP 2
component0 = "h"                                                         # STEP 3
bytes1 = 0                                                               # STEP 4
component1 = "b"                                                         # STEP 5
component4 = "a"                                                         # STEP 6
os0 = newFakeOS()                                                        # STEP 7
path0 += "/" + component0                                                # STEP 8
result = os0.path.islink(path0)                                          # STEP 9
stat2 = os0.lstat(path0)                                                # STEP 10
fd0 = os0.open(path0, os.O_CREAT | os.O_WRONLY | os.O_EXCL)             # STEP 11
result = os0.path.islink(path0)                                         # STEP 12
component0 = "a"                                                        # STEP 13
str0 = ""                                                               # STEP 14
stat2 = os0.fstat(fd0)                                                  # STEP 15
result = os0.path.exists(path0)                                         # STEP 16
path0 += "/" + component2                                               # STEP 17
stat0 = os0.fstat(fd0)                                                  # STEP 18
stat1 = os0.lstat(path0)                                                # STEP 19
stat3 = os0.stat(path0)                                                 # STEP 20
os0.write(fd0,str0)                                                     # STEP 21
component2 = "a"                                                        # STEP 22
os0.close(fd0)                                                          # STEP 23
str0 += 'd'                                                             # STEP 24
str0 += 'y'                                                             # STEP 25
str0 += 'a'                                                             # STEP 26
result = os0.path.exists(path0)                                         # STEP 27
path0 = "/Volumes/ramdisk/test"                                         # STEP 28
result = stat2.st_nlink                                                 # STEP 29
path0 += "/" + component4                                               # STEP 30
bytes3 = 0                                                              # STEP 31
path0 = "/Volumes/ramdisk/test"                                         # STEP 32
str0 += 'y'                                                             # STEP 33
component4 = "c"                                                        # STEP 34
str0 += " "                                                             # STEP 35
os0.symlink(path0,path0)                                                # STEP 36
result = os0.path.isfile(path0)                                         # STEP 37
str1 = ""                                                               # STEP 38
str0 += 'd'                                                             # STEP 39
str0 += 'c'                                                             # STEP 40
str1 += 'z'                                                             # STEP 41
bytes0 = 0                                                              # STEP 42
result = os0.path.abspath(path0)                                        # STEP 43
result = stat2.st_nlink                                                 # STEP 44
str1 += 'z'                                                             # STEP 45
stat1 = os0.fstat(fd0)                                                  # STEP 46
str1 += 'p'                                                             # STEP 47
bytes0 += 1                                                             # STEP 48
str1 += 'p'                                                             # STEP 49
bytes3 += 1                                                             # STEP 50
stat4 = os0.fstat(fd0)                                                  # STEP 51
opener0 = newFakeOpener(os0)                                            # STEP 52
str0 += 'n'                                                             # STEP 53
str0 += 'r'                                                             # STEP 54
result = stat0.st_nlink                                                 # STEP 55
str0 += 'i'                                                             # STEP 56
result = os0.path.islink(path0)                                         # STEP 57
str0 += 'c'                                                             # STEP 58
stat2 = os0.fstat(fd0)                                                  # STEP 59
str0 += 'y'                                                             # STEP 60
path4 = "/Volumes/ramdisk/test"                                         # STEP 61
result = os0.path.islink(path4)                                         # STEP 62
str0 += 'b'                                                             # STEP 63
os0.symlink(path0,path4)                                                # STEP 64
result = stat0.st_size                                                  # STEP 65
str1 = ""                                                               # STEP 66
str1 += 'x'                                                             # STEP 67
path0 += "/" + component4                                               # STEP 68
os0.write(fd0,str0)                                                     # STEP 69
result = os0.path.dirname(path0)                                        # STEP 70
stat4 = os0.lstat(path0)                                                # STEP 71
bytes4 = 0                                                              # STEP 72
str0 += 'x'                                                             # STEP 73
str0 += 'p'                                                             # STEP 74
stat3 = os0.fstat(fd0)                                                  # STEP 75
component4 = "g"                                                        # STEP 76
str1 += 'k'                                                             # STEP 77
os0.link(path0,path0)                                                   # STEP 78
stat1 = os0.lstat(path0)                                                # STEP 79
file0 = opener0(path4,'w')                                              # STEP 80
result = os0.readlink(path4)                                            # STEP 81
result = stat0.st_nlink                                                 # STEP 82
file0 = opener0(path4,'r')                                              # STEP 83
str0 += 'z'                                                             # STEP 84
str0 += 'z'                                                             # STEP 85
str0 += 't'                                                             # STEP 86
bytes0 = 0                                                              # STEP 87
str1 += 'i'                                                             # STEP 88
file0 = opener0(path0,'w')                                              # STEP 89
stat3 = os0.fstat(fd0)                                                  # STEP 90
str0 += 'x'                                                             # STEP 91
str4 = ""                                                               # STEP 92
os0.symlink(path0,path0)                                                # STEP 93
str0 += 'x'                                                             # STEP 94
file0.seek(bytes1)                                                      # STEP 95
fd0 = os0.open(path0, os.O_CREAT | os.O_WRONLY | os.O_EXCL)             # STEP 96
os0.path.getsize(path0)                                                 # STEP 97
str1 += 'l'                                                             # STEP 98
str0 += 'a'                                                             # STEP 99
path1 = "/Volumes/ramdisk/test"                                        # STEP 100
str0 += 'h'                                                            # STEP 101
result = os0.path.dirname(path0)                                       # STEP 102
result = os0.path.isfile(path4)                                        # STEP 103
str1 += 'a'                                                            # STEP 104
str3 = ""                                                              # STEP 105
result = stat2.st_size                                                 # STEP 106
str0 += 't'                                                            # STEP 107
path0 += "/" + component4                                              # STEP 108
os0.link(path0,path1)                                                  # STEP 109
str3 += 'p'                                                            # STEP 110
result = stat3.st_nlink                                                # STEP 111
str3 += 'n'                                                            # STEP 112
result = os0.readlink(path1)                                           # STEP 113
str4 += 'j'                                                            # STEP 114
str0 += 'e'                                                            # STEP 115
str0 += 'v'                                                            # STEP 116
str4 += 'p'                                                            # STEP 117
path1 = "/Volumes/ramdisk/test"                                        # STEP 118
os0.makedirs(path1)                                                    # STEP 119
os0.link(path1,path1)                                                  # STEP 120
str0 = ""                                                              # STEP 121
path2 = "/Volumes/ramdisk/test"                                        # STEP 122
path2 += "/" + component1                                              # STEP 123
result = os0.path.exists(path1)                                        # STEP 124
component1 = "b"                                                       # STEP 125
str0 += 'q'                                                            # STEP 126
str4 = ""                                                              # STEP 127
str4 += 'w'                                                            # STEP 128
path1 += "/" + component1                                              # STEP 129
component1 = "h"                                                       # STEP 130
str4 += 'h'                                                            # STEP 131
str0 += 'p'                                                            # STEP 132
str0 += 'n'                                                            # STEP 133
str0 += 'u'                                                            # STEP 134
os0.path.getsize(path2)                                                # STEP 135
str4 += 'g'                                                            # STEP 136
str4 += 't'                                                            # STEP 137
stat3 = os0.stat(path1)                                                # STEP 138
str0 += " "                                                            # STEP 139
str3 = ""                                                              # STEP 140
stat4 = os0.stat(path1)                                                # STEP 141
str4 += 'k'                                                            # STEP 142
str3 += 'p'                                                            # STEP 143
result = os0.path.isfile(path1)                                        # STEP 144
str3 += 'a'                                                            # STEP 145
stat4 = os0.stat(path1)                                                # STEP 146
str0 += 'o'                                                            # STEP 147
stat0 = os0.lstat(path2)                                               # STEP 148
str4 += 'g'                                                            # STEP 149
result = os0.readlink(path2)                                           # STEP 150
result = os0.path.isfile(path1)                                        # STEP 151
os0.makedirs(path1)                                                    # STEP 152
str4 += 'm'                                                            # STEP 153
str4 += 'w'                                                            # STEP 154
str3 += 'l'                                                            # STEP 155
str4 += 'x'                                                            # STEP 156
str4 += 'm'                                                            # STEP 157
stat1 = os0.lstat(path1)                                               # STEP 158
str4 += 'a'                                                            # STEP 159
str3 += 'y'                                                            # STEP 160
str0 += 'i'                                                            # STEP 161
os0.link(path2,path1)                                                  # STEP 162
os0.symlink(path1,path1)                                               # STEP 163
str4 += 't'                                                            # STEP 164
str0 += 'z'                                                            # STEP 165
str3 += 'i'                                                            # STEP 166
str3 += 'z'                                                            # STEP 167
str0 += 'v'                                                            # STEP 168
result = os0.path.lexists(path2)                                       # STEP 169
str4 += 's'                                                            # STEP 170
str3 += 'n'                                                            # STEP 171
str0 += 'g'                                                            # STEP 172
result = os0.path.isdir(path2)                                         # STEP 173
os0.symlink(path2,path2)                                               # STEP 174
path1 += "/" + component4                                              # STEP 175
str0 += 'e'                                                            # STEP 176
str4 += 'b'                                                            # STEP 177
str0 += 'r'                                                            # STEP 178
component4 = "d"                                                       # STEP 179
str0 += 'e'                                                            # STEP 180
os0.symlink(path1,path1)                                               # STEP 181
str0 += 'o'                                                            # STEP 182
str0 += 'q'                                                            # STEP 183
result = os0.path.isabs(path1)                                         # STEP 184
stat2 = os0.lstat(path2)                                               # STEP 185
str3 += 'q'                                                            # STEP 186
str3 = ""                                                              # STEP 187
os0.path.getsize(path1)                                                # STEP 188
str0 += 'y'                                                            # STEP 189
os0.path.getsize(path1)                                                # STEP 190
str4 += 'd'                                                            # STEP 191
str0 += 'o'                                                            # STEP 192
str4 += 'a'                                                            # STEP 193
result = os0.path.islink(path1)                                        # STEP 194
file0.flush()                                                          # STEP 195
str0 += 'g'                                                            # STEP 196
str4 += 'v'                                                            # STEP 197
result = file0.readline()                                              # STEP 198
result = stat3.st_size                                                 # STEP 199
str4 += 'f'                                                            # STEP 200
os0.rename(path1,path2)                                                # STEP 201
str3 += 'v'                                                            # STEP 202
str3 += 'k'                                                            # STEP 203
path2 += "/" + component2                                              # STEP 204
path2 += "/" + component4                                              # STEP 205
str4 += 'b'                                                            # STEP 206
str4 += " "                                                            # STEP 207
stat4 = os0.lstat(path2)                                               # STEP 208
str0 += 'r'                                                            # STEP 209
str3 += 'i'                                                            # STEP 210
str0 += 'g'                                                            # STEP 211
os0.makedirs(path2)                                                    # STEP 212
str0 += 'z'                                                            # STEP 213
result = os0.path.isdir(path2)                                         # STEP 214
path4 = "/Volumes/ramdisk/test"                                        # STEP 215
component2 = "omega"                                                   # STEP 216
bytes2 = 0                                                             # STEP 217
os0.path.getsize(path1)                                                # STEP 218
result = file0.readline(bytes2)                                        # STEP 219
str4 += 'h'                                                            # STEP 220
str4 += 'k'                                                            # STEP 221
str4 += 'z'                                                            # STEP 222
os0.symlink(path1,path2)                                               # STEP 223
os0.remove(path4)                                                      # STEP 224
path4 += "/" + component0                                              # STEP 225
component0 = "e"                                                       # STEP 226
str0 += 'c'                                                            # STEP 227
result = sorted(os0.listdir(path1))                                    # STEP 228
str3 += 'u'                                                            # STEP 229
path1 += "/" + component3                                              # STEP 230
component4 = "lambda"                                                  # STEP 231
result = os0.path.lexists(path4)                                       # STEP 232
os0.symlink(path2,path2)                                               # STEP 233
os0.write(fd0,str0)                                                    # STEP 234
str4 += 'k'                                                            # STEP 235
str1 += 'h'                                                            # STEP 236
component3 = "e"                                                       # STEP 237
path1 += "/" + component4                                              # STEP 238
str4 += 'p'                                                            # STEP 239
result = os0.path.isdir(path1)                                         # STEP 240
file0.seek(bytes1)                                                     # STEP 241
os0.rename(path0,path1)                                                # STEP 242
os0.symlink(path4,path0)                                               # STEP 243
result = stat0.st_nlink                                                # STEP 244
str4 += 'x'                                                            # STEP 245
os0.mkdir(path4)                                                       # STEP 246
str4 += 'f'                                                            # STEP 247
os0.write(fd0,str4)                                                    # STEP 248
result = sorted(os0.listdir(path0))                                    # STEP 249
stat4 = os0.lstat(path1)                                               # STEP 250
os0.link(path1,path0)                                                  # STEP 251
os0.rename(path0,path4)                                                # STEP 252
stat3 = os0.stat(path0)                                                # STEP 253
os0.rmdir(path2)                                                       # STEP 254
file0.seek(bytes0)                                                     # STEP 255
path2 += "/" + component1                                              # STEP 256
str0 += 'v'                                                            # STEP 257
os0.mkdir(path4)                                                       # STEP 258
str1 += 'c'                                                            # STEP 259
path2 = "/Volumes/ramdisk/test"                                        # STEP 260
result = os0.path.lexists(path2)                                       # STEP 261
str3 += 'z'                                                            # STEP 262
result = os0.path.isdir(path0)                                         # STEP 263
result = os0.path.isfile(path2)                                        # STEP 264
result = os0.path.dirname(path4)                                       # STEP 265
component1 = "lambda"                                                  # STEP 266
str4 += 'o'                                                            # STEP 267
os0.rename(path4,path1)                                                # STEP 268
os0.link(path0,path0)                                                  # STEP 269
os0.link(path4,path2)                                                  # STEP 270
component4 = "c"                                                       # STEP 271
result = file0.read(bytes3)                                            # STEP 272
ERROR: (<type 'exceptions.OSError'>, OSError(9, 'File is not open for reading.'), <traceback object at 0x1070593b0>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 28528, in act567
    result = self.p_file[0].read(self.p_bytes[3])
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4284, in read_error
    self._raise('File is not open for reading.')
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4112, in _raise
    raise OSError(errno.EBADF, message)
FAILURE IS NEW, STORING; NOW 7 DISTINCT FAILURES
UNCAUGHT EXCEPTION
ERROR: (<type 'exceptions.OSError'>, OSError(9, 'File is not open for reading.'), <traceback object at 0x103ce4d88>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 28528, in act567
    result = self.p_file[0].read(self.p_bytes[3])
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4284, in read_error
    self._raise('File is not open for reading.')
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4112, in _raise
    raise OSError(errno.EBADF, message)
Original test has 172 steps

SAVING TEST AS failure.4135.test.7
FINAL VERSION OF TEST, WITH LOGGED REPLAY:
path0 = "/Volumes/ramdisk/test"                                          # STEP 0
component2 = "alpha"                                                     # STEP 1
component3 = "h"                                                         # STEP 2
component0 = "h"                                                         # STEP 3
bytes1 = 0                                                               # STEP 4
component1 = "b"                                                         # STEP 5
component4 = "a"                                                         # STEP 6
os0 = newFakeOS()                                                        # STEP 7
path0 += "/" + component0                                                # STEP 8
result = os0.path.islink(path0)                                          # STEP 9
stat2 = os0.lstat(path0)                                                # STEP 10
fd0 = os0.open(path0, os.O_CREAT | os.O_WRONLY | os.O_EXCL)             # STEP 11
result = os0.path.islink(path0)                                         # STEP 12
component0 = "a"                                                        # STEP 13
str0 = ""                                                               # STEP 14
stat2 = os0.fstat(fd0)                                                  # STEP 15
result = os0.path.exists(path0)                                         # STEP 16
path0 += "/" + component2                                               # STEP 17
stat0 = os0.fstat(fd0)                                                  # STEP 18
stat1 = os0.lstat(path0)                                                # STEP 19
stat3 = os0.stat(path0)                                                 # STEP 20
os0.write(fd0,str0)                                                     # STEP 21
component2 = "a"                                                        # STEP 22
os0.close(fd0)                                                          # STEP 23
str0 += 'd'                                                             # STEP 24
str0 += 'y'                                                             # STEP 25
str0 += 'a'                                                             # STEP 26
result = os0.path.exists(path0)                                         # STEP 27
path0 = "/Volumes/ramdisk/test"                                         # STEP 28
result = stat2.st_nlink                                                 # STEP 29
path0 += "/" + component4                                               # STEP 30
bytes3 = 0                                                              # STEP 31
path0 = "/Volumes/ramdisk/test"                                         # STEP 32
str0 += 'y'                                                             # STEP 33
component4 = "c"                                                        # STEP 34
str0 += " "                                                             # STEP 35
os0.symlink(path0,path0)                                                # STEP 36
result = os0.path.isfile(path0)                                         # STEP 37
str1 = ""                                                               # STEP 38
str0 += 'd'                                                             # STEP 39
str0 += 'c'                                                             # STEP 40
str1 += 'z'                                                             # STEP 41
bytes0 = 0                                                              # STEP 42
result = os0.path.abspath(path0)                                        # STEP 43
result = stat2.st_nlink                                                 # STEP 44
str1 += 'z'                                                             # STEP 45
stat1 = os0.fstat(fd0)                                                  # STEP 46
str1 += 'p'                                                             # STEP 47
bytes0 += 1                                                             # STEP 48
str1 += 'p'                                                             # STEP 49
bytes3 += 1                                                             # STEP 50
stat4 = os0.fstat(fd0)                                                  # STEP 51
opener0 = newFakeOpener(os0)                                            # STEP 52
str0 += 'n'                                                             # STEP 53
str0 += 'r'                                                             # STEP 54
result = stat0.st_nlink                                                 # STEP 55
str0 += 'i'                                                             # STEP 56
result = os0.path.islink(path0)                                         # STEP 57
str0 += 'c'                                                             # STEP 58
stat2 = os0.fstat(fd0)                                                  # STEP 59
str0 += 'y'                                                             # STEP 60
path4 = "/Volumes/ramdisk/test"                                         # STEP 61
result = os0.path.islink(path4)                                         # STEP 62
str0 += 'b'                                                             # STEP 63
os0.symlink(path0,path4)                                                # STEP 64
result = stat0.st_size                                                  # STEP 65
str1 = ""                                                               # STEP 66
str1 += 'x'                                                             # STEP 67
path0 += "/" + component4                                               # STEP 68
os0.write(fd0,str0)                                                     # STEP 69
result = os0.path.dirname(path0)                                        # STEP 70
stat4 = os0.lstat(path0)                                                # STEP 71
bytes4 = 0                                                              # STEP 72
str0 += 'x'                                                             # STEP 73
str0 += 'p'                                                             # STEP 74
stat3 = os0.fstat(fd0)                                                  # STEP 75
component4 = "g"                                                        # STEP 76
str1 += 'k'                                                             # STEP 77
os0.link(path0,path0)                                                   # STEP 78
stat1 = os0.lstat(path0)                                                # STEP 79
file0 = opener0(path4,'w')                                              # STEP 80
result = os0.readlink(path4)                                            # STEP 81
result = stat0.st_nlink                                                 # STEP 82
file0 = opener0(path4,'r')                                              # STEP 83
str0 += 'z'                                                             # STEP 84
str0 += 'z'                                                             # STEP 85
str0 += 't'                                                             # STEP 86
bytes0 = 0                                                              # STEP 87
str1 += 'i'                                                             # STEP 88
result = os0.readlink(path0)                                            # STEP 89
file0 = opener0(path0,'w')                                              # STEP 90
stat3 = os0.fstat(fd0)                                                  # STEP 91
str0 += 'x'                                                             # STEP 92
str4 = ""                                                               # STEP 93
os0.symlink(path0,path0)                                                # STEP 94
str0 += 'x'                                                             # STEP 95
file0.seek(bytes1)                                                      # STEP 96
fd0 = os0.open(path0, os.O_CREAT | os.O_WRONLY | os.O_EXCL)             # STEP 97
path0 += "/" + component0                                               # STEP 98
bytes2 = 0                                                              # STEP 99
str1 += 'f'                                                            # STEP 100
str1 = ""                                                              # STEP 101
file0.write(str4)                                                      # STEP 102
result = os0.path.islink(path0)                                        # STEP 103
result = file0.read()                                                  # STEP 104
result = os0.read(fd0,bytes4)                                          # STEP 105
os0.makedirs(path4)                                                    # STEP 106
result = os0.read(fd0,bytes3)                                          # STEP 107
str4 += 'z'                                                            # STEP 108
component0 = "delta"                                                   # STEP 109
str1 += " "                                                            # STEP 110
file0.write(str0)                                                      # STEP 111
str0 = ""                                                              # STEP 112
str1 += 'c'                                                            # STEP 113
os0.symlink(path0,path4)                                               # STEP 114
file0.seek(bytes3)                                                     # STEP 115
bytes1 = 0                                                             # STEP 116
str1 += 'n'                                                            # STEP 117
bytes2 += 1                                                            # STEP 118
result = os0.path.isfile(path4)                                        # STEP 119
os0.mkdir(path0)                                                       # STEP 120
str0 += 'l'                                                            # STEP 121
str1 += 'j'                                                            # STEP 122
os0.rmdir(path0)                                                       # STEP 123
file0.write(str1)                                                      # STEP 124
str0 += 'h'                                                            # STEP 125
str4 += 'g'                                                            # STEP 126
str0 += 'p'                                                            # STEP 127
result = stat3.st_size                                                 # STEP 128
str1 += 'n'                                                            # STEP 129
str1 += 'b'                                                            # STEP 130
str0 += 'i'                                                            # STEP 131
str0 += 'u'                                                            # STEP 132
str1 += 'x'                                                            # STEP 133
str1 += 'o'                                                            # STEP 134
str4 += 's'                                                            # STEP 135
os0.symlink(path4,path0)                                               # STEP 136
path4 += "/" + component0                                              # STEP 137
stat3 = os0.stat(path0)                                                # STEP 138
str4 += 'a'                                                            # STEP 139
stat1 = os0.stat(path0)                                                # STEP 140
result = stat3.st_size                                                 # STEP 141
stat0 = os0.lstat(path4)                                               # STEP 142
path4 += "/" + component3                                              # STEP 143
str4 += 'x'                                                            # STEP 144
stat3 = os0.stat(path0)                                                # STEP 145
str4 += 'j'                                                            # STEP 146
path0 += "/" + component3                                              # STEP 147
str1 += 'i'                                                            # STEP 148
file0.flush()                                                          # STEP 149
str1 += 'd'                                                            # STEP 150
stat1 = os0.lstat(path0)                                               # STEP 151
str1 += 'b'                                                            # STEP 152
str0 = ""                                                              # STEP 153
path4 += "/" + component0                                              # STEP 154
component0 = "phi"                                                     # STEP 155
str1 += 's'                                                            # STEP 156
file0.next()                                                           # STEP 157
path4 += "/" + component0                                              # STEP 158
os0.rename(path4,path0)                                                # STEP 159
os0.rmdir(path0)                                                       # STEP 160
component0 = "f"                                                       # STEP 161
path2 = "/Volumes/ramdisk/test"                                        # STEP 162
str0 += 'z'                                                            # STEP 163
os0.link(path2,path4)                                                  # STEP 164
path0 += "/" + component0                                              # STEP 165
os0.removedirs(path0)                                                  # STEP 166
str4 += 'x'                                                            # STEP 167
os0.path.getsize(path4)                                                # STEP 168
path1 = "/Volumes/ramdisk/test"                                        # STEP 169
result = os0.path.isabs(path0)                                         # STEP 170
result = file0.read(bytes3)                                            # STEP 171
ERROR: (<type 'exceptions.OSError'>, OSError(9, 'File is not open for reading.'), <traceback object at 0x1031dccb0>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 28528, in act567
    result = self.p_file[0].read(self.p_bytes[3])
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4284, in read_error
    self._raise('File is not open for reading.')
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4112, in _raise
    raise OSError(errno.EBADF, message)
FAILURE IS NEW, STORING; NOW 8 DISTINCT FAILURES
STOPPING TEST DUE TO TIMEOUT, TERMINATED AT LENGTH 278
STOPPING TESTING DUE TO TIMEOUT
42.6978818283 PERCENT COVERED
60.5944797993 TOTAL RUNTIME
202 EXECUTED
19586 TOTAL TEST OPERATIONS
25.2642655373 TIME SPENT EXECUTING TEST OPERATIONS
0.692002296448 TIME SPENT EVALUATING GUARDS AND CHOOSING ACTIONS
0.0134193897247 TIME SPENT CHECKING PROPERTIES
25.277684927 TOTAL TIME SPENT RUNNING SUT
0.577927350998 TIME SPENT RESTARTING
0.0 TIME SPENT REDUCING TEST CASES
8 FAILED
0 REPEATS OF FAILURES
8 ACTUAL DISTINCT FAILURES

FAILURE 0
path0 = "/Volumes/ramdisk/test"                                          # STEP 0
component2 = "alpha"                                                     # STEP 1
component3 = "h"                                                         # STEP 2
component0 = "h"                                                         # STEP 3
bytes1 = 0                                                               # STEP 4
component1 = "b"                                                         # STEP 5
component4 = "a"                                                         # STEP 6
os0 = newFakeOS()                                                        # STEP 7
path0 += "/" + component0                                                # STEP 8
result = os0.path.islink(path0)                                          # STEP 9
stat2 = os0.lstat(path0)                                                # STEP 10
fd0 = os0.open(path0, os.O_CREAT | os.O_WRONLY | os.O_EXCL)             # STEP 11
result = os0.path.islink(path0)                                         # STEP 12
component0 = "a"                                                        # STEP 13
str0 = ""                                                               # STEP 14
stat2 = os0.fstat(fd0)                                                  # STEP 15
result = os0.path.exists(path0)                                         # STEP 16
path0 += "/" + component2                                               # STEP 17
stat0 = os0.fstat(fd0)                                                  # STEP 18
stat1 = os0.lstat(path0)                                                # STEP 19
stat3 = os0.stat(path0)                                                 # STEP 20
os0.write(fd0,str0)                                                     # STEP 21
component2 = "a"                                                        # STEP 22
os0.close(fd0)                                                          # STEP 23
str0 += 'd'                                                             # STEP 24
str0 += 'y'                                                             # STEP 25
str0 += 'a'                                                             # STEP 26
result = os0.path.exists(path0)                                         # STEP 27
path0 = "/Volumes/ramdisk/test"                                         # STEP 28
result = stat2.st_nlink                                                 # STEP 29
path0 += "/" + component4                                               # STEP 30
bytes3 = 0                                                              # STEP 31
path0 = "/Volumes/ramdisk/test"                                         # STEP 32
str0 += 'y'                                                             # STEP 33
component4 = "c"                                                        # STEP 34
str0 += " "                                                             # STEP 35
os0.symlink(path0,path0)                                                # STEP 36
result = os0.path.isfile(path0)                                         # STEP 37
str1 = ""                                                               # STEP 38
str0 += 'd'                                                             # STEP 39
str0 += 'c'                                                             # STEP 40
str1 += 'z'                                                             # STEP 41
bytes0 = 0                                                              # STEP 42
result = os0.path.abspath(path0)                                        # STEP 43
result = stat2.st_nlink                                                 # STEP 44
str1 += 'z'                                                             # STEP 45
stat1 = os0.fstat(fd0)                                                  # STEP 46
str1 += 'p'                                                             # STEP 47
bytes0 += 1                                                             # STEP 48
str1 += 'p'                                                             # STEP 49
bytes3 += 1                                                             # STEP 50
stat4 = os0.fstat(fd0)                                                  # STEP 51
opener0 = newFakeOpener(os0)                                            # STEP 52
str0 += 'n'                                                             # STEP 53
result = stat0.st_nlink                                                 # STEP 54
str0 += 'i'                                                             # STEP 55
result = os0.path.islink(path0)                                         # STEP 56
str0 += 'c'                                                             # STEP 57
stat2 = os0.fstat(fd0)                                                  # STEP 58
str0 += 'y'                                                             # STEP 59
path4 = "/Volumes/ramdisk/test"                                         # STEP 60
result = os0.path.islink(path4)                                         # STEP 61
str0 += 'b'                                                             # STEP 62
os0.symlink(path0,path4)                                                # STEP 63
result = stat0.st_size                                                  # STEP 64
str1 = ""                                                               # STEP 65
str1 += 'x'                                                             # STEP 66
path0 += "/" + component4                                               # STEP 67
os0.write(fd0,str0)                                                     # STEP 68
result = os0.path.dirname(path0)                                        # STEP 69
stat4 = os0.lstat(path0)                                                # STEP 70
bytes4 = 0                                                              # STEP 71
str0 += 'x'                                                             # STEP 72
str0 += 'p'                                                             # STEP 73
stat3 = os0.fstat(fd0)                                                  # STEP 74
component4 = "g"                                                        # STEP 75
str1 += 'k'                                                             # STEP 76
os0.link(path0,path0)                                                   # STEP 77
stat1 = os0.lstat(path0)                                                # STEP 78
file0 = opener0(path4,'w')                                              # STEP 79
result = os0.readlink(path4)                                            # STEP 80
result = stat0.st_nlink                                                 # STEP 81
file0 = opener0(path4,'r')                                              # STEP 82
str0 += 'z'                                                             # STEP 83
str0 += 'z'                                                             # STEP 84
str0 += 't'                                                             # STEP 85
bytes0 = 0                                                              # STEP 86
str1 += 'i'                                                             # STEP 87
result = os0.readlink(path0)                                            # STEP 88
file0 = opener0(path0,'w')                                              # STEP 89
path1 = "/Volumes/ramdisk/test"                                         # STEP 90
str1 += 'v'                                                             # STEP 91
os0.removedirs(path4)                                                   # STEP 92
result = os0.read(fd0,bytes4)                                           # STEP 93
str1 += 'w'                                                             # STEP 94
stat1 = os0.fstat(fd0)                                                  # STEP 95
os0.remove(path0)                                                       # STEP 96
os0.write(fd0,str0)                                                     # STEP 97
os0.write(fd0,str0)                                                     # STEP 98
result = os0.path.isdir(path0)                                          # STEP 99
result = file0.read(bytes3)                                            # STEP 100
ERROR: (<type 'exceptions.OSError'>, OSError(9, 'File is not open for reading.'), <traceback object at 0x104cf08c0>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 28528, in act567
    result = self.p_file[0].read(self.p_bytes[3])
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4284, in read_error
    self._raise('File is not open for reading.')
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4112, in _raise
    raise OSError(errno.EBADF, message)
FAILURE 1
path0 = "/Volumes/ramdisk/test"                                          # STEP 0
component2 = "alpha"                                                     # STEP 1
component3 = "h"                                                         # STEP 2
component0 = "h"                                                         # STEP 3
bytes1 = 0                                                               # STEP 4
component1 = "b"                                                         # STEP 5
component4 = "a"                                                         # STEP 6
os0 = newFakeOS()                                                        # STEP 7
path0 += "/" + component0                                                # STEP 8
result = os0.path.islink(path0)                                          # STEP 9
stat2 = os0.lstat(path0)                                                # STEP 10
fd0 = os0.open(path0, os.O_CREAT | os.O_WRONLY | os.O_EXCL)             # STEP 11
result = os0.path.islink(path0)                                         # STEP 12
component0 = "a"                                                        # STEP 13
str0 = ""                                                               # STEP 14
stat2 = os0.fstat(fd0)                                                  # STEP 15
result = os0.path.exists(path0)                                         # STEP 16
path0 += "/" + component2                                               # STEP 17
stat0 = os0.fstat(fd0)                                                  # STEP 18
stat1 = os0.lstat(path0)                                                # STEP 19
stat3 = os0.stat(path0)                                                 # STEP 20
os0.write(fd0,str0)                                                     # STEP 21
component2 = "a"                                                        # STEP 22
os0.close(fd0)                                                          # STEP 23
str0 += 'd'                                                             # STEP 24
str0 += 'y'                                                             # STEP 25
str0 += 'a'                                                             # STEP 26
result = os0.path.exists(path0)                                         # STEP 27
path0 = "/Volumes/ramdisk/test"                                         # STEP 28
result = stat2.st_nlink                                                 # STEP 29
path0 += "/" + component4                                               # STEP 30
bytes3 = 0                                                              # STEP 31
path0 = "/Volumes/ramdisk/test"                                         # STEP 32
str0 += 'y'                                                             # STEP 33
component4 = "c"                                                        # STEP 34
str0 += " "                                                             # STEP 35
os0.symlink(path0,path0)                                                # STEP 36
result = os0.path.isfile(path0)                                         # STEP 37
str1 = ""                                                               # STEP 38
str0 += 'd'                                                             # STEP 39
str0 += 'c'                                                             # STEP 40
str1 += 'z'                                                             # STEP 41
bytes0 = 0                                                              # STEP 42
result = os0.path.abspath(path0)                                        # STEP 43
result = stat2.st_nlink                                                 # STEP 44
str1 += 'z'                                                             # STEP 45
stat1 = os0.fstat(fd0)                                                  # STEP 46
str1 += 'p'                                                             # STEP 47
bytes0 += 1                                                             # STEP 48
str1 += 'p'                                                             # STEP 49
bytes3 += 1                                                             # STEP 50
stat4 = os0.fstat(fd0)                                                  # STEP 51
opener0 = newFakeOpener(os0)                                            # STEP 52
str0 += 'n'                                                             # STEP 53
str0 += 'r'                                                             # STEP 54
result = stat0.st_nlink                                                 # STEP 55
str0 += 'i'                                                             # STEP 56
result = os0.path.islink(path0)                                         # STEP 57
str0 += 'c'                                                             # STEP 58
stat2 = os0.fstat(fd0)                                                  # STEP 59
str0 += 'y'                                                             # STEP 60
path4 = "/Volumes/ramdisk/test"                                         # STEP 61
result = os0.path.islink(path4)                                         # STEP 62
str0 += 'b'                                                             # STEP 63
os0.symlink(path0,path4)                                                # STEP 64
result = stat0.st_size                                                  # STEP 65
str1 = ""                                                               # STEP 66
str1 += 'x'                                                             # STEP 67
path0 += "/" + component4                                               # STEP 68
os0.write(fd0,str0)                                                     # STEP 69
str0 += 'k'                                                             # STEP 70
os0.makedirs(path4)                                                     # STEP 71
str1 += 'q'                                                             # STEP 72
str0 += 'x'                                                             # STEP 73
bytes0 += 1                                                             # STEP 74
path0 += "/" + component0                                               # STEP 75
file0 = opener0(path0,'w')                                              # STEP 76
str1 += 'g'                                                             # STEP 77
file0 = opener0(path4)                                                  # STEP 78
result = os0.read(fd0,bytes1)                                           # STEP 79
fd0 = os0.open(path0, os.O_CREAT | os.O_WRONLY | os.O_EXCL)             # STEP 80
str0 += " "                                                             # STEP 81
path0 += "/" + component0                                               # STEP 82
os0.link(path4,path4)                                                   # STEP 83
str0 += 'm'                                                             # STEP 84
str0 += 't'                                                             # STEP 85
path2 = "/Volumes/ramdisk/test"                                         # STEP 86
result = stat0.st_size                                                  # STEP 87
os0.symlink(path0,path2)                                                # STEP 88
str0 += " "                                                             # STEP 89
component4 = "omega"                                                    # STEP 90
result = os0.path.isabs(path4)                                          # STEP 91
str1 += 'g'                                                             # STEP 92
result = sorted(os0.listdir(path2))                                     # STEP 93
file0 = opener0(path2,'a')                                              # STEP 94
path0 += "/" + component3                                               # STEP 95
component0 = "phi"                                                      # STEP 96
result = sorted(os0.listdir(path2))                                     # STEP 97
str0 += 'a'                                                             # STEP 98
str1 += 'i'                                                             # STEP 99
component3 = "e"                                                       # STEP 100
str0 += 'f'                                                            # STEP 101
path2 += "/" + component4                                              # STEP 102
bytes4 = 0                                                             # STEP 103
path0 = "/Volumes/ramdisk/test"                                        # STEP 104
result = os0.path.islink(path2)                                        # STEP 105
stat3 = os0.lstat(path2)                                               # STEP 106
str1 += 'z'                                                            # STEP 107
result = os0.path.exists(path0)                                        # STEP 108
bytes4 += 1                                                            # STEP 109
os0.rmdir(path2)                                                       # STEP 110
stat1 = os0.fstat(fd0)                                                 # STEP 111
os0.symlink(path0,path0)                                               # STEP 112
file0 = opener0(path0,'a')                                             # STEP 113
path4 += "/" + component3                                              # STEP 114
os0.symlink(path4,path0)                                               # STEP 115
component4 = "g"                                                       # STEP 116
str0 += 'j'                                                            # STEP 117
result = os0.path.islink(path2)                                        # STEP 118
result = os0.path.dirname(path4)                                       # STEP 119
str1 += 'o'                                                            # STEP 120
os0.link(path4,path4)                                                  # STEP 121
component3 = "omega"                                                   # STEP 122
str0 += 'q'                                                            # STEP 123
os0.makedirs(path2)                                                    # STEP 124
result = os0.path.islink(path2)                                        # STEP 125
bytes1 = 0                                                             # STEP 126
str3 = ""                                                              # STEP 127
path0 += "/" + component4                                              # STEP 128
os0.path.getsize(path0)                                                # STEP 129
str3 += " "                                                            # STEP 130
os0.mkdir(path0)                                                       # STEP 131
result = os0.read(fd0,bytes1)                                          # STEP 132
str3 += 'a'                                                            # STEP 133
result = os0.read(fd0,bytes1)                                          # STEP 134
os0.path.getsize(path4)                                                # STEP 135
file0 = opener0(path4,'a')                                             # STEP 136
stat1 = os0.stat(path4)                                                # STEP 137
str3 += 'k'                                                            # STEP 138
result = os0.path.abspath(path2)                                       # STEP 139
result = os0.read(fd0,bytes0)                                          # STEP 140
str1 += 'p'                                                            # STEP 141
result = os0.read(fd0,bytes1)                                          # STEP 142
result = os0.read(fd0,bytes0)                                          # STEP 143
str0 = ""                                                              # STEP 144
path2 = "/Volumes/ramdisk/test"                                        # STEP 145
stat3 = os0.lstat(path4)                                               # STEP 146
str0 += 'u'                                                            # STEP 147
result = os0.path.isdir(path2)                                         # STEP 148
str1 += 'o'                                                            # STEP 149
path2 += "/" + component2                                              # STEP 150
str1 += 'q'                                                            # STEP 151
str0 += 'd'                                                            # STEP 152
path4 += "/" + component3                                              # STEP 153
component3 = "lambda"                                                  # STEP 154
str0 += 'c'                                                            # STEP 155
result = stat1.st_size                                                 # STEP 156
path0 += "/" + component4                                              # STEP 157
str1 = ""                                                              # STEP 158
str0 += 't'                                                            # STEP 159
file0.write(str3)                                                      # STEP 160
str0 += 'b'                                                            # STEP 161
str3 += 'e'                                                            # STEP 162
str3 += 'q'                                                            # STEP 163
str1 += 'c'                                                            # STEP 164
stat0 = os0.lstat(path0)                                               # STEP 165
stat1 = os0.stat(path0)                                                # STEP 166
str0 += 'x'                                                            # STEP 167
result = stat2.st_nlink                                                # STEP 168
os0.link(path0,path4)                                                  # STEP 169
str0 += 'p'                                                            # STEP 170
component2 = "alpha"                                                   # STEP 171
str1 += 'j'                                                            # STEP 172
str1 += 'f'                                                            # STEP 173
str0 += 'c'                                                            # STEP 174
str3 += 'c'                                                            # STEP 175
str3 += 'o'                                                            # STEP 176
str1 += 'z'                                                            # STEP 177
result = os0.path.lexists(path2)                                       # STEP 178
result = file0.readline(bytes3)                                        # STEP 179
ERROR: (<type 'exceptions.OSError'>, OSError(9, 'File is not open for reading.'), <traceback object at 0x10750f248>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 28881, in act573
    result = self.p_file[0].readline(self.p_bytes[3])
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4284, in read_error
    self._raise('File is not open for reading.')
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4112, in _raise
    raise OSError(errno.EBADF, message)
FAILURE 2
path0 = "/Volumes/ramdisk/test"                                          # STEP 0
component2 = "alpha"                                                     # STEP 1
component3 = "h"                                                         # STEP 2
component0 = "h"                                                         # STEP 3
bytes1 = 0                                                               # STEP 4
component1 = "b"                                                         # STEP 5
component4 = "a"                                                         # STEP 6
os0 = newFakeOS()                                                        # STEP 7
path0 += "/" + component0                                                # STEP 8
result = os0.path.islink(path0)                                          # STEP 9
stat2 = os0.lstat(path0)                                                # STEP 10
fd0 = os0.open(path0, os.O_CREAT | os.O_WRONLY | os.O_EXCL)             # STEP 11
result = os0.path.islink(path0)                                         # STEP 12
component0 = "a"                                                        # STEP 13
str0 = ""                                                               # STEP 14
stat2 = os0.fstat(fd0)                                                  # STEP 15
str0 += 't'                                                             # STEP 16
result = os0.path.exists(path0)                                         # STEP 17
path0 += "/" + component2                                               # STEP 18
stat0 = os0.fstat(fd0)                                                  # STEP 19
stat1 = os0.lstat(path0)                                                # STEP 20
stat3 = os0.stat(path0)                                                 # STEP 21
os0.write(fd0,str0)                                                     # STEP 22
component2 = "a"                                                        # STEP 23
os0.close(fd0)                                                          # STEP 24
str0 += 'd'                                                             # STEP 25
str0 += 'y'                                                             # STEP 26
str0 += 'a'                                                             # STEP 27
result = os0.path.exists(path0)                                         # STEP 28
path0 = "/Volumes/ramdisk/test"                                         # STEP 29
result = stat2.st_nlink                                                 # STEP 30
path0 += "/" + component4                                               # STEP 31
bytes3 = 0                                                              # STEP 32
path0 = "/Volumes/ramdisk/test"                                         # STEP 33
str0 += 'y'                                                             # STEP 34
component4 = "c"                                                        # STEP 35
str0 += " "                                                             # STEP 36
os0.symlink(path0,path0)                                                # STEP 37
result = os0.path.isfile(path0)                                         # STEP 38
str1 = ""                                                               # STEP 39
str0 += 'd'                                                             # STEP 40
str0 += 'c'                                                             # STEP 41
str1 += 'z'                                                             # STEP 42
bytes0 = 0                                                              # STEP 43
result = os0.path.abspath(path0)                                        # STEP 44
result = stat2.st_nlink                                                 # STEP 45
str1 += 'z'                                                             # STEP 46
stat1 = os0.fstat(fd0)                                                  # STEP 47
str1 += 'p'                                                             # STEP 48
bytes0 += 1                                                             # STEP 49
str1 += 'p'                                                             # STEP 50
bytes3 += 1                                                             # STEP 51
stat4 = os0.fstat(fd0)                                                  # STEP 52
opener0 = newFakeOpener(os0)                                            # STEP 53
str0 += 'n'                                                             # STEP 54
str0 += 'r'                                                             # STEP 55
result = stat0.st_nlink                                                 # STEP 56
str0 += 'i'                                                             # STEP 57
result = os0.path.islink(path0)                                         # STEP 58
str0 += 'c'                                                             # STEP 59
stat2 = os0.fstat(fd0)                                                  # STEP 60
str0 += 'y'                                                             # STEP 61
path4 = "/Volumes/ramdisk/test"                                         # STEP 62
result = os0.path.islink(path4)                                         # STEP 63
str0 += 'b'                                                             # STEP 64
os0.symlink(path0,path4)                                                # STEP 65
result = stat0.st_size                                                  # STEP 66
str1 = ""                                                               # STEP 67
str1 += 'x'                                                             # STEP 68
path0 += "/" + component4                                               # STEP 69
os0.write(fd0,str0)                                                     # STEP 70
str0 += 'k'                                                             # STEP 71
os0.makedirs(path4)                                                     # STEP 72
str1 += 'q'                                                             # STEP 73
str0 += 'x'                                                             # STEP 74
bytes0 += 1                                                             # STEP 75
path0 += "/" + component0                                               # STEP 76
file0 = opener0(path0,'w')                                              # STEP 77
str1 += 'g'                                                             # STEP 78
file0 = opener0(path4)                                                  # STEP 79
result = os0.read(fd0,bytes1)                                           # STEP 80
fd0 = os0.open(path0, os.O_CREAT | os.O_WRONLY | os.O_EXCL)             # STEP 81
str0 += " "                                                             # STEP 82
path0 += "/" + component0                                               # STEP 83
os0.link(path4,path4)                                                   # STEP 84
str0 += 'm'                                                             # STEP 85
str0 += 't'                                                             # STEP 86
path2 = "/Volumes/ramdisk/test"                                         # STEP 87
result = stat0.st_size                                                  # STEP 88
os0.symlink(path0,path2)                                                # STEP 89
str0 += " "                                                             # STEP 90
component4 = "omega"                                                    # STEP 91
result = os0.path.isabs(path4)                                          # STEP 92
str1 += 'g'                                                             # STEP 93
result = sorted(os0.listdir(path2))                                     # STEP 94
file0 = opener0(path2,'a')                                              # STEP 95
path0 += "/" + component3                                               # STEP 96
component0 = "phi"                                                      # STEP 97
result = sorted(os0.listdir(path2))                                     # STEP 98
str0 += 'a'                                                             # STEP 99
str1 += 'i'                                                            # STEP 100
component3 = "e"                                                       # STEP 101
str0 += 'f'                                                            # STEP 102
path2 += "/" + component4                                              # STEP 103
bytes4 = 0                                                             # STEP 104
path0 = "/Volumes/ramdisk/test"                                        # STEP 105
result = os0.path.islink(path2)                                        # STEP 106
stat3 = os0.lstat(path2)                                               # STEP 107
str1 += 'z'                                                            # STEP 108
result = os0.path.exists(path0)                                        # STEP 109
bytes4 += 1                                                            # STEP 110
os0.rmdir(path2)                                                       # STEP 111
stat1 = os0.fstat(fd0)                                                 # STEP 112
os0.symlink(path0,path0)                                               # STEP 113
file0 = opener0(path0,'a')                                             # STEP 114
path4 += "/" + component3                                              # STEP 115
os0.symlink(path4,path0)                                               # STEP 116
component4 = "g"                                                       # STEP 117
str0 += 'j'                                                            # STEP 118
result = os0.path.islink(path2)                                        # STEP 119
result = os0.path.dirname(path4)                                       # STEP 120
str1 += 'o'                                                            # STEP 121
os0.link(path4,path4)                                                  # STEP 122
component3 = "omega"                                                   # STEP 123
str0 += 'q'                                                            # STEP 124
os0.makedirs(path2)                                                    # STEP 125
result = os0.path.islink(path2)                                        # STEP 126
bytes1 = 0                                                             # STEP 127
str3 = ""                                                              # STEP 128
path0 += "/" + component4                                              # STEP 129
os0.path.getsize(path0)                                                # STEP 130
str3 += " "                                                            # STEP 131
os0.mkdir(path0)                                                       # STEP 132
result = os0.read(fd0,bytes1)                                          # STEP 133
str3 += 'a'                                                            # STEP 134
result = os0.read(fd0,bytes1)                                          # STEP 135
os0.path.getsize(path4)                                                # STEP 136
file0 = opener0(path4,'a')                                             # STEP 137
stat1 = os0.stat(path4)                                                # STEP 138
str3 += 'k'                                                            # STEP 139
result = os0.path.abspath(path2)                                       # STEP 140
result = os0.read(fd0,bytes0)                                          # STEP 141
str1 += 'p'                                                            # STEP 142
result = os0.read(fd0,bytes1)                                          # STEP 143
result = os0.read(fd0,bytes0)                                          # STEP 144
str0 = ""                                                              # STEP 145
path2 = "/Volumes/ramdisk/test"                                        # STEP 146
stat3 = os0.lstat(path4)                                               # STEP 147
str0 += 'u'                                                            # STEP 148
result = os0.path.isdir(path2)                                         # STEP 149
str1 += 'o'                                                            # STEP 150
path2 += "/" + component2                                              # STEP 151
str1 += 'q'                                                            # STEP 152
str0 += 'd'                                                            # STEP 153
path4 += "/" + component3                                              # STEP 154
component3 = "lambda"                                                  # STEP 155
str0 += 'c'                                                            # STEP 156
result = stat1.st_size                                                 # STEP 157
path0 += "/" + component4                                              # STEP 158
str1 = ""                                                              # STEP 159
str0 += 't'                                                            # STEP 160
file0.write(str3)                                                      # STEP 161
result = stat2.st_nlink                                                # STEP 162
str1 += 'q'                                                            # STEP 163
result = stat0.st_nlink                                                # STEP 164
bytes2 = 0                                                             # STEP 165
component2 = "lambda"                                                  # STEP 166
result = os0.path.lexists(path2)                                       # STEP 167
str1 += 'l'                                                            # STEP 168
result = stat1.st_size                                                 # STEP 169
str1 += 'r'                                                            # STEP 170
os0.makedirs(path2)                                                    # STEP 171
str0 += 's'                                                            # STEP 172
result = os0.path.abspath(path2)                                       # STEP 173
str1 += 'w'                                                            # STEP 174
str3 += 'u'                                                            # STEP 175
path2 += "/" + component0                                              # STEP 176
os0.link(path4,path4)                                                  # STEP 177
str3 += " "                                                            # STEP 178
result = sorted(os0.listdir(path4))                                    # STEP 179
str0 += 'a'                                                            # STEP 180
str3 += 'a'                                                            # STEP 181
str1 += " "                                                            # STEP 182
result = stat1.st_nlink                                                # STEP 183
component4 = "e"                                                       # STEP 184
component0 = "h"                                                       # STEP 185
stat0 = os0.stat(path0)                                                # STEP 186
str3 += 'v'                                                            # STEP 187
str3 += 'k'                                                            # STEP 188
os0.link(path4,path4)                                                  # STEP 189
str0 += 'c'                                                            # STEP 190
str0 += 'w'                                                            # STEP 191
result = file0.readline(bytes4)                                        # STEP 192
ERROR: (<type 'exceptions.OSError'>, OSError(9, 'File is not open for reading.'), <traceback object at 0x106a48ea8>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 28941, in act574
    result = self.p_file[0].readline(self.p_bytes[4])
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4284, in read_error
    self._raise('File is not open for reading.')
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4112, in _raise
    raise OSError(errno.EBADF, message)
FAILURE 3
path0 = "/Volumes/ramdisk/test"                                          # STEP 0
component2 = "alpha"                                                     # STEP 1
component3 = "h"                                                         # STEP 2
component0 = "h"                                                         # STEP 3
bytes1 = 0                                                               # STEP 4
component1 = "b"                                                         # STEP 5
component4 = "a"                                                         # STEP 6
os0 = newFakeOS()                                                        # STEP 7
path0 += "/" + component0                                                # STEP 8
result = os0.path.islink(path0)                                          # STEP 9
stat2 = os0.lstat(path0)                                                # STEP 10
fd0 = os0.open(path0, os.O_CREAT | os.O_WRONLY | os.O_EXCL)             # STEP 11
result = os0.path.islink(path0)                                         # STEP 12
component0 = "a"                                                        # STEP 13
str0 = ""                                                               # STEP 14
stat2 = os0.fstat(fd0)                                                  # STEP 15
result = os0.path.exists(path0)                                         # STEP 16
path0 += "/" + component2                                               # STEP 17
stat0 = os0.fstat(fd0)                                                  # STEP 18
stat1 = os0.lstat(path0)                                                # STEP 19
stat3 = os0.stat(path0)                                                 # STEP 20
os0.write(fd0,str0)                                                     # STEP 21
component2 = "a"                                                        # STEP 22
os0.close(fd0)                                                          # STEP 23
str0 += 'd'                                                             # STEP 24
str0 += 'y'                                                             # STEP 25
str0 += 'a'                                                             # STEP 26
result = os0.path.exists(path0)                                         # STEP 27
path0 = "/Volumes/ramdisk/test"                                         # STEP 28
result = stat2.st_nlink                                                 # STEP 29
path0 += "/" + component4                                               # STEP 30
bytes3 = 0                                                              # STEP 31
path0 = "/Volumes/ramdisk/test"                                         # STEP 32
str0 += 'y'                                                             # STEP 33
component4 = "c"                                                        # STEP 34
str0 += " "                                                             # STEP 35
os0.symlink(path0,path0)                                                # STEP 36
result = os0.path.isfile(path0)                                         # STEP 37
str1 = ""                                                               # STEP 38
str0 += 'd'                                                             # STEP 39
str0 += 'c'                                                             # STEP 40
str1 += 'z'                                                             # STEP 41
bytes0 = 0                                                              # STEP 42
result = os0.path.abspath(path0)                                        # STEP 43
result = stat2.st_nlink                                                 # STEP 44
str1 += 'z'                                                             # STEP 45
stat1 = os0.fstat(fd0)                                                  # STEP 46
str1 += 'p'                                                             # STEP 47
bytes0 += 1                                                             # STEP 48
str1 += 'p'                                                             # STEP 49
bytes3 += 1                                                             # STEP 50
stat4 = os0.fstat(fd0)                                                  # STEP 51
opener0 = newFakeOpener(os0)                                            # STEP 52
str0 += 'n'                                                             # STEP 53
str0 += 'r'                                                             # STEP 54
result = stat0.st_nlink                                                 # STEP 55
str0 += 'i'                                                             # STEP 56
result = os0.path.islink(path0)                                         # STEP 57
str0 += 'c'                                                             # STEP 58
stat2 = os0.fstat(fd0)                                                  # STEP 59
str0 += 'y'                                                             # STEP 60
path4 = "/Volumes/ramdisk/test"                                         # STEP 61
result = os0.path.islink(path4)                                         # STEP 62
str0 += 'b'                                                             # STEP 63
os0.symlink(path0,path4)                                                # STEP 64
result = stat0.st_size                                                  # STEP 65
str1 = ""                                                               # STEP 66
str1 += 'x'                                                             # STEP 67
path0 += "/" + component4                                               # STEP 68
os0.write(fd0,str0)                                                     # STEP 69
str0 += 'k'                                                             # STEP 70
os0.makedirs(path4)                                                     # STEP 71
str1 += 'q'                                                             # STEP 72
str0 += 'x'                                                             # STEP 73
bytes0 += 1                                                             # STEP 74
path0 += "/" + component0                                               # STEP 75
file0 = opener0(path0,'w')                                              # STEP 76
str1 += 'g'                                                             # STEP 77
file0 = opener0(path4)                                                  # STEP 78
result = os0.read(fd0,bytes1)                                           # STEP 79
fd0 = os0.open(path0, os.O_CREAT | os.O_WRONLY | os.O_EXCL)             # STEP 80
str0 += " "                                                             # STEP 81
path0 += "/" + component0                                               # STEP 82
os0.link(path4,path4)                                                   # STEP 83
str0 += 'm'                                                             # STEP 84
str0 += 't'                                                             # STEP 85
path2 = "/Volumes/ramdisk/test"                                         # STEP 86
result = stat0.st_size                                                  # STEP 87
os0.symlink(path0,path2)                                                # STEP 88
str0 += " "                                                             # STEP 89
component4 = "omega"                                                    # STEP 90
result = os0.path.isabs(path4)                                          # STEP 91
result = sorted(os0.listdir(path2))                                     # STEP 92
file0 = opener0(path2,'a')                                              # STEP 93
path0 += "/" + component3                                               # STEP 94
component0 = "phi"                                                      # STEP 95
result = sorted(os0.listdir(path2))                                     # STEP 96
str0 += 'a'                                                             # STEP 97
str1 += 'i'                                                             # STEP 98
component3 = "e"                                                        # STEP 99
str0 += 'f'                                                            # STEP 100
path2 += "/" + component4                                              # STEP 101
bytes4 = 0                                                             # STEP 102
path0 = "/Volumes/ramdisk/test"                                        # STEP 103
result = os0.path.islink(path2)                                        # STEP 104
stat3 = os0.lstat(path2)                                               # STEP 105
str1 += 'z'                                                            # STEP 106
result = os0.path.exists(path0)                                        # STEP 107
bytes4 += 1                                                            # STEP 108
os0.rmdir(path2)                                                       # STEP 109
stat1 = os0.fstat(fd0)                                                 # STEP 110
os0.symlink(path0,path0)                                               # STEP 111
file0 = opener0(path0,'a')                                             # STEP 112
path4 += "/" + component3                                              # STEP 113
os0.symlink(path4,path0)                                               # STEP 114
component4 = "g"                                                       # STEP 115
str0 += 'j'                                                            # STEP 116
result = os0.path.islink(path2)                                        # STEP 117
result = os0.path.dirname(path4)                                       # STEP 118
str1 += 'o'                                                            # STEP 119
os0.link(path4,path4)                                                  # STEP 120
component3 = "omega"                                                   # STEP 121
str0 += 'q'                                                            # STEP 122
os0.makedirs(path2)                                                    # STEP 123
result = os0.path.islink(path2)                                        # STEP 124
bytes1 = 0                                                             # STEP 125
str3 = ""                                                              # STEP 126
path0 += "/" + component4                                              # STEP 127
os0.path.getsize(path0)                                                # STEP 128
str3 += " "                                                            # STEP 129
os0.mkdir(path0)                                                       # STEP 130
result = os0.read(fd0,bytes1)                                          # STEP 131
str3 += 'a'                                                            # STEP 132
result = os0.read(fd0,bytes1)                                          # STEP 133
os0.path.getsize(path4)                                                # STEP 134
file0 = opener0(path4,'a')                                             # STEP 135
stat1 = os0.stat(path4)                                                # STEP 136
str3 += 'k'                                                            # STEP 137
result = os0.path.abspath(path2)                                       # STEP 138
result = os0.read(fd0,bytes0)                                          # STEP 139
str1 += 'p'                                                            # STEP 140
result = os0.read(fd0,bytes1)                                          # STEP 141
result = os0.read(fd0,bytes0)                                          # STEP 142
str0 = ""                                                              # STEP 143
path2 = "/Volumes/ramdisk/test"                                        # STEP 144
stat3 = os0.lstat(path4)                                               # STEP 145
str0 += 'u'                                                            # STEP 146
result = os0.path.isdir(path2)                                         # STEP 147
str1 += 'o'                                                            # STEP 148
path2 += "/" + component2                                              # STEP 149
str1 += 'q'                                                            # STEP 150
str0 += 'd'                                                            # STEP 151
path4 += "/" + component3                                              # STEP 152
component3 = "lambda"                                                  # STEP 153
str0 += 'c'                                                            # STEP 154
result = stat1.st_size                                                 # STEP 155
path0 += "/" + component4                                              # STEP 156
str1 = ""                                                              # STEP 157
str0 += 't'                                                            # STEP 158
file0.write(str3)                                                      # STEP 159
str3 += 'm'                                                            # STEP 160
bytes0 = 0                                                             # STEP 161
str0 += 'm'                                                            # STEP 162
result = os0.path.abspath(path0)                                       # STEP 163
path0 += "/" + component4                                              # STEP 164
component2 = "f"                                                       # STEP 165
bytes3 += 1                                                            # STEP 166
os0.rmdir(path2)                                                       # STEP 167
stat0 = os0.fstat(fd0)                                                 # STEP 168
str1 += 't'                                                            # STEP 169
os0.symlink(path4,path2)                                               # STEP 170
result = os0.path.isabs(path4)                                         # STEP 171
path2 += "/" + component1                                              # STEP 172
component1 = "lambda"                                                  # STEP 173
stat1 = os0.lstat(path2)                                               # STEP 174
result = os0.path.exists(path0)                                        # STEP 175
result = os0.read(fd0,bytes0)                                          # STEP 176
os0.symlink(path4,path0)                                               # STEP 177
str3 += 'h'                                                            # STEP 178
str0 += 'y'                                                            # STEP 179
str3 += 'o'                                                            # STEP 180
os0.symlink(path0,path4)                                               # STEP 181
result = sorted(os0.listdir(path2))                                    # STEP 182
result = os0.read(fd0,bytes0)                                          # STEP 183
str1 += 'j'                                                            # STEP 184
path0 += "/" + component3                                              # STEP 185
result = os0.path.isdir(path4)                                         # STEP 186
path4 += "/" + component2                                              # STEP 187
os0.rename(path4,path0)                                                # STEP 188
str0 += 'x'                                                            # STEP 189
file0.seek(bytes1)                                                     # STEP 190
component2 = "b"                                                       # STEP 191
str0 += 'd'                                                            # STEP 192
bytes1 += 1                                                            # STEP 193
component4 = "omega"                                                   # STEP 194
str3 += 'g'                                                            # STEP 195
result = os0.path.isabs(path4)                                         # STEP 196
result = os0.read(fd0,bytes1)                                          # STEP 197
file0.next()                                                           # STEP 198
result = stat2.st_size                                                 # STEP 199
str0 += 'j'                                                            # STEP 200
str1 += 's'                                                            # STEP 201
os0.symlink(path4,path2)                                               # STEP 202
str1 += 'l'                                                            # STEP 203
str3 += 'b'                                                            # STEP 204
result = os0.read(fd0,bytes0)                                          # STEP 205
component3 = "a"                                                       # STEP 206
os0.path.getsize(path0)                                                # STEP 207
result = file0.readline(bytes4)                                        # STEP 208
ERROR: (<type 'exceptions.OSError'>, OSError(9, 'File is not open for reading.'), <traceback object at 0x108ab4758>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 28941, in act574
    result = self.p_file[0].readline(self.p_bytes[4])
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4284, in read_error
    self._raise('File is not open for reading.')
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4112, in _raise
    raise OSError(errno.EBADF, message)
FAILURE 4
path0 = "/Volumes/ramdisk/test"                                          # STEP 0
component2 = "alpha"                                                     # STEP 1
component3 = "h"                                                         # STEP 2
component0 = "h"                                                         # STEP 3
bytes1 = 0                                                               # STEP 4
component1 = "b"                                                         # STEP 5
component4 = "a"                                                         # STEP 6
os0 = newFakeOS()                                                        # STEP 7
path0 += "/" + component0                                                # STEP 8
result = os0.path.islink(path0)                                          # STEP 9
stat2 = os0.lstat(path0)                                                # STEP 10
fd0 = os0.open(path0, os.O_CREAT | os.O_WRONLY | os.O_EXCL)             # STEP 11
result = os0.path.islink(path0)                                         # STEP 12
component0 = "a"                                                        # STEP 13
str0 = ""                                                               # STEP 14
stat2 = os0.fstat(fd0)                                                  # STEP 15
result = os0.path.exists(path0)                                         # STEP 16
path0 += "/" + component2                                               # STEP 17
stat0 = os0.fstat(fd0)                                                  # STEP 18
stat1 = os0.lstat(path0)                                                # STEP 19
stat3 = os0.stat(path0)                                                 # STEP 20
os0.write(fd0,str0)                                                     # STEP 21
component2 = "a"                                                        # STEP 22
os0.close(fd0)                                                          # STEP 23
str0 += 'd'                                                             # STEP 24
str0 += 'y'                                                             # STEP 25
str0 += 'a'                                                             # STEP 26
result = os0.path.exists(path0)                                         # STEP 27
path0 = "/Volumes/ramdisk/test"                                         # STEP 28
result = stat2.st_nlink                                                 # STEP 29
path0 += "/" + component4                                               # STEP 30
bytes3 = 0                                                              # STEP 31
path0 = "/Volumes/ramdisk/test"                                         # STEP 32
str0 += 'y'                                                             # STEP 33
component4 = "c"                                                        # STEP 34
str0 += " "                                                             # STEP 35
os0.symlink(path0,path0)                                                # STEP 36
result = os0.path.isfile(path0)                                         # STEP 37
str1 = ""                                                               # STEP 38
str0 += 'd'                                                             # STEP 39
str0 += 'c'                                                             # STEP 40
str1 += 'z'                                                             # STEP 41
bytes0 = 0                                                              # STEP 42
result = os0.path.abspath(path0)                                        # STEP 43
result = stat2.st_nlink                                                 # STEP 44
str1 += 'z'                                                             # STEP 45
stat1 = os0.fstat(fd0)                                                  # STEP 46
str1 += 'p'                                                             # STEP 47
bytes0 += 1                                                             # STEP 48
str1 += 'p'                                                             # STEP 49
bytes3 += 1                                                             # STEP 50
stat4 = os0.fstat(fd0)                                                  # STEP 51
opener0 = newFakeOpener(os0)                                            # STEP 52
str0 += 'n'                                                             # STEP 53
str0 += 'r'                                                             # STEP 54
result = stat0.st_nlink                                                 # STEP 55
str0 += 'i'                                                             # STEP 56
result = os0.path.islink(path0)                                         # STEP 57
str0 += 'c'                                                             # STEP 58
stat2 = os0.fstat(fd0)                                                  # STEP 59
str0 += 'y'                                                             # STEP 60
path4 = "/Volumes/ramdisk/test"                                         # STEP 61
result = os0.path.islink(path4)                                         # STEP 62
str0 += 'b'                                                             # STEP 63
os0.symlink(path0,path4)                                                # STEP 64
result = stat0.st_size                                                  # STEP 65
str1 = ""                                                               # STEP 66
str1 += 'x'                                                             # STEP 67
path0 += "/" + component4                                               # STEP 68
os0.write(fd0,str0)                                                     # STEP 69
result = os0.path.dirname(path0)                                        # STEP 70
stat4 = os0.lstat(path0)                                                # STEP 71
bytes4 = 0                                                              # STEP 72
str0 += 'x'                                                             # STEP 73
str0 += 'p'                                                             # STEP 74
stat3 = os0.fstat(fd0)                                                  # STEP 75
component4 = "g"                                                        # STEP 76
str1 += 'k'                                                             # STEP 77
os0.link(path0,path0)                                                   # STEP 78
stat1 = os0.lstat(path0)                                                # STEP 79
file0 = opener0(path4,'w')                                              # STEP 80
result = os0.readlink(path4)                                            # STEP 81
result = stat0.st_nlink                                                 # STEP 82
file0 = opener0(path4,'r')                                              # STEP 83
str0 += 'z'                                                             # STEP 84
str0 += 'z'                                                             # STEP 85
str0 += 't'                                                             # STEP 86
bytes0 = 0                                                              # STEP 87
str1 += 'i'                                                             # STEP 88
result = os0.readlink(path0)                                            # STEP 89
file0 = opener0(path0,'w')                                              # STEP 90
stat3 = os0.fstat(fd0)                                                  # STEP 91
str0 += 'x'                                                             # STEP 92
str4 = ""                                                               # STEP 93
str1 += 'o'                                                             # STEP 94
os0.write(fd0,str1)                                                     # STEP 95
str0 = ""                                                               # STEP 96
os0.removedirs(path0)                                                   # STEP 97
file0.truncate()                                                        # STEP 98
str4 += 'e'                                                             # STEP 99
str1 += 'y'                                                            # STEP 100
str1 += 'r'                                                            # STEP 101
os0.remove(path4)                                                      # STEP 102
str4 += 'f'                                                            # STEP 103
result = os0.path.dirname(path4)                                       # STEP 104
result = os0.path.abspath(path0)                                       # STEP 105
str4 += 'd'                                                            # STEP 106
str0 += 'k'                                                            # STEP 107
result = os0.path.abspath(path0)                                       # STEP 108
os0.path.getsize(path0)                                                # STEP 109
str0 += " "                                                            # STEP 110
stat0 = os0.stat(path0)                                                # STEP 111
fd0 = os0.open(path0, os.O_CREAT | os.O_WRONLY | os.O_EXCL)            # STEP 112
str0 += 'h'                                                            # STEP 113
str1 += 't'                                                            # STEP 114
result = os0.read(fd0,bytes4)                                          # STEP 115
str0 += 'q'                                                            # STEP 116
str4 += 'z'                                                            # STEP 117
str1 += 'z'                                                            # STEP 118
str1 += 'e'                                                            # STEP 119
result = os0.path.exists(path4)                                        # STEP 120
str1 += 'p'                                                            # STEP 121
os0.write(fd0,str0)                                                    # STEP 122
str1 = ""                                                              # STEP 123
str1 += 'k'                                                            # STEP 124
str4 += 'a'                                                            # STEP 125
str0 = ""                                                              # STEP 126
str4 = ""                                                              # STEP 127
file0.write(str0)                                                      # STEP 128
os0.makedirs(path4)                                                    # STEP 129
bytes0 += 1                                                            # STEP 130
result = file0.readline(bytes4)                                        # STEP 131
ERROR: (<type 'exceptions.OSError'>, OSError(9, 'File is not open for reading.'), <traceback object at 0x103058cf8>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 28941, in act574
    result = self.p_file[0].readline(self.p_bytes[4])
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4284, in read_error
    self._raise('File is not open for reading.')
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4112, in _raise
    raise OSError(errno.EBADF, message)
FAILURE 5
path0 = "/Volumes/ramdisk/test"                                          # STEP 0
component2 = "alpha"                                                     # STEP 1
component3 = "h"                                                         # STEP 2
component0 = "h"                                                         # STEP 3
bytes1 = 0                                                               # STEP 4
component4 = "a"                                                         # STEP 5
os0 = newFakeOS()                                                        # STEP 6
path0 += "/" + component0                                                # STEP 7
result = os0.path.islink(path0)                                          # STEP 8
stat2 = os0.lstat(path0)                                                 # STEP 9
fd0 = os0.open(path0, os.O_CREAT | os.O_WRONLY | os.O_EXCL)             # STEP 10
result = os0.path.islink(path0)                                         # STEP 11
component0 = "a"                                                        # STEP 12
str0 = ""                                                               # STEP 13
stat2 = os0.fstat(fd0)                                                  # STEP 14
result = os0.path.exists(path0)                                         # STEP 15
path0 += "/" + component2                                               # STEP 16
stat0 = os0.fstat(fd0)                                                  # STEP 17
stat1 = os0.lstat(path0)                                                # STEP 18
stat3 = os0.stat(path0)                                                 # STEP 19
os0.write(fd0,str0)                                                     # STEP 20
component2 = "a"                                                        # STEP 21
os0.close(fd0)                                                          # STEP 22
str0 += 'd'                                                             # STEP 23
str0 += 'y'                                                             # STEP 24
str0 += 'a'                                                             # STEP 25
result = os0.path.exists(path0)                                         # STEP 26
path0 = "/Volumes/ramdisk/test"                                         # STEP 27
result = stat2.st_nlink                                                 # STEP 28
path0 += "/" + component4                                               # STEP 29
bytes3 = 0                                                              # STEP 30
path0 = "/Volumes/ramdisk/test"                                         # STEP 31
str0 += 'y'                                                             # STEP 32
component4 = "c"                                                        # STEP 33
str0 += " "                                                             # STEP 34
os0.symlink(path0,path0)                                                # STEP 35
result = os0.path.isfile(path0)                                         # STEP 36
str1 = ""                                                               # STEP 37
str0 += 'd'                                                             # STEP 38
str0 += 'c'                                                             # STEP 39
str1 += 'z'                                                             # STEP 40
bytes0 = 0                                                              # STEP 41
result = os0.path.abspath(path0)                                        # STEP 42
result = stat2.st_nlink                                                 # STEP 43
str1 += 'z'                                                             # STEP 44
stat1 = os0.fstat(fd0)                                                  # STEP 45
str1 += 'p'                                                             # STEP 46
bytes0 += 1                                                             # STEP 47
str1 += 'p'                                                             # STEP 48
bytes3 += 1                                                             # STEP 49
stat4 = os0.fstat(fd0)                                                  # STEP 50
opener0 = newFakeOpener(os0)                                            # STEP 51
str0 += 'n'                                                             # STEP 52
str0 += 'r'                                                             # STEP 53
result = stat0.st_nlink                                                 # STEP 54
str0 += 'i'                                                             # STEP 55
result = os0.path.islink(path0)                                         # STEP 56
str0 += 'c'                                                             # STEP 57
stat2 = os0.fstat(fd0)                                                  # STEP 58
str0 += 'y'                                                             # STEP 59
path4 = "/Volumes/ramdisk/test"                                         # STEP 60
result = os0.path.islink(path4)                                         # STEP 61
str0 += 'b'                                                             # STEP 62
os0.symlink(path0,path4)                                                # STEP 63
result = stat0.st_size                                                  # STEP 64
str1 = ""                                                               # STEP 65
str1 += 'x'                                                             # STEP 66
path0 += "/" + component4                                               # STEP 67
os0.write(fd0,str0)                                                     # STEP 68
result = os0.path.dirname(path0)                                        # STEP 69
stat4 = os0.lstat(path0)                                                # STEP 70
bytes4 = 0                                                              # STEP 71
str0 += 'x'                                                             # STEP 72
str0 += 'p'                                                             # STEP 73
stat3 = os0.fstat(fd0)                                                  # STEP 74
component4 = "g"                                                        # STEP 75
str1 += 'k'                                                             # STEP 76
os0.link(path0,path0)                                                   # STEP 77
stat1 = os0.lstat(path0)                                                # STEP 78
file0 = opener0(path4,'w')                                              # STEP 79
result = os0.readlink(path4)                                            # STEP 80
result = stat0.st_nlink                                                 # STEP 81
file0 = opener0(path4,'r')                                              # STEP 82
str0 += 'z'                                                             # STEP 83
str0 += 'z'                                                             # STEP 84
str0 += 't'                                                             # STEP 85
bytes0 = 0                                                              # STEP 86
str1 += 'i'                                                             # STEP 87
result = os0.readlink(path0)                                            # STEP 88
file0 = opener0(path0,'w')                                              # STEP 89
stat3 = os0.fstat(fd0)                                                  # STEP 90
str0 += 'x'                                                             # STEP 91
str4 = ""                                                               # STEP 92
os0.symlink(path0,path0)                                                # STEP 93
str0 += 'x'                                                             # STEP 94
file0.seek(bytes1)                                                      # STEP 95
fd0 = os0.open(path0, os.O_CREAT | os.O_WRONLY | os.O_EXCL)             # STEP 96
str1 += 's'                                                             # STEP 97
str0 += 'k'                                                             # STEP 98
str0 += 'm'                                                             # STEP 99
str3 = ""                                                              # STEP 100
result = os0.path.lexists(path4)                                       # STEP 101
path0 += "/" + component0                                              # STEP 102
result = os0.path.exists(path0)                                        # STEP 103
result = os0.read(fd0,bytes4)                                          # STEP 104
bytes2 = 0                                                             # STEP 105
str3 += 't'                                                            # STEP 106
file0.truncate()                                                       # STEP 107
os0.rmdir(path0)                                                       # STEP 108
str0 += 'z'                                                            # STEP 109
str1 += 'r'                                                            # STEP 110
str3 += 'a'                                                            # STEP 111
str1 += 'c'                                                            # STEP 112
component0 = "lambda"                                                  # STEP 113
stat4 = os0.lstat(path0)                                               # STEP 114
str4 += 'r'                                                            # STEP 115
result = file0.read(bytes2)                                            # STEP 116
ERROR: (<type 'exceptions.OSError'>, OSError(9, 'File is not open for reading.'), <traceback object at 0x103c9cf38>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 28468, in act566
    result = self.p_file[0].read(self.p_bytes[2])
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4284, in read_error
    self._raise('File is not open for reading.')
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4112, in _raise
    raise OSError(errno.EBADF, message)
FAILURE 6
path0 = "/Volumes/ramdisk/test"                                          # STEP 0
component2 = "alpha"                                                     # STEP 1
component3 = "h"                                                         # STEP 2
component0 = "h"                                                         # STEP 3
bytes1 = 0                                                               # STEP 4
component1 = "b"                                                         # STEP 5
component4 = "a"                                                         # STEP 6
os0 = newFakeOS()                                                        # STEP 7
path0 += "/" + component0                                                # STEP 8
result = os0.path.islink(path0)                                          # STEP 9
stat2 = os0.lstat(path0)                                                # STEP 10
fd0 = os0.open(path0, os.O_CREAT | os.O_WRONLY | os.O_EXCL)             # STEP 11
result = os0.path.islink(path0)                                         # STEP 12
component0 = "a"                                                        # STEP 13
str0 = ""                                                               # STEP 14
stat2 = os0.fstat(fd0)                                                  # STEP 15
result = os0.path.exists(path0)                                         # STEP 16
path0 += "/" + component2                                               # STEP 17
stat0 = os0.fstat(fd0)                                                  # STEP 18
stat1 = os0.lstat(path0)                                                # STEP 19
stat3 = os0.stat(path0)                                                 # STEP 20
os0.write(fd0,str0)                                                     # STEP 21
component2 = "a"                                                        # STEP 22
os0.close(fd0)                                                          # STEP 23
str0 += 'd'                                                             # STEP 24
str0 += 'y'                                                             # STEP 25
str0 += 'a'                                                             # STEP 26
result = os0.path.exists(path0)                                         # STEP 27
path0 = "/Volumes/ramdisk/test"                                         # STEP 28
result = stat2.st_nlink                                                 # STEP 29
path0 += "/" + component4                                               # STEP 30
bytes3 = 0                                                              # STEP 31
path0 = "/Volumes/ramdisk/test"                                         # STEP 32
str0 += 'y'                                                             # STEP 33
component4 = "c"                                                        # STEP 34
str0 += " "                                                             # STEP 35
os0.symlink(path0,path0)                                                # STEP 36
result = os0.path.isfile(path0)                                         # STEP 37
str1 = ""                                                               # STEP 38
str0 += 'd'                                                             # STEP 39
str0 += 'c'                                                             # STEP 40
str1 += 'z'                                                             # STEP 41
bytes0 = 0                                                              # STEP 42
result = os0.path.abspath(path0)                                        # STEP 43
result = stat2.st_nlink                                                 # STEP 44
str1 += 'z'                                                             # STEP 45
stat1 = os0.fstat(fd0)                                                  # STEP 46
str1 += 'p'                                                             # STEP 47
bytes0 += 1                                                             # STEP 48
str1 += 'p'                                                             # STEP 49
bytes3 += 1                                                             # STEP 50
stat4 = os0.fstat(fd0)                                                  # STEP 51
opener0 = newFakeOpener(os0)                                            # STEP 52
str0 += 'n'                                                             # STEP 53
str0 += 'r'                                                             # STEP 54
result = stat0.st_nlink                                                 # STEP 55
str0 += 'i'                                                             # STEP 56
result = os0.path.islink(path0)                                         # STEP 57
str0 += 'c'                                                             # STEP 58
stat2 = os0.fstat(fd0)                                                  # STEP 59
str0 += 'y'                                                             # STEP 60
path4 = "/Volumes/ramdisk/test"                                         # STEP 61
result = os0.path.islink(path4)                                         # STEP 62
str0 += 'b'                                                             # STEP 63
os0.symlink(path0,path4)                                                # STEP 64
result = stat0.st_size                                                  # STEP 65
str1 = ""                                                               # STEP 66
str1 += 'x'                                                             # STEP 67
path0 += "/" + component4                                               # STEP 68
os0.write(fd0,str0)                                                     # STEP 69
result = os0.path.dirname(path0)                                        # STEP 70
stat4 = os0.lstat(path0)                                                # STEP 71
bytes4 = 0                                                              # STEP 72
str0 += 'x'                                                             # STEP 73
str0 += 'p'                                                             # STEP 74
stat3 = os0.fstat(fd0)                                                  # STEP 75
component4 = "g"                                                        # STEP 76
str1 += 'k'                                                             # STEP 77
os0.link(path0,path0)                                                   # STEP 78
stat1 = os0.lstat(path0)                                                # STEP 79
file0 = opener0(path4,'w')                                              # STEP 80
result = os0.readlink(path4)                                            # STEP 81
result = stat0.st_nlink                                                 # STEP 82
file0 = opener0(path4,'r')                                              # STEP 83
str0 += 'z'                                                             # STEP 84
str0 += 'z'                                                             # STEP 85
str0 += 't'                                                             # STEP 86
bytes0 = 0                                                              # STEP 87
str1 += 'i'                                                             # STEP 88
file0 = opener0(path0,'w')                                              # STEP 89
stat3 = os0.fstat(fd0)                                                  # STEP 90
str0 += 'x'                                                             # STEP 91
str4 = ""                                                               # STEP 92
os0.symlink(path0,path0)                                                # STEP 93
str0 += 'x'                                                             # STEP 94
file0.seek(bytes1)                                                      # STEP 95
fd0 = os0.open(path0, os.O_CREAT | os.O_WRONLY | os.O_EXCL)             # STEP 96
os0.path.getsize(path0)                                                 # STEP 97
str1 += 'l'                                                             # STEP 98
str0 += 'a'                                                             # STEP 99
path1 = "/Volumes/ramdisk/test"                                        # STEP 100
str0 += 'h'                                                            # STEP 101
result = os0.path.dirname(path0)                                       # STEP 102
result = os0.path.isfile(path4)                                        # STEP 103
str1 += 'a'                                                            # STEP 104
str3 = ""                                                              # STEP 105
result = stat2.st_size                                                 # STEP 106
str0 += 't'                                                            # STEP 107
path0 += "/" + component4                                              # STEP 108
os0.link(path0,path1)                                                  # STEP 109
str3 += 'p'                                                            # STEP 110
result = stat3.st_nlink                                                # STEP 111
str3 += 'n'                                                            # STEP 112
result = os0.readlink(path1)                                           # STEP 113
str4 += 'j'                                                            # STEP 114
str0 += 'e'                                                            # STEP 115
str0 += 'v'                                                            # STEP 116
str4 += 'p'                                                            # STEP 117
path1 = "/Volumes/ramdisk/test"                                        # STEP 118
os0.makedirs(path1)                                                    # STEP 119
os0.link(path1,path1)                                                  # STEP 120
str0 = ""                                                              # STEP 121
path2 = "/Volumes/ramdisk/test"                                        # STEP 122
path2 += "/" + component1                                              # STEP 123
result = os0.path.exists(path1)                                        # STEP 124
component1 = "b"                                                       # STEP 125
str0 += 'q'                                                            # STEP 126
str4 = ""                                                              # STEP 127
str4 += 'w'                                                            # STEP 128
path1 += "/" + component1                                              # STEP 129
component1 = "h"                                                       # STEP 130
str4 += 'h'                                                            # STEP 131
str0 += 'p'                                                            # STEP 132
str0 += 'n'                                                            # STEP 133
str0 += 'u'                                                            # STEP 134
os0.path.getsize(path2)                                                # STEP 135
str4 += 'g'                                                            # STEP 136
str4 += 't'                                                            # STEP 137
stat3 = os0.stat(path1)                                                # STEP 138
str0 += " "                                                            # STEP 139
str3 = ""                                                              # STEP 140
stat4 = os0.stat(path1)                                                # STEP 141
str4 += 'k'                                                            # STEP 142
str3 += 'p'                                                            # STEP 143
result = os0.path.isfile(path1)                                        # STEP 144
str3 += 'a'                                                            # STEP 145
stat4 = os0.stat(path1)                                                # STEP 146
str0 += 'o'                                                            # STEP 147
stat0 = os0.lstat(path2)                                               # STEP 148
str4 += 'g'                                                            # STEP 149
result = os0.readlink(path2)                                           # STEP 150
result = os0.path.isfile(path1)                                        # STEP 151
os0.makedirs(path1)                                                    # STEP 152
str4 += 'm'                                                            # STEP 153
str4 += 'w'                                                            # STEP 154
str3 += 'l'                                                            # STEP 155
str4 += 'x'                                                            # STEP 156
str4 += 'm'                                                            # STEP 157
stat1 = os0.lstat(path1)                                               # STEP 158
str4 += 'a'                                                            # STEP 159
str3 += 'y'                                                            # STEP 160
str0 += 'i'                                                            # STEP 161
os0.link(path2,path1)                                                  # STEP 162
os0.symlink(path1,path1)                                               # STEP 163
str4 += 't'                                                            # STEP 164
str0 += 'z'                                                            # STEP 165
str3 += 'i'                                                            # STEP 166
str3 += 'z'                                                            # STEP 167
str0 += 'v'                                                            # STEP 168
result = os0.path.lexists(path2)                                       # STEP 169
str4 += 's'                                                            # STEP 170
str3 += 'n'                                                            # STEP 171
str0 += 'g'                                                            # STEP 172
result = os0.path.isdir(path2)                                         # STEP 173
os0.symlink(path2,path2)                                               # STEP 174
path1 += "/" + component4                                              # STEP 175
str0 += 'e'                                                            # STEP 176
str4 += 'b'                                                            # STEP 177
str0 += 'r'                                                            # STEP 178
component4 = "d"                                                       # STEP 179
str0 += 'e'                                                            # STEP 180
os0.symlink(path1,path1)                                               # STEP 181
str0 += 'o'                                                            # STEP 182
str0 += 'q'                                                            # STEP 183
result = os0.path.isabs(path1)                                         # STEP 184
stat2 = os0.lstat(path2)                                               # STEP 185
str3 += 'q'                                                            # STEP 186
str3 = ""                                                              # STEP 187
os0.path.getsize(path1)                                                # STEP 188
str0 += 'y'                                                            # STEP 189
os0.path.getsize(path1)                                                # STEP 190
str4 += 'd'                                                            # STEP 191
str0 += 'o'                                                            # STEP 192
str4 += 'a'                                                            # STEP 193
result = os0.path.islink(path1)                                        # STEP 194
file0.flush()                                                          # STEP 195
str0 += 'g'                                                            # STEP 196
str4 += 'v'                                                            # STEP 197
result = file0.readline()                                              # STEP 198
result = stat3.st_size                                                 # STEP 199
str4 += 'f'                                                            # STEP 200
os0.rename(path1,path2)                                                # STEP 201
str3 += 'v'                                                            # STEP 202
str3 += 'k'                                                            # STEP 203
path2 += "/" + component2                                              # STEP 204
path2 += "/" + component4                                              # STEP 205
str4 += 'b'                                                            # STEP 206
str4 += " "                                                            # STEP 207
stat4 = os0.lstat(path2)                                               # STEP 208
str0 += 'r'                                                            # STEP 209
str3 += 'i'                                                            # STEP 210
str0 += 'g'                                                            # STEP 211
os0.makedirs(path2)                                                    # STEP 212
str0 += 'z'                                                            # STEP 213
result = os0.path.isdir(path2)                                         # STEP 214
path4 = "/Volumes/ramdisk/test"                                        # STEP 215
component2 = "omega"                                                   # STEP 216
bytes2 = 0                                                             # STEP 217
os0.path.getsize(path1)                                                # STEP 218
result = file0.readline(bytes2)                                        # STEP 219
str4 += 'h'                                                            # STEP 220
str4 += 'k'                                                            # STEP 221
str4 += 'z'                                                            # STEP 222
os0.symlink(path1,path2)                                               # STEP 223
os0.remove(path4)                                                      # STEP 224
path4 += "/" + component0                                              # STEP 225
component0 = "e"                                                       # STEP 226
str0 += 'c'                                                            # STEP 227
result = sorted(os0.listdir(path1))                                    # STEP 228
str3 += 'u'                                                            # STEP 229
path1 += "/" + component3                                              # STEP 230
component4 = "lambda"                                                  # STEP 231
result = os0.path.lexists(path4)                                       # STEP 232
os0.symlink(path2,path2)                                               # STEP 233
os0.write(fd0,str0)                                                    # STEP 234
str4 += 'k'                                                            # STEP 235
str1 += 'h'                                                            # STEP 236
component3 = "e"                                                       # STEP 237
path1 += "/" + component4                                              # STEP 238
str4 += 'p'                                                            # STEP 239
result = os0.path.isdir(path1)                                         # STEP 240
file0.seek(bytes1)                                                     # STEP 241
os0.rename(path0,path1)                                                # STEP 242
os0.symlink(path4,path0)                                               # STEP 243
result = stat0.st_nlink                                                # STEP 244
str4 += 'x'                                                            # STEP 245
os0.mkdir(path4)                                                       # STEP 246
str4 += 'f'                                                            # STEP 247
os0.write(fd0,str4)                                                    # STEP 248
result = sorted(os0.listdir(path0))                                    # STEP 249
stat4 = os0.lstat(path1)                                               # STEP 250
os0.link(path1,path0)                                                  # STEP 251
os0.rename(path0,path4)                                                # STEP 252
stat3 = os0.stat(path0)                                                # STEP 253
os0.rmdir(path2)                                                       # STEP 254
file0.seek(bytes0)                                                     # STEP 255
path2 += "/" + component1                                              # STEP 256
str0 += 'v'                                                            # STEP 257
os0.mkdir(path4)                                                       # STEP 258
str1 += 'c'                                                            # STEP 259
path2 = "/Volumes/ramdisk/test"                                        # STEP 260
result = os0.path.lexists(path2)                                       # STEP 261
str3 += 'z'                                                            # STEP 262
result = os0.path.isdir(path0)                                         # STEP 263
result = os0.path.isfile(path2)                                        # STEP 264
result = os0.path.dirname(path4)                                       # STEP 265
component1 = "lambda"                                                  # STEP 266
str4 += 'o'                                                            # STEP 267
os0.rename(path4,path1)                                                # STEP 268
os0.link(path0,path0)                                                  # STEP 269
os0.link(path4,path2)                                                  # STEP 270
component4 = "c"                                                       # STEP 271
result = file0.read(bytes3)                                            # STEP 272
ERROR: (<type 'exceptions.OSError'>, OSError(9, 'File is not open for reading.'), <traceback object at 0x1070593b0>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 28528, in act567
    result = self.p_file[0].read(self.p_bytes[3])
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4284, in read_error
    self._raise('File is not open for reading.')
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4112, in _raise
    raise OSError(errno.EBADF, message)
FAILURE 7
path0 = "/Volumes/ramdisk/test"                                          # STEP 0
component2 = "alpha"                                                     # STEP 1
component3 = "h"                                                         # STEP 2
component0 = "h"                                                         # STEP 3
bytes1 = 0                                                               # STEP 4
component1 = "b"                                                         # STEP 5
component4 = "a"                                                         # STEP 6
os0 = newFakeOS()                                                        # STEP 7
path0 += "/" + component0                                                # STEP 8
result = os0.path.islink(path0)                                          # STEP 9
stat2 = os0.lstat(path0)                                                # STEP 10
fd0 = os0.open(path0, os.O_CREAT | os.O_WRONLY | os.O_EXCL)             # STEP 11
result = os0.path.islink(path0)                                         # STEP 12
component0 = "a"                                                        # STEP 13
str0 = ""                                                               # STEP 14
stat2 = os0.fstat(fd0)                                                  # STEP 15
result = os0.path.exists(path0)                                         # STEP 16
path0 += "/" + component2                                               # STEP 17
stat0 = os0.fstat(fd0)                                                  # STEP 18
stat1 = os0.lstat(path0)                                                # STEP 19
stat3 = os0.stat(path0)                                                 # STEP 20
os0.write(fd0,str0)                                                     # STEP 21
component2 = "a"                                                        # STEP 22
os0.close(fd0)                                                          # STEP 23
str0 += 'd'                                                             # STEP 24
str0 += 'y'                                                             # STEP 25
str0 += 'a'                                                             # STEP 26
result = os0.path.exists(path0)                                         # STEP 27
path0 = "/Volumes/ramdisk/test"                                         # STEP 28
result = stat2.st_nlink                                                 # STEP 29
path0 += "/" + component4                                               # STEP 30
bytes3 = 0                                                              # STEP 31
path0 = "/Volumes/ramdisk/test"                                         # STEP 32
str0 += 'y'                                                             # STEP 33
component4 = "c"                                                        # STEP 34
str0 += " "                                                             # STEP 35
os0.symlink(path0,path0)                                                # STEP 36
result = os0.path.isfile(path0)                                         # STEP 37
str1 = ""                                                               # STEP 38
str0 += 'd'                                                             # STEP 39
str0 += 'c'                                                             # STEP 40
str1 += 'z'                                                             # STEP 41
bytes0 = 0                                                              # STEP 42
result = os0.path.abspath(path0)                                        # STEP 43
result = stat2.st_nlink                                                 # STEP 44
str1 += 'z'                                                             # STEP 45
stat1 = os0.fstat(fd0)                                                  # STEP 46
str1 += 'p'                                                             # STEP 47
bytes0 += 1                                                             # STEP 48
str1 += 'p'                                                             # STEP 49
bytes3 += 1                                                             # STEP 50
stat4 = os0.fstat(fd0)                                                  # STEP 51
opener0 = newFakeOpener(os0)                                            # STEP 52
str0 += 'n'                                                             # STEP 53
str0 += 'r'                                                             # STEP 54
result = stat0.st_nlink                                                 # STEP 55
str0 += 'i'                                                             # STEP 56
result = os0.path.islink(path0)                                         # STEP 57
str0 += 'c'                                                             # STEP 58
stat2 = os0.fstat(fd0)                                                  # STEP 59
str0 += 'y'                                                             # STEP 60
path4 = "/Volumes/ramdisk/test"                                         # STEP 61
result = os0.path.islink(path4)                                         # STEP 62
str0 += 'b'                                                             # STEP 63
os0.symlink(path0,path4)                                                # STEP 64
result = stat0.st_size                                                  # STEP 65
str1 = ""                                                               # STEP 66
str1 += 'x'                                                             # STEP 67
path0 += "/" + component4                                               # STEP 68
os0.write(fd0,str0)                                                     # STEP 69
result = os0.path.dirname(path0)                                        # STEP 70
stat4 = os0.lstat(path0)                                                # STEP 71
bytes4 = 0                                                              # STEP 72
str0 += 'x'                                                             # STEP 73
str0 += 'p'                                                             # STEP 74
stat3 = os0.fstat(fd0)                                                  # STEP 75
component4 = "g"                                                        # STEP 76
str1 += 'k'                                                             # STEP 77
os0.link(path0,path0)                                                   # STEP 78
stat1 = os0.lstat(path0)                                                # STEP 79
file0 = opener0(path4,'w')                                              # STEP 80
result = os0.readlink(path4)                                            # STEP 81
result = stat0.st_nlink                                                 # STEP 82
file0 = opener0(path4,'r')                                              # STEP 83
str0 += 'z'                                                             # STEP 84
str0 += 'z'                                                             # STEP 85
str0 += 't'                                                             # STEP 86
bytes0 = 0                                                              # STEP 87
str1 += 'i'                                                             # STEP 88
result = os0.readlink(path0)                                            # STEP 89
file0 = opener0(path0,'w')                                              # STEP 90
stat3 = os0.fstat(fd0)                                                  # STEP 91
str0 += 'x'                                                             # STEP 92
str4 = ""                                                               # STEP 93
os0.symlink(path0,path0)                                                # STEP 94
str0 += 'x'                                                             # STEP 95
file0.seek(bytes1)                                                      # STEP 96
fd0 = os0.open(path0, os.O_CREAT | os.O_WRONLY | os.O_EXCL)             # STEP 97
path0 += "/" + component0                                               # STEP 98
bytes2 = 0                                                              # STEP 99
str1 += 'f'                                                            # STEP 100
str1 = ""                                                              # STEP 101
file0.write(str4)                                                      # STEP 102
result = os0.path.islink(path0)                                        # STEP 103
result = file0.read()                                                  # STEP 104
result = os0.read(fd0,bytes4)                                          # STEP 105
os0.makedirs(path4)                                                    # STEP 106
result = os0.read(fd0,bytes3)                                          # STEP 107
str4 += 'z'                                                            # STEP 108
component0 = "delta"                                                   # STEP 109
str1 += " "                                                            # STEP 110
file0.write(str0)                                                      # STEP 111
str0 = ""                                                              # STEP 112
str1 += 'c'                                                            # STEP 113
os0.symlink(path0,path4)                                               # STEP 114
file0.seek(bytes3)                                                     # STEP 115
bytes1 = 0                                                             # STEP 116
str1 += 'n'                                                            # STEP 117
bytes2 += 1                                                            # STEP 118
result = os0.path.isfile(path4)                                        # STEP 119
os0.mkdir(path0)                                                       # STEP 120
str0 += 'l'                                                            # STEP 121
str1 += 'j'                                                            # STEP 122
os0.rmdir(path0)                                                       # STEP 123
file0.write(str1)                                                      # STEP 124
str0 += 'h'                                                            # STEP 125
str4 += 'g'                                                            # STEP 126
str0 += 'p'                                                            # STEP 127
result = stat3.st_size                                                 # STEP 128
str1 += 'n'                                                            # STEP 129
str1 += 'b'                                                            # STEP 130
str0 += 'i'                                                            # STEP 131
str0 += 'u'                                                            # STEP 132
str1 += 'x'                                                            # STEP 133
str1 += 'o'                                                            # STEP 134
str4 += 's'                                                            # STEP 135
os0.symlink(path4,path0)                                               # STEP 136
path4 += "/" + component0                                              # STEP 137
stat3 = os0.stat(path0)                                                # STEP 138
str4 += 'a'                                                            # STEP 139
stat1 = os0.stat(path0)                                                # STEP 140
result = stat3.st_size                                                 # STEP 141
stat0 = os0.lstat(path4)                                               # STEP 142
path4 += "/" + component3                                              # STEP 143
str4 += 'x'                                                            # STEP 144
stat3 = os0.stat(path0)                                                # STEP 145
str4 += 'j'                                                            # STEP 146
path0 += "/" + component3                                              # STEP 147
str1 += 'i'                                                            # STEP 148
file0.flush()                                                          # STEP 149
str1 += 'd'                                                            # STEP 150
stat1 = os0.lstat(path0)                                               # STEP 151
str1 += 'b'                                                            # STEP 152
str0 = ""                                                              # STEP 153
path4 += "/" + component0                                              # STEP 154
component0 = "phi"                                                     # STEP 155
str1 += 's'                                                            # STEP 156
file0.next()                                                           # STEP 157
path4 += "/" + component0                                              # STEP 158
os0.rename(path4,path0)                                                # STEP 159
os0.rmdir(path0)                                                       # STEP 160
component0 = "f"                                                       # STEP 161
path2 = "/Volumes/ramdisk/test"                                        # STEP 162
str0 += 'z'                                                            # STEP 163
os0.link(path2,path4)                                                  # STEP 164
path0 += "/" + component0                                              # STEP 165
os0.removedirs(path0)                                                  # STEP 166
str4 += 'x'                                                            # STEP 167
os0.path.getsize(path4)                                                # STEP 168
path1 = "/Volumes/ramdisk/test"                                        # STEP 169
result = os0.path.isabs(path0)                                         # STEP 170
result = file0.read(bytes3)                                            # STEP 171
ERROR: (<type 'exceptions.OSError'>, OSError(9, 'File is not open for reading.'), <traceback object at 0x1031dccb0>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 28528, in act567
    result = self.p_file[0].read(self.p_bytes[3])
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4284, in read_error
    self._raise('File is not open for reading.')
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4112, in _raise
    raise OSError(errno.EBADF, message)
1186 BRANCHES COVERED
907 STATEMENTS COVERED
