Random testing using config=Config(swarmSwitch=None, verbose=False, reducePool=False, failedLogging=None, exploitBestHint=1, greedyStutter=False, internal=False, exploit=0.8, seed=None, generalize=False, useHints=False, localize=False, total=False, speed='FAST', probs=None, normalize=False, verboseExploit=False, highLowSwarm=None, replayable=False, essentials=False, noCoverageExploit=False, quickTests=False, relax=False, enumerateEnabled=False, uniqueValuesAnalysis=False, swarm=False, noReassign=False, html=None, fastQuickAnalysis=False, progress=False, swarmLength=None, noSwarmDependencies=False, profile=False, LOCBaseline=0.2, noEnumerateEnabled=False, full=True, multiple=True, timedProgress=30, silentFail=True, stopWhenStatements=None, swarmP=0.5, stopWhenBranches=None, noAlphaConvert=False, coverFile='coverage.out', readQuick=False, verboseActions=False, running=False, computeFeatureStats=False, compareFails=False, swarmProbs=None, output='failure.5979.test', genDepth=None, Pcrossover=0.2, quickAnalysis=False, keepLast=False, exploitCeiling=0.1, logging=None, LOCProbs=False, noCheck=False, maxTests=-1, noExceptionMatch=False, Pmutate=0.8, depth=100, showActions=False, throughput=False, noCover=False, timeout=60, stutter=None, uncaught=False, markov=None, startExploit=0)
UNCAUGHT EXCEPTION
ERROR: (<type 'exceptions.AssertionError'>, AssertionError(), <traceback object at 0x10b4dfa28>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 22173, in act464
    assert (raised == None) == (refRaised == None)
Original test has 265 steps

SAVING TEST AS failure.5979.test.0
FINAL VERSION OF TEST, WITH LOGGED REPLAY:
component3 = "alpha"                                                     # STEP 0
component1 = "f"                                                         # STEP 1
component0 = "beta"                                                      # STEP 2
path4 = "/Volumes/ramdisk/test"                                          # STEP 3
str2 = ""                                                                # STEP 4
component2 = "delta"                                                     # STEP 5
component4 = "d"                                                         # STEP 6
path2 = "/Volumes/ramdisk/test"                                          # STEP 7
str1 = ""                                                                # STEP 8
str1 += 'a'                                                              # STEP 9
str2 += 'w'                                                             # STEP 10
str1 += 'l'                                                             # STEP 11
str1 += 'o'                                                             # STEP 12
os0 = newFakeOS()                                                       # STEP 13
str0 = ""                                                               # STEP 14
os0.symlink(path2,path2)                                                # STEP 15
result = os0.path.abspath(path4)                                        # STEP 16
str2 += 'r'                                                             # STEP 17
str0 += 's'                                                             # STEP 18
result = os0.readlink(path4)                                            # STEP 19
str1 += 's'                                                             # STEP 20
str0 += 'e'                                                             # STEP 21
path3 = "/Volumes/ramdisk/test"                                         # STEP 22
str1 += 'h'                                                             # STEP 23
str2 += 'o'                                                             # STEP 24
str2 += 'm'                                                             # STEP 25
str1 += 'a'                                                             # STEP 26
str2 += 'j'                                                             # STEP 27
str0 += 'c'                                                             # STEP 28
str0 += 'v'                                                             # STEP 29
str1 += 'v'                                                             # STEP 30
str1 += 'n'                                                             # STEP 31
str0 += 'f'                                                             # STEP 32
str2 += 'b'                                                             # STEP 33
opener0 = newFakeOpener(os0)                                            # STEP 34
os0.symlink(path4,path2)                                                # STEP 35
result = os0.path.dirname(path3)                                        # STEP 36
str0 += 'k'                                                             # STEP 37
str1 += 'j'                                                             # STEP 38
result = sorted(os0.listdir(path4))                                     # STEP 39
str0 += 'f'                                                             # STEP 40
str1 += 's'                                                             # STEP 41
os0.link(path4,path2)                                                   # STEP 42
file0 = opener0(path3,'w')                                              # STEP 43
result = os0.path.abspath(path2)                                        # STEP 44
os0.remove(path3)                                                       # STEP 45
str0 += 'p'                                                             # STEP 46
str4 = ""                                                               # STEP 47
str2 += 'k'                                                             # STEP 48
os0.link(path2,path3)                                                   # STEP 49
str0 += 'p'                                                             # STEP 50
result = os0.path.abspath(path3)                                        # STEP 51
str4 += 't'                                                             # STEP 52
str1 += 'w'                                                             # STEP 53
result = os0.path.isabs(path4)                                          # STEP 54
result = os0.path.dirname(path4)                                        # STEP 55
str0 += 's'                                                             # STEP 56
os0.mkdir(path2)                                                        # STEP 57
result = os0.path.abspath(path2)                                        # STEP 58
str2 += 'k'                                                             # STEP 59
str1 += " "                                                             # STEP 60
result = os0.path.lexists(path4)                                        # STEP 61
os0.link(path2,path3)                                                   # STEP 62
str1 += 'j'                                                             # STEP 63
str0 += 'f'                                                             # STEP 64
str2 += 'j'                                                             # STEP 65
str4 += 'j'                                                             # STEP 66
str4 += 'b'                                                             # STEP 67
str2 += 'l'                                                             # STEP 68
path2 += "/" + component2                                               # STEP 69
bytes4 = 0                                                              # STEP 70
result = os0.path.isdir(path4)                                          # STEP 71
os0.symlink(path3,path2)                                                # STEP 72
str2 += 'h'                                                             # STEP 73
os0.symlink(path2,path4)                                                # STEP 74
stat0 = os0.stat(path2)                                                 # STEP 75
stat4 = os0.lstat(path2)                                                # STEP 76
str1 += 'y'                                                             # STEP 77
str4 += 'o'                                                             # STEP 78
str1 += 'k'                                                             # STEP 79
os0.symlink(path4,path2)                                                # STEP 80
str2 += 's'                                                             # STEP 81
path4 += "/" + component0                                               # STEP 82
fd0 = os0.open(path4, os.O_CREAT | os.O_WRONLY)                         # STEP 83
result = os0.path.isabs(path3)                                          # STEP 84
str1 += 'x'                                                             # STEP 85
component0 = "b"                                                        # STEP 86
os0.symlink(path2,path3)                                                # STEP 87
str2 += 'a'                                                             # STEP 88
path2 += "/" + component1                                               # STEP 89
str4 += 'x'                                                             # STEP 90
str2 += 'c'                                                             # STEP 91
result = os0.path.dirname(path4)                                        # STEP 92
str0 += 'q'                                                             # STEP 93
stat1 = os0.lstat(path2)                                                # STEP 94
os0.path.getsize(path4)                                                 # STEP 95
result = os0.path.abspath(path4)                                        # STEP 96
str2 += 'h'                                                             # STEP 97
str1 += 'c'                                                             # STEP 98
file0 = opener0(path2,'a')                                              # STEP 99
str1 += 'j'                                                            # STEP 100
stat3 = os0.lstat(path2)                                               # STEP 101
str0 += 'h'                                                            # STEP 102
str0 += 'r'                                                            # STEP 103
str2 += 'm'                                                            # STEP 104
str4 += 'j'                                                            # STEP 105
str2 += 'u'                                                            # STEP 106
result = file0.readlines()                                             # STEP 107
str1 += 'm'                                                            # STEP 108
component1 = "f"                                                       # STEP 109
str4 += 'l'                                                            # STEP 110
str0 += 'x'                                                            # STEP 111
str4 = ""                                                              # STEP 112
str2 += 'c'                                                            # STEP 113
result = os0.readlink(path4)                                           # STEP 114
str4 += 'c'                                                            # STEP 115
os0.link(path4,path2)                                                  # STEP 116
str0 += 'w'                                                            # STEP 117
str4 += 'p'                                                            # STEP 118
str1 += 'n'                                                            # STEP 119
stat1 = os0.stat(path4)                                                # STEP 120
result = os0.path.lexists(path4)                                       # STEP 121
str0 += 'u'                                                            # STEP 122
str1 += 'j'                                                            # STEP 123
str4 += 'v'                                                            # STEP 124
result = file0.read()                                                  # STEP 125
file0.flush()                                                          # STEP 126
component2 = "d"                                                       # STEP 127
str2 += 'o'                                                            # STEP 128
str1 += 'y'                                                            # STEP 129
str0 += 'm'                                                            # STEP 130
os0.rename(path2,path3)                                                # STEP 131
os0.symlink(path3,path4)                                               # STEP 132
str1 += 'g'                                                            # STEP 133
str2 += 'e'                                                            # STEP 134
str4 += 'k'                                                            # STEP 135
result = os0.path.islink(path4)                                        # STEP 136
str4 += 'n'                                                            # STEP 137
os0.symlink(path2,path4)                                               # STEP 138
os0.rename(path2,path4)                                                # STEP 139
stat2 = os0.fstat(fd0)                                                 # STEP 140
os0.close(fd0)                                                         # STEP 141
result = os0.path.isdir(path3)                                         # STEP 142
str4 += 'z'                                                            # STEP 143
os0.mkdir(path2)                                                       # STEP 144
os0.symlink(path4,path4)                                               # STEP 145
str4 += 'k'                                                            # STEP 146
str1 += 'z'                                                            # STEP 147
str2 += 't'                                                            # STEP 148
result = stat1.st_size                                                 # STEP 149
str4 += 'z'                                                            # STEP 150
os0.symlink(path3,path3)                                               # STEP 151
os0.link(path2,path3)                                                  # STEP 152
str2 += " "                                                            # STEP 153
file0.flush()                                                          # STEP 154
os0.makedirs(path3)                                                    # STEP 155
str1 += 'x'                                                            # STEP 156
os0.rename(path2,path4)                                                # STEP 157
result = sorted(os0.listdir(path2))                                    # STEP 158
str4 += 'y'                                                            # STEP 159
str0 += 't'                                                            # STEP 160
str2 += 'd'                                                            # STEP 161
result = stat1.st_nlink                                                # STEP 162
os0.link(path3,path4)                                                  # STEP 163
path2 += "/" + component0                                              # STEP 164
os0.symlink(path2,path4)                                               # STEP 165
fd0 = os0.open(path4, os.O_CREAT | os.O_WRONLY | os.O_TRUNC | os.O_EXCL)  # STEP 166
os0.remove(path4)                                                      # STEP 167
str2 = ""                                                              # STEP 168
str1 += 'r'                                                            # STEP 169
os0.rmdir(path2)                                                       # STEP 170
str2 += " "                                                            # STEP 171
str1 += 'h'                                                            # STEP 172
str2 += 'u'                                                            # STEP 173
str2 += 'h'                                                            # STEP 174
result = os0.path.abspath(path2)                                       # STEP 175
str3 = ""                                                              # STEP 176
str3 += 'z'                                                            # STEP 177
str1 += " "                                                            # STEP 178
str1 += 'f'                                                            # STEP 179
path4 += "/" + component3                                              # STEP 180
path2 += "/" + component4                                              # STEP 181
os0.symlink(path4,path4)                                               # STEP 182
os0.write(fd0,str4)                                                    # STEP 183
str2 += 'g'                                                            # STEP 184
file0.flush()                                                          # STEP 185
str2 += 'i'                                                            # STEP 186
path2 += "/" + component0                                              # STEP 187
component3 = "alpha"                                                   # STEP 188
component4 = "b"                                                       # STEP 189
result = os0.path.exists(path3)                                        # STEP 190
str2 += 'd'                                                            # STEP 191
str1 += 'o'                                                            # STEP 192
str3 += 'v'                                                            # STEP 193
str0 += 'b'                                                            # STEP 194
str0 += 'i'                                                            # STEP 195
str4 += 'g'                                                            # STEP 196
component0 = "beta"                                                    # STEP 197
path2 += "/" + component4                                              # STEP 198
str2 += 'y'                                                            # STEP 199
str1 += 'o'                                                            # STEP 200
os0.write(fd0,str0)                                                    # STEP 201
str3 += 'o'                                                            # STEP 202
result = os0.path.abspath(path3)                                       # STEP 203
str2 += 'x'                                                            # STEP 204
str1 += 'b'                                                            # STEP 205
os0.write(fd0,str1)                                                    # STEP 206
component4 = "c"                                                       # STEP 207
path3 = "/Volumes/ramdisk/test"                                        # STEP 208
result = os0.path.isdir(path2)                                         # STEP 209
os0.rename(path4,path3)                                                # STEP 210
str4 += 'j'                                                            # STEP 211
result = stat4.st_nlink                                                # STEP 212
str2 += 't'                                                            # STEP 213
result = file0.readlines()                                             # STEP 214
str3 += 'r'                                                            # STEP 215
str1 += 's'                                                            # STEP 216
str4 += " "                                                            # STEP 217
stat4 = os0.lstat(path2)                                               # STEP 218
path2 += "/" + component3                                              # STEP 219
str0 += 'z'                                                            # STEP 220
os0.link(path4,path3)                                                  # STEP 221
str0 += 'i'                                                            # STEP 222
path3 += "/" + component1                                              # STEP 223
file0.truncate()                                                       # STEP 224
str3 += 'm'                                                            # STEP 225
str3 += 'c'                                                            # STEP 226
str4 += 's'                                                            # STEP 227
str4 += 'p'                                                            # STEP 228
str1 += 'w'                                                            # STEP 229
result = os0.path.exists(path2)                                        # STEP 230
str0 += 'k'                                                            # STEP 231
str0 += 'a'                                                            # STEP 232
str3 += 'n'                                                            # STEP 233
path4 += "/" + component2                                              # STEP 234
os0.rename(path3,path2)                                                # STEP 235
stat1 = os0.lstat(path2)                                               # STEP 236
component1 = "b"                                                       # STEP 237
os0.path.getsize(path4)                                                # STEP 238
str3 += 'i'                                                            # STEP 239
result = os0.path.lexists(path3)                                       # STEP 240
result = os0.path.exists(path2)                                        # STEP 241
str2 += " "                                                            # STEP 242
str0 += 'y'                                                            # STEP 243
os0.symlink(path3,path4)                                               # STEP 244
component2 = "delta"                                                   # STEP 245
os0.rmdir(path4)                                                       # STEP 246
os0.remove(path4)                                                      # STEP 247
os0.makedirs(path2)                                                    # STEP 248
str3 += 'a'                                                            # STEP 249
str2 += 'f'                                                            # STEP 250
component3 = "alpha"                                                   # STEP 251
str1 += 'd'                                                            # STEP 252
result = os0.path.exists(path4)                                        # STEP 253
str2 += 'k'                                                            # STEP 254
str1 += 'g'                                                            # STEP 255
result = sorted(os0.listdir(path3))                                    # STEP 256
str4 += 'n'                                                            # STEP 257
result = os0.path.lexists(path3)                                       # STEP 258
file0.write(str3)                                                      # STEP 259
os0.rename(path3,path2)                                                # STEP 260
os0.symlink(path2,path2)                                               # STEP 261
os0.removedirs(path2)                                                  # STEP 262
str2 += 'd'                                                            # STEP 263
result = os0.readlink(path2)                                           # STEP 264
ERROR: (<type 'exceptions.AssertionError'>, AssertionError(), <traceback object at 0x109994758>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 22173, in act464
    assert (raised == None) == (refRaised == None)
FAILURE IS NEW, STORING; NOW 1 DISTINCT FAILURES
UNCAUGHT EXCEPTION
ERROR: (<type 'exceptions.AssertionError'>, AssertionError(' (True) == (False) ',), <traceback object at 0x1068dfd40>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 24664, in act504
    try: assert result == result_REF, " (%s) == (%s) " % (result, result_REF)
Original test has 286 steps

SAVING TEST AS failure.5979.test.1
FINAL VERSION OF TEST, WITH LOGGED REPLAY:
component3 = "alpha"                                                     # STEP 0
component1 = "f"                                                         # STEP 1
component0 = "beta"                                                      # STEP 2
path4 = "/Volumes/ramdisk/test"                                          # STEP 3
str2 = ""                                                                # STEP 4
component2 = "delta"                                                     # STEP 5
component4 = "d"                                                         # STEP 6
path2 = "/Volumes/ramdisk/test"                                          # STEP 7
str1 = ""                                                                # STEP 8
str1 += 'a'                                                              # STEP 9
str2 += 'w'                                                             # STEP 10
str1 += 'l'                                                             # STEP 11
str1 += 'o'                                                             # STEP 12
os0 = newFakeOS()                                                       # STEP 13
str0 = ""                                                               # STEP 14
os0.symlink(path2,path2)                                                # STEP 15
result = os0.path.abspath(path4)                                        # STEP 16
str2 += 'r'                                                             # STEP 17
str0 += 's'                                                             # STEP 18
result = os0.readlink(path4)                                            # STEP 19
str1 += 's'                                                             # STEP 20
str0 += 'e'                                                             # STEP 21
path3 = "/Volumes/ramdisk/test"                                         # STEP 22
str1 += 'h'                                                             # STEP 23
str2 += 'o'                                                             # STEP 24
result = os0.readlink(path4)                                            # STEP 25
str1 += 'a'                                                             # STEP 26
str2 += 'j'                                                             # STEP 27
str0 += 'c'                                                             # STEP 28
str0 += 'v'                                                             # STEP 29
str1 += 'v'                                                             # STEP 30
str1 += 'n'                                                             # STEP 31
str0 += 'f'                                                             # STEP 32
str2 += 'b'                                                             # STEP 33
opener0 = newFakeOpener(os0)                                            # STEP 34
os0.symlink(path4,path2)                                                # STEP 35
result = os0.path.dirname(path3)                                        # STEP 36
str0 += 'k'                                                             # STEP 37
str1 += 'j'                                                             # STEP 38
result = sorted(os0.listdir(path4))                                     # STEP 39
str0 += 'f'                                                             # STEP 40
str1 += 's'                                                             # STEP 41
os0.link(path4,path2)                                                   # STEP 42
file0 = opener0(path3,'w')                                              # STEP 43
result = os0.path.abspath(path2)                                        # STEP 44
os0.remove(path3)                                                       # STEP 45
str0 += 'p'                                                             # STEP 46
str4 = ""                                                               # STEP 47
str2 += 'k'                                                             # STEP 48
os0.link(path2,path3)                                                   # STEP 49
str0 += 'p'                                                             # STEP 50
result = os0.path.abspath(path3)                                        # STEP 51
str4 += 't'                                                             # STEP 52
str1 += 'w'                                                             # STEP 53
result = os0.path.isabs(path4)                                          # STEP 54
result = os0.path.dirname(path4)                                        # STEP 55
str0 += 's'                                                             # STEP 56
os0.mkdir(path2)                                                        # STEP 57
result = os0.path.abspath(path2)                                        # STEP 58
str2 += 'k'                                                             # STEP 59
str1 += " "                                                             # STEP 60
result = os0.path.lexists(path4)                                        # STEP 61
os0.link(path2,path3)                                                   # STEP 62
str1 += 'j'                                                             # STEP 63
str0 += 'f'                                                             # STEP 64
str2 += 'j'                                                             # STEP 65
str4 += 'j'                                                             # STEP 66
str4 += 'b'                                                             # STEP 67
str2 += 'l'                                                             # STEP 68
path2 += "/" + component2                                               # STEP 69
bytes4 = 0                                                              # STEP 70
result = os0.path.isdir(path4)                                          # STEP 71
os0.symlink(path3,path2)                                                # STEP 72
str2 += 'h'                                                             # STEP 73
os0.symlink(path2,path4)                                                # STEP 74
stat0 = os0.stat(path2)                                                 # STEP 75
stat4 = os0.lstat(path2)                                                # STEP 76
str1 += 'y'                                                             # STEP 77
str4 += 'o'                                                             # STEP 78
str1 += 'k'                                                             # STEP 79
os0.symlink(path4,path2)                                                # STEP 80
str2 += 's'                                                             # STEP 81
path4 += "/" + component0                                               # STEP 82
fd0 = os0.open(path4, os.O_CREAT | os.O_WRONLY)                         # STEP 83
result = os0.path.isabs(path3)                                          # STEP 84
str1 += 'x'                                                             # STEP 85
component0 = "b"                                                        # STEP 86
os0.symlink(path2,path3)                                                # STEP 87
str2 += 'a'                                                             # STEP 88
path2 += "/" + component1                                               # STEP 89
str4 += 'x'                                                             # STEP 90
str2 += 'c'                                                             # STEP 91
result = os0.path.dirname(path4)                                        # STEP 92
str0 += 'q'                                                             # STEP 93
stat1 = os0.lstat(path2)                                                # STEP 94
os0.path.getsize(path4)                                                 # STEP 95
result = os0.path.abspath(path4)                                        # STEP 96
str2 += 'h'                                                             # STEP 97
str1 += 'c'                                                             # STEP 98
file0 = opener0(path2,'a')                                              # STEP 99
str1 += 'j'                                                            # STEP 100
stat3 = os0.lstat(path2)                                               # STEP 101
str0 += 'h'                                                            # STEP 102
str0 += 'r'                                                            # STEP 103
str2 += 'm'                                                            # STEP 104
str4 += 'j'                                                            # STEP 105
str2 += 'u'                                                            # STEP 106
result = file0.readlines()                                             # STEP 107
str1 += 'm'                                                            # STEP 108
component1 = "f"                                                       # STEP 109
str4 += 'l'                                                            # STEP 110
str0 += 'x'                                                            # STEP 111
str4 = ""                                                              # STEP 112
str2 += 'c'                                                            # STEP 113
result = os0.readlink(path4)                                           # STEP 114
str4 += 'c'                                                            # STEP 115
os0.link(path4,path2)                                                  # STEP 116
str0 += 'w'                                                            # STEP 117
str4 += 'p'                                                            # STEP 118
str1 += 'n'                                                            # STEP 119
stat1 = os0.stat(path4)                                                # STEP 120
result = os0.path.lexists(path4)                                       # STEP 121
str0 += 'u'                                                            # STEP 122
str1 += 'j'                                                            # STEP 123
str4 += 'v'                                                            # STEP 124
result = file0.read()                                                  # STEP 125
file0.flush()                                                          # STEP 126
component2 = "d"                                                       # STEP 127
str2 += 'o'                                                            # STEP 128
str1 += 'y'                                                            # STEP 129
str0 += 'm'                                                            # STEP 130
os0.rename(path2,path3)                                                # STEP 131
os0.symlink(path3,path4)                                               # STEP 132
str1 += 'g'                                                            # STEP 133
str2 += 'e'                                                            # STEP 134
str4 += 'k'                                                            # STEP 135
result = os0.path.islink(path4)                                        # STEP 136
str4 += 'n'                                                            # STEP 137
os0.symlink(path2,path4)                                               # STEP 138
os0.rename(path2,path4)                                                # STEP 139
stat2 = os0.fstat(fd0)                                                 # STEP 140
os0.close(fd0)                                                         # STEP 141
result = os0.path.isdir(path3)                                         # STEP 142
str4 += 'z'                                                            # STEP 143
os0.mkdir(path2)                                                       # STEP 144
os0.symlink(path4,path4)                                               # STEP 145
str4 += 'k'                                                            # STEP 146
str1 += 'z'                                                            # STEP 147
str2 += 't'                                                            # STEP 148
result = stat1.st_size                                                 # STEP 149
str4 += 'z'                                                            # STEP 150
os0.symlink(path3,path3)                                               # STEP 151
os0.link(path2,path3)                                                  # STEP 152
str2 += " "                                                            # STEP 153
file0.flush()                                                          # STEP 154
os0.makedirs(path3)                                                    # STEP 155
str1 += 'x'                                                            # STEP 156
os0.rename(path2,path4)                                                # STEP 157
result = sorted(os0.listdir(path2))                                    # STEP 158
str4 += 'y'                                                            # STEP 159
str0 += 't'                                                            # STEP 160
str2 += 'd'                                                            # STEP 161
result = stat1.st_nlink                                                # STEP 162
os0.link(path3,path4)                                                  # STEP 163
path2 += "/" + component0                                              # STEP 164
os0.symlink(path2,path4)                                               # STEP 165
fd0 = os0.open(path4, os.O_CREAT | os.O_WRONLY | os.O_TRUNC | os.O_EXCL)  # STEP 166
os0.remove(path4)                                                      # STEP 167
str2 = ""                                                              # STEP 168
str1 += 'r'                                                            # STEP 169
os0.rmdir(path2)                                                       # STEP 170
str2 += " "                                                            # STEP 171
str1 += 'h'                                                            # STEP 172
str2 += 'u'                                                            # STEP 173
str2 += 'h'                                                            # STEP 174
result = os0.path.abspath(path2)                                       # STEP 175
str3 = ""                                                              # STEP 176
str3 += 'z'                                                            # STEP 177
str1 += " "                                                            # STEP 178
str1 += 'f'                                                            # STEP 179
path4 += "/" + component3                                              # STEP 180
path2 += "/" + component4                                              # STEP 181
os0.symlink(path4,path4)                                               # STEP 182
os0.write(fd0,str4)                                                    # STEP 183
str2 += 'g'                                                            # STEP 184
file0.flush()                                                          # STEP 185
str2 += 'i'                                                            # STEP 186
path2 += "/" + component0                                              # STEP 187
component3 = "alpha"                                                   # STEP 188
component4 = "b"                                                       # STEP 189
result = os0.path.exists(path3)                                        # STEP 190
str2 += 'd'                                                            # STEP 191
str1 += 'o'                                                            # STEP 192
str3 += 'v'                                                            # STEP 193
str0 += 'b'                                                            # STEP 194
str0 += 'i'                                                            # STEP 195
str4 += 'g'                                                            # STEP 196
component0 = "beta"                                                    # STEP 197
path2 += "/" + component4                                              # STEP 198
str2 += 'y'                                                            # STEP 199
str1 += 'o'                                                            # STEP 200
os0.write(fd0,str0)                                                    # STEP 201
str3 += 'o'                                                            # STEP 202
result = os0.path.abspath(path3)                                       # STEP 203
str2 += 'x'                                                            # STEP 204
str1 += 'b'                                                            # STEP 205
os0.write(fd0,str1)                                                    # STEP 206
component4 = "c"                                                       # STEP 207
path3 = "/Volumes/ramdisk/test"                                        # STEP 208
result = os0.path.isdir(path2)                                         # STEP 209
os0.rename(path4,path3)                                                # STEP 210
str4 += 'j'                                                            # STEP 211
result = stat4.st_nlink                                                # STEP 212
str2 += 't'                                                            # STEP 213
result = file0.readlines()                                             # STEP 214
str3 += 'r'                                                            # STEP 215
str1 += 's'                                                            # STEP 216
str4 += " "                                                            # STEP 217
stat4 = os0.lstat(path2)                                               # STEP 218
path2 += "/" + component3                                              # STEP 219
str0 += 'z'                                                            # STEP 220
os0.link(path4,path3)                                                  # STEP 221
str0 += 'i'                                                            # STEP 222
path3 += "/" + component1                                              # STEP 223
file0.truncate()                                                       # STEP 224
str3 += 'm'                                                            # STEP 225
str3 += 'c'                                                            # STEP 226
str4 += 's'                                                            # STEP 227
str4 += 'p'                                                            # STEP 228
str1 += 'w'                                                            # STEP 229
result = os0.path.exists(path2)                                        # STEP 230
str0 += 'k'                                                            # STEP 231
str0 += 'a'                                                            # STEP 232
str3 += 'n'                                                            # STEP 233
path4 += "/" + component2                                              # STEP 234
os0.rename(path3,path2)                                                # STEP 235
stat1 = os0.lstat(path2)                                               # STEP 236
component1 = "b"                                                       # STEP 237
os0.path.getsize(path4)                                                # STEP 238
str3 += 'i'                                                            # STEP 239
result = os0.path.lexists(path3)                                       # STEP 240
result = os0.path.exists(path2)                                        # STEP 241
str2 += " "                                                            # STEP 242
str0 += 'y'                                                            # STEP 243
os0.symlink(path3,path4)                                               # STEP 244
component2 = "delta"                                                   # STEP 245
os0.rmdir(path4)                                                       # STEP 246
os0.remove(path4)                                                      # STEP 247
os0.makedirs(path2)                                                    # STEP 248
str3 += 'a'                                                            # STEP 249
str2 += 'f'                                                            # STEP 250
component3 = "alpha"                                                   # STEP 251
str1 += 'd'                                                            # STEP 252
result = os0.path.exists(path4)                                        # STEP 253
str2 += 'k'                                                            # STEP 254
str1 += 'g'                                                            # STEP 255
result = sorted(os0.listdir(path3))                                    # STEP 256
str4 += 'n'                                                            # STEP 257
result = os0.path.lexists(path3)                                       # STEP 258
file0.write(str3)                                                      # STEP 259
os0.rename(path3,path2)                                                # STEP 260
file0.truncate()                                                       # STEP 261
os0.symlink(path4,path2)                                               # STEP 262
result = os0.path.abspath(path2)                                       # STEP 263
os0.link(path2,path4)                                                  # STEP 264
str2 += 'q'                                                            # STEP 265
path4 += "/" + component2                                              # STEP 266
os0.link(path3,path2)                                                  # STEP 267
str3 += 'x'                                                            # STEP 268
component2 = "omega"                                                   # STEP 269
str0 += 'b'                                                            # STEP 270
str0 += 'f'                                                            # STEP 271
str2 += 'x'                                                            # STEP 272
str2 += " "                                                            # STEP 273
str3 += 'z'                                                            # STEP 274
str0 += 'r'                                                            # STEP 275
str1 += 'd'                                                            # STEP 276
result = os0.path.lexists(path2)                                       # STEP 277
os0.makedirs(path3)                                                    # STEP 278
result = os0.path.dirname(path2)                                       # STEP 279
path1 = "/Volumes/ramdisk/test"                                        # STEP 280
result = stat2.st_size                                                 # STEP 281
str2 += 'p'                                                            # STEP 282
str4 += 'b'                                                            # STEP 283
str1 += " "                                                            # STEP 284
result = os0.path.isdir(path2)                                         # STEP 285
ERROR: (<type 'exceptions.AssertionError'>, AssertionError(' (True) == (False) ',), <traceback object at 0x1068fc200>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 24664, in act504
    try: assert result == result_REF, " (%s) == (%s) " % (result, result_REF)
FAILURE IS NEW, STORING; NOW 2 DISTINCT FAILURES
UNCAUGHT EXCEPTION
ERROR: (<type 'exceptions.AssertionError'>, AssertionError(' (False) == (True) ',), <traceback object at 0x10a84e248>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 24364, in act499
    try: assert result == result_REF, " (%s) == (%s) " % (result, result_REF)
Original test has 265 steps

SAVING TEST AS failure.5979.test.2
FINAL VERSION OF TEST, WITH LOGGED REPLAY:
component3 = "alpha"                                                     # STEP 0
component1 = "f"                                                         # STEP 1
component0 = "beta"                                                      # STEP 2
path4 = "/Volumes/ramdisk/test"                                          # STEP 3
str2 = ""                                                                # STEP 4
component2 = "delta"                                                     # STEP 5
component4 = "d"                                                         # STEP 6
path2 = "/Volumes/ramdisk/test"                                          # STEP 7
str1 = ""                                                                # STEP 8
str1 += 'a'                                                              # STEP 9
str2 += 'w'                                                             # STEP 10
str1 += 'l'                                                             # STEP 11
str1 += 'o'                                                             # STEP 12
os0 = newFakeOS()                                                       # STEP 13
str0 = ""                                                               # STEP 14
os0.symlink(path2,path2)                                                # STEP 15
result = os0.path.abspath(path4)                                        # STEP 16
str2 += 'r'                                                             # STEP 17
str0 += 's'                                                             # STEP 18
result = os0.readlink(path4)                                            # STEP 19
str1 += 's'                                                             # STEP 20
str0 += 'e'                                                             # STEP 21
path3 = "/Volumes/ramdisk/test"                                         # STEP 22
str1 += 'h'                                                             # STEP 23
str2 += 'o'                                                             # STEP 24
str2 += 'm'                                                             # STEP 25
str1 += 'a'                                                             # STEP 26
str2 += 'j'                                                             # STEP 27
str0 += 'c'                                                             # STEP 28
str0 += 'v'                                                             # STEP 29
str1 += 'v'                                                             # STEP 30
str1 += 'n'                                                             # STEP 31
str0 += 'f'                                                             # STEP 32
str2 += 'b'                                                             # STEP 33
opener0 = newFakeOpener(os0)                                            # STEP 34
os0.symlink(path4,path2)                                                # STEP 35
result = os0.path.dirname(path3)                                        # STEP 36
str0 += 'k'                                                             # STEP 37
str1 += 'j'                                                             # STEP 38
result = sorted(os0.listdir(path4))                                     # STEP 39
str0 += 'f'                                                             # STEP 40
str1 += 's'                                                             # STEP 41
os0.link(path4,path2)                                                   # STEP 42
file0 = opener0(path3,'w')                                              # STEP 43
result = os0.path.abspath(path2)                                        # STEP 44
os0.remove(path3)                                                       # STEP 45
str0 += 'p'                                                             # STEP 46
str4 = ""                                                               # STEP 47
str2 += 'k'                                                             # STEP 48
os0.link(path2,path3)                                                   # STEP 49
str0 += 'p'                                                             # STEP 50
result = os0.path.abspath(path3)                                        # STEP 51
str4 += 't'                                                             # STEP 52
str1 += 'w'                                                             # STEP 53
result = os0.path.isabs(path4)                                          # STEP 54
result = os0.path.dirname(path4)                                        # STEP 55
str0 += 's'                                                             # STEP 56
os0.mkdir(path2)                                                        # STEP 57
result = os0.path.abspath(path2)                                        # STEP 58
str2 += 'k'                                                             # STEP 59
str1 += " "                                                             # STEP 60
result = os0.path.lexists(path4)                                        # STEP 61
os0.link(path2,path3)                                                   # STEP 62
str1 += 'j'                                                             # STEP 63
str0 += 'f'                                                             # STEP 64
str2 += 'j'                                                             # STEP 65
str4 += 'j'                                                             # STEP 66
str4 += 'b'                                                             # STEP 67
str2 += 'l'                                                             # STEP 68
path2 += "/" + component2                                               # STEP 69
bytes4 = 0                                                              # STEP 70
result = os0.path.isdir(path4)                                          # STEP 71
os0.symlink(path3,path2)                                                # STEP 72
str2 += 'h'                                                             # STEP 73
os0.symlink(path2,path4)                                                # STEP 74
stat0 = os0.stat(path2)                                                 # STEP 75
stat4 = os0.lstat(path2)                                                # STEP 76
str1 += 'y'                                                             # STEP 77
str4 += 'o'                                                             # STEP 78
str1 += 'k'                                                             # STEP 79
os0.symlink(path4,path2)                                                # STEP 80
str2 += 's'                                                             # STEP 81
path4 += "/" + component0                                               # STEP 82
fd0 = os0.open(path4, os.O_CREAT | os.O_WRONLY)                         # STEP 83
result = os0.path.isabs(path3)                                          # STEP 84
str1 += 'x'                                                             # STEP 85
component0 = "b"                                                        # STEP 86
os0.symlink(path2,path3)                                                # STEP 87
str2 += 'a'                                                             # STEP 88
path2 += "/" + component1                                               # STEP 89
str4 += 'x'                                                             # STEP 90
str2 += 'c'                                                             # STEP 91
result = os0.path.dirname(path4)                                        # STEP 92
str0 += 'q'                                                             # STEP 93
stat1 = os0.lstat(path2)                                                # STEP 94
os0.path.getsize(path4)                                                 # STEP 95
result = os0.path.abspath(path4)                                        # STEP 96
str2 += 'h'                                                             # STEP 97
str1 += 'c'                                                             # STEP 98
file0 = opener0(path2,'a')                                              # STEP 99
str1 += 'j'                                                            # STEP 100
stat3 = os0.lstat(path2)                                               # STEP 101
str0 += 'h'                                                            # STEP 102
str0 += 'r'                                                            # STEP 103
str2 += 'm'                                                            # STEP 104
str4 += 'j'                                                            # STEP 105
str2 += 'u'                                                            # STEP 106
result = file0.readlines()                                             # STEP 107
str1 += 'm'                                                            # STEP 108
component1 = "f"                                                       # STEP 109
str4 += 'l'                                                            # STEP 110
str0 += 'x'                                                            # STEP 111
str4 = ""                                                              # STEP 112
str2 += 'c'                                                            # STEP 113
result = os0.readlink(path4)                                           # STEP 114
str4 += 'c'                                                            # STEP 115
os0.link(path4,path2)                                                  # STEP 116
str0 += 'w'                                                            # STEP 117
str4 += 'p'                                                            # STEP 118
str1 += 'n'                                                            # STEP 119
stat1 = os0.stat(path4)                                                # STEP 120
result = os0.path.lexists(path4)                                       # STEP 121
str0 += 'u'                                                            # STEP 122
str1 += 'j'                                                            # STEP 123
str4 += 'v'                                                            # STEP 124
file0.flush()                                                          # STEP 125
component2 = "d"                                                       # STEP 126
str2 += 'o'                                                            # STEP 127
str1 += 'y'                                                            # STEP 128
str0 += 'm'                                                            # STEP 129
os0.rename(path2,path3)                                                # STEP 130
os0.symlink(path3,path4)                                               # STEP 131
str1 += 'g'                                                            # STEP 132
str2 += 'e'                                                            # STEP 133
str4 += 'k'                                                            # STEP 134
result = os0.path.islink(path4)                                        # STEP 135
str4 += 'n'                                                            # STEP 136
os0.symlink(path2,path4)                                               # STEP 137
os0.rename(path2,path4)                                                # STEP 138
stat2 = os0.fstat(fd0)                                                 # STEP 139
os0.close(fd0)                                                         # STEP 140
result = os0.path.isdir(path3)                                         # STEP 141
str4 += 'z'                                                            # STEP 142
os0.mkdir(path2)                                                       # STEP 143
os0.symlink(path4,path4)                                               # STEP 144
str4 += 'k'                                                            # STEP 145
str1 += 'z'                                                            # STEP 146
str2 += 't'                                                            # STEP 147
result = stat1.st_size                                                 # STEP 148
str4 += 'z'                                                            # STEP 149
os0.symlink(path3,path3)                                               # STEP 150
os0.link(path2,path3)                                                  # STEP 151
str2 += " "                                                            # STEP 152
file0.flush()                                                          # STEP 153
os0.makedirs(path3)                                                    # STEP 154
str1 += 'x'                                                            # STEP 155
os0.rename(path2,path4)                                                # STEP 156
result = sorted(os0.listdir(path2))                                    # STEP 157
str4 += 'y'                                                            # STEP 158
str0 += 't'                                                            # STEP 159
str2 += 'd'                                                            # STEP 160
result = stat1.st_nlink                                                # STEP 161
os0.link(path3,path4)                                                  # STEP 162
path2 += "/" + component0                                              # STEP 163
os0.symlink(path2,path4)                                               # STEP 164
fd0 = os0.open(path4, os.O_CREAT | os.O_WRONLY | os.O_TRUNC | os.O_EXCL)  # STEP 165
os0.remove(path4)                                                      # STEP 166
str2 = ""                                                              # STEP 167
str1 += 'r'                                                            # STEP 168
os0.rmdir(path2)                                                       # STEP 169
str2 += " "                                                            # STEP 170
str1 += 'h'                                                            # STEP 171
str2 += 'u'                                                            # STEP 172
str2 += 'h'                                                            # STEP 173
result = os0.path.abspath(path2)                                       # STEP 174
str3 = ""                                                              # STEP 175
str3 += 'z'                                                            # STEP 176
str1 += " "                                                            # STEP 177
str1 += 'f'                                                            # STEP 178
path4 += "/" + component3                                              # STEP 179
path2 += "/" + component4                                              # STEP 180
os0.symlink(path4,path4)                                               # STEP 181
os0.write(fd0,str4)                                                    # STEP 182
str2 += 'g'                                                            # STEP 183
file0.flush()                                                          # STEP 184
str2 += 'i'                                                            # STEP 185
path2 += "/" + component0                                              # STEP 186
component3 = "alpha"                                                   # STEP 187
component4 = "b"                                                       # STEP 188
result = os0.path.exists(path3)                                        # STEP 189
str2 += 'd'                                                            # STEP 190
str1 += 'o'                                                            # STEP 191
str3 += 'v'                                                            # STEP 192
str0 += 'b'                                                            # STEP 193
str0 += 'i'                                                            # STEP 194
str4 += 'g'                                                            # STEP 195
component0 = "beta"                                                    # STEP 196
path2 += "/" + component4                                              # STEP 197
str2 += 'y'                                                            # STEP 198
str1 += 'o'                                                            # STEP 199
os0.write(fd0,str0)                                                    # STEP 200
str3 += 'o'                                                            # STEP 201
result = os0.path.abspath(path3)                                       # STEP 202
str2 += 'x'                                                            # STEP 203
str1 += 'b'                                                            # STEP 204
os0.write(fd0,str1)                                                    # STEP 205
component4 = "c"                                                       # STEP 206
path3 = "/Volumes/ramdisk/test"                                        # STEP 207
result = os0.path.isdir(path2)                                         # STEP 208
os0.rename(path4,path3)                                                # STEP 209
str4 += 'j'                                                            # STEP 210
result = stat4.st_nlink                                                # STEP 211
str2 += 't'                                                            # STEP 212
result = file0.readlines()                                             # STEP 213
str3 += 'r'                                                            # STEP 214
str1 += 's'                                                            # STEP 215
str4 += " "                                                            # STEP 216
stat4 = os0.lstat(path2)                                               # STEP 217
path2 += "/" + component3                                              # STEP 218
str0 += 'z'                                                            # STEP 219
os0.link(path4,path3)                                                  # STEP 220
str0 += 'i'                                                            # STEP 221
path3 += "/" + component1                                              # STEP 222
file0.truncate()                                                       # STEP 223
str3 += 'm'                                                            # STEP 224
str3 += 'c'                                                            # STEP 225
str4 += 's'                                                            # STEP 226
str4 += 'p'                                                            # STEP 227
str1 += 'w'                                                            # STEP 228
result = os0.path.exists(path2)                                        # STEP 229
str0 += 'k'                                                            # STEP 230
str0 += 'a'                                                            # STEP 231
str3 += 'n'                                                            # STEP 232
path4 += "/" + component2                                              # STEP 233
os0.rename(path3,path2)                                                # STEP 234
stat1 = os0.lstat(path2)                                               # STEP 235
component1 = "b"                                                       # STEP 236
os0.path.getsize(path4)                                                # STEP 237
str3 += 'i'                                                            # STEP 238
result = os0.path.lexists(path3)                                       # STEP 239
result = os0.path.exists(path2)                                        # STEP 240
str2 += " "                                                            # STEP 241
str0 += 'y'                                                            # STEP 242
os0.symlink(path3,path4)                                               # STEP 243
component2 = "delta"                                                   # STEP 244
os0.rmdir(path4)                                                       # STEP 245
os0.remove(path4)                                                      # STEP 246
os0.makedirs(path2)                                                    # STEP 247
str3 += 'a'                                                            # STEP 248
str2 += 'f'                                                            # STEP 249
component3 = "alpha"                                                   # STEP 250
str1 += 'd'                                                            # STEP 251
result = os0.path.exists(path4)                                        # STEP 252
str2 += 'k'                                                            # STEP 253
str1 += 'g'                                                            # STEP 254
result = sorted(os0.listdir(path3))                                    # STEP 255
str4 += 'n'                                                            # STEP 256
result = os0.path.lexists(path3)                                       # STEP 257
file0.write(str3)                                                      # STEP 258
os0.rename(path3,path2)                                                # STEP 259
os0.symlink(path2,path2)                                               # STEP 260
os0.removedirs(path2)                                                  # STEP 261
str1 += 'z'                                                            # STEP 262
str1 += 'i'                                                            # STEP 263
result = os0.path.lexists(path2)                                       # STEP 264
ERROR: (<type 'exceptions.AssertionError'>, AssertionError(' (False) == (True) ',), <traceback object at 0x10a60cb00>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 24364, in act499
    try: assert result == result_REF, " (%s) == (%s) " % (result, result_REF)
FAILURE IS NEW, STORING; NOW 3 DISTINCT FAILURES
UNCAUGHT EXCEPTION
ERROR: (<type 'exceptions.AssertionError'>, AssertionError(' (False) == (True) ',), <traceback object at 0x106968290>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 24724, in act505
    try: assert result == result_REF, " (%s) == (%s) " % (result, result_REF)
Original test has 276 steps

SAVING TEST AS failure.5979.test.3
FINAL VERSION OF TEST, WITH LOGGED REPLAY:
component3 = "alpha"                                                     # STEP 0
component1 = "f"                                                         # STEP 1
component0 = "beta"                                                      # STEP 2
path4 = "/Volumes/ramdisk/test"                                          # STEP 3
str2 = ""                                                                # STEP 4
component2 = "delta"                                                     # STEP 5
component4 = "d"                                                         # STEP 6
path2 = "/Volumes/ramdisk/test"                                          # STEP 7
str1 = ""                                                                # STEP 8
str1 += 'a'                                                              # STEP 9
str2 += 'w'                                                             # STEP 10
str1 += 'l'                                                             # STEP 11
str1 += 'o'                                                             # STEP 12
os0 = newFakeOS()                                                       # STEP 13
str0 = ""                                                               # STEP 14
os0.symlink(path2,path2)                                                # STEP 15
result = os0.path.abspath(path4)                                        # STEP 16
str2 += 'r'                                                             # STEP 17
str0 += 's'                                                             # STEP 18
result = os0.readlink(path4)                                            # STEP 19
str1 += 's'                                                             # STEP 20
str0 += 'e'                                                             # STEP 21
path3 = "/Volumes/ramdisk/test"                                         # STEP 22
str1 += 'h'                                                             # STEP 23
str2 += 'o'                                                             # STEP 24
str2 += 'm'                                                             # STEP 25
str1 += 'a'                                                             # STEP 26
str2 += 'j'                                                             # STEP 27
str0 += 'c'                                                             # STEP 28
str0 += 'v'                                                             # STEP 29
str1 += 'v'                                                             # STEP 30
str1 += 'n'                                                             # STEP 31
str0 += 'f'                                                             # STEP 32
str2 += 'b'                                                             # STEP 33
opener0 = newFakeOpener(os0)                                            # STEP 34
os0.symlink(path4,path2)                                                # STEP 35
result = os0.path.dirname(path3)                                        # STEP 36
str0 += 'k'                                                             # STEP 37
str1 += 'j'                                                             # STEP 38
result = sorted(os0.listdir(path4))                                     # STEP 39
str0 += 'f'                                                             # STEP 40
str1 += 's'                                                             # STEP 41
os0.link(path4,path2)                                                   # STEP 42
file0 = opener0(path3,'w')                                              # STEP 43
result = os0.path.abspath(path2)                                        # STEP 44
os0.remove(path3)                                                       # STEP 45
str0 += 'p'                                                             # STEP 46
str4 = ""                                                               # STEP 47
str2 += 'k'                                                             # STEP 48
os0.link(path2,path3)                                                   # STEP 49
str0 += 'p'                                                             # STEP 50
result = os0.path.abspath(path3)                                        # STEP 51
str4 += 't'                                                             # STEP 52
str1 += 'w'                                                             # STEP 53
result = os0.path.isabs(path4)                                          # STEP 54
result = os0.path.dirname(path4)                                        # STEP 55
str0 += 's'                                                             # STEP 56
os0.mkdir(path2)                                                        # STEP 57
result = os0.path.abspath(path2)                                        # STEP 58
str2 += 'k'                                                             # STEP 59
str1 += " "                                                             # STEP 60
result = os0.path.lexists(path4)                                        # STEP 61
os0.link(path2,path3)                                                   # STEP 62
str1 += 'j'                                                             # STEP 63
str0 += 'f'                                                             # STEP 64
str2 += 'j'                                                             # STEP 65
str4 += 'j'                                                             # STEP 66
str4 += 'b'                                                             # STEP 67
str2 += 'l'                                                             # STEP 68
path2 += "/" + component2                                               # STEP 69
bytes4 = 0                                                              # STEP 70
result = os0.path.isdir(path4)                                          # STEP 71
os0.symlink(path3,path2)                                                # STEP 72
str2 += 'h'                                                             # STEP 73
os0.symlink(path2,path4)                                                # STEP 74
stat0 = os0.stat(path2)                                                 # STEP 75
stat4 = os0.lstat(path2)                                                # STEP 76
str1 += 'y'                                                             # STEP 77
str4 += 'o'                                                             # STEP 78
str1 += 'k'                                                             # STEP 79
os0.symlink(path4,path2)                                                # STEP 80
str2 += 's'                                                             # STEP 81
path4 += "/" + component0                                               # STEP 82
fd0 = os0.open(path4, os.O_CREAT | os.O_WRONLY)                         # STEP 83
result = os0.path.isabs(path3)                                          # STEP 84
str1 += 'x'                                                             # STEP 85
component0 = "b"                                                        # STEP 86
os0.symlink(path2,path3)                                                # STEP 87
str2 += 'a'                                                             # STEP 88
path2 += "/" + component1                                               # STEP 89
str4 += 'x'                                                             # STEP 90
str2 += 'c'                                                             # STEP 91
result = os0.path.dirname(path4)                                        # STEP 92
str0 += 'q'                                                             # STEP 93
stat1 = os0.lstat(path2)                                                # STEP 94
os0.path.getsize(path4)                                                 # STEP 95
result = os0.path.abspath(path4)                                        # STEP 96
str2 += 'h'                                                             # STEP 97
str1 += 'c'                                                             # STEP 98
file0 = opener0(path2,'a')                                              # STEP 99
str1 += 'j'                                                            # STEP 100
stat3 = os0.lstat(path2)                                               # STEP 101
str0 += 'h'                                                            # STEP 102
str0 += 'r'                                                            # STEP 103
str2 += 'm'                                                            # STEP 104
str4 += 'j'                                                            # STEP 105
str2 += 'u'                                                            # STEP 106
result = file0.readlines()                                             # STEP 107
str1 += 'm'                                                            # STEP 108
component1 = "f"                                                       # STEP 109
str4 += 'l'                                                            # STEP 110
str0 += 'x'                                                            # STEP 111
str4 = ""                                                              # STEP 112
str2 += 'c'                                                            # STEP 113
result = os0.readlink(path4)                                           # STEP 114
str4 += 'c'                                                            # STEP 115
os0.link(path4,path2)                                                  # STEP 116
str0 += 'w'                                                            # STEP 117
str4 += 'p'                                                            # STEP 118
str1 += 'n'                                                            # STEP 119
stat1 = os0.stat(path4)                                                # STEP 120
result = os0.path.lexists(path4)                                       # STEP 121
str0 += 'u'                                                            # STEP 122
str1 += 'j'                                                            # STEP 123
str4 += 'v'                                                            # STEP 124
result = file0.read()                                                  # STEP 125
file0.flush()                                                          # STEP 126
component2 = "d"                                                       # STEP 127
str2 += 'o'                                                            # STEP 128
str1 += 'y'                                                            # STEP 129
str0 += 'm'                                                            # STEP 130
os0.rename(path2,path3)                                                # STEP 131
os0.symlink(path3,path4)                                               # STEP 132
str1 += 'g'                                                            # STEP 133
str2 += 'e'                                                            # STEP 134
str4 += 'k'                                                            # STEP 135
result = os0.path.islink(path4)                                        # STEP 136
str4 += 'n'                                                            # STEP 137
os0.symlink(path2,path4)                                               # STEP 138
os0.rename(path2,path4)                                                # STEP 139
stat2 = os0.fstat(fd0)                                                 # STEP 140
os0.close(fd0)                                                         # STEP 141
result = os0.path.isdir(path3)                                         # STEP 142
str4 += 'z'                                                            # STEP 143
os0.mkdir(path2)                                                       # STEP 144
os0.symlink(path4,path4)                                               # STEP 145
str4 += 'k'                                                            # STEP 146
str1 += 'z'                                                            # STEP 147
str2 += 't'                                                            # STEP 148
result = stat1.st_size                                                 # STEP 149
str4 += 'z'                                                            # STEP 150
os0.symlink(path3,path3)                                               # STEP 151
os0.link(path2,path3)                                                  # STEP 152
str2 += " "                                                            # STEP 153
file0.flush()                                                          # STEP 154
os0.makedirs(path3)                                                    # STEP 155
str1 += 'x'                                                            # STEP 156
os0.rename(path2,path4)                                                # STEP 157
result = sorted(os0.listdir(path2))                                    # STEP 158
str4 += 'y'                                                            # STEP 159
str0 += 't'                                                            # STEP 160
str2 += 'd'                                                            # STEP 161
result = stat1.st_nlink                                                # STEP 162
os0.link(path3,path4)                                                  # STEP 163
path2 += "/" + component0                                              # STEP 164
os0.symlink(path2,path4)                                               # STEP 165
fd0 = os0.open(path4, os.O_CREAT | os.O_WRONLY | os.O_TRUNC | os.O_EXCL)  # STEP 166
os0.remove(path4)                                                      # STEP 167
str2 = ""                                                              # STEP 168
str1 += 'r'                                                            # STEP 169
os0.rmdir(path2)                                                       # STEP 170
str2 += " "                                                            # STEP 171
str1 += 'h'                                                            # STEP 172
str2 += 'u'                                                            # STEP 173
str2 += 'h'                                                            # STEP 174
result = os0.path.abspath(path2)                                       # STEP 175
str3 = ""                                                              # STEP 176
str3 += 'z'                                                            # STEP 177
str1 += " "                                                            # STEP 178
str1 += 'f'                                                            # STEP 179
path4 += "/" + component3                                              # STEP 180
path2 += "/" + component4                                              # STEP 181
os0.symlink(path4,path4)                                               # STEP 182
os0.write(fd0,str4)                                                    # STEP 183
str2 += 'g'                                                            # STEP 184
file0.flush()                                                          # STEP 185
str2 += 'i'                                                            # STEP 186
path2 += "/" + component0                                              # STEP 187
component3 = "alpha"                                                   # STEP 188
component4 = "b"                                                       # STEP 189
result = os0.path.exists(path3)                                        # STEP 190
str2 += 'd'                                                            # STEP 191
str1 += 'o'                                                            # STEP 192
str3 += 'v'                                                            # STEP 193
str0 += 'b'                                                            # STEP 194
str0 += 'i'                                                            # STEP 195
str4 += 'g'                                                            # STEP 196
component0 = "beta"                                                    # STEP 197
path2 += "/" + component4                                              # STEP 198
str2 += 'y'                                                            # STEP 199
str1 += 'o'                                                            # STEP 200
os0.write(fd0,str0)                                                    # STEP 201
str3 += 'o'                                                            # STEP 202
result = os0.path.abspath(path3)                                       # STEP 203
str2 += 'x'                                                            # STEP 204
str1 += 'b'                                                            # STEP 205
os0.write(fd0,str1)                                                    # STEP 206
component4 = "c"                                                       # STEP 207
path3 = "/Volumes/ramdisk/test"                                        # STEP 208
result = os0.path.isdir(path2)                                         # STEP 209
os0.rename(path4,path3)                                                # STEP 210
str4 += 'j'                                                            # STEP 211
result = stat4.st_nlink                                                # STEP 212
str2 += 't'                                                            # STEP 213
result = file0.readlines()                                             # STEP 214
str3 += 'r'                                                            # STEP 215
str1 += 's'                                                            # STEP 216
str4 += " "                                                            # STEP 217
stat4 = os0.lstat(path2)                                               # STEP 218
path2 += "/" + component3                                              # STEP 219
str0 += 'z'                                                            # STEP 220
os0.link(path4,path3)                                                  # STEP 221
str0 += 'i'                                                            # STEP 222
path3 += "/" + component1                                              # STEP 223
file0.truncate()                                                       # STEP 224
str3 += 'm'                                                            # STEP 225
str3 += 'c'                                                            # STEP 226
str4 += 's'                                                            # STEP 227
str4 += 'p'                                                            # STEP 228
str1 += 'w'                                                            # STEP 229
result = os0.path.exists(path2)                                        # STEP 230
str0 += 'k'                                                            # STEP 231
str0 += 'a'                                                            # STEP 232
str3 += 'n'                                                            # STEP 233
path4 += "/" + component2                                              # STEP 234
os0.rename(path3,path2)                                                # STEP 235
stat1 = os0.lstat(path2)                                               # STEP 236
component1 = "b"                                                       # STEP 237
os0.path.getsize(path4)                                                # STEP 238
str3 += 'i'                                                            # STEP 239
result = os0.path.lexists(path3)                                       # STEP 240
result = os0.path.exists(path2)                                        # STEP 241
str2 += " "                                                            # STEP 242
str0 += 'y'                                                            # STEP 243
os0.symlink(path3,path4)                                               # STEP 244
component2 = "delta"                                                   # STEP 245
os0.rmdir(path4)                                                       # STEP 246
os0.remove(path4)                                                      # STEP 247
os0.makedirs(path2)                                                    # STEP 248
str3 += 'a'                                                            # STEP 249
str2 += 'f'                                                            # STEP 250
component3 = "alpha"                                                   # STEP 251
str1 += 'd'                                                            # STEP 252
result = os0.path.exists(path4)                                        # STEP 253
str2 += 'k'                                                            # STEP 254
str1 += 'g'                                                            # STEP 255
result = sorted(os0.listdir(path3))                                    # STEP 256
str4 += 'n'                                                            # STEP 257
result = os0.path.lexists(path3)                                       # STEP 258
file0.write(str3)                                                      # STEP 259
os0.rename(path3,path2)                                                # STEP 260
os0.symlink(path2,path2)                                               # STEP 261
os0.removedirs(path2)                                                  # STEP 262
os0.rmdir(path4)                                                       # STEP 263
str0 += 't'                                                            # STEP 264
result = os0.path.islink(path3)                                        # STEP 265
os0.rename(path2,path3)                                                # STEP 266
str1 += 'l'                                                            # STEP 267
str3 += 'c'                                                            # STEP 268
path2 = "/Volumes/ramdisk/test"                                        # STEP 269
result = os0.path.abspath(path3)                                       # STEP 270
str0 += 'x'                                                            # STEP 271
str0 += 'v'                                                            # STEP 272
str4 += 'c'                                                            # STEP 273
str0 += 'c'                                                            # STEP 274
result = os0.path.isdir(path3)                                         # STEP 275
ERROR: (<type 'exceptions.AssertionError'>, AssertionError(' (False) == (True) ',), <traceback object at 0x10a4323f8>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 24724, in act505
    try: assert result == result_REF, " (%s) == (%s) " % (result, result_REF)
FAILURE IS NEW, STORING; NOW 4 DISTINCT FAILURES
UNCAUGHT EXCEPTION
ERROR: (<type 'exceptions.AssertionError'>, AssertionError(' (False) == (True) ',), <traceback object at 0x106be9098>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 24364, in act499
    try: assert result == result_REF, " (%s) == (%s) " % (result, result_REF)
Original test has 271 steps

SAVING TEST AS failure.5979.test.4
FINAL VERSION OF TEST, WITH LOGGED REPLAY:
component3 = "alpha"                                                     # STEP 0
component1 = "f"                                                         # STEP 1
component0 = "beta"                                                      # STEP 2
path4 = "/Volumes/ramdisk/test"                                          # STEP 3
str2 = ""                                                                # STEP 4
component2 = "delta"                                                     # STEP 5
component4 = "d"                                                         # STEP 6
path2 = "/Volumes/ramdisk/test"                                          # STEP 7
str1 = ""                                                                # STEP 8
str1 += 'a'                                                              # STEP 9
str2 += 'w'                                                             # STEP 10
str1 += 'l'                                                             # STEP 11
str1 += 'o'                                                             # STEP 12
os0 = newFakeOS()                                                       # STEP 13
str0 = ""                                                               # STEP 14
os0.symlink(path2,path2)                                                # STEP 15
result = os0.path.abspath(path4)                                        # STEP 16
str2 += 'r'                                                             # STEP 17
str0 += 's'                                                             # STEP 18
result = os0.readlink(path4)                                            # STEP 19
str1 += 's'                                                             # STEP 20
str0 += 'e'                                                             # STEP 21
path3 = "/Volumes/ramdisk/test"                                         # STEP 22
str1 += 'h'                                                             # STEP 23
str2 += 'o'                                                             # STEP 24
str2 += 'm'                                                             # STEP 25
str1 += 'a'                                                             # STEP 26
str2 += 'j'                                                             # STEP 27
str0 += 'c'                                                             # STEP 28
str0 += 'v'                                                             # STEP 29
str1 += 'v'                                                             # STEP 30
str1 += 'n'                                                             # STEP 31
str0 += 'f'                                                             # STEP 32
str2 += 'b'                                                             # STEP 33
opener0 = newFakeOpener(os0)                                            # STEP 34
os0.symlink(path4,path2)                                                # STEP 35
result = os0.path.dirname(path3)                                        # STEP 36
str0 += 'k'                                                             # STEP 37
str1 += 'j'                                                             # STEP 38
result = sorted(os0.listdir(path4))                                     # STEP 39
str0 += 'f'                                                             # STEP 40
str1 += 's'                                                             # STEP 41
os0.link(path4,path2)                                                   # STEP 42
file0 = opener0(path3,'w')                                              # STEP 43
result = os0.path.abspath(path2)                                        # STEP 44
os0.remove(path3)                                                       # STEP 45
str0 += 'p'                                                             # STEP 46
str4 = ""                                                               # STEP 47
str2 += 'k'                                                             # STEP 48
os0.link(path2,path3)                                                   # STEP 49
str0 += 'p'                                                             # STEP 50
result = os0.path.abspath(path3)                                        # STEP 51
str4 += 't'                                                             # STEP 52
str1 += 'w'                                                             # STEP 53
result = os0.path.isabs(path4)                                          # STEP 54
result = os0.path.dirname(path4)                                        # STEP 55
str0 += 's'                                                             # STEP 56
os0.mkdir(path2)                                                        # STEP 57
result = os0.path.abspath(path2)                                        # STEP 58
str2 += 'k'                                                             # STEP 59
str1 += " "                                                             # STEP 60
result = os0.path.lexists(path4)                                        # STEP 61
os0.link(path2,path3)                                                   # STEP 62
str1 += 'j'                                                             # STEP 63
str0 += 'f'                                                             # STEP 64
str2 += 'j'                                                             # STEP 65
str4 += 'j'                                                             # STEP 66
str4 += 'b'                                                             # STEP 67
str2 += 'l'                                                             # STEP 68
path2 += "/" + component2                                               # STEP 69
bytes4 = 0                                                              # STEP 70
result = os0.path.isdir(path4)                                          # STEP 71
os0.symlink(path3,path2)                                                # STEP 72
str2 += 'h'                                                             # STEP 73
os0.symlink(path2,path4)                                                # STEP 74
stat0 = os0.stat(path2)                                                 # STEP 75
stat4 = os0.lstat(path2)                                                # STEP 76
str1 += 'y'                                                             # STEP 77
str4 += 'o'                                                             # STEP 78
str1 += 'k'                                                             # STEP 79
os0.symlink(path4,path2)                                                # STEP 80
str2 += 's'                                                             # STEP 81
path4 += "/" + component0                                               # STEP 82
fd0 = os0.open(path4, os.O_CREAT | os.O_WRONLY)                         # STEP 83
result = os0.path.isabs(path3)                                          # STEP 84
str1 += 'x'                                                             # STEP 85
component0 = "b"                                                        # STEP 86
os0.symlink(path2,path3)                                                # STEP 87
str2 += 'a'                                                             # STEP 88
path2 += "/" + component1                                               # STEP 89
str4 += 'x'                                                             # STEP 90
str2 += 'c'                                                             # STEP 91
result = os0.path.dirname(path4)                                        # STEP 92
str0 += 'q'                                                             # STEP 93
stat1 = os0.lstat(path2)                                                # STEP 94
os0.path.getsize(path4)                                                 # STEP 95
result = os0.path.abspath(path4)                                        # STEP 96
str2 += 'h'                                                             # STEP 97
str1 += 'c'                                                             # STEP 98
file0 = opener0(path2,'a')                                              # STEP 99
str1 += 'j'                                                            # STEP 100
stat3 = os0.lstat(path2)                                               # STEP 101
str0 += 'h'                                                            # STEP 102
str0 += 'r'                                                            # STEP 103
str2 += 'm'                                                            # STEP 104
str4 += 'j'                                                            # STEP 105
str2 += 'u'                                                            # STEP 106
result = file0.readlines()                                             # STEP 107
str1 += 'm'                                                            # STEP 108
component1 = "f"                                                       # STEP 109
str4 += 'l'                                                            # STEP 110
str0 += 'x'                                                            # STEP 111
str4 = ""                                                              # STEP 112
str2 += 'c'                                                            # STEP 113
result = os0.readlink(path4)                                           # STEP 114
str4 += 'c'                                                            # STEP 115
os0.link(path4,path2)                                                  # STEP 116
str0 += 'w'                                                            # STEP 117
str4 += 'p'                                                            # STEP 118
str1 += 'n'                                                            # STEP 119
stat1 = os0.stat(path4)                                                # STEP 120
result = os0.path.lexists(path4)                                       # STEP 121
str0 += 'u'                                                            # STEP 122
str1 += 'j'                                                            # STEP 123
str4 += 'v'                                                            # STEP 124
result = file0.read()                                                  # STEP 125
file0.flush()                                                          # STEP 126
component2 = "d"                                                       # STEP 127
str2 += 'o'                                                            # STEP 128
str1 += 'y'                                                            # STEP 129
str0 += 'm'                                                            # STEP 130
os0.rename(path2,path3)                                                # STEP 131
os0.symlink(path3,path4)                                               # STEP 132
str1 += 'g'                                                            # STEP 133
str2 += 'e'                                                            # STEP 134
str4 += 'k'                                                            # STEP 135
result = os0.path.islink(path4)                                        # STEP 136
str4 += 'n'                                                            # STEP 137
os0.symlink(path2,path4)                                               # STEP 138
os0.rename(path2,path4)                                                # STEP 139
stat2 = os0.fstat(fd0)                                                 # STEP 140
os0.close(fd0)                                                         # STEP 141
result = os0.path.isdir(path3)                                         # STEP 142
str4 += 'z'                                                            # STEP 143
os0.mkdir(path2)                                                       # STEP 144
os0.symlink(path4,path4)                                               # STEP 145
str4 += 'k'                                                            # STEP 146
str1 += 'z'                                                            # STEP 147
str2 += 't'                                                            # STEP 148
result = stat1.st_size                                                 # STEP 149
str4 += 'z'                                                            # STEP 150
os0.symlink(path3,path3)                                               # STEP 151
os0.link(path2,path3)                                                  # STEP 152
str2 += " "                                                            # STEP 153
file0.flush()                                                          # STEP 154
os0.makedirs(path3)                                                    # STEP 155
str1 += 'x'                                                            # STEP 156
os0.rename(path2,path4)                                                # STEP 157
result = sorted(os0.listdir(path2))                                    # STEP 158
str4 += 'y'                                                            # STEP 159
str0 += 't'                                                            # STEP 160
str2 += 'd'                                                            # STEP 161
result = stat1.st_nlink                                                # STEP 162
os0.link(path3,path4)                                                  # STEP 163
path2 += "/" + component0                                              # STEP 164
os0.symlink(path2,path4)                                               # STEP 165
fd0 = os0.open(path4, os.O_CREAT | os.O_WRONLY | os.O_TRUNC | os.O_EXCL)  # STEP 166
os0.remove(path4)                                                      # STEP 167
str2 = ""                                                              # STEP 168
str1 += 'r'                                                            # STEP 169
os0.rmdir(path2)                                                       # STEP 170
str2 += " "                                                            # STEP 171
str1 += 'h'                                                            # STEP 172
str2 += 'u'                                                            # STEP 173
str2 += 'h'                                                            # STEP 174
result = os0.path.abspath(path2)                                       # STEP 175
str3 = ""                                                              # STEP 176
str3 += 'z'                                                            # STEP 177
str1 += " "                                                            # STEP 178
str1 += 'f'                                                            # STEP 179
path4 += "/" + component3                                              # STEP 180
path2 += "/" + component4                                              # STEP 181
os0.symlink(path4,path4)                                               # STEP 182
os0.write(fd0,str4)                                                    # STEP 183
str2 += 'g'                                                            # STEP 184
file0.flush()                                                          # STEP 185
str2 += 'i'                                                            # STEP 186
path2 += "/" + component0                                              # STEP 187
component3 = "alpha"                                                   # STEP 188
component4 = "b"                                                       # STEP 189
result = os0.path.exists(path3)                                        # STEP 190
str2 += 'd'                                                            # STEP 191
str1 += 'o'                                                            # STEP 192
str3 += 'v'                                                            # STEP 193
str0 += 'b'                                                            # STEP 194
str0 += 'i'                                                            # STEP 195
str4 += 'g'                                                            # STEP 196
component0 = "beta"                                                    # STEP 197
path2 += "/" + component4                                              # STEP 198
str2 += 'y'                                                            # STEP 199
str1 += 'o'                                                            # STEP 200
os0.write(fd0,str0)                                                    # STEP 201
str3 += 'o'                                                            # STEP 202
result = os0.path.abspath(path3)                                       # STEP 203
str2 += 'x'                                                            # STEP 204
str1 += 'b'                                                            # STEP 205
os0.write(fd0,str1)                                                    # STEP 206
component4 = "c"                                                       # STEP 207
path3 = "/Volumes/ramdisk/test"                                        # STEP 208
result = os0.path.isdir(path2)                                         # STEP 209
os0.rename(path4,path3)                                                # STEP 210
str4 += 'j'                                                            # STEP 211
result = stat4.st_nlink                                                # STEP 212
str2 += 't'                                                            # STEP 213
result = file0.readlines()                                             # STEP 214
str3 += 'r'                                                            # STEP 215
str1 += 's'                                                            # STEP 216
str4 += " "                                                            # STEP 217
stat4 = os0.lstat(path2)                                               # STEP 218
path2 += "/" + component3                                              # STEP 219
str0 += 'z'                                                            # STEP 220
os0.link(path4,path3)                                                  # STEP 221
str0 += 'i'                                                            # STEP 222
path3 += "/" + component1                                              # STEP 223
file0.truncate()                                                       # STEP 224
str3 += 'm'                                                            # STEP 225
str3 += 'c'                                                            # STEP 226
str4 += 's'                                                            # STEP 227
str4 += 'p'                                                            # STEP 228
str1 += 'w'                                                            # STEP 229
result = os0.path.exists(path2)                                        # STEP 230
str0 += 'k'                                                            # STEP 231
str0 += 'a'                                                            # STEP 232
str3 += 'n'                                                            # STEP 233
path4 += "/" + component2                                              # STEP 234
os0.rename(path3,path2)                                                # STEP 235
stat1 = os0.lstat(path2)                                               # STEP 236
component1 = "b"                                                       # STEP 237
os0.path.getsize(path4)                                                # STEP 238
str3 += 'i'                                                            # STEP 239
result = os0.path.lexists(path3)                                       # STEP 240
result = os0.path.exists(path2)                                        # STEP 241
str2 += " "                                                            # STEP 242
str0 += 'y'                                                            # STEP 243
os0.symlink(path3,path4)                                               # STEP 244
component2 = "delta"                                                   # STEP 245
os0.rmdir(path4)                                                       # STEP 246
os0.remove(path4)                                                      # STEP 247
os0.makedirs(path2)                                                    # STEP 248
str3 += 'a'                                                            # STEP 249
str2 += 'f'                                                            # STEP 250
component3 = "alpha"                                                   # STEP 251
str1 += 'd'                                                            # STEP 252
result = os0.path.exists(path4)                                        # STEP 253
str2 += 'k'                                                            # STEP 254
str1 += 'g'                                                            # STEP 255
result = sorted(os0.listdir(path3))                                    # STEP 256
str4 += 'n'                                                            # STEP 257
result = os0.path.lexists(path3)                                       # STEP 258
file0.write(str3)                                                      # STEP 259
os0.rename(path3,path2)                                                # STEP 260
os0.symlink(path2,path2)                                               # STEP 261
os0.removedirs(path2)                                                  # STEP 262
str0 += 'p'                                                            # STEP 263
str0 += 'd'                                                            # STEP 264
os0.rename(path3,path2)                                                # STEP 265
path4 = "/Volumes/ramdisk/test"                                        # STEP 266
str2 += 'r'                                                            # STEP 267
str4 += 'y'                                                            # STEP 268
str3 += 'q'                                                            # STEP 269
result = os0.path.lexists(path2)                                       # STEP 270
ERROR: (<type 'exceptions.AssertionError'>, AssertionError(' (False) == (True) ',), <traceback object at 0x1071ef3f8>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 24364, in act499
    try: assert result == result_REF, " (%s) == (%s) " % (result, result_REF)
FAILURE IS NEW, STORING; NOW 5 DISTINCT FAILURES
TEST #103 STEP #0 (0:00:30.224084) Sat Jul 22 08:53:46 2017 [ 905 stmts 1178 branches ] 9765 TOTAL ACTIONS (323.086713071/s)
UNCAUGHT EXCEPTION
ERROR: (<type 'exceptions.AssertionError'>, AssertionError(' (False) == (True) ',), <traceback object at 0x1035a3560>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 24724, in act505
    try: assert result == result_REF, " (%s) == (%s) " % (result, result_REF)
Original test has 312 steps

SAVING TEST AS failure.5979.test.5
FINAL VERSION OF TEST, WITH LOGGED REPLAY:
component3 = "alpha"                                                     # STEP 0
component1 = "f"                                                         # STEP 1
component0 = "beta"                                                      # STEP 2
path4 = "/Volumes/ramdisk/test"                                          # STEP 3
str2 = ""                                                                # STEP 4
component2 = "delta"                                                     # STEP 5
component4 = "d"                                                         # STEP 6
path2 = "/Volumes/ramdisk/test"                                          # STEP 7
str1 = ""                                                                # STEP 8
str1 += 'a'                                                              # STEP 9
str2 += 'w'                                                             # STEP 10
str1 += 'l'                                                             # STEP 11
str1 += 'o'                                                             # STEP 12
os0 = newFakeOS()                                                       # STEP 13
str0 = ""                                                               # STEP 14
os0.symlink(path2,path2)                                                # STEP 15
result = os0.path.abspath(path4)                                        # STEP 16
str2 += 'r'                                                             # STEP 17
str0 += 's'                                                             # STEP 18
result = os0.readlink(path4)                                            # STEP 19
str1 += 's'                                                             # STEP 20
str0 += 'e'                                                             # STEP 21
path3 = "/Volumes/ramdisk/test"                                         # STEP 22
str1 += 'h'                                                             # STEP 23
str2 += 'o'                                                             # STEP 24
str2 += 'm'                                                             # STEP 25
str1 += 'a'                                                             # STEP 26
str2 += 'j'                                                             # STEP 27
str0 += 'c'                                                             # STEP 28
str0 += 'v'                                                             # STEP 29
str1 += 'v'                                                             # STEP 30
str1 += 'n'                                                             # STEP 31
str0 += 'f'                                                             # STEP 32
str2 += 'b'                                                             # STEP 33
opener0 = newFakeOpener(os0)                                            # STEP 34
os0.symlink(path4,path2)                                                # STEP 35
result = os0.path.dirname(path3)                                        # STEP 36
str0 += 'k'                                                             # STEP 37
str1 += 'j'                                                             # STEP 38
result = sorted(os0.listdir(path4))                                     # STEP 39
str0 += 'f'                                                             # STEP 40
str1 += 's'                                                             # STEP 41
os0.link(path4,path2)                                                   # STEP 42
file0 = opener0(path3,'w')                                              # STEP 43
result = os0.path.abspath(path2)                                        # STEP 44
os0.remove(path3)                                                       # STEP 45
str0 += 'p'                                                             # STEP 46
str4 = ""                                                               # STEP 47
str2 += 'k'                                                             # STEP 48
os0.link(path2,path3)                                                   # STEP 49
str0 += 'p'                                                             # STEP 50
result = os0.path.abspath(path3)                                        # STEP 51
str4 += 't'                                                             # STEP 52
str1 += 'w'                                                             # STEP 53
result = os0.path.isabs(path4)                                          # STEP 54
result = os0.path.dirname(path4)                                        # STEP 55
str0 += 's'                                                             # STEP 56
os0.mkdir(path2)                                                        # STEP 57
result = os0.path.abspath(path2)                                        # STEP 58
str2 += 'k'                                                             # STEP 59
str1 += " "                                                             # STEP 60
result = os0.path.lexists(path4)                                        # STEP 61
os0.link(path2,path3)                                                   # STEP 62
str1 += 'j'                                                             # STEP 63
str0 += 'f'                                                             # STEP 64
str2 += 'j'                                                             # STEP 65
str4 += 'j'                                                             # STEP 66
str4 += 'b'                                                             # STEP 67
str2 += 'l'                                                             # STEP 68
path2 += "/" + component2                                               # STEP 69
bytes4 = 0                                                              # STEP 70
result = os0.path.isdir(path4)                                          # STEP 71
os0.symlink(path3,path2)                                                # STEP 72
str2 += 'h'                                                             # STEP 73
os0.symlink(path2,path4)                                                # STEP 74
stat0 = os0.stat(path2)                                                 # STEP 75
stat4 = os0.lstat(path2)                                                # STEP 76
str1 += 'y'                                                             # STEP 77
str4 += 'o'                                                             # STEP 78
str1 += 'k'                                                             # STEP 79
os0.symlink(path4,path2)                                                # STEP 80
str2 += 's'                                                             # STEP 81
path4 += "/" + component0                                               # STEP 82
fd0 = os0.open(path4, os.O_CREAT | os.O_WRONLY)                         # STEP 83
result = os0.path.isabs(path3)                                          # STEP 84
str1 += 'x'                                                             # STEP 85
component0 = "b"                                                        # STEP 86
os0.symlink(path2,path3)                                                # STEP 87
str2 += 'a'                                                             # STEP 88
path2 += "/" + component1                                               # STEP 89
str4 += 'x'                                                             # STEP 90
str2 += 'c'                                                             # STEP 91
result = os0.path.dirname(path4)                                        # STEP 92
str0 += 'q'                                                             # STEP 93
stat1 = os0.lstat(path2)                                                # STEP 94
os0.path.getsize(path4)                                                 # STEP 95
result = os0.path.abspath(path4)                                        # STEP 96
str2 += 'h'                                                             # STEP 97
str1 += 'c'                                                             # STEP 98
file0 = opener0(path2,'a')                                              # STEP 99
str1 += 'j'                                                            # STEP 100
stat3 = os0.lstat(path2)                                               # STEP 101
str0 += 'h'                                                            # STEP 102
str0 += 'r'                                                            # STEP 103
str2 += 'm'                                                            # STEP 104
str4 += 'j'                                                            # STEP 105
str2 += 'u'                                                            # STEP 106
result = file0.readlines()                                             # STEP 107
str1 += 'm'                                                            # STEP 108
component1 = "f"                                                       # STEP 109
str4 += 'l'                                                            # STEP 110
str0 += 'x'                                                            # STEP 111
str4 = ""                                                              # STEP 112
str2 += 'c'                                                            # STEP 113
result = os0.readlink(path4)                                           # STEP 114
str4 += 'c'                                                            # STEP 115
os0.link(path4,path2)                                                  # STEP 116
str0 += 'w'                                                            # STEP 117
str4 += 'p'                                                            # STEP 118
str1 += 'n'                                                            # STEP 119
stat1 = os0.stat(path4)                                                # STEP 120
result = os0.path.lexists(path4)                                       # STEP 121
str0 += 'u'                                                            # STEP 122
str1 += 'j'                                                            # STEP 123
str4 += 'v'                                                            # STEP 124
result = file0.read()                                                  # STEP 125
file0.flush()                                                          # STEP 126
component2 = "d"                                                       # STEP 127
str2 += 'o'                                                            # STEP 128
str1 += 'y'                                                            # STEP 129
str0 += 'm'                                                            # STEP 130
os0.rename(path2,path3)                                                # STEP 131
os0.symlink(path3,path4)                                               # STEP 132
str1 += 'g'                                                            # STEP 133
str2 += 'e'                                                            # STEP 134
str4 += 'k'                                                            # STEP 135
result = os0.path.islink(path4)                                        # STEP 136
str4 += 'n'                                                            # STEP 137
os0.symlink(path2,path4)                                               # STEP 138
os0.rename(path2,path4)                                                # STEP 139
stat2 = os0.fstat(fd0)                                                 # STEP 140
os0.close(fd0)                                                         # STEP 141
result = os0.path.isdir(path3)                                         # STEP 142
str4 += 'z'                                                            # STEP 143
os0.mkdir(path2)                                                       # STEP 144
os0.symlink(path4,path4)                                               # STEP 145
str4 += 'k'                                                            # STEP 146
str1 += 'z'                                                            # STEP 147
str2 += 't'                                                            # STEP 148
result = stat1.st_size                                                 # STEP 149
str4 += 'z'                                                            # STEP 150
os0.symlink(path3,path3)                                               # STEP 151
os0.link(path2,path3)                                                  # STEP 152
str2 += " "                                                            # STEP 153
file0.flush()                                                          # STEP 154
os0.makedirs(path3)                                                    # STEP 155
str1 += 'x'                                                            # STEP 156
os0.rename(path2,path4)                                                # STEP 157
result = sorted(os0.listdir(path2))                                    # STEP 158
str4 += 'y'                                                            # STEP 159
str0 += 't'                                                            # STEP 160
str2 += 'd'                                                            # STEP 161
result = stat1.st_nlink                                                # STEP 162
os0.link(path3,path4)                                                  # STEP 163
path2 += "/" + component0                                              # STEP 164
os0.symlink(path2,path4)                                               # STEP 165
fd0 = os0.open(path4, os.O_CREAT | os.O_WRONLY | os.O_TRUNC | os.O_EXCL)  # STEP 166
os0.remove(path4)                                                      # STEP 167
str2 = ""                                                              # STEP 168
str1 += 'r'                                                            # STEP 169
os0.rmdir(path2)                                                       # STEP 170
str2 += " "                                                            # STEP 171
str1 += 'h'                                                            # STEP 172
str2 += 'u'                                                            # STEP 173
str2 += 'h'                                                            # STEP 174
result = os0.path.abspath(path2)                                       # STEP 175
str3 = ""                                                              # STEP 176
str3 += 'z'                                                            # STEP 177
str1 += " "                                                            # STEP 178
str1 += 'f'                                                            # STEP 179
path4 += "/" + component3                                              # STEP 180
path2 += "/" + component4                                              # STEP 181
os0.symlink(path4,path4)                                               # STEP 182
os0.write(fd0,str4)                                                    # STEP 183
str2 += 'g'                                                            # STEP 184
file0.flush()                                                          # STEP 185
str2 += 'i'                                                            # STEP 186
path2 += "/" + component0                                              # STEP 187
component3 = "alpha"                                                   # STEP 188
component4 = "b"                                                       # STEP 189
result = os0.path.exists(path3)                                        # STEP 190
str2 += 'd'                                                            # STEP 191
str1 += 'o'                                                            # STEP 192
str3 += 'v'                                                            # STEP 193
str0 += 'b'                                                            # STEP 194
str0 += 'i'                                                            # STEP 195
str4 += 'g'                                                            # STEP 196
component0 = "beta"                                                    # STEP 197
path2 += "/" + component4                                              # STEP 198
str2 += 'y'                                                            # STEP 199
str1 += 'o'                                                            # STEP 200
os0.write(fd0,str0)                                                    # STEP 201
str3 += 'o'                                                            # STEP 202
result = os0.path.abspath(path3)                                       # STEP 203
str2 += 'x'                                                            # STEP 204
str1 += 'b'                                                            # STEP 205
os0.write(fd0,str1)                                                    # STEP 206
component4 = "c"                                                       # STEP 207
path3 = "/Volumes/ramdisk/test"                                        # STEP 208
result = os0.path.isdir(path2)                                         # STEP 209
os0.rename(path4,path3)                                                # STEP 210
str4 += 'j'                                                            # STEP 211
result = stat4.st_nlink                                                # STEP 212
str2 += 't'                                                            # STEP 213
result = file0.readlines()                                             # STEP 214
str3 += 'r'                                                            # STEP 215
str1 += 's'                                                            # STEP 216
str4 += " "                                                            # STEP 217
stat4 = os0.lstat(path2)                                               # STEP 218
path2 += "/" + component3                                              # STEP 219
str0 += 'z'                                                            # STEP 220
os0.link(path4,path3)                                                  # STEP 221
str0 += 'i'                                                            # STEP 222
path3 += "/" + component1                                              # STEP 223
file0.truncate()                                                       # STEP 224
str3 += 'm'                                                            # STEP 225
str3 += 'c'                                                            # STEP 226
str4 += 's'                                                            # STEP 227
str4 += 'p'                                                            # STEP 228
str1 += 'w'                                                            # STEP 229
result = os0.path.exists(path2)                                        # STEP 230
str0 += 'k'                                                            # STEP 231
str0 += 'a'                                                            # STEP 232
str3 += 'n'                                                            # STEP 233
path4 += "/" + component2                                              # STEP 234
os0.rename(path3,path2)                                                # STEP 235
stat1 = os0.lstat(path2)                                               # STEP 236
component1 = "b"                                                       # STEP 237
os0.path.getsize(path4)                                                # STEP 238
str3 += 'i'                                                            # STEP 239
result = os0.path.lexists(path3)                                       # STEP 240
result = os0.path.exists(path2)                                        # STEP 241
str2 += " "                                                            # STEP 242
str0 += 'y'                                                            # STEP 243
os0.symlink(path3,path4)                                               # STEP 244
component2 = "delta"                                                   # STEP 245
os0.rmdir(path4)                                                       # STEP 246
os0.remove(path4)                                                      # STEP 247
os0.makedirs(path2)                                                    # STEP 248
str3 += 'a'                                                            # STEP 249
str2 += 'f'                                                            # STEP 250
component3 = "alpha"                                                   # STEP 251
str1 += 'd'                                                            # STEP 252
result = os0.path.exists(path4)                                        # STEP 253
str2 += 'k'                                                            # STEP 254
str1 += 'g'                                                            # STEP 255
result = sorted(os0.listdir(path3))                                    # STEP 256
str4 += 'n'                                                            # STEP 257
result = os0.path.lexists(path3)                                       # STEP 258
file0.write(str3)                                                      # STEP 259
os0.rename(path3,path2)                                                # STEP 260
os0.symlink(path2,path2)                                               # STEP 261
os0.removedirs(path2)                                                  # STEP 262
bytes0 = 0                                                             # STEP 263
result = os0.readlink(path3)                                           # STEP 264
os0.rename(path4,path3)                                                # STEP 265
str4 += 't'                                                            # STEP 266
str0 += 's'                                                            # STEP 267
str1 += 's'                                                            # STEP 268
result = os0.path.exists(path4)                                        # STEP 269
result = stat3.st_size                                                 # STEP 270
result = stat4.st_size                                                 # STEP 271
str0 += 'z'                                                            # STEP 272
os0.rename(path4,path3)                                                # STEP 273
os0.symlink(path2,path2)                                               # STEP 274
str0 += 'o'                                                            # STEP 275
str3 += 'q'                                                            # STEP 276
str4 += 'a'                                                            # STEP 277
stat4 = os0.stat(path2)                                                # STEP 278
result = os0.path.lexists(path4)                                       # STEP 279
str0 = ""                                                              # STEP 280
str3 += 'i'                                                            # STEP 281
result = os0.path.exists(path4)                                        # STEP 282
path2 += "/" + component1                                              # STEP 283
path2 += "/" + component0                                              # STEP 284
path3 += "/" + component0                                              # STEP 285
str3 += 'm'                                                            # STEP 286
component0 = "beta"                                                    # STEP 287
str0 += 'x'                                                            # STEP 288
result = stat2.st_size                                                 # STEP 289
str2 += " "                                                            # STEP 290
str0 += 'd'                                                            # STEP 291
str2 += 'w'                                                            # STEP 292
str4 += 'a'                                                            # STEP 293
str3 += 't'                                                            # STEP 294
str2 += 'n'                                                            # STEP 295
os0.mkdir(path3)                                                       # STEP 296
str1 += 'a'                                                            # STEP 297
str4 = ""                                                              # STEP 298
os0.link(path2,path3)                                                  # STEP 299
result = stat1.st_nlink                                                # STEP 300
str0 += 'l'                                                            # STEP 301
str0 += 'x'                                                            # STEP 302
str0 += 'n'                                                            # STEP 303
os0.link(path3,path2)                                                  # STEP 304
str3 += 'a'                                                            # STEP 305
result = sorted(os0.listdir(path2))                                    # STEP 306
str3 += 'i'                                                            # STEP 307
os0.mkdir(path4)                                                       # STEP 308
str0 += 'n'                                                            # STEP 309
str1 += 'o'                                                            # STEP 310
result = os0.path.isdir(path3)                                         # STEP 311
ERROR: (<type 'exceptions.AssertionError'>, AssertionError(' (False) == (True) ',), <traceback object at 0x10a8f8830>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 24724, in act505
    try: assert result == result_REF, " (%s) == (%s) " % (result, result_REF)
FAILURE IS NEW, STORING; NOW 6 DISTINCT FAILURES
UNCAUGHT EXCEPTION
ERROR: (<type 'exceptions.AssertionError'>, AssertionError(), <traceback object at 0x10659a098>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 22173, in act464
    assert (raised == None) == (refRaised == None)
Original test has 303 steps

SAVING TEST AS failure.5979.test.6
FINAL VERSION OF TEST, WITH LOGGED REPLAY:
component3 = "alpha"                                                     # STEP 0
component1 = "f"                                                         # STEP 1
component0 = "beta"                                                      # STEP 2
path4 = "/Volumes/ramdisk/test"                                          # STEP 3
str2 = ""                                                                # STEP 4
component2 = "delta"                                                     # STEP 5
component4 = "d"                                                         # STEP 6
path2 = "/Volumes/ramdisk/test"                                          # STEP 7
str1 = ""                                                                # STEP 8
str1 += 'a'                                                              # STEP 9
str2 += 'w'                                                             # STEP 10
str1 += 'l'                                                             # STEP 11
str1 += 'o'                                                             # STEP 12
os0 = newFakeOS()                                                       # STEP 13
str0 = ""                                                               # STEP 14
os0.symlink(path2,path2)                                                # STEP 15
result = os0.path.abspath(path4)                                        # STEP 16
str2 += 'r'                                                             # STEP 17
str0 += 's'                                                             # STEP 18
result = os0.readlink(path4)                                            # STEP 19
str1 += 's'                                                             # STEP 20
str0 += 'e'                                                             # STEP 21
path3 = "/Volumes/ramdisk/test"                                         # STEP 22
str1 += 'h'                                                             # STEP 23
str2 += 'o'                                                             # STEP 24
str2 += 'm'                                                             # STEP 25
str1 += 'a'                                                             # STEP 26
str2 += 'j'                                                             # STEP 27
str0 += 'c'                                                             # STEP 28
str0 += 'v'                                                             # STEP 29
str1 += 'v'                                                             # STEP 30
str1 += 'n'                                                             # STEP 31
str0 += 'f'                                                             # STEP 32
str2 += 'b'                                                             # STEP 33
opener0 = newFakeOpener(os0)                                            # STEP 34
os0.symlink(path4,path2)                                                # STEP 35
result = os0.path.dirname(path3)                                        # STEP 36
str0 += 'k'                                                             # STEP 37
str1 += 'j'                                                             # STEP 38
result = sorted(os0.listdir(path4))                                     # STEP 39
str0 += 'f'                                                             # STEP 40
str1 += 's'                                                             # STEP 41
os0.link(path4,path2)                                                   # STEP 42
file0 = opener0(path3,'w')                                              # STEP 43
result = os0.path.abspath(path2)                                        # STEP 44
os0.remove(path3)                                                       # STEP 45
str0 += 'p'                                                             # STEP 46
str4 = ""                                                               # STEP 47
str2 += 'k'                                                             # STEP 48
os0.link(path2,path3)                                                   # STEP 49
str0 += 'p'                                                             # STEP 50
result = os0.path.abspath(path3)                                        # STEP 51
str4 += 't'                                                             # STEP 52
str1 += 'w'                                                             # STEP 53
result = os0.path.isabs(path4)                                          # STEP 54
result = os0.path.dirname(path4)                                        # STEP 55
str0 += 's'                                                             # STEP 56
os0.mkdir(path2)                                                        # STEP 57
result = os0.path.abspath(path2)                                        # STEP 58
str2 += 'k'                                                             # STEP 59
str1 += " "                                                             # STEP 60
result = os0.path.lexists(path4)                                        # STEP 61
os0.link(path2,path3)                                                   # STEP 62
str1 += 'j'                                                             # STEP 63
str0 += 'f'                                                             # STEP 64
str2 += 'j'                                                             # STEP 65
str4 += 'j'                                                             # STEP 66
str4 += 'b'                                                             # STEP 67
str2 += 'l'                                                             # STEP 68
path2 += "/" + component2                                               # STEP 69
bytes4 = 0                                                              # STEP 70
result = os0.path.isdir(path4)                                          # STEP 71
os0.symlink(path3,path2)                                                # STEP 72
str2 += 'h'                                                             # STEP 73
os0.symlink(path2,path4)                                                # STEP 74
stat0 = os0.stat(path2)                                                 # STEP 75
stat4 = os0.lstat(path2)                                                # STEP 76
str1 += 'y'                                                             # STEP 77
str4 += 'o'                                                             # STEP 78
str1 += 'k'                                                             # STEP 79
os0.symlink(path4,path2)                                                # STEP 80
str2 += 's'                                                             # STEP 81
path4 += "/" + component0                                               # STEP 82
fd0 = os0.open(path4, os.O_CREAT | os.O_WRONLY)                         # STEP 83
result = os0.path.isabs(path3)                                          # STEP 84
str1 += 'x'                                                             # STEP 85
component0 = "b"                                                        # STEP 86
os0.symlink(path2,path3)                                                # STEP 87
str2 += 'a'                                                             # STEP 88
path2 += "/" + component1                                               # STEP 89
str4 += 'x'                                                             # STEP 90
str2 += 'c'                                                             # STEP 91
result = os0.path.dirname(path4)                                        # STEP 92
str0 += 'q'                                                             # STEP 93
stat1 = os0.lstat(path2)                                                # STEP 94
os0.path.getsize(path4)                                                 # STEP 95
result = os0.path.abspath(path4)                                        # STEP 96
str2 += 'h'                                                             # STEP 97
str1 += 'c'                                                             # STEP 98
file0 = opener0(path2,'a')                                              # STEP 99
str1 += 'j'                                                            # STEP 100
stat3 = os0.lstat(path2)                                               # STEP 101
str0 += 'r'                                                            # STEP 102
str0 += 'r'                                                            # STEP 103
str2 += 'm'                                                            # STEP 104
str4 += 'j'                                                            # STEP 105
str2 += 'u'                                                            # STEP 106
result = file0.readlines()                                             # STEP 107
str1 += 'm'                                                            # STEP 108
component1 = "f"                                                       # STEP 109
str4 += 'l'                                                            # STEP 110
str0 += 'x'                                                            # STEP 111
str4 = ""                                                              # STEP 112
str2 += 'c'                                                            # STEP 113
result = os0.readlink(path4)                                           # STEP 114
str4 += 'c'                                                            # STEP 115
os0.link(path4,path2)                                                  # STEP 116
str0 += 'w'                                                            # STEP 117
str4 += 'p'                                                            # STEP 118
str1 += 'n'                                                            # STEP 119
stat1 = os0.stat(path4)                                                # STEP 120
result = os0.path.lexists(path4)                                       # STEP 121
str0 += 'u'                                                            # STEP 122
str1 += 'j'                                                            # STEP 123
str4 += 'v'                                                            # STEP 124
result = file0.read()                                                  # STEP 125
file0.flush()                                                          # STEP 126
component2 = "d"                                                       # STEP 127
str2 += 'o'                                                            # STEP 128
str1 += 'y'                                                            # STEP 129
str0 += 'm'                                                            # STEP 130
os0.rename(path2,path3)                                                # STEP 131
os0.symlink(path3,path4)                                               # STEP 132
str1 += 'g'                                                            # STEP 133
str2 += 'e'                                                            # STEP 134
str4 += 'k'                                                            # STEP 135
result = os0.path.islink(path4)                                        # STEP 136
str4 += 'n'                                                            # STEP 137
os0.symlink(path2,path4)                                               # STEP 138
os0.rename(path2,path4)                                                # STEP 139
stat2 = os0.fstat(fd0)                                                 # STEP 140
os0.close(fd0)                                                         # STEP 141
result = os0.path.isdir(path3)                                         # STEP 142
str4 += 'z'                                                            # STEP 143
os0.mkdir(path2)                                                       # STEP 144
os0.symlink(path4,path4)                                               # STEP 145
str4 += 'k'                                                            # STEP 146
str1 += 'z'                                                            # STEP 147
str2 += 't'                                                            # STEP 148
result = stat1.st_size                                                 # STEP 149
str4 += 'z'                                                            # STEP 150
os0.symlink(path3,path3)                                               # STEP 151
os0.link(path2,path3)                                                  # STEP 152
str2 += " "                                                            # STEP 153
file0.flush()                                                          # STEP 154
os0.makedirs(path3)                                                    # STEP 155
str1 += 'x'                                                            # STEP 156
os0.rename(path2,path4)                                                # STEP 157
result = sorted(os0.listdir(path2))                                    # STEP 158
str4 += 'y'                                                            # STEP 159
str0 += 't'                                                            # STEP 160
str2 += 'd'                                                            # STEP 161
result = stat1.st_nlink                                                # STEP 162
os0.link(path3,path4)                                                  # STEP 163
path2 += "/" + component0                                              # STEP 164
os0.symlink(path2,path4)                                               # STEP 165
fd0 = os0.open(path4, os.O_CREAT | os.O_WRONLY | os.O_TRUNC | os.O_EXCL)  # STEP 166
os0.remove(path4)                                                      # STEP 167
str2 = ""                                                              # STEP 168
str1 += 'r'                                                            # STEP 169
os0.rmdir(path2)                                                       # STEP 170
str2 += " "                                                            # STEP 171
str1 += 'h'                                                            # STEP 172
str2 += 'u'                                                            # STEP 173
str2 += 'h'                                                            # STEP 174
result = os0.path.abspath(path2)                                       # STEP 175
str3 = ""                                                              # STEP 176
str3 += 'z'                                                            # STEP 177
str1 += " "                                                            # STEP 178
str1 += 'f'                                                            # STEP 179
path4 += "/" + component3                                              # STEP 180
path2 += "/" + component4                                              # STEP 181
os0.symlink(path4,path4)                                               # STEP 182
os0.write(fd0,str4)                                                    # STEP 183
str2 += 'g'                                                            # STEP 184
file0.flush()                                                          # STEP 185
str2 += 'i'                                                            # STEP 186
path2 += "/" + component0                                              # STEP 187
component3 = "alpha"                                                   # STEP 188
component4 = "b"                                                       # STEP 189
result = os0.path.exists(path3)                                        # STEP 190
str2 += 'd'                                                            # STEP 191
str1 += 'o'                                                            # STEP 192
str3 += 'v'                                                            # STEP 193
str0 += 'b'                                                            # STEP 194
str0 += 'i'                                                            # STEP 195
str4 += 'g'                                                            # STEP 196
component0 = "beta"                                                    # STEP 197
path2 += "/" + component4                                              # STEP 198
str2 += 'y'                                                            # STEP 199
str1 += 'o'                                                            # STEP 200
os0.write(fd0,str0)                                                    # STEP 201
str3 += 'o'                                                            # STEP 202
result = os0.path.abspath(path3)                                       # STEP 203
str2 += 'x'                                                            # STEP 204
str1 += 'b'                                                            # STEP 205
os0.write(fd0,str1)                                                    # STEP 206
component4 = "c"                                                       # STEP 207
path3 = "/Volumes/ramdisk/test"                                        # STEP 208
result = os0.path.isdir(path2)                                         # STEP 209
os0.rename(path4,path3)                                                # STEP 210
str4 += 'j'                                                            # STEP 211
result = stat4.st_nlink                                                # STEP 212
str2 += 't'                                                            # STEP 213
result = file0.readlines()                                             # STEP 214
str3 += 'r'                                                            # STEP 215
str1 += 's'                                                            # STEP 216
str4 += " "                                                            # STEP 217
stat4 = os0.lstat(path2)                                               # STEP 218
path2 += "/" + component3                                              # STEP 219
str0 += 'z'                                                            # STEP 220
os0.link(path4,path3)                                                  # STEP 221
str0 += 'i'                                                            # STEP 222
path3 += "/" + component1                                              # STEP 223
file0.truncate()                                                       # STEP 224
str3 += 'm'                                                            # STEP 225
str3 += 'c'                                                            # STEP 226
str4 += 's'                                                            # STEP 227
str4 += 'p'                                                            # STEP 228
str1 += 'w'                                                            # STEP 229
result = os0.path.exists(path2)                                        # STEP 230
str0 += 'k'                                                            # STEP 231
str0 += 'a'                                                            # STEP 232
str3 += 'n'                                                            # STEP 233
path4 += "/" + component2                                              # STEP 234
os0.rename(path3,path2)                                                # STEP 235
stat1 = os0.lstat(path2)                                               # STEP 236
component1 = "b"                                                       # STEP 237
os0.path.getsize(path4)                                                # STEP 238
str3 += 'i'                                                            # STEP 239
result = os0.path.lexists(path3)                                       # STEP 240
result = os0.path.exists(path2)                                        # STEP 241
str2 += " "                                                            # STEP 242
str0 += 'y'                                                            # STEP 243
os0.symlink(path3,path4)                                               # STEP 244
component2 = "delta"                                                   # STEP 245
os0.rmdir(path4)                                                       # STEP 246
os0.remove(path4)                                                      # STEP 247
os0.makedirs(path2)                                                    # STEP 248
str3 += 'a'                                                            # STEP 249
str2 += 'f'                                                            # STEP 250
component3 = "alpha"                                                   # STEP 251
str1 += 'd'                                                            # STEP 252
result = os0.path.exists(path4)                                        # STEP 253
str2 += 'k'                                                            # STEP 254
str1 += 'g'                                                            # STEP 255
result = sorted(os0.listdir(path3))                                    # STEP 256
str4 += 'n'                                                            # STEP 257
result = os0.path.lexists(path3)                                       # STEP 258
file0.write(str3)                                                      # STEP 259
os0.rename(path3,path2)                                                # STEP 260
os0.symlink(path2,path2)                                               # STEP 261
os0.removedirs(path2)                                                  # STEP 262
str3 += 'y'                                                            # STEP 263
str0 += 's'                                                            # STEP 264
result = os0.path.dirname(path4)                                       # STEP 265
os0.symlink(path3,path2)                                               # STEP 266
str0 += 'o'                                                            # STEP 267
result = os0.path.isdir(path2)                                         # STEP 268
result = file0.read(bytes4)                                            # STEP 269
str2 += 'i'                                                            # STEP 270
str2 += 'a'                                                            # STEP 271
os0.mkdir(path3)                                                       # STEP 272
str3 += 'g'                                                            # STEP 273
os0.rmdir(path4)                                                       # STEP 274
os0.rename(path3,path4)                                                # STEP 275
str3 += 'k'                                                            # STEP 276
str2 += 'q'                                                            # STEP 277
str3 += 'r'                                                            # STEP 278
str2 += 'n'                                                            # STEP 279
path4 += "/" + component2                                              # STEP 280
str0 += 'z'                                                            # STEP 281
os0.symlink(path2,path3)                                               # STEP 282
os0.rmdir(path2)                                                       # STEP 283
str4 += " "                                                            # STEP 284
str2 += 'k'                                                            # STEP 285
str2 += 'i'                                                            # STEP 286
os0.removedirs(path2)                                                  # STEP 287
str2 += 'o'                                                            # STEP 288
str0 += 'j'                                                            # STEP 289
os0.symlink(path2,path2)                                               # STEP 290
os0.rename(path4,path2)                                                # STEP 291
os0.write(fd0,str4)                                                    # STEP 292
component2 = "h"                                                       # STEP 293
os0.symlink(path3,path2)                                               # STEP 294
result = os0.path.abspath(path2)                                       # STEP 295
result = sorted(os0.listdir(path2))                                    # STEP 296
os0.rename(path2,path4)                                                # STEP 297
str0 += 'e'                                                            # STEP 298
str3 = ""                                                              # STEP 299
str4 += 'a'                                                            # STEP 300
path0 = "/Volumes/ramdisk/test"                                        # STEP 301
result = os0.readlink(path2)                                           # STEP 302
ERROR: (<type 'exceptions.AssertionError'>, AssertionError(), <traceback object at 0x10661f248>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 22173, in act464
    assert (raised == None) == (refRaised == None)
FAILURE IS NEW, STORING; NOW 7 DISTINCT FAILURES
UNCAUGHT EXCEPTION
ERROR: (<type 'exceptions.AssertionError'>, AssertionError(" ([]) == (['b']) ",), <traceback object at 0x1076ea6c8>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 17834, in act400
    try: assert result == result_REF, " (%s) == (%s) " % (result, result_REF)
Original test has 295 steps

SAVING TEST AS failure.5979.test.7
FINAL VERSION OF TEST, WITH LOGGED REPLAY:
component3 = "alpha"                                                     # STEP 0
component1 = "f"                                                         # STEP 1
component0 = "beta"                                                      # STEP 2
path4 = "/Volumes/ramdisk/test"                                          # STEP 3
str2 = ""                                                                # STEP 4
component2 = "delta"                                                     # STEP 5
component4 = "d"                                                         # STEP 6
path2 = "/Volumes/ramdisk/test"                                          # STEP 7
str1 = ""                                                                # STEP 8
str1 += 'a'                                                              # STEP 9
str2 += 'w'                                                             # STEP 10
str1 += 'l'                                                             # STEP 11
str1 += 'o'                                                             # STEP 12
os0 = newFakeOS()                                                       # STEP 13
str0 = ""                                                               # STEP 14
os0.symlink(path2,path2)                                                # STEP 15
result = os0.path.abspath(path4)                                        # STEP 16
str2 += 'r'                                                             # STEP 17
str0 += 's'                                                             # STEP 18
result = os0.readlink(path4)                                            # STEP 19
str1 += 's'                                                             # STEP 20
str0 += 'e'                                                             # STEP 21
path3 = "/Volumes/ramdisk/test"                                         # STEP 22
str1 += 'h'                                                             # STEP 23
str2 += 'o'                                                             # STEP 24
str2 += 'm'                                                             # STEP 25
str1 += 'a'                                                             # STEP 26
str2 += 'j'                                                             # STEP 27
str0 += 'c'                                                             # STEP 28
str0 += 'v'                                                             # STEP 29
str1 += 'v'                                                             # STEP 30
str1 += 'n'                                                             # STEP 31
str0 += 'f'                                                             # STEP 32
str2 += 'b'                                                             # STEP 33
opener0 = newFakeOpener(os0)                                            # STEP 34
os0.symlink(path4,path2)                                                # STEP 35
result = os0.path.dirname(path3)                                        # STEP 36
str0 += 'k'                                                             # STEP 37
str1 += 'j'                                                             # STEP 38
result = sorted(os0.listdir(path4))                                     # STEP 39
str0 += 'f'                                                             # STEP 40
str1 += 's'                                                             # STEP 41
os0.link(path4,path2)                                                   # STEP 42
file0 = opener0(path3,'w')                                              # STEP 43
result = os0.path.abspath(path2)                                        # STEP 44
os0.remove(path3)                                                       # STEP 45
str0 += 'p'                                                             # STEP 46
str4 = ""                                                               # STEP 47
str2 += 'k'                                                             # STEP 48
os0.link(path2,path3)                                                   # STEP 49
str0 += 'p'                                                             # STEP 50
result = os0.path.abspath(path3)                                        # STEP 51
str4 += 't'                                                             # STEP 52
str1 += 'w'                                                             # STEP 53
result = os0.path.isabs(path4)                                          # STEP 54
result = os0.path.dirname(path4)                                        # STEP 55
str0 += 's'                                                             # STEP 56
os0.mkdir(path2)                                                        # STEP 57
result = os0.path.abspath(path2)                                        # STEP 58
str2 += 'k'                                                             # STEP 59
str1 += " "                                                             # STEP 60
result = os0.path.lexists(path4)                                        # STEP 61
os0.link(path2,path3)                                                   # STEP 62
str1 += 'j'                                                             # STEP 63
str0 += 'f'                                                             # STEP 64
str2 += 'j'                                                             # STEP 65
str4 += 'j'                                                             # STEP 66
str4 += 'b'                                                             # STEP 67
str2 += 'l'                                                             # STEP 68
path2 += "/" + component2                                               # STEP 69
bytes4 = 0                                                              # STEP 70
result = os0.path.isdir(path4)                                          # STEP 71
os0.symlink(path3,path2)                                                # STEP 72
str2 += 'h'                                                             # STEP 73
os0.symlink(path2,path4)                                                # STEP 74
stat0 = os0.stat(path2)                                                 # STEP 75
stat4 = os0.lstat(path2)                                                # STEP 76
str1 += 'y'                                                             # STEP 77
str4 += 'o'                                                             # STEP 78
str1 += 'k'                                                             # STEP 79
os0.symlink(path4,path2)                                                # STEP 80
str2 += 's'                                                             # STEP 81
path4 += "/" + component0                                               # STEP 82
fd0 = os0.open(path4, os.O_CREAT | os.O_WRONLY)                         # STEP 83
result = os0.path.isabs(path3)                                          # STEP 84
str1 += 'x'                                                             # STEP 85
component0 = "b"                                                        # STEP 86
os0.symlink(path2,path3)                                                # STEP 87
str2 += 'a'                                                             # STEP 88
path2 += "/" + component1                                               # STEP 89
str4 += 'x'                                                             # STEP 90
str2 += 'c'                                                             # STEP 91
result = os0.path.dirname(path4)                                        # STEP 92
str0 += 'q'                                                             # STEP 93
stat1 = os0.lstat(path2)                                                # STEP 94
os0.path.getsize(path4)                                                 # STEP 95
result = os0.path.abspath(path4)                                        # STEP 96
str2 += 'h'                                                             # STEP 97
str1 += 'c'                                                             # STEP 98
file0 = opener0(path2,'a')                                              # STEP 99
str1 += 'j'                                                            # STEP 100
stat3 = os0.lstat(path2)                                               # STEP 101
str0 += 'h'                                                            # STEP 102
str0 += 'r'                                                            # STEP 103
str2 += 'm'                                                            # STEP 104
str4 += 'j'                                                            # STEP 105
str2 += 'u'                                                            # STEP 106
result = file0.readlines()                                             # STEP 107
str1 += 'm'                                                            # STEP 108
component1 = "f"                                                       # STEP 109
str4 += 'l'                                                            # STEP 110
str0 += 'x'                                                            # STEP 111
str4 = ""                                                              # STEP 112
str2 += 'c'                                                            # STEP 113
result = os0.readlink(path4)                                           # STEP 114
str4 += 'c'                                                            # STEP 115
os0.link(path4,path2)                                                  # STEP 116
str0 += 'w'                                                            # STEP 117
str4 += 'p'                                                            # STEP 118
str1 += 'n'                                                            # STEP 119
stat1 = os0.stat(path4)                                                # STEP 120
result = os0.path.lexists(path4)                                       # STEP 121
str0 += 'u'                                                            # STEP 122
str1 += 'j'                                                            # STEP 123
str4 += 'v'                                                            # STEP 124
result = file0.read()                                                  # STEP 125
file0.flush()                                                          # STEP 126
component2 = "d"                                                       # STEP 127
str2 += 'o'                                                            # STEP 128
str1 += 'y'                                                            # STEP 129
str0 += 'm'                                                            # STEP 130
os0.rename(path2,path3)                                                # STEP 131
os0.symlink(path3,path4)                                               # STEP 132
str1 += 'g'                                                            # STEP 133
str2 += 'e'                                                            # STEP 134
str4 += 'k'                                                            # STEP 135
result = os0.path.islink(path4)                                        # STEP 136
str4 += 'n'                                                            # STEP 137
os0.symlink(path2,path4)                                               # STEP 138
os0.rename(path2,path4)                                                # STEP 139
stat2 = os0.fstat(fd0)                                                 # STEP 140
os0.close(fd0)                                                         # STEP 141
result = os0.path.isdir(path3)                                         # STEP 142
str4 += 'z'                                                            # STEP 143
os0.mkdir(path2)                                                       # STEP 144
os0.symlink(path4,path4)                                               # STEP 145
str4 += 'k'                                                            # STEP 146
str1 += 'z'                                                            # STEP 147
str2 += 't'                                                            # STEP 148
result = stat1.st_size                                                 # STEP 149
str4 += 'z'                                                            # STEP 150
os0.symlink(path3,path3)                                               # STEP 151
os0.link(path2,path3)                                                  # STEP 152
str2 += " "                                                            # STEP 153
file0.flush()                                                          # STEP 154
os0.makedirs(path3)                                                    # STEP 155
str1 += 'x'                                                            # STEP 156
os0.rename(path2,path4)                                                # STEP 157
result = sorted(os0.listdir(path2))                                    # STEP 158
str4 += 'y'                                                            # STEP 159
str0 += 't'                                                            # STEP 160
str2 += 'd'                                                            # STEP 161
result = stat1.st_nlink                                                # STEP 162
os0.link(path3,path4)                                                  # STEP 163
path2 += "/" + component0                                              # STEP 164
os0.symlink(path2,path4)                                               # STEP 165
fd0 = os0.open(path4, os.O_CREAT | os.O_WRONLY | os.O_TRUNC | os.O_EXCL)  # STEP 166
os0.remove(path4)                                                      # STEP 167
str2 = ""                                                              # STEP 168
str1 += 'r'                                                            # STEP 169
os0.rmdir(path2)                                                       # STEP 170
str2 += " "                                                            # STEP 171
str1 += 'h'                                                            # STEP 172
str2 += 'u'                                                            # STEP 173
str2 += 'h'                                                            # STEP 174
result = os0.path.abspath(path2)                                       # STEP 175
str3 = ""                                                              # STEP 176
str3 += 'z'                                                            # STEP 177
str1 += " "                                                            # STEP 178
str1 += 'f'                                                            # STEP 179
path4 += "/" + component3                                              # STEP 180
path2 += "/" + component4                                              # STEP 181
os0.symlink(path4,path4)                                               # STEP 182
os0.write(fd0,str4)                                                    # STEP 183
str2 += 'g'                                                            # STEP 184
file0.flush()                                                          # STEP 185
str2 += 'i'                                                            # STEP 186
path2 += "/" + component0                                              # STEP 187
component3 = "alpha"                                                   # STEP 188
component4 = "b"                                                       # STEP 189
result = os0.path.exists(path3)                                        # STEP 190
str2 += 'd'                                                            # STEP 191
str1 += 'o'                                                            # STEP 192
str3 += 'v'                                                            # STEP 193
str0 += 'b'                                                            # STEP 194
str0 += 'i'                                                            # STEP 195
str4 += 'g'                                                            # STEP 196
component0 = "beta"                                                    # STEP 197
path2 += "/" + component4                                              # STEP 198
str2 += 'y'                                                            # STEP 199
str1 += 'o'                                                            # STEP 200
os0.write(fd0,str0)                                                    # STEP 201
str3 += 'o'                                                            # STEP 202
result = os0.path.abspath(path3)                                       # STEP 203
str2 += 'x'                                                            # STEP 204
str1 += 'b'                                                            # STEP 205
os0.write(fd0,str1)                                                    # STEP 206
component4 = "c"                                                       # STEP 207
path3 = "/Volumes/ramdisk/test"                                        # STEP 208
result = os0.path.isdir(path2)                                         # STEP 209
os0.rename(path4,path3)                                                # STEP 210
str4 += 'j'                                                            # STEP 211
result = stat4.st_nlink                                                # STEP 212
str2 += 't'                                                            # STEP 213
result = file0.readlines()                                             # STEP 214
str3 += 'r'                                                            # STEP 215
str1 += 's'                                                            # STEP 216
str4 += " "                                                            # STEP 217
stat4 = os0.lstat(path2)                                               # STEP 218
path2 += "/" + component3                                              # STEP 219
str0 += 'z'                                                            # STEP 220
os0.link(path4,path3)                                                  # STEP 221
str0 += 'i'                                                            # STEP 222
path3 += "/" + component1                                              # STEP 223
file0.truncate()                                                       # STEP 224
str3 += 'm'                                                            # STEP 225
str3 += 'c'                                                            # STEP 226
str4 += 's'                                                            # STEP 227
str4 += 'p'                                                            # STEP 228
str1 += 'w'                                                            # STEP 229
result = os0.path.exists(path2)                                        # STEP 230
str0 += 'k'                                                            # STEP 231
str0 += 'a'                                                            # STEP 232
str3 += 'n'                                                            # STEP 233
path4 += "/" + component2                                              # STEP 234
os0.rename(path3,path2)                                                # STEP 235
stat1 = os0.lstat(path2)                                               # STEP 236
component1 = "b"                                                       # STEP 237
os0.path.getsize(path4)                                                # STEP 238
str3 += 'i'                                                            # STEP 239
result = os0.path.lexists(path3)                                       # STEP 240
result = os0.path.exists(path2)                                        # STEP 241
str2 += " "                                                            # STEP 242
str0 += 'y'                                                            # STEP 243
os0.symlink(path3,path4)                                               # STEP 244
component2 = "delta"                                                   # STEP 245
os0.rmdir(path4)                                                       # STEP 246
os0.remove(path4)                                                      # STEP 247
os0.makedirs(path2)                                                    # STEP 248
str3 += 'a'                                                            # STEP 249
str2 += 'f'                                                            # STEP 250
component3 = "alpha"                                                   # STEP 251
str1 += 'd'                                                            # STEP 252
result = os0.path.exists(path4)                                        # STEP 253
str2 += 'k'                                                            # STEP 254
str1 += 'g'                                                            # STEP 255
result = sorted(os0.listdir(path3))                                    # STEP 256
str4 += 'n'                                                            # STEP 257
result = os0.path.lexists(path3)                                       # STEP 258
file0.write(str3)                                                      # STEP 259
os0.rename(path3,path2)                                                # STEP 260
os0.symlink(path2,path2)                                               # STEP 261
os0.removedirs(path2)                                                  # STEP 262
str0 += 'z'                                                            # STEP 263
str3 += 'v'                                                            # STEP 264
path0 = "/Volumes/ramdisk/test"                                        # STEP 265
result = os0.path.exists(path2)                                        # STEP 266
str4 += 'y'                                                            # STEP 267
str1 += 'k'                                                            # STEP 268
result = file0.readlines()                                             # STEP 269
os0.symlink(path2,path2)                                               # STEP 270
result = os0.read(fd0,bytes4)                                          # STEP 271
str2 += 'e'                                                            # STEP 272
result = os0.path.islink(path3)                                        # STEP 273
str4 = ""                                                              # STEP 274
str2 += 'h'                                                            # STEP 275
result = os0.path.exists(path2)                                        # STEP 276
result = sorted(os0.listdir(path2))                                    # STEP 277
os0.rmdir(path2)                                                       # STEP 278
str3 += 'h'                                                            # STEP 279
str2 += 'w'                                                            # STEP 280
str2 += 'w'                                                            # STEP 281
str3 += 'b'                                                            # STEP 282
str0 += 'k'                                                            # STEP 283
os0.makedirs(path3)                                                    # STEP 284
result = os0.path.islink(path3)                                        # STEP 285
str0 += 'b'                                                            # STEP 286
path2 += "/" + component3                                              # STEP 287
str3 += 'i'                                                            # STEP 288
result = os0.path.exists(path2)                                        # STEP 289
str3 += 'i'                                                            # STEP 290
component3 = "d"                                                       # STEP 291
result = os0.path.isdir(path3)                                         # STEP 292
result = os0.path.isfile(path0)                                        # STEP 293
result = sorted(os0.listdir(path3))                                    # STEP 294
ERROR: (<type 'exceptions.AssertionError'>, AssertionError(" ([]) == (['b']) ",), <traceback object at 0x108074368>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 17834, in act400
    try: assert result == result_REF, " (%s) == (%s) " % (result, result_REF)
FAILURE IS NEW, STORING; NOW 8 DISTINCT FAILURES
UNCAUGHT EXCEPTION
ERROR: (<type 'exceptions.AssertionError'>, AssertionError(' (42) == (18) ',), <traceback object at 0x1069488c0>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 21881, in act459
    try: assert result == result_REF, " (%s) == (%s) " % (result, result_REF)
Original test has 177 steps

SAVING TEST AS failure.5979.test.8
FINAL VERSION OF TEST, WITH LOGGED REPLAY:
component2 = "gamma"                                                     # STEP 0
component4 = "phi"                                                       # STEP 1
str4 = ""                                                                # STEP 2
str0 = ""                                                                # STEP 3
component0 = "beta"                                                      # STEP 4
str4 += 'l'                                                              # STEP 5
str0 += 'u'                                                              # STEP 6
component1 = "alpha"                                                     # STEP 7
component3 = "d"                                                         # STEP 8
str0 += 'h'                                                              # STEP 9
str4 += 'u'                                                             # STEP 10
str0 += 'n'                                                             # STEP 11
os0 = newFakeOS()                                                       # STEP 12
str4 += 't'                                                             # STEP 13
str4 += 'y'                                                             # STEP 14
str4 += 'g'                                                             # STEP 15
str0 += 'j'                                                             # STEP 16
str4 += 'o'                                                             # STEP 17
bytes2 = 0                                                              # STEP 18
str4 += 'l'                                                             # STEP 19
str4 += 'g'                                                             # STEP 20
str4 += 'z'                                                             # STEP 21
str4 += 'j'                                                             # STEP 22
str4 += 'y'                                                             # STEP 23
str0 += 'w'                                                             # STEP 24
opener0 = newFakeOpener(os0)                                            # STEP 25
str4 += 'e'                                                             # STEP 26
str4 += 's'                                                             # STEP 27
bytes0 = 0                                                              # STEP 28
bytes2 += 1                                                             # STEP 29
str4 += 'm'                                                             # STEP 30
str4 = ""                                                               # STEP 31
str4 += 's'                                                             # STEP 32
str0 += 'v'                                                             # STEP 33
str0 += 'b'                                                             # STEP 34
str3 = ""                                                               # STEP 35
str4 += 'x'                                                             # STEP 36
bytes2 += 1                                                             # STEP 37
str3 += " "                                                             # STEP 38
str4 += 'q'                                                             # STEP 39
str3 += 's'                                                             # STEP 40
str0 += 'y'                                                             # STEP 41
str0 += 'e'                                                             # STEP 42
str3 += 'y'                                                             # STEP 43
str0 += 'y'                                                             # STEP 44
str4 += 'w'                                                             # STEP 45
str0 += 'r'                                                             # STEP 46
str3 += 'h'                                                             # STEP 47
str4 += 'g'                                                             # STEP 48
str4 += 'k'                                                             # STEP 49
str0 += 'c'                                                             # STEP 50
str0 += 'h'                                                             # STEP 51
str4 += 'i'                                                             # STEP 52
str4 += 'p'                                                             # STEP 53
str4 += 'g'                                                             # STEP 54
str3 += 't'                                                             # STEP 55
str4 += 'f'                                                             # STEP 56
str3 += 's'                                                             # STEP 57
str4 += 'c'                                                             # STEP 58
str4 += 'h'                                                             # STEP 59
str4 += " "                                                             # STEP 60
str0 += 'b'                                                             # STEP 61
str0 += 't'                                                             # STEP 62
str4 += 'g'                                                             # STEP 63
str0 += 'l'                                                             # STEP 64
str4 += 'p'                                                             # STEP 65
str3 = ""                                                               # STEP 66
str0 += " "                                                             # STEP 67
str0 += 'u'                                                             # STEP 68
str3 += 'k'                                                             # STEP 69
path1 = "/Volumes/ramdisk/test"                                         # STEP 70
str4 += 'l'                                                             # STEP 71
file0 = opener0(path1,'r')                                              # STEP 72
str4 += " "                                                             # STEP 73
str3 += 'e'                                                             # STEP 74
str1 = ""                                                               # STEP 75
result = os0.path.isabs(path1)                                          # STEP 76
str0 += 'h'                                                             # STEP 77
str4 += 'e'                                                             # STEP 78
str1 += 'n'                                                             # STEP 79
str0 += 'v'                                                             # STEP 80
path1 += "/" + component4                                               # STEP 81
fd0 = os0.open(path1, os.O_CREAT | os.O_WRONLY | os.O_EXCL)             # STEP 82
result = sorted(os0.listdir(path1))                                     # STEP 83
stat0 = os0.fstat(fd0)                                                  # STEP 84
str0 += 'y'                                                             # STEP 85
str0 += 'n'                                                             # STEP 86
str1 += 'u'                                                             # STEP 87
os0.write(fd0,str4)                                                     # STEP 88
str0 += 'p'                                                             # STEP 89
file0 = opener0(path1,'a')                                              # STEP 90
str4 += 'k'                                                             # STEP 91
str4 += 's'                                                             # STEP 92
stat1 = os0.stat(path1)                                                 # STEP 93
os0.makedirs(path1)                                                     # STEP 94
str1 += 'y'                                                             # STEP 95
str3 += 'w'                                                             # STEP 96
path1 = "/Volumes/ramdisk/test"                                         # STEP 97
str3 += 'h'                                                             # STEP 98
str0 += 'l'                                                             # STEP 99
str1 += 'l'                                                            # STEP 100
str1 += 'n'                                                            # STEP 101
path1 += "/" + component3                                              # STEP 102
path2 = "/Volumes/ramdisk/test"                                        # STEP 103
str4 += 'e'                                                            # STEP 104
component4 = "epsilon"                                                 # STEP 105
str1 += 'p'                                                            # STEP 106
component3 = "alpha"                                                   # STEP 107
os0.link(path1,path1)                                                  # STEP 108
str4 = ""                                                              # STEP 109
str4 += 'm'                                                            # STEP 110
path0 = "/Volumes/ramdisk/test"                                        # STEP 111
file0.write(str0)                                                      # STEP 112
os0.symlink(path2,path0)                                               # STEP 113
path2 = "/Volumes/ramdisk/test"                                        # STEP 114
str4 += 'm'                                                            # STEP 115
os0.symlink(path2,path1)                                               # STEP 116
os0.removedirs(path2)                                                  # STEP 117
str1 += 'u'                                                            # STEP 118
stat3 = os0.fstat(fd0)                                                 # STEP 119
str0 += 'w'                                                            # STEP 120
result = os0.path.exists(path2)                                        # STEP 121
str1 += 'h'                                                            # STEP 122
path2 += "/" + component0                                              # STEP 123
str1 += 'd'                                                            # STEP 124
path1 = "/Volumes/ramdisk/test"                                        # STEP 125
str1 += 'u'                                                            # STEP 126
str4 += 'r'                                                            # STEP 127
str4 += 'a'                                                            # STEP 128
str3 += 's'                                                            # STEP 129
str1 += " "                                                            # STEP 130
str3 += 'k'                                                            # STEP 131
os0.remove(path0)                                                      # STEP 132
path0 += "/" + component3                                              # STEP 133
component3 = "epsilon"                                                 # STEP 134
os0.remove(path1)                                                      # STEP 135
os0.link(path2,path2)                                                  # STEP 136
str3 += 'l'                                                            # STEP 137
path1 += "/" + component0                                              # STEP 138
os0.symlink(path2,path2)                                               # STEP 139
path2 += "/" + component0                                              # STEP 140
str0 += 'x'                                                            # STEP 141
result = file0.read(bytes2)                                            # STEP 142
str1 += 'g'                                                            # STEP 143
str3 += 'l'                                                            # STEP 144
str1 = ""                                                              # STEP 145
path1 += "/" + component2                                              # STEP 146
component0 = "beta"                                                    # STEP 147
stat2 = os0.lstat(path1)                                               # STEP 148
result = os0.path.isdir(path2)                                         # STEP 149
stat4 = os0.lstat(path2)                                               # STEP 150
stat2 = os0.lstat(path1)                                               # STEP 151
str1 += 'h'                                                            # STEP 152
str1 += 'i'                                                            # STEP 153
stat2 = os0.fstat(fd0)                                                 # STEP 154
str1 += 'q'                                                            # STEP 155
os0.link(path0,path0)                                                  # STEP 156
result = stat3.st_nlink                                                # STEP 157
str1 = ""                                                              # STEP 158
stat4 = os0.fstat(fd0)                                                 # STEP 159
str3 += 'g'                                                            # STEP 160
str4 += 'm'                                                            # STEP 161
os0.link(path0,path1)                                                  # STEP 162
os0.symlink(path2,path2)                                               # STEP 163
str4 += 'v'                                                            # STEP 164
path1 += "/" + component3                                              # STEP 165
str3 += 'a'                                                            # STEP 166
str4 += 'v'                                                            # STEP 167
path2 += "/" + component2                                              # STEP 168
result = sorted(os0.listdir(path1))                                    # STEP 169
os0.mkdir(path2)                                                       # STEP 170
str1 += 'v'                                                            # STEP 171
str1 += 'j'                                                            # STEP 172
str3 += " "                                                            # STEP 173
str1 += 'l'                                                            # STEP 174
os0.link(path1,path2)                                                  # STEP 175
result = stat2.st_size                                                 # STEP 176
ERROR: (<type 'exceptions.AssertionError'>, AssertionError(' (42) == (18) ',), <traceback object at 0x1067dea70>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 21881, in act459
    try: assert result == result_REF, " (%s) == (%s) " % (result, result_REF)
FAILURE IS NEW, STORING; NOW 9 DISTINCT FAILURES
UNCAUGHT EXCEPTION
ERROR: (<type 'exceptions.AssertionError'>, AssertionError(' (False) == (True) ',), <traceback object at 0x106b96cf8>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 24364, in act499
    try: assert result == result_REF, " (%s) == (%s) " % (result, result_REF)
Original test has 273 steps

SAVING TEST AS failure.5979.test.9
FINAL VERSION OF TEST, WITH LOGGED REPLAY:
component3 = "alpha"                                                     # STEP 0
component1 = "f"                                                         # STEP 1
component0 = "beta"                                                      # STEP 2
path4 = "/Volumes/ramdisk/test"                                          # STEP 3
str2 = ""                                                                # STEP 4
component2 = "delta"                                                     # STEP 5
component4 = "d"                                                         # STEP 6
path2 = "/Volumes/ramdisk/test"                                          # STEP 7
str1 = ""                                                                # STEP 8
str1 += 'a'                                                              # STEP 9
str2 += 'w'                                                             # STEP 10
str1 += 'l'                                                             # STEP 11
str1 += 'o'                                                             # STEP 12
os0 = newFakeOS()                                                       # STEP 13
str0 = ""                                                               # STEP 14
os0.symlink(path2,path2)                                                # STEP 15
result = os0.path.abspath(path4)                                        # STEP 16
str2 += 'r'                                                             # STEP 17
str0 += 's'                                                             # STEP 18
result = os0.readlink(path4)                                            # STEP 19
str1 += 's'                                                             # STEP 20
str0 += 'e'                                                             # STEP 21
path3 = "/Volumes/ramdisk/test"                                         # STEP 22
str1 += 'h'                                                             # STEP 23
str2 += 'o'                                                             # STEP 24
str2 += 'm'                                                             # STEP 25
str1 += 'a'                                                             # STEP 26
str2 += 'j'                                                             # STEP 27
str0 += 'c'                                                             # STEP 28
str0 += 'v'                                                             # STEP 29
str1 += 'v'                                                             # STEP 30
str1 += 'n'                                                             # STEP 31
str0 += 'f'                                                             # STEP 32
str2 += 'b'                                                             # STEP 33
opener0 = newFakeOpener(os0)                                            # STEP 34
os0.symlink(path4,path2)                                                # STEP 35
result = os0.path.dirname(path3)                                        # STEP 36
str0 += 'k'                                                             # STEP 37
str1 += 'j'                                                             # STEP 38
result = sorted(os0.listdir(path4))                                     # STEP 39
str0 += 'f'                                                             # STEP 40
str1 += 's'                                                             # STEP 41
os0.link(path4,path2)                                                   # STEP 42
file0 = opener0(path3,'w')                                              # STEP 43
result = os0.path.abspath(path2)                                        # STEP 44
os0.remove(path3)                                                       # STEP 45
str0 += 'p'                                                             # STEP 46
str4 = ""                                                               # STEP 47
str2 += 'k'                                                             # STEP 48
os0.link(path2,path3)                                                   # STEP 49
str0 += 'p'                                                             # STEP 50
result = os0.path.abspath(path3)                                        # STEP 51
str4 += 't'                                                             # STEP 52
str1 += 'w'                                                             # STEP 53
result = os0.path.isabs(path4)                                          # STEP 54
result = os0.path.dirname(path4)                                        # STEP 55
str0 += 's'                                                             # STEP 56
os0.mkdir(path2)                                                        # STEP 57
result = os0.path.abspath(path2)                                        # STEP 58
str2 += 'k'                                                             # STEP 59
str1 += " "                                                             # STEP 60
result = os0.path.lexists(path4)                                        # STEP 61
os0.link(path2,path3)                                                   # STEP 62
str1 += 'j'                                                             # STEP 63
str0 += 'f'                                                             # STEP 64
str2 += 'j'                                                             # STEP 65
str4 += 'j'                                                             # STEP 66
str4 += 'b'                                                             # STEP 67
str2 += 'l'                                                             # STEP 68
path2 += "/" + component2                                               # STEP 69
bytes4 = 0                                                              # STEP 70
result = os0.path.isdir(path4)                                          # STEP 71
os0.symlink(path3,path2)                                                # STEP 72
str2 += 'h'                                                             # STEP 73
os0.symlink(path2,path4)                                                # STEP 74
stat0 = os0.stat(path2)                                                 # STEP 75
stat4 = os0.lstat(path2)                                                # STEP 76
str1 += 'y'                                                             # STEP 77
str4 += 'o'                                                             # STEP 78
str1 += 'k'                                                             # STEP 79
os0.symlink(path4,path2)                                                # STEP 80
str2 += 's'                                                             # STEP 81
path4 += "/" + component0                                               # STEP 82
fd0 = os0.open(path4, os.O_CREAT | os.O_WRONLY)                         # STEP 83
result = os0.path.isabs(path3)                                          # STEP 84
str1 += 'x'                                                             # STEP 85
component0 = "b"                                                        # STEP 86
os0.symlink(path2,path3)                                                # STEP 87
str2 += 'a'                                                             # STEP 88
path2 += "/" + component1                                               # STEP 89
str4 += 'x'                                                             # STEP 90
str2 += 'c'                                                             # STEP 91
result = os0.path.dirname(path4)                                        # STEP 92
str0 += 'q'                                                             # STEP 93
stat1 = os0.lstat(path2)                                                # STEP 94
os0.path.getsize(path4)                                                 # STEP 95
result = os0.path.abspath(path4)                                        # STEP 96
str2 += 'h'                                                             # STEP 97
str1 += 'c'                                                             # STEP 98
file0 = opener0(path2,'a')                                              # STEP 99
str1 += 'j'                                                            # STEP 100
stat3 = os0.lstat(path2)                                               # STEP 101
str0 += 'h'                                                            # STEP 102
str0 += 'r'                                                            # STEP 103
str2 += 'm'                                                            # STEP 104
str4 += 'j'                                                            # STEP 105
str2 += 'u'                                                            # STEP 106
result = file0.readlines()                                             # STEP 107
str1 += 'm'                                                            # STEP 108
component1 = "f"                                                       # STEP 109
str4 += 'l'                                                            # STEP 110
str0 += 'x'                                                            # STEP 111
str4 = ""                                                              # STEP 112
str2 += 'c'                                                            # STEP 113
result = os0.readlink(path4)                                           # STEP 114
str4 += 'c'                                                            # STEP 115
os0.link(path4,path2)                                                  # STEP 116
str0 += 'w'                                                            # STEP 117
str4 += 'p'                                                            # STEP 118
str1 += 'n'                                                            # STEP 119
stat1 = os0.stat(path4)                                                # STEP 120
result = os0.path.lexists(path4)                                       # STEP 121
str0 += 'u'                                                            # STEP 122
str1 += 'j'                                                            # STEP 123
str4 += 'v'                                                            # STEP 124
result = file0.read()                                                  # STEP 125
file0.flush()                                                          # STEP 126
component2 = "d"                                                       # STEP 127
str2 += 'o'                                                            # STEP 128
str1 += 'y'                                                            # STEP 129
str0 += 'm'                                                            # STEP 130
os0.rename(path2,path3)                                                # STEP 131
os0.symlink(path3,path4)                                               # STEP 132
str1 += 'g'                                                            # STEP 133
str4 += 'k'                                                            # STEP 134
result = os0.path.islink(path4)                                        # STEP 135
str4 += 'n'                                                            # STEP 136
os0.symlink(path2,path4)                                               # STEP 137
os0.rename(path2,path4)                                                # STEP 138
stat2 = os0.fstat(fd0)                                                 # STEP 139
os0.close(fd0)                                                         # STEP 140
result = os0.path.isdir(path3)                                         # STEP 141
str4 += 'z'                                                            # STEP 142
os0.mkdir(path2)                                                       # STEP 143
os0.symlink(path4,path4)                                               # STEP 144
str4 += 'k'                                                            # STEP 145
str1 += 'z'                                                            # STEP 146
str2 += 't'                                                            # STEP 147
result = stat1.st_size                                                 # STEP 148
str4 += 'z'                                                            # STEP 149
os0.symlink(path3,path3)                                               # STEP 150
os0.link(path2,path3)                                                  # STEP 151
str2 += " "                                                            # STEP 152
file0.flush()                                                          # STEP 153
os0.makedirs(path3)                                                    # STEP 154
str1 += 'x'                                                            # STEP 155
os0.rename(path2,path4)                                                # STEP 156
result = sorted(os0.listdir(path2))                                    # STEP 157
str4 += 'y'                                                            # STEP 158
str0 += 't'                                                            # STEP 159
str2 += 'd'                                                            # STEP 160
result = stat1.st_nlink                                                # STEP 161
os0.link(path3,path4)                                                  # STEP 162
path2 += "/" + component0                                              # STEP 163
os0.symlink(path2,path4)                                               # STEP 164
fd0 = os0.open(path4, os.O_CREAT | os.O_WRONLY | os.O_TRUNC | os.O_EXCL)  # STEP 165
os0.remove(path4)                                                      # STEP 166
str2 = ""                                                              # STEP 167
str1 += 'r'                                                            # STEP 168
os0.rmdir(path2)                                                       # STEP 169
str2 += " "                                                            # STEP 170
str1 += 'h'                                                            # STEP 171
str2 += 'u'                                                            # STEP 172
str2 += 'h'                                                            # STEP 173
result = os0.path.abspath(path2)                                       # STEP 174
str3 = ""                                                              # STEP 175
str3 += 'z'                                                            # STEP 176
str1 += " "                                                            # STEP 177
str1 += 'f'                                                            # STEP 178
path4 += "/" + component3                                              # STEP 179
path2 += "/" + component4                                              # STEP 180
os0.symlink(path4,path4)                                               # STEP 181
os0.write(fd0,str4)                                                    # STEP 182
str2 += 'g'                                                            # STEP 183
file0.flush()                                                          # STEP 184
str2 += 'i'                                                            # STEP 185
path2 += "/" + component0                                              # STEP 186
component3 = "alpha"                                                   # STEP 187
component4 = "b"                                                       # STEP 188
result = os0.path.exists(path3)                                        # STEP 189
str2 += 'd'                                                            # STEP 190
str1 += 'o'                                                            # STEP 191
str3 += 'v'                                                            # STEP 192
str0 += 'b'                                                            # STEP 193
str0 += 'i'                                                            # STEP 194
str4 += 'g'                                                            # STEP 195
component0 = "beta"                                                    # STEP 196
path2 += "/" + component4                                              # STEP 197
str2 += 'y'                                                            # STEP 198
str1 += 'o'                                                            # STEP 199
os0.write(fd0,str0)                                                    # STEP 200
str3 += 'o'                                                            # STEP 201
result = os0.path.abspath(path3)                                       # STEP 202
str2 += 'x'                                                            # STEP 203
str1 += 'b'                                                            # STEP 204
os0.write(fd0,str1)                                                    # STEP 205
component4 = "c"                                                       # STEP 206
path3 = "/Volumes/ramdisk/test"                                        # STEP 207
result = os0.path.isdir(path2)                                         # STEP 208
os0.rename(path4,path3)                                                # STEP 209
str4 += 'j'                                                            # STEP 210
result = stat4.st_nlink                                                # STEP 211
str2 += 't'                                                            # STEP 212
result = file0.readlines()                                             # STEP 213
str3 += 'r'                                                            # STEP 214
str1 += 's'                                                            # STEP 215
str4 += " "                                                            # STEP 216
stat4 = os0.lstat(path2)                                               # STEP 217
path2 += "/" + component3                                              # STEP 218
str0 += 'z'                                                            # STEP 219
os0.link(path4,path3)                                                  # STEP 220
str0 += 'i'                                                            # STEP 221
path3 += "/" + component1                                              # STEP 222
file0.truncate()                                                       # STEP 223
str3 += 'm'                                                            # STEP 224
str3 += 'c'                                                            # STEP 225
str4 += 's'                                                            # STEP 226
str4 += 'p'                                                            # STEP 227
str1 += 'w'                                                            # STEP 228
result = os0.path.exists(path2)                                        # STEP 229
str0 += 'k'                                                            # STEP 230
str0 += 'a'                                                            # STEP 231
str3 += 'n'                                                            # STEP 232
path4 += "/" + component2                                              # STEP 233
os0.rename(path3,path2)                                                # STEP 234
stat1 = os0.lstat(path2)                                               # STEP 235
component1 = "b"                                                       # STEP 236
os0.path.getsize(path4)                                                # STEP 237
str3 += 'i'                                                            # STEP 238
result = os0.path.lexists(path3)                                       # STEP 239
result = os0.path.exists(path2)                                        # STEP 240
str2 += " "                                                            # STEP 241
str0 += 'y'                                                            # STEP 242
os0.symlink(path3,path4)                                               # STEP 243
component2 = "delta"                                                   # STEP 244
os0.rmdir(path4)                                                       # STEP 245
os0.remove(path4)                                                      # STEP 246
os0.makedirs(path2)                                                    # STEP 247
str3 += 'a'                                                            # STEP 248
str2 += 'f'                                                            # STEP 249
component3 = "alpha"                                                   # STEP 250
str1 += 'd'                                                            # STEP 251
result = os0.path.exists(path4)                                        # STEP 252
str2 += 'k'                                                            # STEP 253
str1 += 'g'                                                            # STEP 254
result = sorted(os0.listdir(path3))                                    # STEP 255
str4 += 'n'                                                            # STEP 256
result = os0.path.lexists(path3)                                       # STEP 257
file0.write(str3)                                                      # STEP 258
os0.rename(path3,path2)                                                # STEP 259
os0.symlink(path2,path2)                                               # STEP 260
os0.removedirs(path2)                                                  # STEP 261
str3 += 's'                                                            # STEP 262
str0 += 'b'                                                            # STEP 263
str4 = ""                                                              # STEP 264
os0.path.getsize(path4)                                                # STEP 265
os0.remove(path4)                                                      # STEP 266
path3 += "/" + component2                                              # STEP 267
str2 += 'o'                                                            # STEP 268
file0.write(str0)                                                      # STEP 269
result = os0.path.exists(path2)                                        # STEP 270
os0.rmdir(path2)                                                       # STEP 271
result = os0.path.lexists(path2)                                       # STEP 272
ERROR: (<type 'exceptions.AssertionError'>, AssertionError(' (False) == (True) ',), <traceback object at 0x1067ec050>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 24364, in act499
    try: assert result == result_REF, " (%s) == (%s) " % (result, result_REF)
FAILURE IS NEW, STORING; NOW 10 DISTINCT FAILURES
STOPPING TEST DUE TO TIMEOUT, TERMINATED AT LENGTH 164
STOPPING TESTING DUE TO TIMEOUT
42.8465254552 PERCENT COVERED
60.4010250568 TOTAL RUNTIME
173 EXECUTED
16479 TOTAL TEST OPERATIONS
23.1033577919 TIME SPENT EXECUTING TEST OPERATIONS
0.58614730835 TIME SPENT EVALUATING GUARDS AND CHOOSING ACTIONS
0.0108985900879 TIME SPENT CHECKING PROPERTIES
23.114256382 TOTAL TIME SPENT RUNNING SUT
0.52917766571 TIME SPENT RESTARTING
0.0 TIME SPENT REDUCING TEST CASES
10 FAILED
0 REPEATS OF FAILURES
10 ACTUAL DISTINCT FAILURES

FAILURE 0
component3 = "alpha"                                                     # STEP 0
component1 = "f"                                                         # STEP 1
component0 = "beta"                                                      # STEP 2
path4 = "/Volumes/ramdisk/test"                                          # STEP 3
str2 = ""                                                                # STEP 4
component2 = "delta"                                                     # STEP 5
component4 = "d"                                                         # STEP 6
path2 = "/Volumes/ramdisk/test"                                          # STEP 7
str1 = ""                                                                # STEP 8
str1 += 'a'                                                              # STEP 9
str2 += 'w'                                                             # STEP 10
str1 += 'l'                                                             # STEP 11
str1 += 'o'                                                             # STEP 12
os0 = newFakeOS()                                                       # STEP 13
str0 = ""                                                               # STEP 14
os0.symlink(path2,path2)                                                # STEP 15
result = os0.path.abspath(path4)                                        # STEP 16
str2 += 'r'                                                             # STEP 17
str0 += 's'                                                             # STEP 18
result = os0.readlink(path4)                                            # STEP 19
str1 += 's'                                                             # STEP 20
str0 += 'e'                                                             # STEP 21
path3 = "/Volumes/ramdisk/test"                                         # STEP 22
str1 += 'h'                                                             # STEP 23
str2 += 'o'                                                             # STEP 24
str2 += 'm'                                                             # STEP 25
str1 += 'a'                                                             # STEP 26
str2 += 'j'                                                             # STEP 27
str0 += 'c'                                                             # STEP 28
str0 += 'v'                                                             # STEP 29
str1 += 'v'                                                             # STEP 30
str1 += 'n'                                                             # STEP 31
str0 += 'f'                                                             # STEP 32
str2 += 'b'                                                             # STEP 33
opener0 = newFakeOpener(os0)                                            # STEP 34
os0.symlink(path4,path2)                                                # STEP 35
result = os0.path.dirname(path3)                                        # STEP 36
str0 += 'k'                                                             # STEP 37
str1 += 'j'                                                             # STEP 38
result = sorted(os0.listdir(path4))                                     # STEP 39
str0 += 'f'                                                             # STEP 40
str1 += 's'                                                             # STEP 41
os0.link(path4,path2)                                                   # STEP 42
file0 = opener0(path3,'w')                                              # STEP 43
result = os0.path.abspath(path2)                                        # STEP 44
os0.remove(path3)                                                       # STEP 45
str0 += 'p'                                                             # STEP 46
str4 = ""                                                               # STEP 47
str2 += 'k'                                                             # STEP 48
os0.link(path2,path3)                                                   # STEP 49
str0 += 'p'                                                             # STEP 50
result = os0.path.abspath(path3)                                        # STEP 51
str4 += 't'                                                             # STEP 52
str1 += 'w'                                                             # STEP 53
result = os0.path.isabs(path4)                                          # STEP 54
result = os0.path.dirname(path4)                                        # STEP 55
str0 += 's'                                                             # STEP 56
os0.mkdir(path2)                                                        # STEP 57
result = os0.path.abspath(path2)                                        # STEP 58
str2 += 'k'                                                             # STEP 59
str1 += " "                                                             # STEP 60
result = os0.path.lexists(path4)                                        # STEP 61
os0.link(path2,path3)                                                   # STEP 62
str1 += 'j'                                                             # STEP 63
str0 += 'f'                                                             # STEP 64
str2 += 'j'                                                             # STEP 65
str4 += 'j'                                                             # STEP 66
str4 += 'b'                                                             # STEP 67
str2 += 'l'                                                             # STEP 68
path2 += "/" + component2                                               # STEP 69
bytes4 = 0                                                              # STEP 70
result = os0.path.isdir(path4)                                          # STEP 71
os0.symlink(path3,path2)                                                # STEP 72
str2 += 'h'                                                             # STEP 73
os0.symlink(path2,path4)                                                # STEP 74
stat0 = os0.stat(path2)                                                 # STEP 75
stat4 = os0.lstat(path2)                                                # STEP 76
str1 += 'y'                                                             # STEP 77
str4 += 'o'                                                             # STEP 78
str1 += 'k'                                                             # STEP 79
os0.symlink(path4,path2)                                                # STEP 80
str2 += 's'                                                             # STEP 81
path4 += "/" + component0                                               # STEP 82
fd0 = os0.open(path4, os.O_CREAT | os.O_WRONLY)                         # STEP 83
result = os0.path.isabs(path3)                                          # STEP 84
str1 += 'x'                                                             # STEP 85
component0 = "b"                                                        # STEP 86
os0.symlink(path2,path3)                                                # STEP 87
str2 += 'a'                                                             # STEP 88
path2 += "/" + component1                                               # STEP 89
str4 += 'x'                                                             # STEP 90
str2 += 'c'                                                             # STEP 91
result = os0.path.dirname(path4)                                        # STEP 92
str0 += 'q'                                                             # STEP 93
stat1 = os0.lstat(path2)                                                # STEP 94
os0.path.getsize(path4)                                                 # STEP 95
result = os0.path.abspath(path4)                                        # STEP 96
str2 += 'h'                                                             # STEP 97
str1 += 'c'                                                             # STEP 98
file0 = opener0(path2,'a')                                              # STEP 99
str1 += 'j'                                                            # STEP 100
stat3 = os0.lstat(path2)                                               # STEP 101
str0 += 'h'                                                            # STEP 102
str0 += 'r'                                                            # STEP 103
str2 += 'm'                                                            # STEP 104
str4 += 'j'                                                            # STEP 105
str2 += 'u'                                                            # STEP 106
result = file0.readlines()                                             # STEP 107
str1 += 'm'                                                            # STEP 108
component1 = "f"                                                       # STEP 109
str4 += 'l'                                                            # STEP 110
str0 += 'x'                                                            # STEP 111
str4 = ""                                                              # STEP 112
str2 += 'c'                                                            # STEP 113
result = os0.readlink(path4)                                           # STEP 114
str4 += 'c'                                                            # STEP 115
os0.link(path4,path2)                                                  # STEP 116
str0 += 'w'                                                            # STEP 117
str4 += 'p'                                                            # STEP 118
str1 += 'n'                                                            # STEP 119
stat1 = os0.stat(path4)                                                # STEP 120
result = os0.path.lexists(path4)                                       # STEP 121
str0 += 'u'                                                            # STEP 122
str1 += 'j'                                                            # STEP 123
str4 += 'v'                                                            # STEP 124
result = file0.read()                                                  # STEP 125
file0.flush()                                                          # STEP 126
component2 = "d"                                                       # STEP 127
str2 += 'o'                                                            # STEP 128
str1 += 'y'                                                            # STEP 129
str0 += 'm'                                                            # STEP 130
os0.rename(path2,path3)                                                # STEP 131
os0.symlink(path3,path4)                                               # STEP 132
str1 += 'g'                                                            # STEP 133
str2 += 'e'                                                            # STEP 134
str4 += 'k'                                                            # STEP 135
result = os0.path.islink(path4)                                        # STEP 136
str4 += 'n'                                                            # STEP 137
os0.symlink(path2,path4)                                               # STEP 138
os0.rename(path2,path4)                                                # STEP 139
stat2 = os0.fstat(fd0)                                                 # STEP 140
os0.close(fd0)                                                         # STEP 141
result = os0.path.isdir(path3)                                         # STEP 142
str4 += 'z'                                                            # STEP 143
os0.mkdir(path2)                                                       # STEP 144
os0.symlink(path4,path4)                                               # STEP 145
str4 += 'k'                                                            # STEP 146
str1 += 'z'                                                            # STEP 147
str2 += 't'                                                            # STEP 148
result = stat1.st_size                                                 # STEP 149
str4 += 'z'                                                            # STEP 150
os0.symlink(path3,path3)                                               # STEP 151
os0.link(path2,path3)                                                  # STEP 152
str2 += " "                                                            # STEP 153
file0.flush()                                                          # STEP 154
os0.makedirs(path3)                                                    # STEP 155
str1 += 'x'                                                            # STEP 156
os0.rename(path2,path4)                                                # STEP 157
result = sorted(os0.listdir(path2))                                    # STEP 158
str4 += 'y'                                                            # STEP 159
str0 += 't'                                                            # STEP 160
str2 += 'd'                                                            # STEP 161
result = stat1.st_nlink                                                # STEP 162
os0.link(path3,path4)                                                  # STEP 163
path2 += "/" + component0                                              # STEP 164
os0.symlink(path2,path4)                                               # STEP 165
fd0 = os0.open(path4, os.O_CREAT | os.O_WRONLY | os.O_TRUNC | os.O_EXCL)  # STEP 166
os0.remove(path4)                                                      # STEP 167
str2 = ""                                                              # STEP 168
str1 += 'r'                                                            # STEP 169
os0.rmdir(path2)                                                       # STEP 170
str2 += " "                                                            # STEP 171
str1 += 'h'                                                            # STEP 172
str2 += 'u'                                                            # STEP 173
str2 += 'h'                                                            # STEP 174
result = os0.path.abspath(path2)                                       # STEP 175
str3 = ""                                                              # STEP 176
str3 += 'z'                                                            # STEP 177
str1 += " "                                                            # STEP 178
str1 += 'f'                                                            # STEP 179
path4 += "/" + component3                                              # STEP 180
path2 += "/" + component4                                              # STEP 181
os0.symlink(path4,path4)                                               # STEP 182
os0.write(fd0,str4)                                                    # STEP 183
str2 += 'g'                                                            # STEP 184
file0.flush()                                                          # STEP 185
str2 += 'i'                                                            # STEP 186
path2 += "/" + component0                                              # STEP 187
component3 = "alpha"                                                   # STEP 188
component4 = "b"                                                       # STEP 189
result = os0.path.exists(path3)                                        # STEP 190
str2 += 'd'                                                            # STEP 191
str1 += 'o'                                                            # STEP 192
str3 += 'v'                                                            # STEP 193
str0 += 'b'                                                            # STEP 194
str0 += 'i'                                                            # STEP 195
str4 += 'g'                                                            # STEP 196
component0 = "beta"                                                    # STEP 197
path2 += "/" + component4                                              # STEP 198
str2 += 'y'                                                            # STEP 199
str1 += 'o'                                                            # STEP 200
os0.write(fd0,str0)                                                    # STEP 201
str3 += 'o'                                                            # STEP 202
result = os0.path.abspath(path3)                                       # STEP 203
str2 += 'x'                                                            # STEP 204
str1 += 'b'                                                            # STEP 205
os0.write(fd0,str1)                                                    # STEP 206
component4 = "c"                                                       # STEP 207
path3 = "/Volumes/ramdisk/test"                                        # STEP 208
result = os0.path.isdir(path2)                                         # STEP 209
os0.rename(path4,path3)                                                # STEP 210
str4 += 'j'                                                            # STEP 211
result = stat4.st_nlink                                                # STEP 212
str2 += 't'                                                            # STEP 213
result = file0.readlines()                                             # STEP 214
str3 += 'r'                                                            # STEP 215
str1 += 's'                                                            # STEP 216
str4 += " "                                                            # STEP 217
stat4 = os0.lstat(path2)                                               # STEP 218
path2 += "/" + component3                                              # STEP 219
str0 += 'z'                                                            # STEP 220
os0.link(path4,path3)                                                  # STEP 221
str0 += 'i'                                                            # STEP 222
path3 += "/" + component1                                              # STEP 223
file0.truncate()                                                       # STEP 224
str3 += 'm'                                                            # STEP 225
str3 += 'c'                                                            # STEP 226
str4 += 's'                                                            # STEP 227
str4 += 'p'                                                            # STEP 228
str1 += 'w'                                                            # STEP 229
result = os0.path.exists(path2)                                        # STEP 230
str0 += 'k'                                                            # STEP 231
str0 += 'a'                                                            # STEP 232
str3 += 'n'                                                            # STEP 233
path4 += "/" + component2                                              # STEP 234
os0.rename(path3,path2)                                                # STEP 235
stat1 = os0.lstat(path2)                                               # STEP 236
component1 = "b"                                                       # STEP 237
os0.path.getsize(path4)                                                # STEP 238
str3 += 'i'                                                            # STEP 239
result = os0.path.lexists(path3)                                       # STEP 240
result = os0.path.exists(path2)                                        # STEP 241
str2 += " "                                                            # STEP 242
str0 += 'y'                                                            # STEP 243
os0.symlink(path3,path4)                                               # STEP 244
component2 = "delta"                                                   # STEP 245
os0.rmdir(path4)                                                       # STEP 246
os0.remove(path4)                                                      # STEP 247
os0.makedirs(path2)                                                    # STEP 248
str3 += 'a'                                                            # STEP 249
str2 += 'f'                                                            # STEP 250
component3 = "alpha"                                                   # STEP 251
str1 += 'd'                                                            # STEP 252
result = os0.path.exists(path4)                                        # STEP 253
str2 += 'k'                                                            # STEP 254
str1 += 'g'                                                            # STEP 255
result = sorted(os0.listdir(path3))                                    # STEP 256
str4 += 'n'                                                            # STEP 257
result = os0.path.lexists(path3)                                       # STEP 258
file0.write(str3)                                                      # STEP 259
os0.rename(path3,path2)                                                # STEP 260
os0.symlink(path2,path2)                                               # STEP 261
os0.removedirs(path2)                                                  # STEP 262
str2 += 'd'                                                            # STEP 263
result = os0.readlink(path2)                                           # STEP 264
ERROR: (<type 'exceptions.AssertionError'>, AssertionError(), <traceback object at 0x109994758>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 22173, in act464
    assert (raised == None) == (refRaised == None)
FAILURE 1
component3 = "alpha"                                                     # STEP 0
component1 = "f"                                                         # STEP 1
component0 = "beta"                                                      # STEP 2
path4 = "/Volumes/ramdisk/test"                                          # STEP 3
str2 = ""                                                                # STEP 4
component2 = "delta"                                                     # STEP 5
component4 = "d"                                                         # STEP 6
path2 = "/Volumes/ramdisk/test"                                          # STEP 7
str1 = ""                                                                # STEP 8
str1 += 'a'                                                              # STEP 9
str2 += 'w'                                                             # STEP 10
str1 += 'l'                                                             # STEP 11
str1 += 'o'                                                             # STEP 12
os0 = newFakeOS()                                                       # STEP 13
str0 = ""                                                               # STEP 14
os0.symlink(path2,path2)                                                # STEP 15
result = os0.path.abspath(path4)                                        # STEP 16
str2 += 'r'                                                             # STEP 17
str0 += 's'                                                             # STEP 18
result = os0.readlink(path4)                                            # STEP 19
str1 += 's'                                                             # STEP 20
str0 += 'e'                                                             # STEP 21
path3 = "/Volumes/ramdisk/test"                                         # STEP 22
str1 += 'h'                                                             # STEP 23
str2 += 'o'                                                             # STEP 24
result = os0.readlink(path4)                                            # STEP 25
str1 += 'a'                                                             # STEP 26
str2 += 'j'                                                             # STEP 27
str0 += 'c'                                                             # STEP 28
str0 += 'v'                                                             # STEP 29
str1 += 'v'                                                             # STEP 30
str1 += 'n'                                                             # STEP 31
str0 += 'f'                                                             # STEP 32
str2 += 'b'                                                             # STEP 33
opener0 = newFakeOpener(os0)                                            # STEP 34
os0.symlink(path4,path2)                                                # STEP 35
result = os0.path.dirname(path3)                                        # STEP 36
str0 += 'k'                                                             # STEP 37
str1 += 'j'                                                             # STEP 38
result = sorted(os0.listdir(path4))                                     # STEP 39
str0 += 'f'                                                             # STEP 40
str1 += 's'                                                             # STEP 41
os0.link(path4,path2)                                                   # STEP 42
file0 = opener0(path3,'w')                                              # STEP 43
result = os0.path.abspath(path2)                                        # STEP 44
os0.remove(path3)                                                       # STEP 45
str0 += 'p'                                                             # STEP 46
str4 = ""                                                               # STEP 47
str2 += 'k'                                                             # STEP 48
os0.link(path2,path3)                                                   # STEP 49
str0 += 'p'                                                             # STEP 50
result = os0.path.abspath(path3)                                        # STEP 51
str4 += 't'                                                             # STEP 52
str1 += 'w'                                                             # STEP 53
result = os0.path.isabs(path4)                                          # STEP 54
result = os0.path.dirname(path4)                                        # STEP 55
str0 += 's'                                                             # STEP 56
os0.mkdir(path2)                                                        # STEP 57
result = os0.path.abspath(path2)                                        # STEP 58
str2 += 'k'                                                             # STEP 59
str1 += " "                                                             # STEP 60
result = os0.path.lexists(path4)                                        # STEP 61
os0.link(path2,path3)                                                   # STEP 62
str1 += 'j'                                                             # STEP 63
str0 += 'f'                                                             # STEP 64
str2 += 'j'                                                             # STEP 65
str4 += 'j'                                                             # STEP 66
str4 += 'b'                                                             # STEP 67
str2 += 'l'                                                             # STEP 68
path2 += "/" + component2                                               # STEP 69
bytes4 = 0                                                              # STEP 70
result = os0.path.isdir(path4)                                          # STEP 71
os0.symlink(path3,path2)                                                # STEP 72
str2 += 'h'                                                             # STEP 73
os0.symlink(path2,path4)                                                # STEP 74
stat0 = os0.stat(path2)                                                 # STEP 75
stat4 = os0.lstat(path2)                                                # STEP 76
str1 += 'y'                                                             # STEP 77
str4 += 'o'                                                             # STEP 78
str1 += 'k'                                                             # STEP 79
os0.symlink(path4,path2)                                                # STEP 80
str2 += 's'                                                             # STEP 81
path4 += "/" + component0                                               # STEP 82
fd0 = os0.open(path4, os.O_CREAT | os.O_WRONLY)                         # STEP 83
result = os0.path.isabs(path3)                                          # STEP 84
str1 += 'x'                                                             # STEP 85
component0 = "b"                                                        # STEP 86
os0.symlink(path2,path3)                                                # STEP 87
str2 += 'a'                                                             # STEP 88
path2 += "/" + component1                                               # STEP 89
str4 += 'x'                                                             # STEP 90
str2 += 'c'                                                             # STEP 91
result = os0.path.dirname(path4)                                        # STEP 92
str0 += 'q'                                                             # STEP 93
stat1 = os0.lstat(path2)                                                # STEP 94
os0.path.getsize(path4)                                                 # STEP 95
result = os0.path.abspath(path4)                                        # STEP 96
str2 += 'h'                                                             # STEP 97
str1 += 'c'                                                             # STEP 98
file0 = opener0(path2,'a')                                              # STEP 99
str1 += 'j'                                                            # STEP 100
stat3 = os0.lstat(path2)                                               # STEP 101
str0 += 'h'                                                            # STEP 102
str0 += 'r'                                                            # STEP 103
str2 += 'm'                                                            # STEP 104
str4 += 'j'                                                            # STEP 105
str2 += 'u'                                                            # STEP 106
result = file0.readlines()                                             # STEP 107
str1 += 'm'                                                            # STEP 108
component1 = "f"                                                       # STEP 109
str4 += 'l'                                                            # STEP 110
str0 += 'x'                                                            # STEP 111
str4 = ""                                                              # STEP 112
str2 += 'c'                                                            # STEP 113
result = os0.readlink(path4)                                           # STEP 114
str4 += 'c'                                                            # STEP 115
os0.link(path4,path2)                                                  # STEP 116
str0 += 'w'                                                            # STEP 117
str4 += 'p'                                                            # STEP 118
str1 += 'n'                                                            # STEP 119
stat1 = os0.stat(path4)                                                # STEP 120
result = os0.path.lexists(path4)                                       # STEP 121
str0 += 'u'                                                            # STEP 122
str1 += 'j'                                                            # STEP 123
str4 += 'v'                                                            # STEP 124
result = file0.read()                                                  # STEP 125
file0.flush()                                                          # STEP 126
component2 = "d"                                                       # STEP 127
str2 += 'o'                                                            # STEP 128
str1 += 'y'                                                            # STEP 129
str0 += 'm'                                                            # STEP 130
os0.rename(path2,path3)                                                # STEP 131
os0.symlink(path3,path4)                                               # STEP 132
str1 += 'g'                                                            # STEP 133
str2 += 'e'                                                            # STEP 134
str4 += 'k'                                                            # STEP 135
result = os0.path.islink(path4)                                        # STEP 136
str4 += 'n'                                                            # STEP 137
os0.symlink(path2,path4)                                               # STEP 138
os0.rename(path2,path4)                                                # STEP 139
stat2 = os0.fstat(fd0)                                                 # STEP 140
os0.close(fd0)                                                         # STEP 141
result = os0.path.isdir(path3)                                         # STEP 142
str4 += 'z'                                                            # STEP 143
os0.mkdir(path2)                                                       # STEP 144
os0.symlink(path4,path4)                                               # STEP 145
str4 += 'k'                                                            # STEP 146
str1 += 'z'                                                            # STEP 147
str2 += 't'                                                            # STEP 148
result = stat1.st_size                                                 # STEP 149
str4 += 'z'                                                            # STEP 150
os0.symlink(path3,path3)                                               # STEP 151
os0.link(path2,path3)                                                  # STEP 152
str2 += " "                                                            # STEP 153
file0.flush()                                                          # STEP 154
os0.makedirs(path3)                                                    # STEP 155
str1 += 'x'                                                            # STEP 156
os0.rename(path2,path4)                                                # STEP 157
result = sorted(os0.listdir(path2))                                    # STEP 158
str4 += 'y'                                                            # STEP 159
str0 += 't'                                                            # STEP 160
str2 += 'd'                                                            # STEP 161
result = stat1.st_nlink                                                # STEP 162
os0.link(path3,path4)                                                  # STEP 163
path2 += "/" + component0                                              # STEP 164
os0.symlink(path2,path4)                                               # STEP 165
fd0 = os0.open(path4, os.O_CREAT | os.O_WRONLY | os.O_TRUNC | os.O_EXCL)  # STEP 166
os0.remove(path4)                                                      # STEP 167
str2 = ""                                                              # STEP 168
str1 += 'r'                                                            # STEP 169
os0.rmdir(path2)                                                       # STEP 170
str2 += " "                                                            # STEP 171
str1 += 'h'                                                            # STEP 172
str2 += 'u'                                                            # STEP 173
str2 += 'h'                                                            # STEP 174
result = os0.path.abspath(path2)                                       # STEP 175
str3 = ""                                                              # STEP 176
str3 += 'z'                                                            # STEP 177
str1 += " "                                                            # STEP 178
str1 += 'f'                                                            # STEP 179
path4 += "/" + component3                                              # STEP 180
path2 += "/" + component4                                              # STEP 181
os0.symlink(path4,path4)                                               # STEP 182
os0.write(fd0,str4)                                                    # STEP 183
str2 += 'g'                                                            # STEP 184
file0.flush()                                                          # STEP 185
str2 += 'i'                                                            # STEP 186
path2 += "/" + component0                                              # STEP 187
component3 = "alpha"                                                   # STEP 188
component4 = "b"                                                       # STEP 189
result = os0.path.exists(path3)                                        # STEP 190
str2 += 'd'                                                            # STEP 191
str1 += 'o'                                                            # STEP 192
str3 += 'v'                                                            # STEP 193
str0 += 'b'                                                            # STEP 194
str0 += 'i'                                                            # STEP 195
str4 += 'g'                                                            # STEP 196
component0 = "beta"                                                    # STEP 197
path2 += "/" + component4                                              # STEP 198
str2 += 'y'                                                            # STEP 199
str1 += 'o'                                                            # STEP 200
os0.write(fd0,str0)                                                    # STEP 201
str3 += 'o'                                                            # STEP 202
result = os0.path.abspath(path3)                                       # STEP 203
str2 += 'x'                                                            # STEP 204
str1 += 'b'                                                            # STEP 205
os0.write(fd0,str1)                                                    # STEP 206
component4 = "c"                                                       # STEP 207
path3 = "/Volumes/ramdisk/test"                                        # STEP 208
result = os0.path.isdir(path2)                                         # STEP 209
os0.rename(path4,path3)                                                # STEP 210
str4 += 'j'                                                            # STEP 211
result = stat4.st_nlink                                                # STEP 212
str2 += 't'                                                            # STEP 213
result = file0.readlines()                                             # STEP 214
str3 += 'r'                                                            # STEP 215
str1 += 's'                                                            # STEP 216
str4 += " "                                                            # STEP 217
stat4 = os0.lstat(path2)                                               # STEP 218
path2 += "/" + component3                                              # STEP 219
str0 += 'z'                                                            # STEP 220
os0.link(path4,path3)                                                  # STEP 221
str0 += 'i'                                                            # STEP 222
path3 += "/" + component1                                              # STEP 223
file0.truncate()                                                       # STEP 224
str3 += 'm'                                                            # STEP 225
str3 += 'c'                                                            # STEP 226
str4 += 's'                                                            # STEP 227
str4 += 'p'                                                            # STEP 228
str1 += 'w'                                                            # STEP 229
result = os0.path.exists(path2)                                        # STEP 230
str0 += 'k'                                                            # STEP 231
str0 += 'a'                                                            # STEP 232
str3 += 'n'                                                            # STEP 233
path4 += "/" + component2                                              # STEP 234
os0.rename(path3,path2)                                                # STEP 235
stat1 = os0.lstat(path2)                                               # STEP 236
component1 = "b"                                                       # STEP 237
os0.path.getsize(path4)                                                # STEP 238
str3 += 'i'                                                            # STEP 239
result = os0.path.lexists(path3)                                       # STEP 240
result = os0.path.exists(path2)                                        # STEP 241
str2 += " "                                                            # STEP 242
str0 += 'y'                                                            # STEP 243
os0.symlink(path3,path4)                                               # STEP 244
component2 = "delta"                                                   # STEP 245
os0.rmdir(path4)                                                       # STEP 246
os0.remove(path4)                                                      # STEP 247
os0.makedirs(path2)                                                    # STEP 248
str3 += 'a'                                                            # STEP 249
str2 += 'f'                                                            # STEP 250
component3 = "alpha"                                                   # STEP 251
str1 += 'd'                                                            # STEP 252
result = os0.path.exists(path4)                                        # STEP 253
str2 += 'k'                                                            # STEP 254
str1 += 'g'                                                            # STEP 255
result = sorted(os0.listdir(path3))                                    # STEP 256
str4 += 'n'                                                            # STEP 257
result = os0.path.lexists(path3)                                       # STEP 258
file0.write(str3)                                                      # STEP 259
os0.rename(path3,path2)                                                # STEP 260
file0.truncate()                                                       # STEP 261
os0.symlink(path4,path2)                                               # STEP 262
result = os0.path.abspath(path2)                                       # STEP 263
os0.link(path2,path4)                                                  # STEP 264
str2 += 'q'                                                            # STEP 265
path4 += "/" + component2                                              # STEP 266
os0.link(path3,path2)                                                  # STEP 267
str3 += 'x'                                                            # STEP 268
component2 = "omega"                                                   # STEP 269
str0 += 'b'                                                            # STEP 270
str0 += 'f'                                                            # STEP 271
str2 += 'x'                                                            # STEP 272
str2 += " "                                                            # STEP 273
str3 += 'z'                                                            # STEP 274
str0 += 'r'                                                            # STEP 275
str1 += 'd'                                                            # STEP 276
result = os0.path.lexists(path2)                                       # STEP 277
os0.makedirs(path3)                                                    # STEP 278
result = os0.path.dirname(path2)                                       # STEP 279
path1 = "/Volumes/ramdisk/test"                                        # STEP 280
result = stat2.st_size                                                 # STEP 281
str2 += 'p'                                                            # STEP 282
str4 += 'b'                                                            # STEP 283
str1 += " "                                                            # STEP 284
result = os0.path.isdir(path2)                                         # STEP 285
ERROR: (<type 'exceptions.AssertionError'>, AssertionError(' (True) == (False) ',), <traceback object at 0x1068fc200>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 24664, in act504
    try: assert result == result_REF, " (%s) == (%s) " % (result, result_REF)
FAILURE 2
component3 = "alpha"                                                     # STEP 0
component1 = "f"                                                         # STEP 1
component0 = "beta"                                                      # STEP 2
path4 = "/Volumes/ramdisk/test"                                          # STEP 3
str2 = ""                                                                # STEP 4
component2 = "delta"                                                     # STEP 5
component4 = "d"                                                         # STEP 6
path2 = "/Volumes/ramdisk/test"                                          # STEP 7
str1 = ""                                                                # STEP 8
str1 += 'a'                                                              # STEP 9
str2 += 'w'                                                             # STEP 10
str1 += 'l'                                                             # STEP 11
str1 += 'o'                                                             # STEP 12
os0 = newFakeOS()                                                       # STEP 13
str0 = ""                                                               # STEP 14
os0.symlink(path2,path2)                                                # STEP 15
result = os0.path.abspath(path4)                                        # STEP 16
str2 += 'r'                                                             # STEP 17
str0 += 's'                                                             # STEP 18
result = os0.readlink(path4)                                            # STEP 19
str1 += 's'                                                             # STEP 20
str0 += 'e'                                                             # STEP 21
path3 = "/Volumes/ramdisk/test"                                         # STEP 22
str1 += 'h'                                                             # STEP 23
str2 += 'o'                                                             # STEP 24
str2 += 'm'                                                             # STEP 25
str1 += 'a'                                                             # STEP 26
str2 += 'j'                                                             # STEP 27
str0 += 'c'                                                             # STEP 28
str0 += 'v'                                                             # STEP 29
str1 += 'v'                                                             # STEP 30
str1 += 'n'                                                             # STEP 31
str0 += 'f'                                                             # STEP 32
str2 += 'b'                                                             # STEP 33
opener0 = newFakeOpener(os0)                                            # STEP 34
os0.symlink(path4,path2)                                                # STEP 35
result = os0.path.dirname(path3)                                        # STEP 36
str0 += 'k'                                                             # STEP 37
str1 += 'j'                                                             # STEP 38
result = sorted(os0.listdir(path4))                                     # STEP 39
str0 += 'f'                                                             # STEP 40
str1 += 's'                                                             # STEP 41
os0.link(path4,path2)                                                   # STEP 42
file0 = opener0(path3,'w')                                              # STEP 43
result = os0.path.abspath(path2)                                        # STEP 44
os0.remove(path3)                                                       # STEP 45
str0 += 'p'                                                             # STEP 46
str4 = ""                                                               # STEP 47
str2 += 'k'                                                             # STEP 48
os0.link(path2,path3)                                                   # STEP 49
str0 += 'p'                                                             # STEP 50
result = os0.path.abspath(path3)                                        # STEP 51
str4 += 't'                                                             # STEP 52
str1 += 'w'                                                             # STEP 53
result = os0.path.isabs(path4)                                          # STEP 54
result = os0.path.dirname(path4)                                        # STEP 55
str0 += 's'                                                             # STEP 56
os0.mkdir(path2)                                                        # STEP 57
result = os0.path.abspath(path2)                                        # STEP 58
str2 += 'k'                                                             # STEP 59
str1 += " "                                                             # STEP 60
result = os0.path.lexists(path4)                                        # STEP 61
os0.link(path2,path3)                                                   # STEP 62
str1 += 'j'                                                             # STEP 63
str0 += 'f'                                                             # STEP 64
str2 += 'j'                                                             # STEP 65
str4 += 'j'                                                             # STEP 66
str4 += 'b'                                                             # STEP 67
str2 += 'l'                                                             # STEP 68
path2 += "/" + component2                                               # STEP 69
bytes4 = 0                                                              # STEP 70
result = os0.path.isdir(path4)                                          # STEP 71
os0.symlink(path3,path2)                                                # STEP 72
str2 += 'h'                                                             # STEP 73
os0.symlink(path2,path4)                                                # STEP 74
stat0 = os0.stat(path2)                                                 # STEP 75
stat4 = os0.lstat(path2)                                                # STEP 76
str1 += 'y'                                                             # STEP 77
str4 += 'o'                                                             # STEP 78
str1 += 'k'                                                             # STEP 79
os0.symlink(path4,path2)                                                # STEP 80
str2 += 's'                                                             # STEP 81
path4 += "/" + component0                                               # STEP 82
fd0 = os0.open(path4, os.O_CREAT | os.O_WRONLY)                         # STEP 83
result = os0.path.isabs(path3)                                          # STEP 84
str1 += 'x'                                                             # STEP 85
component0 = "b"                                                        # STEP 86
os0.symlink(path2,path3)                                                # STEP 87
str2 += 'a'                                                             # STEP 88
path2 += "/" + component1                                               # STEP 89
str4 += 'x'                                                             # STEP 90
str2 += 'c'                                                             # STEP 91
result = os0.path.dirname(path4)                                        # STEP 92
str0 += 'q'                                                             # STEP 93
stat1 = os0.lstat(path2)                                                # STEP 94
os0.path.getsize(path4)                                                 # STEP 95
result = os0.path.abspath(path4)                                        # STEP 96
str2 += 'h'                                                             # STEP 97
str1 += 'c'                                                             # STEP 98
file0 = opener0(path2,'a')                                              # STEP 99
str1 += 'j'                                                            # STEP 100
stat3 = os0.lstat(path2)                                               # STEP 101
str0 += 'h'                                                            # STEP 102
str0 += 'r'                                                            # STEP 103
str2 += 'm'                                                            # STEP 104
str4 += 'j'                                                            # STEP 105
str2 += 'u'                                                            # STEP 106
result = file0.readlines()                                             # STEP 107
str1 += 'm'                                                            # STEP 108
component1 = "f"                                                       # STEP 109
str4 += 'l'                                                            # STEP 110
str0 += 'x'                                                            # STEP 111
str4 = ""                                                              # STEP 112
str2 += 'c'                                                            # STEP 113
result = os0.readlink(path4)                                           # STEP 114
str4 += 'c'                                                            # STEP 115
os0.link(path4,path2)                                                  # STEP 116
str0 += 'w'                                                            # STEP 117
str4 += 'p'                                                            # STEP 118
str1 += 'n'                                                            # STEP 119
stat1 = os0.stat(path4)                                                # STEP 120
result = os0.path.lexists(path4)                                       # STEP 121
str0 += 'u'                                                            # STEP 122
str1 += 'j'                                                            # STEP 123
str4 += 'v'                                                            # STEP 124
file0.flush()                                                          # STEP 125
component2 = "d"                                                       # STEP 126
str2 += 'o'                                                            # STEP 127
str1 += 'y'                                                            # STEP 128
str0 += 'm'                                                            # STEP 129
os0.rename(path2,path3)                                                # STEP 130
os0.symlink(path3,path4)                                               # STEP 131
str1 += 'g'                                                            # STEP 132
str2 += 'e'                                                            # STEP 133
str4 += 'k'                                                            # STEP 134
result = os0.path.islink(path4)                                        # STEP 135
str4 += 'n'                                                            # STEP 136
os0.symlink(path2,path4)                                               # STEP 137
os0.rename(path2,path4)                                                # STEP 138
stat2 = os0.fstat(fd0)                                                 # STEP 139
os0.close(fd0)                                                         # STEP 140
result = os0.path.isdir(path3)                                         # STEP 141
str4 += 'z'                                                            # STEP 142
os0.mkdir(path2)                                                       # STEP 143
os0.symlink(path4,path4)                                               # STEP 144
str4 += 'k'                                                            # STEP 145
str1 += 'z'                                                            # STEP 146
str2 += 't'                                                            # STEP 147
result = stat1.st_size                                                 # STEP 148
str4 += 'z'                                                            # STEP 149
os0.symlink(path3,path3)                                               # STEP 150
os0.link(path2,path3)                                                  # STEP 151
str2 += " "                                                            # STEP 152
file0.flush()                                                          # STEP 153
os0.makedirs(path3)                                                    # STEP 154
str1 += 'x'                                                            # STEP 155
os0.rename(path2,path4)                                                # STEP 156
result = sorted(os0.listdir(path2))                                    # STEP 157
str4 += 'y'                                                            # STEP 158
str0 += 't'                                                            # STEP 159
str2 += 'd'                                                            # STEP 160
result = stat1.st_nlink                                                # STEP 161
os0.link(path3,path4)                                                  # STEP 162
path2 += "/" + component0                                              # STEP 163
os0.symlink(path2,path4)                                               # STEP 164
fd0 = os0.open(path4, os.O_CREAT | os.O_WRONLY | os.O_TRUNC | os.O_EXCL)  # STEP 165
os0.remove(path4)                                                      # STEP 166
str2 = ""                                                              # STEP 167
str1 += 'r'                                                            # STEP 168
os0.rmdir(path2)                                                       # STEP 169
str2 += " "                                                            # STEP 170
str1 += 'h'                                                            # STEP 171
str2 += 'u'                                                            # STEP 172
str2 += 'h'                                                            # STEP 173
result = os0.path.abspath(path2)                                       # STEP 174
str3 = ""                                                              # STEP 175
str3 += 'z'                                                            # STEP 176
str1 += " "                                                            # STEP 177
str1 += 'f'                                                            # STEP 178
path4 += "/" + component3                                              # STEP 179
path2 += "/" + component4                                              # STEP 180
os0.symlink(path4,path4)                                               # STEP 181
os0.write(fd0,str4)                                                    # STEP 182
str2 += 'g'                                                            # STEP 183
file0.flush()                                                          # STEP 184
str2 += 'i'                                                            # STEP 185
path2 += "/" + component0                                              # STEP 186
component3 = "alpha"                                                   # STEP 187
component4 = "b"                                                       # STEP 188
result = os0.path.exists(path3)                                        # STEP 189
str2 += 'd'                                                            # STEP 190
str1 += 'o'                                                            # STEP 191
str3 += 'v'                                                            # STEP 192
str0 += 'b'                                                            # STEP 193
str0 += 'i'                                                            # STEP 194
str4 += 'g'                                                            # STEP 195
component0 = "beta"                                                    # STEP 196
path2 += "/" + component4                                              # STEP 197
str2 += 'y'                                                            # STEP 198
str1 += 'o'                                                            # STEP 199
os0.write(fd0,str0)                                                    # STEP 200
str3 += 'o'                                                            # STEP 201
result = os0.path.abspath(path3)                                       # STEP 202
str2 += 'x'                                                            # STEP 203
str1 += 'b'                                                            # STEP 204
os0.write(fd0,str1)                                                    # STEP 205
component4 = "c"                                                       # STEP 206
path3 = "/Volumes/ramdisk/test"                                        # STEP 207
result = os0.path.isdir(path2)                                         # STEP 208
os0.rename(path4,path3)                                                # STEP 209
str4 += 'j'                                                            # STEP 210
result = stat4.st_nlink                                                # STEP 211
str2 += 't'                                                            # STEP 212
result = file0.readlines()                                             # STEP 213
str3 += 'r'                                                            # STEP 214
str1 += 's'                                                            # STEP 215
str4 += " "                                                            # STEP 216
stat4 = os0.lstat(path2)                                               # STEP 217
path2 += "/" + component3                                              # STEP 218
str0 += 'z'                                                            # STEP 219
os0.link(path4,path3)                                                  # STEP 220
str0 += 'i'                                                            # STEP 221
path3 += "/" + component1                                              # STEP 222
file0.truncate()                                                       # STEP 223
str3 += 'm'                                                            # STEP 224
str3 += 'c'                                                            # STEP 225
str4 += 's'                                                            # STEP 226
str4 += 'p'                                                            # STEP 227
str1 += 'w'                                                            # STEP 228
result = os0.path.exists(path2)                                        # STEP 229
str0 += 'k'                                                            # STEP 230
str0 += 'a'                                                            # STEP 231
str3 += 'n'                                                            # STEP 232
path4 += "/" + component2                                              # STEP 233
os0.rename(path3,path2)                                                # STEP 234
stat1 = os0.lstat(path2)                                               # STEP 235
component1 = "b"                                                       # STEP 236
os0.path.getsize(path4)                                                # STEP 237
str3 += 'i'                                                            # STEP 238
result = os0.path.lexists(path3)                                       # STEP 239
result = os0.path.exists(path2)                                        # STEP 240
str2 += " "                                                            # STEP 241
str0 += 'y'                                                            # STEP 242
os0.symlink(path3,path4)                                               # STEP 243
component2 = "delta"                                                   # STEP 244
os0.rmdir(path4)                                                       # STEP 245
os0.remove(path4)                                                      # STEP 246
os0.makedirs(path2)                                                    # STEP 247
str3 += 'a'                                                            # STEP 248
str2 += 'f'                                                            # STEP 249
component3 = "alpha"                                                   # STEP 250
str1 += 'd'                                                            # STEP 251
result = os0.path.exists(path4)                                        # STEP 252
str2 += 'k'                                                            # STEP 253
str1 += 'g'                                                            # STEP 254
result = sorted(os0.listdir(path3))                                    # STEP 255
str4 += 'n'                                                            # STEP 256
result = os0.path.lexists(path3)                                       # STEP 257
file0.write(str3)                                                      # STEP 258
os0.rename(path3,path2)                                                # STEP 259
os0.symlink(path2,path2)                                               # STEP 260
os0.removedirs(path2)                                                  # STEP 261
str1 += 'z'                                                            # STEP 262
str1 += 'i'                                                            # STEP 263
result = os0.path.lexists(path2)                                       # STEP 264
ERROR: (<type 'exceptions.AssertionError'>, AssertionError(' (False) == (True) ',), <traceback object at 0x10a60cb00>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 24364, in act499
    try: assert result == result_REF, " (%s) == (%s) " % (result, result_REF)
FAILURE 3
component3 = "alpha"                                                     # STEP 0
component1 = "f"                                                         # STEP 1
component0 = "beta"                                                      # STEP 2
path4 = "/Volumes/ramdisk/test"                                          # STEP 3
str2 = ""                                                                # STEP 4
component2 = "delta"                                                     # STEP 5
component4 = "d"                                                         # STEP 6
path2 = "/Volumes/ramdisk/test"                                          # STEP 7
str1 = ""                                                                # STEP 8
str1 += 'a'                                                              # STEP 9
str2 += 'w'                                                             # STEP 10
str1 += 'l'                                                             # STEP 11
str1 += 'o'                                                             # STEP 12
os0 = newFakeOS()                                                       # STEP 13
str0 = ""                                                               # STEP 14
os0.symlink(path2,path2)                                                # STEP 15
result = os0.path.abspath(path4)                                        # STEP 16
str2 += 'r'                                                             # STEP 17
str0 += 's'                                                             # STEP 18
result = os0.readlink(path4)                                            # STEP 19
str1 += 's'                                                             # STEP 20
str0 += 'e'                                                             # STEP 21
path3 = "/Volumes/ramdisk/test"                                         # STEP 22
str1 += 'h'                                                             # STEP 23
str2 += 'o'                                                             # STEP 24
str2 += 'm'                                                             # STEP 25
str1 += 'a'                                                             # STEP 26
str2 += 'j'                                                             # STEP 27
str0 += 'c'                                                             # STEP 28
str0 += 'v'                                                             # STEP 29
str1 += 'v'                                                             # STEP 30
str1 += 'n'                                                             # STEP 31
str0 += 'f'                                                             # STEP 32
str2 += 'b'                                                             # STEP 33
opener0 = newFakeOpener(os0)                                            # STEP 34
os0.symlink(path4,path2)                                                # STEP 35
result = os0.path.dirname(path3)                                        # STEP 36
str0 += 'k'                                                             # STEP 37
str1 += 'j'                                                             # STEP 38
result = sorted(os0.listdir(path4))                                     # STEP 39
str0 += 'f'                                                             # STEP 40
str1 += 's'                                                             # STEP 41
os0.link(path4,path2)                                                   # STEP 42
file0 = opener0(path3,'w')                                              # STEP 43
result = os0.path.abspath(path2)                                        # STEP 44
os0.remove(path3)                                                       # STEP 45
str0 += 'p'                                                             # STEP 46
str4 = ""                                                               # STEP 47
str2 += 'k'                                                             # STEP 48
os0.link(path2,path3)                                                   # STEP 49
str0 += 'p'                                                             # STEP 50
result = os0.path.abspath(path3)                                        # STEP 51
str4 += 't'                                                             # STEP 52
str1 += 'w'                                                             # STEP 53
result = os0.path.isabs(path4)                                          # STEP 54
result = os0.path.dirname(path4)                                        # STEP 55
str0 += 's'                                                             # STEP 56
os0.mkdir(path2)                                                        # STEP 57
result = os0.path.abspath(path2)                                        # STEP 58
str2 += 'k'                                                             # STEP 59
str1 += " "                                                             # STEP 60
result = os0.path.lexists(path4)                                        # STEP 61
os0.link(path2,path3)                                                   # STEP 62
str1 += 'j'                                                             # STEP 63
str0 += 'f'                                                             # STEP 64
str2 += 'j'                                                             # STEP 65
str4 += 'j'                                                             # STEP 66
str4 += 'b'                                                             # STEP 67
str2 += 'l'                                                             # STEP 68
path2 += "/" + component2                                               # STEP 69
bytes4 = 0                                                              # STEP 70
result = os0.path.isdir(path4)                                          # STEP 71
os0.symlink(path3,path2)                                                # STEP 72
str2 += 'h'                                                             # STEP 73
os0.symlink(path2,path4)                                                # STEP 74
stat0 = os0.stat(path2)                                                 # STEP 75
stat4 = os0.lstat(path2)                                                # STEP 76
str1 += 'y'                                                             # STEP 77
str4 += 'o'                                                             # STEP 78
str1 += 'k'                                                             # STEP 79
os0.symlink(path4,path2)                                                # STEP 80
str2 += 's'                                                             # STEP 81
path4 += "/" + component0                                               # STEP 82
fd0 = os0.open(path4, os.O_CREAT | os.O_WRONLY)                         # STEP 83
result = os0.path.isabs(path3)                                          # STEP 84
str1 += 'x'                                                             # STEP 85
component0 = "b"                                                        # STEP 86
os0.symlink(path2,path3)                                                # STEP 87
str2 += 'a'                                                             # STEP 88
path2 += "/" + component1                                               # STEP 89
str4 += 'x'                                                             # STEP 90
str2 += 'c'                                                             # STEP 91
result = os0.path.dirname(path4)                                        # STEP 92
str0 += 'q'                                                             # STEP 93
stat1 = os0.lstat(path2)                                                # STEP 94
os0.path.getsize(path4)                                                 # STEP 95
result = os0.path.abspath(path4)                                        # STEP 96
str2 += 'h'                                                             # STEP 97
str1 += 'c'                                                             # STEP 98
file0 = opener0(path2,'a')                                              # STEP 99
str1 += 'j'                                                            # STEP 100
stat3 = os0.lstat(path2)                                               # STEP 101
str0 += 'h'                                                            # STEP 102
str0 += 'r'                                                            # STEP 103
str2 += 'm'                                                            # STEP 104
str4 += 'j'                                                            # STEP 105
str2 += 'u'                                                            # STEP 106
result = file0.readlines()                                             # STEP 107
str1 += 'm'                                                            # STEP 108
component1 = "f"                                                       # STEP 109
str4 += 'l'                                                            # STEP 110
str0 += 'x'                                                            # STEP 111
str4 = ""                                                              # STEP 112
str2 += 'c'                                                            # STEP 113
result = os0.readlink(path4)                                           # STEP 114
str4 += 'c'                                                            # STEP 115
os0.link(path4,path2)                                                  # STEP 116
str0 += 'w'                                                            # STEP 117
str4 += 'p'                                                            # STEP 118
str1 += 'n'                                                            # STEP 119
stat1 = os0.stat(path4)                                                # STEP 120
result = os0.path.lexists(path4)                                       # STEP 121
str0 += 'u'                                                            # STEP 122
str1 += 'j'                                                            # STEP 123
str4 += 'v'                                                            # STEP 124
result = file0.read()                                                  # STEP 125
file0.flush()                                                          # STEP 126
component2 = "d"                                                       # STEP 127
str2 += 'o'                                                            # STEP 128
str1 += 'y'                                                            # STEP 129
str0 += 'm'                                                            # STEP 130
os0.rename(path2,path3)                                                # STEP 131
os0.symlink(path3,path4)                                               # STEP 132
str1 += 'g'                                                            # STEP 133
str2 += 'e'                                                            # STEP 134
str4 += 'k'                                                            # STEP 135
result = os0.path.islink(path4)                                        # STEP 136
str4 += 'n'                                                            # STEP 137
os0.symlink(path2,path4)                                               # STEP 138
os0.rename(path2,path4)                                                # STEP 139
stat2 = os0.fstat(fd0)                                                 # STEP 140
os0.close(fd0)                                                         # STEP 141
result = os0.path.isdir(path3)                                         # STEP 142
str4 += 'z'                                                            # STEP 143
os0.mkdir(path2)                                                       # STEP 144
os0.symlink(path4,path4)                                               # STEP 145
str4 += 'k'                                                            # STEP 146
str1 += 'z'                                                            # STEP 147
str2 += 't'                                                            # STEP 148
result = stat1.st_size                                                 # STEP 149
str4 += 'z'                                                            # STEP 150
os0.symlink(path3,path3)                                               # STEP 151
os0.link(path2,path3)                                                  # STEP 152
str2 += " "                                                            # STEP 153
file0.flush()                                                          # STEP 154
os0.makedirs(path3)                                                    # STEP 155
str1 += 'x'                                                            # STEP 156
os0.rename(path2,path4)                                                # STEP 157
result = sorted(os0.listdir(path2))                                    # STEP 158
str4 += 'y'                                                            # STEP 159
str0 += 't'                                                            # STEP 160
str2 += 'd'                                                            # STEP 161
result = stat1.st_nlink                                                # STEP 162
os0.link(path3,path4)                                                  # STEP 163
path2 += "/" + component0                                              # STEP 164
os0.symlink(path2,path4)                                               # STEP 165
fd0 = os0.open(path4, os.O_CREAT | os.O_WRONLY | os.O_TRUNC | os.O_EXCL)  # STEP 166
os0.remove(path4)                                                      # STEP 167
str2 = ""                                                              # STEP 168
str1 += 'r'                                                            # STEP 169
os0.rmdir(path2)                                                       # STEP 170
str2 += " "                                                            # STEP 171
str1 += 'h'                                                            # STEP 172
str2 += 'u'                                                            # STEP 173
str2 += 'h'                                                            # STEP 174
result = os0.path.abspath(path2)                                       # STEP 175
str3 = ""                                                              # STEP 176
str3 += 'z'                                                            # STEP 177
str1 += " "                                                            # STEP 178
str1 += 'f'                                                            # STEP 179
path4 += "/" + component3                                              # STEP 180
path2 += "/" + component4                                              # STEP 181
os0.symlink(path4,path4)                                               # STEP 182
os0.write(fd0,str4)                                                    # STEP 183
str2 += 'g'                                                            # STEP 184
file0.flush()                                                          # STEP 185
str2 += 'i'                                                            # STEP 186
path2 += "/" + component0                                              # STEP 187
component3 = "alpha"                                                   # STEP 188
component4 = "b"                                                       # STEP 189
result = os0.path.exists(path3)                                        # STEP 190
str2 += 'd'                                                            # STEP 191
str1 += 'o'                                                            # STEP 192
str3 += 'v'                                                            # STEP 193
str0 += 'b'                                                            # STEP 194
str0 += 'i'                                                            # STEP 195
str4 += 'g'                                                            # STEP 196
component0 = "beta"                                                    # STEP 197
path2 += "/" + component4                                              # STEP 198
str2 += 'y'                                                            # STEP 199
str1 += 'o'                                                            # STEP 200
os0.write(fd0,str0)                                                    # STEP 201
str3 += 'o'                                                            # STEP 202
result = os0.path.abspath(path3)                                       # STEP 203
str2 += 'x'                                                            # STEP 204
str1 += 'b'                                                            # STEP 205
os0.write(fd0,str1)                                                    # STEP 206
component4 = "c"                                                       # STEP 207
path3 = "/Volumes/ramdisk/test"                                        # STEP 208
result = os0.path.isdir(path2)                                         # STEP 209
os0.rename(path4,path3)                                                # STEP 210
str4 += 'j'                                                            # STEP 211
result = stat4.st_nlink                                                # STEP 212
str2 += 't'                                                            # STEP 213
result = file0.readlines()                                             # STEP 214
str3 += 'r'                                                            # STEP 215
str1 += 's'                                                            # STEP 216
str4 += " "                                                            # STEP 217
stat4 = os0.lstat(path2)                                               # STEP 218
path2 += "/" + component3                                              # STEP 219
str0 += 'z'                                                            # STEP 220
os0.link(path4,path3)                                                  # STEP 221
str0 += 'i'                                                            # STEP 222
path3 += "/" + component1                                              # STEP 223
file0.truncate()                                                       # STEP 224
str3 += 'm'                                                            # STEP 225
str3 += 'c'                                                            # STEP 226
str4 += 's'                                                            # STEP 227
str4 += 'p'                                                            # STEP 228
str1 += 'w'                                                            # STEP 229
result = os0.path.exists(path2)                                        # STEP 230
str0 += 'k'                                                            # STEP 231
str0 += 'a'                                                            # STEP 232
str3 += 'n'                                                            # STEP 233
path4 += "/" + component2                                              # STEP 234
os0.rename(path3,path2)                                                # STEP 235
stat1 = os0.lstat(path2)                                               # STEP 236
component1 = "b"                                                       # STEP 237
os0.path.getsize(path4)                                                # STEP 238
str3 += 'i'                                                            # STEP 239
result = os0.path.lexists(path3)                                       # STEP 240
result = os0.path.exists(path2)                                        # STEP 241
str2 += " "                                                            # STEP 242
str0 += 'y'                                                            # STEP 243
os0.symlink(path3,path4)                                               # STEP 244
component2 = "delta"                                                   # STEP 245
os0.rmdir(path4)                                                       # STEP 246
os0.remove(path4)                                                      # STEP 247
os0.makedirs(path2)                                                    # STEP 248
str3 += 'a'                                                            # STEP 249
str2 += 'f'                                                            # STEP 250
component3 = "alpha"                                                   # STEP 251
str1 += 'd'                                                            # STEP 252
result = os0.path.exists(path4)                                        # STEP 253
str2 += 'k'                                                            # STEP 254
str1 += 'g'                                                            # STEP 255
result = sorted(os0.listdir(path3))                                    # STEP 256
str4 += 'n'                                                            # STEP 257
result = os0.path.lexists(path3)                                       # STEP 258
file0.write(str3)                                                      # STEP 259
os0.rename(path3,path2)                                                # STEP 260
os0.symlink(path2,path2)                                               # STEP 261
os0.removedirs(path2)                                                  # STEP 262
os0.rmdir(path4)                                                       # STEP 263
str0 += 't'                                                            # STEP 264
result = os0.path.islink(path3)                                        # STEP 265
os0.rename(path2,path3)                                                # STEP 266
str1 += 'l'                                                            # STEP 267
str3 += 'c'                                                            # STEP 268
path2 = "/Volumes/ramdisk/test"                                        # STEP 269
result = os0.path.abspath(path3)                                       # STEP 270
str0 += 'x'                                                            # STEP 271
str0 += 'v'                                                            # STEP 272
str4 += 'c'                                                            # STEP 273
str0 += 'c'                                                            # STEP 274
result = os0.path.isdir(path3)                                         # STEP 275
ERROR: (<type 'exceptions.AssertionError'>, AssertionError(' (False) == (True) ',), <traceback object at 0x10a4323f8>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 24724, in act505
    try: assert result == result_REF, " (%s) == (%s) " % (result, result_REF)
FAILURE 4
component3 = "alpha"                                                     # STEP 0
component1 = "f"                                                         # STEP 1
component0 = "beta"                                                      # STEP 2
path4 = "/Volumes/ramdisk/test"                                          # STEP 3
str2 = ""                                                                # STEP 4
component2 = "delta"                                                     # STEP 5
component4 = "d"                                                         # STEP 6
path2 = "/Volumes/ramdisk/test"                                          # STEP 7
str1 = ""                                                                # STEP 8
str1 += 'a'                                                              # STEP 9
str2 += 'w'                                                             # STEP 10
str1 += 'l'                                                             # STEP 11
str1 += 'o'                                                             # STEP 12
os0 = newFakeOS()                                                       # STEP 13
str0 = ""                                                               # STEP 14
os0.symlink(path2,path2)                                                # STEP 15
result = os0.path.abspath(path4)                                        # STEP 16
str2 += 'r'                                                             # STEP 17
str0 += 's'                                                             # STEP 18
result = os0.readlink(path4)                                            # STEP 19
str1 += 's'                                                             # STEP 20
str0 += 'e'                                                             # STEP 21
path3 = "/Volumes/ramdisk/test"                                         # STEP 22
str1 += 'h'                                                             # STEP 23
str2 += 'o'                                                             # STEP 24
str2 += 'm'                                                             # STEP 25
str1 += 'a'                                                             # STEP 26
str2 += 'j'                                                             # STEP 27
str0 += 'c'                                                             # STEP 28
str0 += 'v'                                                             # STEP 29
str1 += 'v'                                                             # STEP 30
str1 += 'n'                                                             # STEP 31
str0 += 'f'                                                             # STEP 32
str2 += 'b'                                                             # STEP 33
opener0 = newFakeOpener(os0)                                            # STEP 34
os0.symlink(path4,path2)                                                # STEP 35
result = os0.path.dirname(path3)                                        # STEP 36
str0 += 'k'                                                             # STEP 37
str1 += 'j'                                                             # STEP 38
result = sorted(os0.listdir(path4))                                     # STEP 39
str0 += 'f'                                                             # STEP 40
str1 += 's'                                                             # STEP 41
os0.link(path4,path2)                                                   # STEP 42
file0 = opener0(path3,'w')                                              # STEP 43
result = os0.path.abspath(path2)                                        # STEP 44
os0.remove(path3)                                                       # STEP 45
str0 += 'p'                                                             # STEP 46
str4 = ""                                                               # STEP 47
str2 += 'k'                                                             # STEP 48
os0.link(path2,path3)                                                   # STEP 49
str0 += 'p'                                                             # STEP 50
result = os0.path.abspath(path3)                                        # STEP 51
str4 += 't'                                                             # STEP 52
str1 += 'w'                                                             # STEP 53
result = os0.path.isabs(path4)                                          # STEP 54
result = os0.path.dirname(path4)                                        # STEP 55
str0 += 's'                                                             # STEP 56
os0.mkdir(path2)                                                        # STEP 57
result = os0.path.abspath(path2)                                        # STEP 58
str2 += 'k'                                                             # STEP 59
str1 += " "                                                             # STEP 60
result = os0.path.lexists(path4)                                        # STEP 61
os0.link(path2,path3)                                                   # STEP 62
str1 += 'j'                                                             # STEP 63
str0 += 'f'                                                             # STEP 64
str2 += 'j'                                                             # STEP 65
str4 += 'j'                                                             # STEP 66
str4 += 'b'                                                             # STEP 67
str2 += 'l'                                                             # STEP 68
path2 += "/" + component2                                               # STEP 69
bytes4 = 0                                                              # STEP 70
result = os0.path.isdir(path4)                                          # STEP 71
os0.symlink(path3,path2)                                                # STEP 72
str2 += 'h'                                                             # STEP 73
os0.symlink(path2,path4)                                                # STEP 74
stat0 = os0.stat(path2)                                                 # STEP 75
stat4 = os0.lstat(path2)                                                # STEP 76
str1 += 'y'                                                             # STEP 77
str4 += 'o'                                                             # STEP 78
str1 += 'k'                                                             # STEP 79
os0.symlink(path4,path2)                                                # STEP 80
str2 += 's'                                                             # STEP 81
path4 += "/" + component0                                               # STEP 82
fd0 = os0.open(path4, os.O_CREAT | os.O_WRONLY)                         # STEP 83
result = os0.path.isabs(path3)                                          # STEP 84
str1 += 'x'                                                             # STEP 85
component0 = "b"                                                        # STEP 86
os0.symlink(path2,path3)                                                # STEP 87
str2 += 'a'                                                             # STEP 88
path2 += "/" + component1                                               # STEP 89
str4 += 'x'                                                             # STEP 90
str2 += 'c'                                                             # STEP 91
result = os0.path.dirname(path4)                                        # STEP 92
str0 += 'q'                                                             # STEP 93
stat1 = os0.lstat(path2)                                                # STEP 94
os0.path.getsize(path4)                                                 # STEP 95
result = os0.path.abspath(path4)                                        # STEP 96
str2 += 'h'                                                             # STEP 97
str1 += 'c'                                                             # STEP 98
file0 = opener0(path2,'a')                                              # STEP 99
str1 += 'j'                                                            # STEP 100
stat3 = os0.lstat(path2)                                               # STEP 101
str0 += 'h'                                                            # STEP 102
str0 += 'r'                                                            # STEP 103
str2 += 'm'                                                            # STEP 104
str4 += 'j'                                                            # STEP 105
str2 += 'u'                                                            # STEP 106
result = file0.readlines()                                             # STEP 107
str1 += 'm'                                                            # STEP 108
component1 = "f"                                                       # STEP 109
str4 += 'l'                                                            # STEP 110
str0 += 'x'                                                            # STEP 111
str4 = ""                                                              # STEP 112
str2 += 'c'                                                            # STEP 113
result = os0.readlink(path4)                                           # STEP 114
str4 += 'c'                                                            # STEP 115
os0.link(path4,path2)                                                  # STEP 116
str0 += 'w'                                                            # STEP 117
str4 += 'p'                                                            # STEP 118
str1 += 'n'                                                            # STEP 119
stat1 = os0.stat(path4)                                                # STEP 120
result = os0.path.lexists(path4)                                       # STEP 121
str0 += 'u'                                                            # STEP 122
str1 += 'j'                                                            # STEP 123
str4 += 'v'                                                            # STEP 124
result = file0.read()                                                  # STEP 125
file0.flush()                                                          # STEP 126
component2 = "d"                                                       # STEP 127
str2 += 'o'                                                            # STEP 128
str1 += 'y'                                                            # STEP 129
str0 += 'm'                                                            # STEP 130
os0.rename(path2,path3)                                                # STEP 131
os0.symlink(path3,path4)                                               # STEP 132
str1 += 'g'                                                            # STEP 133
str2 += 'e'                                                            # STEP 134
str4 += 'k'                                                            # STEP 135
result = os0.path.islink(path4)                                        # STEP 136
str4 += 'n'                                                            # STEP 137
os0.symlink(path2,path4)                                               # STEP 138
os0.rename(path2,path4)                                                # STEP 139
stat2 = os0.fstat(fd0)                                                 # STEP 140
os0.close(fd0)                                                         # STEP 141
result = os0.path.isdir(path3)                                         # STEP 142
str4 += 'z'                                                            # STEP 143
os0.mkdir(path2)                                                       # STEP 144
os0.symlink(path4,path4)                                               # STEP 145
str4 += 'k'                                                            # STEP 146
str1 += 'z'                                                            # STEP 147
str2 += 't'                                                            # STEP 148
result = stat1.st_size                                                 # STEP 149
str4 += 'z'                                                            # STEP 150
os0.symlink(path3,path3)                                               # STEP 151
os0.link(path2,path3)                                                  # STEP 152
str2 += " "                                                            # STEP 153
file0.flush()                                                          # STEP 154
os0.makedirs(path3)                                                    # STEP 155
str1 += 'x'                                                            # STEP 156
os0.rename(path2,path4)                                                # STEP 157
result = sorted(os0.listdir(path2))                                    # STEP 158
str4 += 'y'                                                            # STEP 159
str0 += 't'                                                            # STEP 160
str2 += 'd'                                                            # STEP 161
result = stat1.st_nlink                                                # STEP 162
os0.link(path3,path4)                                                  # STEP 163
path2 += "/" + component0                                              # STEP 164
os0.symlink(path2,path4)                                               # STEP 165
fd0 = os0.open(path4, os.O_CREAT | os.O_WRONLY | os.O_TRUNC | os.O_EXCL)  # STEP 166
os0.remove(path4)                                                      # STEP 167
str2 = ""                                                              # STEP 168
str1 += 'r'                                                            # STEP 169
os0.rmdir(path2)                                                       # STEP 170
str2 += " "                                                            # STEP 171
str1 += 'h'                                                            # STEP 172
str2 += 'u'                                                            # STEP 173
str2 += 'h'                                                            # STEP 174
result = os0.path.abspath(path2)                                       # STEP 175
str3 = ""                                                              # STEP 176
str3 += 'z'                                                            # STEP 177
str1 += " "                                                            # STEP 178
str1 += 'f'                                                            # STEP 179
path4 += "/" + component3                                              # STEP 180
path2 += "/" + component4                                              # STEP 181
os0.symlink(path4,path4)                                               # STEP 182
os0.write(fd0,str4)                                                    # STEP 183
str2 += 'g'                                                            # STEP 184
file0.flush()                                                          # STEP 185
str2 += 'i'                                                            # STEP 186
path2 += "/" + component0                                              # STEP 187
component3 = "alpha"                                                   # STEP 188
component4 = "b"                                                       # STEP 189
result = os0.path.exists(path3)                                        # STEP 190
str2 += 'd'                                                            # STEP 191
str1 += 'o'                                                            # STEP 192
str3 += 'v'                                                            # STEP 193
str0 += 'b'                                                            # STEP 194
str0 += 'i'                                                            # STEP 195
str4 += 'g'                                                            # STEP 196
component0 = "beta"                                                    # STEP 197
path2 += "/" + component4                                              # STEP 198
str2 += 'y'                                                            # STEP 199
str1 += 'o'                                                            # STEP 200
os0.write(fd0,str0)                                                    # STEP 201
str3 += 'o'                                                            # STEP 202
result = os0.path.abspath(path3)                                       # STEP 203
str2 += 'x'                                                            # STEP 204
str1 += 'b'                                                            # STEP 205
os0.write(fd0,str1)                                                    # STEP 206
component4 = "c"                                                       # STEP 207
path3 = "/Volumes/ramdisk/test"                                        # STEP 208
result = os0.path.isdir(path2)                                         # STEP 209
os0.rename(path4,path3)                                                # STEP 210
str4 += 'j'                                                            # STEP 211
result = stat4.st_nlink                                                # STEP 212
str2 += 't'                                                            # STEP 213
result = file0.readlines()                                             # STEP 214
str3 += 'r'                                                            # STEP 215
str1 += 's'                                                            # STEP 216
str4 += " "                                                            # STEP 217
stat4 = os0.lstat(path2)                                               # STEP 218
path2 += "/" + component3                                              # STEP 219
str0 += 'z'                                                            # STEP 220
os0.link(path4,path3)                                                  # STEP 221
str0 += 'i'                                                            # STEP 222
path3 += "/" + component1                                              # STEP 223
file0.truncate()                                                       # STEP 224
str3 += 'm'                                                            # STEP 225
str3 += 'c'                                                            # STEP 226
str4 += 's'                                                            # STEP 227
str4 += 'p'                                                            # STEP 228
str1 += 'w'                                                            # STEP 229
result = os0.path.exists(path2)                                        # STEP 230
str0 += 'k'                                                            # STEP 231
str0 += 'a'                                                            # STEP 232
str3 += 'n'                                                            # STEP 233
path4 += "/" + component2                                              # STEP 234
os0.rename(path3,path2)                                                # STEP 235
stat1 = os0.lstat(path2)                                               # STEP 236
component1 = "b"                                                       # STEP 237
os0.path.getsize(path4)                                                # STEP 238
str3 += 'i'                                                            # STEP 239
result = os0.path.lexists(path3)                                       # STEP 240
result = os0.path.exists(path2)                                        # STEP 241
str2 += " "                                                            # STEP 242
str0 += 'y'                                                            # STEP 243
os0.symlink(path3,path4)                                               # STEP 244
component2 = "delta"                                                   # STEP 245
os0.rmdir(path4)                                                       # STEP 246
os0.remove(path4)                                                      # STEP 247
os0.makedirs(path2)                                                    # STEP 248
str3 += 'a'                                                            # STEP 249
str2 += 'f'                                                            # STEP 250
component3 = "alpha"                                                   # STEP 251
str1 += 'd'                                                            # STEP 252
result = os0.path.exists(path4)                                        # STEP 253
str2 += 'k'                                                            # STEP 254
str1 += 'g'                                                            # STEP 255
result = sorted(os0.listdir(path3))                                    # STEP 256
str4 += 'n'                                                            # STEP 257
result = os0.path.lexists(path3)                                       # STEP 258
file0.write(str3)                                                      # STEP 259
os0.rename(path3,path2)                                                # STEP 260
os0.symlink(path2,path2)                                               # STEP 261
os0.removedirs(path2)                                                  # STEP 262
str0 += 'p'                                                            # STEP 263
str0 += 'd'                                                            # STEP 264
os0.rename(path3,path2)                                                # STEP 265
path4 = "/Volumes/ramdisk/test"                                        # STEP 266
str2 += 'r'                                                            # STEP 267
str4 += 'y'                                                            # STEP 268
str3 += 'q'                                                            # STEP 269
result = os0.path.lexists(path2)                                       # STEP 270
ERROR: (<type 'exceptions.AssertionError'>, AssertionError(' (False) == (True) ',), <traceback object at 0x1071ef3f8>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 24364, in act499
    try: assert result == result_REF, " (%s) == (%s) " % (result, result_REF)
FAILURE 5
component3 = "alpha"                                                     # STEP 0
component1 = "f"                                                         # STEP 1
component0 = "beta"                                                      # STEP 2
path4 = "/Volumes/ramdisk/test"                                          # STEP 3
str2 = ""                                                                # STEP 4
component2 = "delta"                                                     # STEP 5
component4 = "d"                                                         # STEP 6
path2 = "/Volumes/ramdisk/test"                                          # STEP 7
str1 = ""                                                                # STEP 8
str1 += 'a'                                                              # STEP 9
str2 += 'w'                                                             # STEP 10
str1 += 'l'                                                             # STEP 11
str1 += 'o'                                                             # STEP 12
os0 = newFakeOS()                                                       # STEP 13
str0 = ""                                                               # STEP 14
os0.symlink(path2,path2)                                                # STEP 15
result = os0.path.abspath(path4)                                        # STEP 16
str2 += 'r'                                                             # STEP 17
str0 += 's'                                                             # STEP 18
result = os0.readlink(path4)                                            # STEP 19
str1 += 's'                                                             # STEP 20
str0 += 'e'                                                             # STEP 21
path3 = "/Volumes/ramdisk/test"                                         # STEP 22
str1 += 'h'                                                             # STEP 23
str2 += 'o'                                                             # STEP 24
str2 += 'm'                                                             # STEP 25
str1 += 'a'                                                             # STEP 26
str2 += 'j'                                                             # STEP 27
str0 += 'c'                                                             # STEP 28
str0 += 'v'                                                             # STEP 29
str1 += 'v'                                                             # STEP 30
str1 += 'n'                                                             # STEP 31
str0 += 'f'                                                             # STEP 32
str2 += 'b'                                                             # STEP 33
opener0 = newFakeOpener(os0)                                            # STEP 34
os0.symlink(path4,path2)                                                # STEP 35
result = os0.path.dirname(path3)                                        # STEP 36
str0 += 'k'                                                             # STEP 37
str1 += 'j'                                                             # STEP 38
result = sorted(os0.listdir(path4))                                     # STEP 39
str0 += 'f'                                                             # STEP 40
str1 += 's'                                                             # STEP 41
os0.link(path4,path2)                                                   # STEP 42
file0 = opener0(path3,'w')                                              # STEP 43
result = os0.path.abspath(path2)                                        # STEP 44
os0.remove(path3)                                                       # STEP 45
str0 += 'p'                                                             # STEP 46
str4 = ""                                                               # STEP 47
str2 += 'k'                                                             # STEP 48
os0.link(path2,path3)                                                   # STEP 49
str0 += 'p'                                                             # STEP 50
result = os0.path.abspath(path3)                                        # STEP 51
str4 += 't'                                                             # STEP 52
str1 += 'w'                                                             # STEP 53
result = os0.path.isabs(path4)                                          # STEP 54
result = os0.path.dirname(path4)                                        # STEP 55
str0 += 's'                                                             # STEP 56
os0.mkdir(path2)                                                        # STEP 57
result = os0.path.abspath(path2)                                        # STEP 58
str2 += 'k'                                                             # STEP 59
str1 += " "                                                             # STEP 60
result = os0.path.lexists(path4)                                        # STEP 61
os0.link(path2,path3)                                                   # STEP 62
str1 += 'j'                                                             # STEP 63
str0 += 'f'                                                             # STEP 64
str2 += 'j'                                                             # STEP 65
str4 += 'j'                                                             # STEP 66
str4 += 'b'                                                             # STEP 67
str2 += 'l'                                                             # STEP 68
path2 += "/" + component2                                               # STEP 69
bytes4 = 0                                                              # STEP 70
result = os0.path.isdir(path4)                                          # STEP 71
os0.symlink(path3,path2)                                                # STEP 72
str2 += 'h'                                                             # STEP 73
os0.symlink(path2,path4)                                                # STEP 74
stat0 = os0.stat(path2)                                                 # STEP 75
stat4 = os0.lstat(path2)                                                # STEP 76
str1 += 'y'                                                             # STEP 77
str4 += 'o'                                                             # STEP 78
str1 += 'k'                                                             # STEP 79
os0.symlink(path4,path2)                                                # STEP 80
str2 += 's'                                                             # STEP 81
path4 += "/" + component0                                               # STEP 82
fd0 = os0.open(path4, os.O_CREAT | os.O_WRONLY)                         # STEP 83
result = os0.path.isabs(path3)                                          # STEP 84
str1 += 'x'                                                             # STEP 85
component0 = "b"                                                        # STEP 86
os0.symlink(path2,path3)                                                # STEP 87
str2 += 'a'                                                             # STEP 88
path2 += "/" + component1                                               # STEP 89
str4 += 'x'                                                             # STEP 90
str2 += 'c'                                                             # STEP 91
result = os0.path.dirname(path4)                                        # STEP 92
str0 += 'q'                                                             # STEP 93
stat1 = os0.lstat(path2)                                                # STEP 94
os0.path.getsize(path4)                                                 # STEP 95
result = os0.path.abspath(path4)                                        # STEP 96
str2 += 'h'                                                             # STEP 97
str1 += 'c'                                                             # STEP 98
file0 = opener0(path2,'a')                                              # STEP 99
str1 += 'j'                                                            # STEP 100
stat3 = os0.lstat(path2)                                               # STEP 101
str0 += 'h'                                                            # STEP 102
str0 += 'r'                                                            # STEP 103
str2 += 'm'                                                            # STEP 104
str4 += 'j'                                                            # STEP 105
str2 += 'u'                                                            # STEP 106
result = file0.readlines()                                             # STEP 107
str1 += 'm'                                                            # STEP 108
component1 = "f"                                                       # STEP 109
str4 += 'l'                                                            # STEP 110
str0 += 'x'                                                            # STEP 111
str4 = ""                                                              # STEP 112
str2 += 'c'                                                            # STEP 113
result = os0.readlink(path4)                                           # STEP 114
str4 += 'c'                                                            # STEP 115
os0.link(path4,path2)                                                  # STEP 116
str0 += 'w'                                                            # STEP 117
str4 += 'p'                                                            # STEP 118
str1 += 'n'                                                            # STEP 119
stat1 = os0.stat(path4)                                                # STEP 120
result = os0.path.lexists(path4)                                       # STEP 121
str0 += 'u'                                                            # STEP 122
str1 += 'j'                                                            # STEP 123
str4 += 'v'                                                            # STEP 124
result = file0.read()                                                  # STEP 125
file0.flush()                                                          # STEP 126
component2 = "d"                                                       # STEP 127
str2 += 'o'                                                            # STEP 128
str1 += 'y'                                                            # STEP 129
str0 += 'm'                                                            # STEP 130
os0.rename(path2,path3)                                                # STEP 131
os0.symlink(path3,path4)                                               # STEP 132
str1 += 'g'                                                            # STEP 133
str2 += 'e'                                                            # STEP 134
str4 += 'k'                                                            # STEP 135
result = os0.path.islink(path4)                                        # STEP 136
str4 += 'n'                                                            # STEP 137
os0.symlink(path2,path4)                                               # STEP 138
os0.rename(path2,path4)                                                # STEP 139
stat2 = os0.fstat(fd0)                                                 # STEP 140
os0.close(fd0)                                                         # STEP 141
result = os0.path.isdir(path3)                                         # STEP 142
str4 += 'z'                                                            # STEP 143
os0.mkdir(path2)                                                       # STEP 144
os0.symlink(path4,path4)                                               # STEP 145
str4 += 'k'                                                            # STEP 146
str1 += 'z'                                                            # STEP 147
str2 += 't'                                                            # STEP 148
result = stat1.st_size                                                 # STEP 149
str4 += 'z'                                                            # STEP 150
os0.symlink(path3,path3)                                               # STEP 151
os0.link(path2,path3)                                                  # STEP 152
str2 += " "                                                            # STEP 153
file0.flush()                                                          # STEP 154
os0.makedirs(path3)                                                    # STEP 155
str1 += 'x'                                                            # STEP 156
os0.rename(path2,path4)                                                # STEP 157
result = sorted(os0.listdir(path2))                                    # STEP 158
str4 += 'y'                                                            # STEP 159
str0 += 't'                                                            # STEP 160
str2 += 'd'                                                            # STEP 161
result = stat1.st_nlink                                                # STEP 162
os0.link(path3,path4)                                                  # STEP 163
path2 += "/" + component0                                              # STEP 164
os0.symlink(path2,path4)                                               # STEP 165
fd0 = os0.open(path4, os.O_CREAT | os.O_WRONLY | os.O_TRUNC | os.O_EXCL)  # STEP 166
os0.remove(path4)                                                      # STEP 167
str2 = ""                                                              # STEP 168
str1 += 'r'                                                            # STEP 169
os0.rmdir(path2)                                                       # STEP 170
str2 += " "                                                            # STEP 171
str1 += 'h'                                                            # STEP 172
str2 += 'u'                                                            # STEP 173
str2 += 'h'                                                            # STEP 174
result = os0.path.abspath(path2)                                       # STEP 175
str3 = ""                                                              # STEP 176
str3 += 'z'                                                            # STEP 177
str1 += " "                                                            # STEP 178
str1 += 'f'                                                            # STEP 179
path4 += "/" + component3                                              # STEP 180
path2 += "/" + component4                                              # STEP 181
os0.symlink(path4,path4)                                               # STEP 182
os0.write(fd0,str4)                                                    # STEP 183
str2 += 'g'                                                            # STEP 184
file0.flush()                                                          # STEP 185
str2 += 'i'                                                            # STEP 186
path2 += "/" + component0                                              # STEP 187
component3 = "alpha"                                                   # STEP 188
component4 = "b"                                                       # STEP 189
result = os0.path.exists(path3)                                        # STEP 190
str2 += 'd'                                                            # STEP 191
str1 += 'o'                                                            # STEP 192
str3 += 'v'                                                            # STEP 193
str0 += 'b'                                                            # STEP 194
str0 += 'i'                                                            # STEP 195
str4 += 'g'                                                            # STEP 196
component0 = "beta"                                                    # STEP 197
path2 += "/" + component4                                              # STEP 198
str2 += 'y'                                                            # STEP 199
str1 += 'o'                                                            # STEP 200
os0.write(fd0,str0)                                                    # STEP 201
str3 += 'o'                                                            # STEP 202
result = os0.path.abspath(path3)                                       # STEP 203
str2 += 'x'                                                            # STEP 204
str1 += 'b'                                                            # STEP 205
os0.write(fd0,str1)                                                    # STEP 206
component4 = "c"                                                       # STEP 207
path3 = "/Volumes/ramdisk/test"                                        # STEP 208
result = os0.path.isdir(path2)                                         # STEP 209
os0.rename(path4,path3)                                                # STEP 210
str4 += 'j'                                                            # STEP 211
result = stat4.st_nlink                                                # STEP 212
str2 += 't'                                                            # STEP 213
result = file0.readlines()                                             # STEP 214
str3 += 'r'                                                            # STEP 215
str1 += 's'                                                            # STEP 216
str4 += " "                                                            # STEP 217
stat4 = os0.lstat(path2)                                               # STEP 218
path2 += "/" + component3                                              # STEP 219
str0 += 'z'                                                            # STEP 220
os0.link(path4,path3)                                                  # STEP 221
str0 += 'i'                                                            # STEP 222
path3 += "/" + component1                                              # STEP 223
file0.truncate()                                                       # STEP 224
str3 += 'm'                                                            # STEP 225
str3 += 'c'                                                            # STEP 226
str4 += 's'                                                            # STEP 227
str4 += 'p'                                                            # STEP 228
str1 += 'w'                                                            # STEP 229
result = os0.path.exists(path2)                                        # STEP 230
str0 += 'k'                                                            # STEP 231
str0 += 'a'                                                            # STEP 232
str3 += 'n'                                                            # STEP 233
path4 += "/" + component2                                              # STEP 234
os0.rename(path3,path2)                                                # STEP 235
stat1 = os0.lstat(path2)                                               # STEP 236
component1 = "b"                                                       # STEP 237
os0.path.getsize(path4)                                                # STEP 238
str3 += 'i'                                                            # STEP 239
result = os0.path.lexists(path3)                                       # STEP 240
result = os0.path.exists(path2)                                        # STEP 241
str2 += " "                                                            # STEP 242
str0 += 'y'                                                            # STEP 243
os0.symlink(path3,path4)                                               # STEP 244
component2 = "delta"                                                   # STEP 245
os0.rmdir(path4)                                                       # STEP 246
os0.remove(path4)                                                      # STEP 247
os0.makedirs(path2)                                                    # STEP 248
str3 += 'a'                                                            # STEP 249
str2 += 'f'                                                            # STEP 250
component3 = "alpha"                                                   # STEP 251
str1 += 'd'                                                            # STEP 252
result = os0.path.exists(path4)                                        # STEP 253
str2 += 'k'                                                            # STEP 254
str1 += 'g'                                                            # STEP 255
result = sorted(os0.listdir(path3))                                    # STEP 256
str4 += 'n'                                                            # STEP 257
result = os0.path.lexists(path3)                                       # STEP 258
file0.write(str3)                                                      # STEP 259
os0.rename(path3,path2)                                                # STEP 260
os0.symlink(path2,path2)                                               # STEP 261
os0.removedirs(path2)                                                  # STEP 262
bytes0 = 0                                                             # STEP 263
result = os0.readlink(path3)                                           # STEP 264
os0.rename(path4,path3)                                                # STEP 265
str4 += 't'                                                            # STEP 266
str0 += 's'                                                            # STEP 267
str1 += 's'                                                            # STEP 268
result = os0.path.exists(path4)                                        # STEP 269
result = stat3.st_size                                                 # STEP 270
result = stat4.st_size                                                 # STEP 271
str0 += 'z'                                                            # STEP 272
os0.rename(path4,path3)                                                # STEP 273
os0.symlink(path2,path2)                                               # STEP 274
str0 += 'o'                                                            # STEP 275
str3 += 'q'                                                            # STEP 276
str4 += 'a'                                                            # STEP 277
stat4 = os0.stat(path2)                                                # STEP 278
result = os0.path.lexists(path4)                                       # STEP 279
str0 = ""                                                              # STEP 280
str3 += 'i'                                                            # STEP 281
result = os0.path.exists(path4)                                        # STEP 282
path2 += "/" + component1                                              # STEP 283
path2 += "/" + component0                                              # STEP 284
path3 += "/" + component0                                              # STEP 285
str3 += 'm'                                                            # STEP 286
component0 = "beta"                                                    # STEP 287
str0 += 'x'                                                            # STEP 288
result = stat2.st_size                                                 # STEP 289
str2 += " "                                                            # STEP 290
str0 += 'd'                                                            # STEP 291
str2 += 'w'                                                            # STEP 292
str4 += 'a'                                                            # STEP 293
str3 += 't'                                                            # STEP 294
str2 += 'n'                                                            # STEP 295
os0.mkdir(path3)                                                       # STEP 296
str1 += 'a'                                                            # STEP 297
str4 = ""                                                              # STEP 298
os0.link(path2,path3)                                                  # STEP 299
result = stat1.st_nlink                                                # STEP 300
str0 += 'l'                                                            # STEP 301
str0 += 'x'                                                            # STEP 302
str0 += 'n'                                                            # STEP 303
os0.link(path3,path2)                                                  # STEP 304
str3 += 'a'                                                            # STEP 305
result = sorted(os0.listdir(path2))                                    # STEP 306
str3 += 'i'                                                            # STEP 307
os0.mkdir(path4)                                                       # STEP 308
str0 += 'n'                                                            # STEP 309
str1 += 'o'                                                            # STEP 310
result = os0.path.isdir(path3)                                         # STEP 311
ERROR: (<type 'exceptions.AssertionError'>, AssertionError(' (False) == (True) ',), <traceback object at 0x10a8f8830>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 24724, in act505
    try: assert result == result_REF, " (%s) == (%s) " % (result, result_REF)
FAILURE 6
component3 = "alpha"                                                     # STEP 0
component1 = "f"                                                         # STEP 1
component0 = "beta"                                                      # STEP 2
path4 = "/Volumes/ramdisk/test"                                          # STEP 3
str2 = ""                                                                # STEP 4
component2 = "delta"                                                     # STEP 5
component4 = "d"                                                         # STEP 6
path2 = "/Volumes/ramdisk/test"                                          # STEP 7
str1 = ""                                                                # STEP 8
str1 += 'a'                                                              # STEP 9
str2 += 'w'                                                             # STEP 10
str1 += 'l'                                                             # STEP 11
str1 += 'o'                                                             # STEP 12
os0 = newFakeOS()                                                       # STEP 13
str0 = ""                                                               # STEP 14
os0.symlink(path2,path2)                                                # STEP 15
result = os0.path.abspath(path4)                                        # STEP 16
str2 += 'r'                                                             # STEP 17
str0 += 's'                                                             # STEP 18
result = os0.readlink(path4)                                            # STEP 19
str1 += 's'                                                             # STEP 20
str0 += 'e'                                                             # STEP 21
path3 = "/Volumes/ramdisk/test"                                         # STEP 22
str1 += 'h'                                                             # STEP 23
str2 += 'o'                                                             # STEP 24
str2 += 'm'                                                             # STEP 25
str1 += 'a'                                                             # STEP 26
str2 += 'j'                                                             # STEP 27
str0 += 'c'                                                             # STEP 28
str0 += 'v'                                                             # STEP 29
str1 += 'v'                                                             # STEP 30
str1 += 'n'                                                             # STEP 31
str0 += 'f'                                                             # STEP 32
str2 += 'b'                                                             # STEP 33
opener0 = newFakeOpener(os0)                                            # STEP 34
os0.symlink(path4,path2)                                                # STEP 35
result = os0.path.dirname(path3)                                        # STEP 36
str0 += 'k'                                                             # STEP 37
str1 += 'j'                                                             # STEP 38
result = sorted(os0.listdir(path4))                                     # STEP 39
str0 += 'f'                                                             # STEP 40
str1 += 's'                                                             # STEP 41
os0.link(path4,path2)                                                   # STEP 42
file0 = opener0(path3,'w')                                              # STEP 43
result = os0.path.abspath(path2)                                        # STEP 44
os0.remove(path3)                                                       # STEP 45
str0 += 'p'                                                             # STEP 46
str4 = ""                                                               # STEP 47
str2 += 'k'                                                             # STEP 48
os0.link(path2,path3)                                                   # STEP 49
str0 += 'p'                                                             # STEP 50
result = os0.path.abspath(path3)                                        # STEP 51
str4 += 't'                                                             # STEP 52
str1 += 'w'                                                             # STEP 53
result = os0.path.isabs(path4)                                          # STEP 54
result = os0.path.dirname(path4)                                        # STEP 55
str0 += 's'                                                             # STEP 56
os0.mkdir(path2)                                                        # STEP 57
result = os0.path.abspath(path2)                                        # STEP 58
str2 += 'k'                                                             # STEP 59
str1 += " "                                                             # STEP 60
result = os0.path.lexists(path4)                                        # STEP 61
os0.link(path2,path3)                                                   # STEP 62
str1 += 'j'                                                             # STEP 63
str0 += 'f'                                                             # STEP 64
str2 += 'j'                                                             # STEP 65
str4 += 'j'                                                             # STEP 66
str4 += 'b'                                                             # STEP 67
str2 += 'l'                                                             # STEP 68
path2 += "/" + component2                                               # STEP 69
bytes4 = 0                                                              # STEP 70
result = os0.path.isdir(path4)                                          # STEP 71
os0.symlink(path3,path2)                                                # STEP 72
str2 += 'h'                                                             # STEP 73
os0.symlink(path2,path4)                                                # STEP 74
stat0 = os0.stat(path2)                                                 # STEP 75
stat4 = os0.lstat(path2)                                                # STEP 76
str1 += 'y'                                                             # STEP 77
str4 += 'o'                                                             # STEP 78
str1 += 'k'                                                             # STEP 79
os0.symlink(path4,path2)                                                # STEP 80
str2 += 's'                                                             # STEP 81
path4 += "/" + component0                                               # STEP 82
fd0 = os0.open(path4, os.O_CREAT | os.O_WRONLY)                         # STEP 83
result = os0.path.isabs(path3)                                          # STEP 84
str1 += 'x'                                                             # STEP 85
component0 = "b"                                                        # STEP 86
os0.symlink(path2,path3)                                                # STEP 87
str2 += 'a'                                                             # STEP 88
path2 += "/" + component1                                               # STEP 89
str4 += 'x'                                                             # STEP 90
str2 += 'c'                                                             # STEP 91
result = os0.path.dirname(path4)                                        # STEP 92
str0 += 'q'                                                             # STEP 93
stat1 = os0.lstat(path2)                                                # STEP 94
os0.path.getsize(path4)                                                 # STEP 95
result = os0.path.abspath(path4)                                        # STEP 96
str2 += 'h'                                                             # STEP 97
str1 += 'c'                                                             # STEP 98
file0 = opener0(path2,'a')                                              # STEP 99
str1 += 'j'                                                            # STEP 100
stat3 = os0.lstat(path2)                                               # STEP 101
str0 += 'r'                                                            # STEP 102
str0 += 'r'                                                            # STEP 103
str2 += 'm'                                                            # STEP 104
str4 += 'j'                                                            # STEP 105
str2 += 'u'                                                            # STEP 106
result = file0.readlines()                                             # STEP 107
str1 += 'm'                                                            # STEP 108
component1 = "f"                                                       # STEP 109
str4 += 'l'                                                            # STEP 110
str0 += 'x'                                                            # STEP 111
str4 = ""                                                              # STEP 112
str2 += 'c'                                                            # STEP 113
result = os0.readlink(path4)                                           # STEP 114
str4 += 'c'                                                            # STEP 115
os0.link(path4,path2)                                                  # STEP 116
str0 += 'w'                                                            # STEP 117
str4 += 'p'                                                            # STEP 118
str1 += 'n'                                                            # STEP 119
stat1 = os0.stat(path4)                                                # STEP 120
result = os0.path.lexists(path4)                                       # STEP 121
str0 += 'u'                                                            # STEP 122
str1 += 'j'                                                            # STEP 123
str4 += 'v'                                                            # STEP 124
result = file0.read()                                                  # STEP 125
file0.flush()                                                          # STEP 126
component2 = "d"                                                       # STEP 127
str2 += 'o'                                                            # STEP 128
str1 += 'y'                                                            # STEP 129
str0 += 'm'                                                            # STEP 130
os0.rename(path2,path3)                                                # STEP 131
os0.symlink(path3,path4)                                               # STEP 132
str1 += 'g'                                                            # STEP 133
str2 += 'e'                                                            # STEP 134
str4 += 'k'                                                            # STEP 135
result = os0.path.islink(path4)                                        # STEP 136
str4 += 'n'                                                            # STEP 137
os0.symlink(path2,path4)                                               # STEP 138
os0.rename(path2,path4)                                                # STEP 139
stat2 = os0.fstat(fd0)                                                 # STEP 140
os0.close(fd0)                                                         # STEP 141
result = os0.path.isdir(path3)                                         # STEP 142
str4 += 'z'                                                            # STEP 143
os0.mkdir(path2)                                                       # STEP 144
os0.symlink(path4,path4)                                               # STEP 145
str4 += 'k'                                                            # STEP 146
str1 += 'z'                                                            # STEP 147
str2 += 't'                                                            # STEP 148
result = stat1.st_size                                                 # STEP 149
str4 += 'z'                                                            # STEP 150
os0.symlink(path3,path3)                                               # STEP 151
os0.link(path2,path3)                                                  # STEP 152
str2 += " "                                                            # STEP 153
file0.flush()                                                          # STEP 154
os0.makedirs(path3)                                                    # STEP 155
str1 += 'x'                                                            # STEP 156
os0.rename(path2,path4)                                                # STEP 157
result = sorted(os0.listdir(path2))                                    # STEP 158
str4 += 'y'                                                            # STEP 159
str0 += 't'                                                            # STEP 160
str2 += 'd'                                                            # STEP 161
result = stat1.st_nlink                                                # STEP 162
os0.link(path3,path4)                                                  # STEP 163
path2 += "/" + component0                                              # STEP 164
os0.symlink(path2,path4)                                               # STEP 165
fd0 = os0.open(path4, os.O_CREAT | os.O_WRONLY | os.O_TRUNC | os.O_EXCL)  # STEP 166
os0.remove(path4)                                                      # STEP 167
str2 = ""                                                              # STEP 168
str1 += 'r'                                                            # STEP 169
os0.rmdir(path2)                                                       # STEP 170
str2 += " "                                                            # STEP 171
str1 += 'h'                                                            # STEP 172
str2 += 'u'                                                            # STEP 173
str2 += 'h'                                                            # STEP 174
result = os0.path.abspath(path2)                                       # STEP 175
str3 = ""                                                              # STEP 176
str3 += 'z'                                                            # STEP 177
str1 += " "                                                            # STEP 178
str1 += 'f'                                                            # STEP 179
path4 += "/" + component3                                              # STEP 180
path2 += "/" + component4                                              # STEP 181
os0.symlink(path4,path4)                                               # STEP 182
os0.write(fd0,str4)                                                    # STEP 183
str2 += 'g'                                                            # STEP 184
file0.flush()                                                          # STEP 185
str2 += 'i'                                                            # STEP 186
path2 += "/" + component0                                              # STEP 187
component3 = "alpha"                                                   # STEP 188
component4 = "b"                                                       # STEP 189
result = os0.path.exists(path3)                                        # STEP 190
str2 += 'd'                                                            # STEP 191
str1 += 'o'                                                            # STEP 192
str3 += 'v'                                                            # STEP 193
str0 += 'b'                                                            # STEP 194
str0 += 'i'                                                            # STEP 195
str4 += 'g'                                                            # STEP 196
component0 = "beta"                                                    # STEP 197
path2 += "/" + component4                                              # STEP 198
str2 += 'y'                                                            # STEP 199
str1 += 'o'                                                            # STEP 200
os0.write(fd0,str0)                                                    # STEP 201
str3 += 'o'                                                            # STEP 202
result = os0.path.abspath(path3)                                       # STEP 203
str2 += 'x'                                                            # STEP 204
str1 += 'b'                                                            # STEP 205
os0.write(fd0,str1)                                                    # STEP 206
component4 = "c"                                                       # STEP 207
path3 = "/Volumes/ramdisk/test"                                        # STEP 208
result = os0.path.isdir(path2)                                         # STEP 209
os0.rename(path4,path3)                                                # STEP 210
str4 += 'j'                                                            # STEP 211
result = stat4.st_nlink                                                # STEP 212
str2 += 't'                                                            # STEP 213
result = file0.readlines()                                             # STEP 214
str3 += 'r'                                                            # STEP 215
str1 += 's'                                                            # STEP 216
str4 += " "                                                            # STEP 217
stat4 = os0.lstat(path2)                                               # STEP 218
path2 += "/" + component3                                              # STEP 219
str0 += 'z'                                                            # STEP 220
os0.link(path4,path3)                                                  # STEP 221
str0 += 'i'                                                            # STEP 222
path3 += "/" + component1                                              # STEP 223
file0.truncate()                                                       # STEP 224
str3 += 'm'                                                            # STEP 225
str3 += 'c'                                                            # STEP 226
str4 += 's'                                                            # STEP 227
str4 += 'p'                                                            # STEP 228
str1 += 'w'                                                            # STEP 229
result = os0.path.exists(path2)                                        # STEP 230
str0 += 'k'                                                            # STEP 231
str0 += 'a'                                                            # STEP 232
str3 += 'n'                                                            # STEP 233
path4 += "/" + component2                                              # STEP 234
os0.rename(path3,path2)                                                # STEP 235
stat1 = os0.lstat(path2)                                               # STEP 236
component1 = "b"                                                       # STEP 237
os0.path.getsize(path4)                                                # STEP 238
str3 += 'i'                                                            # STEP 239
result = os0.path.lexists(path3)                                       # STEP 240
result = os0.path.exists(path2)                                        # STEP 241
str2 += " "                                                            # STEP 242
str0 += 'y'                                                            # STEP 243
os0.symlink(path3,path4)                                               # STEP 244
component2 = "delta"                                                   # STEP 245
os0.rmdir(path4)                                                       # STEP 246
os0.remove(path4)                                                      # STEP 247
os0.makedirs(path2)                                                    # STEP 248
str3 += 'a'                                                            # STEP 249
str2 += 'f'                                                            # STEP 250
component3 = "alpha"                                                   # STEP 251
str1 += 'd'                                                            # STEP 252
result = os0.path.exists(path4)                                        # STEP 253
str2 += 'k'                                                            # STEP 254
str1 += 'g'                                                            # STEP 255
result = sorted(os0.listdir(path3))                                    # STEP 256
str4 += 'n'                                                            # STEP 257
result = os0.path.lexists(path3)                                       # STEP 258
file0.write(str3)                                                      # STEP 259
os0.rename(path3,path2)                                                # STEP 260
os0.symlink(path2,path2)                                               # STEP 261
os0.removedirs(path2)                                                  # STEP 262
str3 += 'y'                                                            # STEP 263
str0 += 's'                                                            # STEP 264
result = os0.path.dirname(path4)                                       # STEP 265
os0.symlink(path3,path2)                                               # STEP 266
str0 += 'o'                                                            # STEP 267
result = os0.path.isdir(path2)                                         # STEP 268
result = file0.read(bytes4)                                            # STEP 269
str2 += 'i'                                                            # STEP 270
str2 += 'a'                                                            # STEP 271
os0.mkdir(path3)                                                       # STEP 272
str3 += 'g'                                                            # STEP 273
os0.rmdir(path4)                                                       # STEP 274
os0.rename(path3,path4)                                                # STEP 275
str3 += 'k'                                                            # STEP 276
str2 += 'q'                                                            # STEP 277
str3 += 'r'                                                            # STEP 278
str2 += 'n'                                                            # STEP 279
path4 += "/" + component2                                              # STEP 280
str0 += 'z'                                                            # STEP 281
os0.symlink(path2,path3)                                               # STEP 282
os0.rmdir(path2)                                                       # STEP 283
str4 += " "                                                            # STEP 284
str2 += 'k'                                                            # STEP 285
str2 += 'i'                                                            # STEP 286
os0.removedirs(path2)                                                  # STEP 287
str2 += 'o'                                                            # STEP 288
str0 += 'j'                                                            # STEP 289
os0.symlink(path2,path2)                                               # STEP 290
os0.rename(path4,path2)                                                # STEP 291
os0.write(fd0,str4)                                                    # STEP 292
component2 = "h"                                                       # STEP 293
os0.symlink(path3,path2)                                               # STEP 294
result = os0.path.abspath(path2)                                       # STEP 295
result = sorted(os0.listdir(path2))                                    # STEP 296
os0.rename(path2,path4)                                                # STEP 297
str0 += 'e'                                                            # STEP 298
str3 = ""                                                              # STEP 299
str4 += 'a'                                                            # STEP 300
path0 = "/Volumes/ramdisk/test"                                        # STEP 301
result = os0.readlink(path2)                                           # STEP 302
ERROR: (<type 'exceptions.AssertionError'>, AssertionError(), <traceback object at 0x10661f248>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 22173, in act464
    assert (raised == None) == (refRaised == None)
FAILURE 7
component3 = "alpha"                                                     # STEP 0
component1 = "f"                                                         # STEP 1
component0 = "beta"                                                      # STEP 2
path4 = "/Volumes/ramdisk/test"                                          # STEP 3
str2 = ""                                                                # STEP 4
component2 = "delta"                                                     # STEP 5
component4 = "d"                                                         # STEP 6
path2 = "/Volumes/ramdisk/test"                                          # STEP 7
str1 = ""                                                                # STEP 8
str1 += 'a'                                                              # STEP 9
str2 += 'w'                                                             # STEP 10
str1 += 'l'                                                             # STEP 11
str1 += 'o'                                                             # STEP 12
os0 = newFakeOS()                                                       # STEP 13
str0 = ""                                                               # STEP 14
os0.symlink(path2,path2)                                                # STEP 15
result = os0.path.abspath(path4)                                        # STEP 16
str2 += 'r'                                                             # STEP 17
str0 += 's'                                                             # STEP 18
result = os0.readlink(path4)                                            # STEP 19
str1 += 's'                                                             # STEP 20
str0 += 'e'                                                             # STEP 21
path3 = "/Volumes/ramdisk/test"                                         # STEP 22
str1 += 'h'                                                             # STEP 23
str2 += 'o'                                                             # STEP 24
str2 += 'm'                                                             # STEP 25
str1 += 'a'                                                             # STEP 26
str2 += 'j'                                                             # STEP 27
str0 += 'c'                                                             # STEP 28
str0 += 'v'                                                             # STEP 29
str1 += 'v'                                                             # STEP 30
str1 += 'n'                                                             # STEP 31
str0 += 'f'                                                             # STEP 32
str2 += 'b'                                                             # STEP 33
opener0 = newFakeOpener(os0)                                            # STEP 34
os0.symlink(path4,path2)                                                # STEP 35
result = os0.path.dirname(path3)                                        # STEP 36
str0 += 'k'                                                             # STEP 37
str1 += 'j'                                                             # STEP 38
result = sorted(os0.listdir(path4))                                     # STEP 39
str0 += 'f'                                                             # STEP 40
str1 += 's'                                                             # STEP 41
os0.link(path4,path2)                                                   # STEP 42
file0 = opener0(path3,'w')                                              # STEP 43
result = os0.path.abspath(path2)                                        # STEP 44
os0.remove(path3)                                                       # STEP 45
str0 += 'p'                                                             # STEP 46
str4 = ""                                                               # STEP 47
str2 += 'k'                                                             # STEP 48
os0.link(path2,path3)                                                   # STEP 49
str0 += 'p'                                                             # STEP 50
result = os0.path.abspath(path3)                                        # STEP 51
str4 += 't'                                                             # STEP 52
str1 += 'w'                                                             # STEP 53
result = os0.path.isabs(path4)                                          # STEP 54
result = os0.path.dirname(path4)                                        # STEP 55
str0 += 's'                                                             # STEP 56
os0.mkdir(path2)                                                        # STEP 57
result = os0.path.abspath(path2)                                        # STEP 58
str2 += 'k'                                                             # STEP 59
str1 += " "                                                             # STEP 60
result = os0.path.lexists(path4)                                        # STEP 61
os0.link(path2,path3)                                                   # STEP 62
str1 += 'j'                                                             # STEP 63
str0 += 'f'                                                             # STEP 64
str2 += 'j'                                                             # STEP 65
str4 += 'j'                                                             # STEP 66
str4 += 'b'                                                             # STEP 67
str2 += 'l'                                                             # STEP 68
path2 += "/" + component2                                               # STEP 69
bytes4 = 0                                                              # STEP 70
result = os0.path.isdir(path4)                                          # STEP 71
os0.symlink(path3,path2)                                                # STEP 72
str2 += 'h'                                                             # STEP 73
os0.symlink(path2,path4)                                                # STEP 74
stat0 = os0.stat(path2)                                                 # STEP 75
stat4 = os0.lstat(path2)                                                # STEP 76
str1 += 'y'                                                             # STEP 77
str4 += 'o'                                                             # STEP 78
str1 += 'k'                                                             # STEP 79
os0.symlink(path4,path2)                                                # STEP 80
str2 += 's'                                                             # STEP 81
path4 += "/" + component0                                               # STEP 82
fd0 = os0.open(path4, os.O_CREAT | os.O_WRONLY)                         # STEP 83
result = os0.path.isabs(path3)                                          # STEP 84
str1 += 'x'                                                             # STEP 85
component0 = "b"                                                        # STEP 86
os0.symlink(path2,path3)                                                # STEP 87
str2 += 'a'                                                             # STEP 88
path2 += "/" + component1                                               # STEP 89
str4 += 'x'                                                             # STEP 90
str2 += 'c'                                                             # STEP 91
result = os0.path.dirname(path4)                                        # STEP 92
str0 += 'q'                                                             # STEP 93
stat1 = os0.lstat(path2)                                                # STEP 94
os0.path.getsize(path4)                                                 # STEP 95
result = os0.path.abspath(path4)                                        # STEP 96
str2 += 'h'                                                             # STEP 97
str1 += 'c'                                                             # STEP 98
file0 = opener0(path2,'a')                                              # STEP 99
str1 += 'j'                                                            # STEP 100
stat3 = os0.lstat(path2)                                               # STEP 101
str0 += 'h'                                                            # STEP 102
str0 += 'r'                                                            # STEP 103
str2 += 'm'                                                            # STEP 104
str4 += 'j'                                                            # STEP 105
str2 += 'u'                                                            # STEP 106
result = file0.readlines()                                             # STEP 107
str1 += 'm'                                                            # STEP 108
component1 = "f"                                                       # STEP 109
str4 += 'l'                                                            # STEP 110
str0 += 'x'                                                            # STEP 111
str4 = ""                                                              # STEP 112
str2 += 'c'                                                            # STEP 113
result = os0.readlink(path4)                                           # STEP 114
str4 += 'c'                                                            # STEP 115
os0.link(path4,path2)                                                  # STEP 116
str0 += 'w'                                                            # STEP 117
str4 += 'p'                                                            # STEP 118
str1 += 'n'                                                            # STEP 119
stat1 = os0.stat(path4)                                                # STEP 120
result = os0.path.lexists(path4)                                       # STEP 121
str0 += 'u'                                                            # STEP 122
str1 += 'j'                                                            # STEP 123
str4 += 'v'                                                            # STEP 124
result = file0.read()                                                  # STEP 125
file0.flush()                                                          # STEP 126
component2 = "d"                                                       # STEP 127
str2 += 'o'                                                            # STEP 128
str1 += 'y'                                                            # STEP 129
str0 += 'm'                                                            # STEP 130
os0.rename(path2,path3)                                                # STEP 131
os0.symlink(path3,path4)                                               # STEP 132
str1 += 'g'                                                            # STEP 133
str2 += 'e'                                                            # STEP 134
str4 += 'k'                                                            # STEP 135
result = os0.path.islink(path4)                                        # STEP 136
str4 += 'n'                                                            # STEP 137
os0.symlink(path2,path4)                                               # STEP 138
os0.rename(path2,path4)                                                # STEP 139
stat2 = os0.fstat(fd0)                                                 # STEP 140
os0.close(fd0)                                                         # STEP 141
result = os0.path.isdir(path3)                                         # STEP 142
str4 += 'z'                                                            # STEP 143
os0.mkdir(path2)                                                       # STEP 144
os0.symlink(path4,path4)                                               # STEP 145
str4 += 'k'                                                            # STEP 146
str1 += 'z'                                                            # STEP 147
str2 += 't'                                                            # STEP 148
result = stat1.st_size                                                 # STEP 149
str4 += 'z'                                                            # STEP 150
os0.symlink(path3,path3)                                               # STEP 151
os0.link(path2,path3)                                                  # STEP 152
str2 += " "                                                            # STEP 153
file0.flush()                                                          # STEP 154
os0.makedirs(path3)                                                    # STEP 155
str1 += 'x'                                                            # STEP 156
os0.rename(path2,path4)                                                # STEP 157
result = sorted(os0.listdir(path2))                                    # STEP 158
str4 += 'y'                                                            # STEP 159
str0 += 't'                                                            # STEP 160
str2 += 'd'                                                            # STEP 161
result = stat1.st_nlink                                                # STEP 162
os0.link(path3,path4)                                                  # STEP 163
path2 += "/" + component0                                              # STEP 164
os0.symlink(path2,path4)                                               # STEP 165
fd0 = os0.open(path4, os.O_CREAT | os.O_WRONLY | os.O_TRUNC | os.O_EXCL)  # STEP 166
os0.remove(path4)                                                      # STEP 167
str2 = ""                                                              # STEP 168
str1 += 'r'                                                            # STEP 169
os0.rmdir(path2)                                                       # STEP 170
str2 += " "                                                            # STEP 171
str1 += 'h'                                                            # STEP 172
str2 += 'u'                                                            # STEP 173
str2 += 'h'                                                            # STEP 174
result = os0.path.abspath(path2)                                       # STEP 175
str3 = ""                                                              # STEP 176
str3 += 'z'                                                            # STEP 177
str1 += " "                                                            # STEP 178
str1 += 'f'                                                            # STEP 179
path4 += "/" + component3                                              # STEP 180
path2 += "/" + component4                                              # STEP 181
os0.symlink(path4,path4)                                               # STEP 182
os0.write(fd0,str4)                                                    # STEP 183
str2 += 'g'                                                            # STEP 184
file0.flush()                                                          # STEP 185
str2 += 'i'                                                            # STEP 186
path2 += "/" + component0                                              # STEP 187
component3 = "alpha"                                                   # STEP 188
component4 = "b"                                                       # STEP 189
result = os0.path.exists(path3)                                        # STEP 190
str2 += 'd'                                                            # STEP 191
str1 += 'o'                                                            # STEP 192
str3 += 'v'                                                            # STEP 193
str0 += 'b'                                                            # STEP 194
str0 += 'i'                                                            # STEP 195
str4 += 'g'                                                            # STEP 196
component0 = "beta"                                                    # STEP 197
path2 += "/" + component4                                              # STEP 198
str2 += 'y'                                                            # STEP 199
str1 += 'o'                                                            # STEP 200
os0.write(fd0,str0)                                                    # STEP 201
str3 += 'o'                                                            # STEP 202
result = os0.path.abspath(path3)                                       # STEP 203
str2 += 'x'                                                            # STEP 204
str1 += 'b'                                                            # STEP 205
os0.write(fd0,str1)                                                    # STEP 206
component4 = "c"                                                       # STEP 207
path3 = "/Volumes/ramdisk/test"                                        # STEP 208
result = os0.path.isdir(path2)                                         # STEP 209
os0.rename(path4,path3)                                                # STEP 210
str4 += 'j'                                                            # STEP 211
result = stat4.st_nlink                                                # STEP 212
str2 += 't'                                                            # STEP 213
result = file0.readlines()                                             # STEP 214
str3 += 'r'                                                            # STEP 215
str1 += 's'                                                            # STEP 216
str4 += " "                                                            # STEP 217
stat4 = os0.lstat(path2)                                               # STEP 218
path2 += "/" + component3                                              # STEP 219
str0 += 'z'                                                            # STEP 220
os0.link(path4,path3)                                                  # STEP 221
str0 += 'i'                                                            # STEP 222
path3 += "/" + component1                                              # STEP 223
file0.truncate()                                                       # STEP 224
str3 += 'm'                                                            # STEP 225
str3 += 'c'                                                            # STEP 226
str4 += 's'                                                            # STEP 227
str4 += 'p'                                                            # STEP 228
str1 += 'w'                                                            # STEP 229
result = os0.path.exists(path2)                                        # STEP 230
str0 += 'k'                                                            # STEP 231
str0 += 'a'                                                            # STEP 232
str3 += 'n'                                                            # STEP 233
path4 += "/" + component2                                              # STEP 234
os0.rename(path3,path2)                                                # STEP 235
stat1 = os0.lstat(path2)                                               # STEP 236
component1 = "b"                                                       # STEP 237
os0.path.getsize(path4)                                                # STEP 238
str3 += 'i'                                                            # STEP 239
result = os0.path.lexists(path3)                                       # STEP 240
result = os0.path.exists(path2)                                        # STEP 241
str2 += " "                                                            # STEP 242
str0 += 'y'                                                            # STEP 243
os0.symlink(path3,path4)                                               # STEP 244
component2 = "delta"                                                   # STEP 245
os0.rmdir(path4)                                                       # STEP 246
os0.remove(path4)                                                      # STEP 247
os0.makedirs(path2)                                                    # STEP 248
str3 += 'a'                                                            # STEP 249
str2 += 'f'                                                            # STEP 250
component3 = "alpha"                                                   # STEP 251
str1 += 'd'                                                            # STEP 252
result = os0.path.exists(path4)                                        # STEP 253
str2 += 'k'                                                            # STEP 254
str1 += 'g'                                                            # STEP 255
result = sorted(os0.listdir(path3))                                    # STEP 256
str4 += 'n'                                                            # STEP 257
result = os0.path.lexists(path3)                                       # STEP 258
file0.write(str3)                                                      # STEP 259
os0.rename(path3,path2)                                                # STEP 260
os0.symlink(path2,path2)                                               # STEP 261
os0.removedirs(path2)                                                  # STEP 262
str0 += 'z'                                                            # STEP 263
str3 += 'v'                                                            # STEP 264
path0 = "/Volumes/ramdisk/test"                                        # STEP 265
result = os0.path.exists(path2)                                        # STEP 266
str4 += 'y'                                                            # STEP 267
str1 += 'k'                                                            # STEP 268
result = file0.readlines()                                             # STEP 269
os0.symlink(path2,path2)                                               # STEP 270
result = os0.read(fd0,bytes4)                                          # STEP 271
str2 += 'e'                                                            # STEP 272
result = os0.path.islink(path3)                                        # STEP 273
str4 = ""                                                              # STEP 274
str2 += 'h'                                                            # STEP 275
result = os0.path.exists(path2)                                        # STEP 276
result = sorted(os0.listdir(path2))                                    # STEP 277
os0.rmdir(path2)                                                       # STEP 278
str3 += 'h'                                                            # STEP 279
str2 += 'w'                                                            # STEP 280
str2 += 'w'                                                            # STEP 281
str3 += 'b'                                                            # STEP 282
str0 += 'k'                                                            # STEP 283
os0.makedirs(path3)                                                    # STEP 284
result = os0.path.islink(path3)                                        # STEP 285
str0 += 'b'                                                            # STEP 286
path2 += "/" + component3                                              # STEP 287
str3 += 'i'                                                            # STEP 288
result = os0.path.exists(path2)                                        # STEP 289
str3 += 'i'                                                            # STEP 290
component3 = "d"                                                       # STEP 291
result = os0.path.isdir(path3)                                         # STEP 292
result = os0.path.isfile(path0)                                        # STEP 293
result = sorted(os0.listdir(path3))                                    # STEP 294
ERROR: (<type 'exceptions.AssertionError'>, AssertionError(" ([]) == (['b']) ",), <traceback object at 0x108074368>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 17834, in act400
    try: assert result == result_REF, " (%s) == (%s) " % (result, result_REF)
FAILURE 8
component2 = "gamma"                                                     # STEP 0
component4 = "phi"                                                       # STEP 1
str4 = ""                                                                # STEP 2
str0 = ""                                                                # STEP 3
component0 = "beta"                                                      # STEP 4
str4 += 'l'                                                              # STEP 5
str0 += 'u'                                                              # STEP 6
component1 = "alpha"                                                     # STEP 7
component3 = "d"                                                         # STEP 8
str0 += 'h'                                                              # STEP 9
str4 += 'u'                                                             # STEP 10
str0 += 'n'                                                             # STEP 11
os0 = newFakeOS()                                                       # STEP 12
str4 += 't'                                                             # STEP 13
str4 += 'y'                                                             # STEP 14
str4 += 'g'                                                             # STEP 15
str0 += 'j'                                                             # STEP 16
str4 += 'o'                                                             # STEP 17
bytes2 = 0                                                              # STEP 18
str4 += 'l'                                                             # STEP 19
str4 += 'g'                                                             # STEP 20
str4 += 'z'                                                             # STEP 21
str4 += 'j'                                                             # STEP 22
str4 += 'y'                                                             # STEP 23
str0 += 'w'                                                             # STEP 24
opener0 = newFakeOpener(os0)                                            # STEP 25
str4 += 'e'                                                             # STEP 26
str4 += 's'                                                             # STEP 27
bytes0 = 0                                                              # STEP 28
bytes2 += 1                                                             # STEP 29
str4 += 'm'                                                             # STEP 30
str4 = ""                                                               # STEP 31
str4 += 's'                                                             # STEP 32
str0 += 'v'                                                             # STEP 33
str0 += 'b'                                                             # STEP 34
str3 = ""                                                               # STEP 35
str4 += 'x'                                                             # STEP 36
bytes2 += 1                                                             # STEP 37
str3 += " "                                                             # STEP 38
str4 += 'q'                                                             # STEP 39
str3 += 's'                                                             # STEP 40
str0 += 'y'                                                             # STEP 41
str0 += 'e'                                                             # STEP 42
str3 += 'y'                                                             # STEP 43
str0 += 'y'                                                             # STEP 44
str4 += 'w'                                                             # STEP 45
str0 += 'r'                                                             # STEP 46
str3 += 'h'                                                             # STEP 47
str4 += 'g'                                                             # STEP 48
str4 += 'k'                                                             # STEP 49
str0 += 'c'                                                             # STEP 50
str0 += 'h'                                                             # STEP 51
str4 += 'i'                                                             # STEP 52
str4 += 'p'                                                             # STEP 53
str4 += 'g'                                                             # STEP 54
str3 += 't'                                                             # STEP 55
str4 += 'f'                                                             # STEP 56
str3 += 's'                                                             # STEP 57
str4 += 'c'                                                             # STEP 58
str4 += 'h'                                                             # STEP 59
str4 += " "                                                             # STEP 60
str0 += 'b'                                                             # STEP 61
str0 += 't'                                                             # STEP 62
str4 += 'g'                                                             # STEP 63
str0 += 'l'                                                             # STEP 64
str4 += 'p'                                                             # STEP 65
str3 = ""                                                               # STEP 66
str0 += " "                                                             # STEP 67
str0 += 'u'                                                             # STEP 68
str3 += 'k'                                                             # STEP 69
path1 = "/Volumes/ramdisk/test"                                         # STEP 70
str4 += 'l'                                                             # STEP 71
file0 = opener0(path1,'r')                                              # STEP 72
str4 += " "                                                             # STEP 73
str3 += 'e'                                                             # STEP 74
str1 = ""                                                               # STEP 75
result = os0.path.isabs(path1)                                          # STEP 76
str0 += 'h'                                                             # STEP 77
str4 += 'e'                                                             # STEP 78
str1 += 'n'                                                             # STEP 79
str0 += 'v'                                                             # STEP 80
path1 += "/" + component4                                               # STEP 81
fd0 = os0.open(path1, os.O_CREAT | os.O_WRONLY | os.O_EXCL)             # STEP 82
result = sorted(os0.listdir(path1))                                     # STEP 83
stat0 = os0.fstat(fd0)                                                  # STEP 84
str0 += 'y'                                                             # STEP 85
str0 += 'n'                                                             # STEP 86
str1 += 'u'                                                             # STEP 87
os0.write(fd0,str4)                                                     # STEP 88
str0 += 'p'                                                             # STEP 89
file0 = opener0(path1,'a')                                              # STEP 90
str4 += 'k'                                                             # STEP 91
str4 += 's'                                                             # STEP 92
stat1 = os0.stat(path1)                                                 # STEP 93
os0.makedirs(path1)                                                     # STEP 94
str1 += 'y'                                                             # STEP 95
str3 += 'w'                                                             # STEP 96
path1 = "/Volumes/ramdisk/test"                                         # STEP 97
str3 += 'h'                                                             # STEP 98
str0 += 'l'                                                             # STEP 99
str1 += 'l'                                                            # STEP 100
str1 += 'n'                                                            # STEP 101
path1 += "/" + component3                                              # STEP 102
path2 = "/Volumes/ramdisk/test"                                        # STEP 103
str4 += 'e'                                                            # STEP 104
component4 = "epsilon"                                                 # STEP 105
str1 += 'p'                                                            # STEP 106
component3 = "alpha"                                                   # STEP 107
os0.link(path1,path1)                                                  # STEP 108
str4 = ""                                                              # STEP 109
str4 += 'm'                                                            # STEP 110
path0 = "/Volumes/ramdisk/test"                                        # STEP 111
file0.write(str0)                                                      # STEP 112
os0.symlink(path2,path0)                                               # STEP 113
path2 = "/Volumes/ramdisk/test"                                        # STEP 114
str4 += 'm'                                                            # STEP 115
os0.symlink(path2,path1)                                               # STEP 116
os0.removedirs(path2)                                                  # STEP 117
str1 += 'u'                                                            # STEP 118
stat3 = os0.fstat(fd0)                                                 # STEP 119
str0 += 'w'                                                            # STEP 120
result = os0.path.exists(path2)                                        # STEP 121
str1 += 'h'                                                            # STEP 122
path2 += "/" + component0                                              # STEP 123
str1 += 'd'                                                            # STEP 124
path1 = "/Volumes/ramdisk/test"                                        # STEP 125
str1 += 'u'                                                            # STEP 126
str4 += 'r'                                                            # STEP 127
str4 += 'a'                                                            # STEP 128
str3 += 's'                                                            # STEP 129
str1 += " "                                                            # STEP 130
str3 += 'k'                                                            # STEP 131
os0.remove(path0)                                                      # STEP 132
path0 += "/" + component3                                              # STEP 133
component3 = "epsilon"                                                 # STEP 134
os0.remove(path1)                                                      # STEP 135
os0.link(path2,path2)                                                  # STEP 136
str3 += 'l'                                                            # STEP 137
path1 += "/" + component0                                              # STEP 138
os0.symlink(path2,path2)                                               # STEP 139
path2 += "/" + component0                                              # STEP 140
str0 += 'x'                                                            # STEP 141
result = file0.read(bytes2)                                            # STEP 142
str1 += 'g'                                                            # STEP 143
str3 += 'l'                                                            # STEP 144
str1 = ""                                                              # STEP 145
path1 += "/" + component2                                              # STEP 146
component0 = "beta"                                                    # STEP 147
stat2 = os0.lstat(path1)                                               # STEP 148
result = os0.path.isdir(path2)                                         # STEP 149
stat4 = os0.lstat(path2)                                               # STEP 150
stat2 = os0.lstat(path1)                                               # STEP 151
str1 += 'h'                                                            # STEP 152
str1 += 'i'                                                            # STEP 153
stat2 = os0.fstat(fd0)                                                 # STEP 154
str1 += 'q'                                                            # STEP 155
os0.link(path0,path0)                                                  # STEP 156
result = stat3.st_nlink                                                # STEP 157
str1 = ""                                                              # STEP 158
stat4 = os0.fstat(fd0)                                                 # STEP 159
str3 += 'g'                                                            # STEP 160
str4 += 'm'                                                            # STEP 161
os0.link(path0,path1)                                                  # STEP 162
os0.symlink(path2,path2)                                               # STEP 163
str4 += 'v'                                                            # STEP 164
path1 += "/" + component3                                              # STEP 165
str3 += 'a'                                                            # STEP 166
str4 += 'v'                                                            # STEP 167
path2 += "/" + component2                                              # STEP 168
result = sorted(os0.listdir(path1))                                    # STEP 169
os0.mkdir(path2)                                                       # STEP 170
str1 += 'v'                                                            # STEP 171
str1 += 'j'                                                            # STEP 172
str3 += " "                                                            # STEP 173
str1 += 'l'                                                            # STEP 174
os0.link(path1,path2)                                                  # STEP 175
result = stat2.st_size                                                 # STEP 176
ERROR: (<type 'exceptions.AssertionError'>, AssertionError(' (42) == (18) ',), <traceback object at 0x1067dea70>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 21881, in act459
    try: assert result == result_REF, " (%s) == (%s) " % (result, result_REF)
FAILURE 9
component3 = "alpha"                                                     # STEP 0
component1 = "f"                                                         # STEP 1
component0 = "beta"                                                      # STEP 2
path4 = "/Volumes/ramdisk/test"                                          # STEP 3
str2 = ""                                                                # STEP 4
component2 = "delta"                                                     # STEP 5
component4 = "d"                                                         # STEP 6
path2 = "/Volumes/ramdisk/test"                                          # STEP 7
str1 = ""                                                                # STEP 8
str1 += 'a'                                                              # STEP 9
str2 += 'w'                                                             # STEP 10
str1 += 'l'                                                             # STEP 11
str1 += 'o'                                                             # STEP 12
os0 = newFakeOS()                                                       # STEP 13
str0 = ""                                                               # STEP 14
os0.symlink(path2,path2)                                                # STEP 15
result = os0.path.abspath(path4)                                        # STEP 16
str2 += 'r'                                                             # STEP 17
str0 += 's'                                                             # STEP 18
result = os0.readlink(path4)                                            # STEP 19
str1 += 's'                                                             # STEP 20
str0 += 'e'                                                             # STEP 21
path3 = "/Volumes/ramdisk/test"                                         # STEP 22
str1 += 'h'                                                             # STEP 23
str2 += 'o'                                                             # STEP 24
str2 += 'm'                                                             # STEP 25
str1 += 'a'                                                             # STEP 26
str2 += 'j'                                                             # STEP 27
str0 += 'c'                                                             # STEP 28
str0 += 'v'                                                             # STEP 29
str1 += 'v'                                                             # STEP 30
str1 += 'n'                                                             # STEP 31
str0 += 'f'                                                             # STEP 32
str2 += 'b'                                                             # STEP 33
opener0 = newFakeOpener(os0)                                            # STEP 34
os0.symlink(path4,path2)                                                # STEP 35
result = os0.path.dirname(path3)                                        # STEP 36
str0 += 'k'                                                             # STEP 37
str1 += 'j'                                                             # STEP 38
result = sorted(os0.listdir(path4))                                     # STEP 39
str0 += 'f'                                                             # STEP 40
str1 += 's'                                                             # STEP 41
os0.link(path4,path2)                                                   # STEP 42
file0 = opener0(path3,'w')                                              # STEP 43
result = os0.path.abspath(path2)                                        # STEP 44
os0.remove(path3)                                                       # STEP 45
str0 += 'p'                                                             # STEP 46
str4 = ""                                                               # STEP 47
str2 += 'k'                                                             # STEP 48
os0.link(path2,path3)                                                   # STEP 49
str0 += 'p'                                                             # STEP 50
result = os0.path.abspath(path3)                                        # STEP 51
str4 += 't'                                                             # STEP 52
str1 += 'w'                                                             # STEP 53
result = os0.path.isabs(path4)                                          # STEP 54
result = os0.path.dirname(path4)                                        # STEP 55
str0 += 's'                                                             # STEP 56
os0.mkdir(path2)                                                        # STEP 57
result = os0.path.abspath(path2)                                        # STEP 58
str2 += 'k'                                                             # STEP 59
str1 += " "                                                             # STEP 60
result = os0.path.lexists(path4)                                        # STEP 61
os0.link(path2,path3)                                                   # STEP 62
str1 += 'j'                                                             # STEP 63
str0 += 'f'                                                             # STEP 64
str2 += 'j'                                                             # STEP 65
str4 += 'j'                                                             # STEP 66
str4 += 'b'                                                             # STEP 67
str2 += 'l'                                                             # STEP 68
path2 += "/" + component2                                               # STEP 69
bytes4 = 0                                                              # STEP 70
result = os0.path.isdir(path4)                                          # STEP 71
os0.symlink(path3,path2)                                                # STEP 72
str2 += 'h'                                                             # STEP 73
os0.symlink(path2,path4)                                                # STEP 74
stat0 = os0.stat(path2)                                                 # STEP 75
stat4 = os0.lstat(path2)                                                # STEP 76
str1 += 'y'                                                             # STEP 77
str4 += 'o'                                                             # STEP 78
str1 += 'k'                                                             # STEP 79
os0.symlink(path4,path2)                                                # STEP 80
str2 += 's'                                                             # STEP 81
path4 += "/" + component0                                               # STEP 82
fd0 = os0.open(path4, os.O_CREAT | os.O_WRONLY)                         # STEP 83
result = os0.path.isabs(path3)                                          # STEP 84
str1 += 'x'                                                             # STEP 85
component0 = "b"                                                        # STEP 86
os0.symlink(path2,path3)                                                # STEP 87
str2 += 'a'                                                             # STEP 88
path2 += "/" + component1                                               # STEP 89
str4 += 'x'                                                             # STEP 90
str2 += 'c'                                                             # STEP 91
result = os0.path.dirname(path4)                                        # STEP 92
str0 += 'q'                                                             # STEP 93
stat1 = os0.lstat(path2)                                                # STEP 94
os0.path.getsize(path4)                                                 # STEP 95
result = os0.path.abspath(path4)                                        # STEP 96
str2 += 'h'                                                             # STEP 97
str1 += 'c'                                                             # STEP 98
file0 = opener0(path2,'a')                                              # STEP 99
str1 += 'j'                                                            # STEP 100
stat3 = os0.lstat(path2)                                               # STEP 101
str0 += 'h'                                                            # STEP 102
str0 += 'r'                                                            # STEP 103
str2 += 'm'                                                            # STEP 104
str4 += 'j'                                                            # STEP 105
str2 += 'u'                                                            # STEP 106
result = file0.readlines()                                             # STEP 107
str1 += 'm'                                                            # STEP 108
component1 = "f"                                                       # STEP 109
str4 += 'l'                                                            # STEP 110
str0 += 'x'                                                            # STEP 111
str4 = ""                                                              # STEP 112
str2 += 'c'                                                            # STEP 113
result = os0.readlink(path4)                                           # STEP 114
str4 += 'c'                                                            # STEP 115
os0.link(path4,path2)                                                  # STEP 116
str0 += 'w'                                                            # STEP 117
str4 += 'p'                                                            # STEP 118
str1 += 'n'                                                            # STEP 119
stat1 = os0.stat(path4)                                                # STEP 120
result = os0.path.lexists(path4)                                       # STEP 121
str0 += 'u'                                                            # STEP 122
str1 += 'j'                                                            # STEP 123
str4 += 'v'                                                            # STEP 124
result = file0.read()                                                  # STEP 125
file0.flush()                                                          # STEP 126
component2 = "d"                                                       # STEP 127
str2 += 'o'                                                            # STEP 128
str1 += 'y'                                                            # STEP 129
str0 += 'm'                                                            # STEP 130
os0.rename(path2,path3)                                                # STEP 131
os0.symlink(path3,path4)                                               # STEP 132
str1 += 'g'                                                            # STEP 133
str4 += 'k'                                                            # STEP 134
result = os0.path.islink(path4)                                        # STEP 135
str4 += 'n'                                                            # STEP 136
os0.symlink(path2,path4)                                               # STEP 137
os0.rename(path2,path4)                                                # STEP 138
stat2 = os0.fstat(fd0)                                                 # STEP 139
os0.close(fd0)                                                         # STEP 140
result = os0.path.isdir(path3)                                         # STEP 141
str4 += 'z'                                                            # STEP 142
os0.mkdir(path2)                                                       # STEP 143
os0.symlink(path4,path4)                                               # STEP 144
str4 += 'k'                                                            # STEP 145
str1 += 'z'                                                            # STEP 146
str2 += 't'                                                            # STEP 147
result = stat1.st_size                                                 # STEP 148
str4 += 'z'                                                            # STEP 149
os0.symlink(path3,path3)                                               # STEP 150
os0.link(path2,path3)                                                  # STEP 151
str2 += " "                                                            # STEP 152
file0.flush()                                                          # STEP 153
os0.makedirs(path3)                                                    # STEP 154
str1 += 'x'                                                            # STEP 155
os0.rename(path2,path4)                                                # STEP 156
result = sorted(os0.listdir(path2))                                    # STEP 157
str4 += 'y'                                                            # STEP 158
str0 += 't'                                                            # STEP 159
str2 += 'd'                                                            # STEP 160
result = stat1.st_nlink                                                # STEP 161
os0.link(path3,path4)                                                  # STEP 162
path2 += "/" + component0                                              # STEP 163
os0.symlink(path2,path4)                                               # STEP 164
fd0 = os0.open(path4, os.O_CREAT | os.O_WRONLY | os.O_TRUNC | os.O_EXCL)  # STEP 165
os0.remove(path4)                                                      # STEP 166
str2 = ""                                                              # STEP 167
str1 += 'r'                                                            # STEP 168
os0.rmdir(path2)                                                       # STEP 169
str2 += " "                                                            # STEP 170
str1 += 'h'                                                            # STEP 171
str2 += 'u'                                                            # STEP 172
str2 += 'h'                                                            # STEP 173
result = os0.path.abspath(path2)                                       # STEP 174
str3 = ""                                                              # STEP 175
str3 += 'z'                                                            # STEP 176
str1 += " "                                                            # STEP 177
str1 += 'f'                                                            # STEP 178
path4 += "/" + component3                                              # STEP 179
path2 += "/" + component4                                              # STEP 180
os0.symlink(path4,path4)                                               # STEP 181
os0.write(fd0,str4)                                                    # STEP 182
str2 += 'g'                                                            # STEP 183
file0.flush()                                                          # STEP 184
str2 += 'i'                                                            # STEP 185
path2 += "/" + component0                                              # STEP 186
component3 = "alpha"                                                   # STEP 187
component4 = "b"                                                       # STEP 188
result = os0.path.exists(path3)                                        # STEP 189
str2 += 'd'                                                            # STEP 190
str1 += 'o'                                                            # STEP 191
str3 += 'v'                                                            # STEP 192
str0 += 'b'                                                            # STEP 193
str0 += 'i'                                                            # STEP 194
str4 += 'g'                                                            # STEP 195
component0 = "beta"                                                    # STEP 196
path2 += "/" + component4                                              # STEP 197
str2 += 'y'                                                            # STEP 198
str1 += 'o'                                                            # STEP 199
os0.write(fd0,str0)                                                    # STEP 200
str3 += 'o'                                                            # STEP 201
result = os0.path.abspath(path3)                                       # STEP 202
str2 += 'x'                                                            # STEP 203
str1 += 'b'                                                            # STEP 204
os0.write(fd0,str1)                                                    # STEP 205
component4 = "c"                                                       # STEP 206
path3 = "/Volumes/ramdisk/test"                                        # STEP 207
result = os0.path.isdir(path2)                                         # STEP 208
os0.rename(path4,path3)                                                # STEP 209
str4 += 'j'                                                            # STEP 210
result = stat4.st_nlink                                                # STEP 211
str2 += 't'                                                            # STEP 212
result = file0.readlines()                                             # STEP 213
str3 += 'r'                                                            # STEP 214
str1 += 's'                                                            # STEP 215
str4 += " "                                                            # STEP 216
stat4 = os0.lstat(path2)                                               # STEP 217
path2 += "/" + component3                                              # STEP 218
str0 += 'z'                                                            # STEP 219
os0.link(path4,path3)                                                  # STEP 220
str0 += 'i'                                                            # STEP 221
path3 += "/" + component1                                              # STEP 222
file0.truncate()                                                       # STEP 223
str3 += 'm'                                                            # STEP 224
str3 += 'c'                                                            # STEP 225
str4 += 's'                                                            # STEP 226
str4 += 'p'                                                            # STEP 227
str1 += 'w'                                                            # STEP 228
result = os0.path.exists(path2)                                        # STEP 229
str0 += 'k'                                                            # STEP 230
str0 += 'a'                                                            # STEP 231
str3 += 'n'                                                            # STEP 232
path4 += "/" + component2                                              # STEP 233
os0.rename(path3,path2)                                                # STEP 234
stat1 = os0.lstat(path2)                                               # STEP 235
component1 = "b"                                                       # STEP 236
os0.path.getsize(path4)                                                # STEP 237
str3 += 'i'                                                            # STEP 238
result = os0.path.lexists(path3)                                       # STEP 239
result = os0.path.exists(path2)                                        # STEP 240
str2 += " "                                                            # STEP 241
str0 += 'y'                                                            # STEP 242
os0.symlink(path3,path4)                                               # STEP 243
component2 = "delta"                                                   # STEP 244
os0.rmdir(path4)                                                       # STEP 245
os0.remove(path4)                                                      # STEP 246
os0.makedirs(path2)                                                    # STEP 247
str3 += 'a'                                                            # STEP 248
str2 += 'f'                                                            # STEP 249
component3 = "alpha"                                                   # STEP 250
str1 += 'd'                                                            # STEP 251
result = os0.path.exists(path4)                                        # STEP 252
str2 += 'k'                                                            # STEP 253
str1 += 'g'                                                            # STEP 254
result = sorted(os0.listdir(path3))                                    # STEP 255
str4 += 'n'                                                            # STEP 256
result = os0.path.lexists(path3)                                       # STEP 257
file0.write(str3)                                                      # STEP 258
os0.rename(path3,path2)                                                # STEP 259
os0.symlink(path2,path2)                                               # STEP 260
os0.removedirs(path2)                                                  # STEP 261
str3 += 's'                                                            # STEP 262
str0 += 'b'                                                            # STEP 263
str4 = ""                                                              # STEP 264
os0.path.getsize(path4)                                                # STEP 265
os0.remove(path4)                                                      # STEP 266
path3 += "/" + component2                                              # STEP 267
str2 += 'o'                                                            # STEP 268
file0.write(str0)                                                      # STEP 269
result = os0.path.exists(path2)                                        # STEP 270
os0.rmdir(path2)                                                       # STEP 271
result = os0.path.lexists(path2)                                       # STEP 272
ERROR: (<type 'exceptions.AssertionError'>, AssertionError(' (False) == (True) ',), <traceback object at 0x1067ec050>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 24364, in act499
    try: assert result == result_REF, " (%s) == (%s) " % (result, result_REF)
1183 BRANCHES COVERED
907 STATEMENTS COVERED
