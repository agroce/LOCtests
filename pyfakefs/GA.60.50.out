Random testing using config=Config(swarmSwitch=None, verbose=False, reducePool=False, failedLogging=None, exploitBestHint=1, greedyStutter=False, internal=False, exploit=0.8, seed=None, generalize=False, useHints=False, localize=False, total=False, speed='FAST', probs=None, normalize=False, verboseExploit=False, highLowSwarm=None, replayable=False, essentials=False, noCoverageExploit=False, quickTests=False, relax=False, enumerateEnabled=False, uniqueValuesAnalysis=False, swarm=False, noReassign=False, html=None, fastQuickAnalysis=False, progress=False, swarmLength=None, noSwarmDependencies=False, profile=False, LOCBaseline=0.2, noEnumerateEnabled=False, full=True, multiple=True, timedProgress=30, silentFail=True, stopWhenStatements=None, swarmP=0.5, stopWhenBranches=None, noAlphaConvert=False, coverFile='coverage.out', readQuick=False, verboseActions=False, running=False, computeFeatureStats=False, compareFails=False, swarmProbs=None, output='failure.5030.test', genDepth=None, Pcrossover=0.2, quickAnalysis=False, keepLast=False, exploitCeiling=0.1, logging=None, LOCProbs=False, noCheck=False, maxTests=-1, noExceptionMatch=False, Pmutate=0.8, depth=100, showActions=False, throughput=False, noCover=False, timeout=60, stutter=None, uncaught=False, markov=None, startExploit=0)
UNCAUGHT EXCEPTION
ERROR: (<type 'exceptions.OSError'>, OSError(9, 'File is not open for reading.'), <traceback object at 0x107b9def0>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 28348, in act564
    result = self.p_file[0].read(self.p_bytes[0])
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4284, in read_error
    self._raise('File is not open for reading.')
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4112, in _raise
    raise OSError(errno.EBADF, message)
Original test has 237 steps

SAVING TEST AS failure.5030.test.0
FINAL VERSION OF TEST, WITH LOGGED REPLAY:
component1 = "alpha"                                                     # STEP 0
component2 = "f"                                                         # STEP 1
component0 = "beta"                                                      # STEP 2
component3 = "g"                                                         # STEP 3
component4 = "gamma"                                                     # STEP 4
bytes3 = 0                                                               # STEP 5
bytes3 += 1                                                              # STEP 6
str0 = ""                                                                # STEP 7
str0 += 'o'                                                              # STEP 8
str0 += 'k'                                                              # STEP 9
str1 = ""                                                               # STEP 10
str0 += 'v'                                                             # STEP 11
str1 += 'o'                                                             # STEP 12
str1 += 't'                                                             # STEP 13
str1 += 'z'                                                             # STEP 14
str1 += 'n'                                                             # STEP 15
str0 = ""                                                               # STEP 16
str0 += 'a'                                                             # STEP 17
bytes0 = 0                                                              # STEP 18
str1 += 't'                                                             # STEP 19
str1 += 'w'                                                             # STEP 20
str1 += 'p'                                                             # STEP 21
str1 += 'g'                                                             # STEP 22
str0 += 'k'                                                             # STEP 23
str1 += 'u'                                                             # STEP 24
str1 += 'n'                                                             # STEP 25
str1 += 'y'                                                             # STEP 26
str0 += 'o'                                                             # STEP 27
str0 += 'i'                                                             # STEP 28
str0 += 'a'                                                             # STEP 29
str1 += 'r'                                                             # STEP 30
path3 = "/Volumes/ramdisk/test"                                         # STEP 31
str1 += 'o'                                                             # STEP 32
str1 += 'n'                                                             # STEP 33
str0 += 'r'                                                             # STEP 34
str0 += 'd'                                                             # STEP 35
str0 += 'g'                                                             # STEP 36
str1 += 'f'                                                             # STEP 37
str0 += 'u'                                                             # STEP 38
str0 = ""                                                               # STEP 39
os0 = newFakeOS()                                                       # STEP 40
str3 = ""                                                               # STEP 41
str0 += 'd'                                                             # STEP 42
str1 += 'm'                                                             # STEP 43
str3 += 'b'                                                             # STEP 44
str2 = ""                                                               # STEP 45
str2 += 'f'                                                             # STEP 46
str1 += 'a'                                                             # STEP 47
str3 += 'o'                                                             # STEP 48
os0.remove(path3)                                                       # STEP 49
str2 += 't'                                                             # STEP 50
str1 += 'r'                                                             # STEP 51
str2 += 'p'                                                             # STEP 52
str1 += 'w'                                                             # STEP 53
str1 = ""                                                               # STEP 54
str2 += 'k'                                                             # STEP 55
str2 += 'b'                                                             # STEP 56
str3 += 'k'                                                             # STEP 57
str2 += 'r'                                                             # STEP 58
opener0 = newFakeOpener(os0)                                            # STEP 59
bytes3 = 0                                                              # STEP 60
str1 += 'w'                                                             # STEP 61
str0 += 'j'                                                             # STEP 62
str0 += 'c'                                                             # STEP 63
result = os0.path.isfile(path3)                                         # STEP 64
str3 += 'u'                                                             # STEP 65
str3 += 'b'                                                             # STEP 66
bytes1 = 0                                                              # STEP 67
str2 += 'o'                                                             # STEP 68
result = os0.path.isabs(path3)                                          # STEP 69
str0 += 'a'                                                             # STEP 70
str3 += 'k'                                                             # STEP 71
str0 += 'i'                                                             # STEP 72
path1 = "/Volumes/ramdisk/test"                                         # STEP 73
file0 = opener0(path1,'r')                                              # STEP 74
str2 += 'e'                                                             # STEP 75
str0 += 'h'                                                             # STEP 76
os0.remove(path1)                                                       # STEP 77
str3 += 'j'                                                             # STEP 78
str1 += 'f'                                                             # STEP 79
str2 += 'g'                                                             # STEP 80
result = os0.path.isfile(path3)                                         # STEP 81
str2 += 's'                                                             # STEP 82
str1 += 'f'                                                             # STEP 83
str3 += 'r'                                                             # STEP 84
str1 += 'n'                                                             # STEP 85
path3 += "/" + component0                                               # STEP 86
fd0 = os0.open(path3, os.O_CREAT)                                       # STEP 87
str0 += 'v'                                                             # STEP 88
bytes3 += 1                                                             # STEP 89
stat1 = os0.fstat(fd0)                                                  # STEP 90
str2 += 'n'                                                             # STEP 91
result = os0.path.abspath(path1)                                        # STEP 92
str3 += 'r'                                                             # STEP 93
os0.symlink(path1,path1)                                                # STEP 94
str2 += 'x'                                                             # STEP 95
result = os0.path.lexists(path3)                                        # STEP 96
result = os0.path.lexists(path3)                                        # STEP 97
result = os0.path.exists(path1)                                         # STEP 98
str3 += " "                                                             # STEP 99
str3 += 'n'                                                            # STEP 100
str0 += 'k'                                                            # STEP 101
stat3 = os0.stat(path3)                                                # STEP 102
path4 = "/Volumes/ramdisk/test"                                        # STEP 103
str2 += 'c'                                                            # STEP 104
file0 = opener0(path4,'r')                                             # STEP 105
str1 += 'd'                                                            # STEP 106
path4 += "/" + component3                                              # STEP 107
result = os0.read(fd0,bytes0)                                          # STEP 108
str1 += 'n'                                                            # STEP 109
stat2 = os0.stat(path3)                                                # STEP 110
stat4 = os0.fstat(fd0)                                                 # STEP 111
str1 += 'p'                                                            # STEP 112
component0 = "c"                                                       # STEP 113
result = sorted(os0.listdir(path3))                                    # STEP 114
component3 = "d"                                                       # STEP 115
os0.mkdir(path1)                                                       # STEP 116
str0 += 'f'                                                            # STEP 117
str1 += 'i'                                                            # STEP 118
result = os0.path.abspath(path4)                                       # STEP 119
str3 += 'x'                                                            # STEP 120
str3 += 'k'                                                            # STEP 121
str1 += 's'                                                            # STEP 122
os0.close(fd0)                                                         # STEP 123
str0 += 'x'                                                            # STEP 124
os0.rmdir(path3)                                                       # STEP 125
result = os0.path.abspath(path4)                                       # STEP 126
str1 += 'd'                                                            # STEP 127
str1 += 'c'                                                            # STEP 128
result = os0.path.lexists(path1)                                       # STEP 129
path0 = "/Volumes/ramdisk/test"                                        # STEP 130
result = os0.path.lexists(path3)                                       # STEP 131
file0 = opener0(path1)                                                 # STEP 132
str2 += 'm'                                                            # STEP 133
str1 += 'j'                                                            # STEP 134
file0 = opener0(path0)                                                 # STEP 135
path4 += "/" + component0                                              # STEP 136
str2 += 'c'                                                            # STEP 137
str3 += 'v'                                                            # STEP 138
stat0 = os0.lstat(path3)                                               # STEP 139
component0 = "g"                                                       # STEP 140
file0 = opener0(path0,'r')                                             # STEP 141
str1 += 'f'                                                            # STEP 142
os0.symlink(path1,path3)                                               # STEP 143
os0.makedirs(path4)                                                    # STEP 144
result = stat3.st_size                                                 # STEP 145
str2 += 'v'                                                            # STEP 146
os0.close(fd0)                                                         # STEP 147
path1 += "/" + component4                                              # STEP 148
str1 += 'o'                                                            # STEP 149
path2 = "/Volumes/ramdisk/test"                                        # STEP 150
str3 += 'a'                                                            # STEP 151
path3 += "/" + component1                                              # STEP 152
os0.remove(path2)                                                      # STEP 153
str2 += 'j'                                                            # STEP 154
str2 += 'c'                                                            # STEP 155
fd0 = os0.open(path3, os.O_CREAT | os.O_WRONLY | os.O_EXCL)            # STEP 156
bytes1 += 1                                                            # STEP 157
os0.symlink(path1,path1)                                               # STEP 158
os0.rmdir(path3)                                                       # STEP 159
os0.link(path3,path4)                                                  # STEP 160
file0 = opener0(path3,'r')                                             # STEP 161
str1 += 'b'                                                            # STEP 162
path1 += "/" + component3                                              # STEP 163
os0.mkdir(path0)                                                       # STEP 164
component1 = "beta"                                                    # STEP 165
result = os0.path.dirname(path2)                                       # STEP 166
component4 = "e"                                                       # STEP 167
str0 += 'w'                                                            # STEP 168
os0.removedirs(path4)                                                  # STEP 169
path0 += "/" + component2                                              # STEP 170
str2 += 'k'                                                            # STEP 171
os0.remove(path2)                                                      # STEP 172
path2 += "/" + component4                                              # STEP 173
str3 += 'i'                                                            # STEP 174
result = stat4.st_size                                                 # STEP 175
file0 = opener0(path2,'a')                                             # STEP 176
str1 += 'e'                                                            # STEP 177
component4 = "f"                                                       # STEP 178
path2 += "/" + component1                                              # STEP 179
str0 += 's'                                                            # STEP 180
os0.link(path4,path4)                                                  # STEP 181
bytes2 = 0                                                             # STEP 182
str2 += 'a'                                                            # STEP 183
component2 = "g"                                                       # STEP 184
os0.path.getsize(path2)                                                # STEP 185
path2 += "/" + component2                                              # STEP 186
str0 += 's'                                                            # STEP 187
path3 = "/Volumes/ramdisk/test"                                        # STEP 188
str3 += 's'                                                            # STEP 189
os0.link(path1,path4)                                                  # STEP 190
file0.flush()                                                          # STEP 191
component3 = "omega"                                                   # STEP 192
result = stat2.st_nlink                                                # STEP 193
component1 = "g"                                                       # STEP 194
path4 += "/" + component4                                              # STEP 195
str3 += 'u'                                                            # STEP 196
file0.truncate()                                                       # STEP 197
result = stat2.st_nlink                                                # STEP 198
str2 += 't'                                                            # STEP 199
str0 += 's'                                                            # STEP 200
str3 = ""                                                              # STEP 201
result = os0.path.abspath(path2)                                       # STEP 202
component2 = "phi"                                                     # STEP 203
os0.mkdir(path3)                                                       # STEP 204
path4 += "/" + component1                                              # STEP 205
result = os0.readlink(path4)                                           # STEP 206
os0.rename(path2,path1)                                                # STEP 207
result = stat2.st_nlink                                                # STEP 208
path1 += "/" + component1                                              # STEP 209
path0 += "/" + component0                                              # STEP 210
result = os0.path.islink(path2)                                        # STEP 211
str2 += 'w'                                                            # STEP 212
component1 = "b"                                                       # STEP 213
str2 += 't'                                                            # STEP 214
result = os0.path.dirname(path0)                                       # STEP 215
str3 += 'q'                                                            # STEP 216
stat3 = os0.lstat(path2)                                               # STEP 217
result = os0.readlink(path4)                                           # STEP 218
result = stat3.st_size                                                 # STEP 219
os0.rename(path2,path4)                                                # STEP 220
os0.symlink(path0,path2)                                               # STEP 221
os0.symlink(path3,path0)                                               # STEP 222
str3 += 'z'                                                            # STEP 223
str2 += 'x'                                                            # STEP 224
str0 += 'm'                                                            # STEP 225
component4 = "h"                                                       # STEP 226
os0.rename(path4,path0)                                                # STEP 227
os0.write(fd0,str2)                                                    # STEP 228
result = os0.path.lexists(path0)                                       # STEP 229
component0 = "phi"                                                     # STEP 230
bytes1 += 1                                                            # STEP 231
path0 += "/" + component2                                              # STEP 232
os0.remove(path3)                                                      # STEP 233
os0.symlink(path4,path4)                                               # STEP 234
os0.rename(path4,path0)                                                # STEP 235
result = file0.read(bytes0)                                            # STEP 236
ERROR: (<type 'exceptions.OSError'>, OSError(9, 'File is not open for reading.'), <traceback object at 0x10876f9e0>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 28348, in act564
    result = self.p_file[0].read(self.p_bytes[0])
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4284, in read_error
    self._raise('File is not open for reading.')
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4112, in _raise
    raise OSError(errno.EBADF, message)
FAILURE IS NEW, STORING; NOW 1 DISTINCT FAILURES
UNCAUGHT EXCEPTION
ERROR: (<type 'exceptions.AssertionError'>, AssertionError(' (0) == (16) ',), <traceback object at 0x1040264d0>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 21826, in act458
    try: assert result == result_REF, " (%s) == (%s) " % (result, result_REF)
Original test has 166 steps

SAVING TEST AS failure.5030.test.1
FINAL VERSION OF TEST, WITH LOGGED REPLAY:
component4 = "g"                                                         # STEP 0
component0 = "alpha"                                                     # STEP 1
component2 = "f"                                                         # STEP 2
component1 = "beta"                                                      # STEP 3
component3 = "gamma"                                                     # STEP 4
bytes1 = 0                                                               # STEP 5
str4 = ""                                                                # STEP 6
str4 += 'r'                                                              # STEP 7
str4 += 'u'                                                              # STEP 8
str4 += 'p'                                                              # STEP 9
str4 += " "                                                             # STEP 10
str4 += 's'                                                             # STEP 11
path2 = "/Volumes/ramdisk/test"                                         # STEP 12
str4 += 'w'                                                             # STEP 13
str4 += 'q'                                                             # STEP 14
str4 += 'd'                                                             # STEP 15
str4 += 'y'                                                             # STEP 16
str4 += 'l'                                                             # STEP 17
os0 = newFakeOS()                                                       # STEP 18
str4 += 'x'                                                             # STEP 19
str4 += 'w'                                                             # STEP 20
result = os0.path.dirname(path2)                                        # STEP 21
bytes3 = 0                                                              # STEP 22
str4 += " "                                                             # STEP 23
opener0 = newFakeOpener(os0)                                            # STEP 24
path2 += "/" + component1                                               # STEP 25
path4 = "/Volumes/ramdisk/test"                                         # STEP 26
component1 = "alpha"                                                    # STEP 27
file0 = opener0(path2,'w')                                              # STEP 28
stat1 = os0.lstat(path2)                                                # STEP 29
os0.symlink(path2,path2)                                                # STEP 30
fd0 = os0.open(path2, os.O_CREAT | os.O_EXCL)                           # STEP 31
str4 += 'z'                                                             # STEP 32
result = os0.path.abspath(path4)                                        # STEP 33
path1 = "/Volumes/ramdisk/test"                                         # STEP 34
result = os0.path.abspath(path2)                                        # STEP 35
path4 += "/" + component1                                               # STEP 36
path4 += "/" + component3                                               # STEP 37
path1 += "/" + component3                                               # STEP 38
fd0 = os0.open(path4, os.O_CREAT | os.O_WRONLY | os.O_TRUNC)            # STEP 39
component3 = "b"                                                        # STEP 40
os0.remove(path1)                                                       # STEP 41
str4 += 'y'                                                             # STEP 42
fd0 = os0.open(path2, os.O_CREAT | os.O_WRONLY | os.O_TRUNC)            # STEP 43
str4 += 'e'                                                             # STEP 44
result = os0.path.dirname(path1)                                        # STEP 45
os0.rename(path1,path2)                                                 # STEP 46
os0.rmdir(path1)                                                        # STEP 47
os0.write(fd0,str4)                                                     # STEP 48
os0.makedirs(path2)                                                     # STEP 49
os0.symlink(path2,path1)                                                # STEP 50
result = os0.read(fd0,bytes1)                                           # STEP 51
bytes1 += 1                                                             # STEP 52
component1 = "a"                                                        # STEP 53
os0.symlink(path1,path1)                                                # STEP 54
os0.link(path1,path1)                                                   # STEP 55
file0.seek(bytes3)                                                      # STEP 56
path1 += "/" + component2                                               # STEP 57
path2 += "/" + component0                                               # STEP 58
str4 += 'o'                                                             # STEP 59
stat4 = os0.fstat(fd0)                                                  # STEP 60
os0.link(path1,path1)                                                   # STEP 61
stat3 = os0.fstat(fd0)                                                  # STEP 62
result = os0.path.isabs(path4)                                          # STEP 63
os0.symlink(path1,path1)                                                # STEP 64
result = os0.path.isabs(path1)                                          # STEP 65
path4 = "/Volumes/ramdisk/test"                                         # STEP 66
stat0 = os0.stat(path1)                                                 # STEP 67
component0 = "alpha"                                                    # STEP 68
str4 += 'l'                                                             # STEP 69
component2 = "omega"                                                    # STEP 70
path1 += "/" + component0                                               # STEP 71
str0 = ""                                                               # STEP 72
os0.link(path1,path4)                                                   # STEP 73
os0.remove(path2)                                                       # STEP 74
result = sorted(os0.listdir(path4))                                     # STEP 75
str4 += 'z'                                                             # STEP 76
component0 = "g"                                                        # STEP 77
str4 += 'b'                                                             # STEP 78
os0.symlink(path1,path1)                                                # STEP 79
str4 += 'm'                                                             # STEP 80
str0 += 'i'                                                             # STEP 81
result = os0.path.exists(path1)                                         # STEP 82
result = file0.readlines()                                              # STEP 83
os0.rename(path1,path2)                                                 # STEP 84
result = stat1.st_size                                                  # STEP 85
result = os0.path.isabs(path2)                                          # STEP 86
path4 += "/" + component0                                               # STEP 87
path1 = "/Volumes/ramdisk/test"                                         # STEP 88
stat0 = os0.lstat(path2)                                                # STEP 89
str0 += 't'                                                             # STEP 90
str0 += 'x'                                                             # STEP 91
result = os0.path.exists(path1)                                         # STEP 92
os0.removedirs(path4)                                                   # STEP 93
str4 += 'x'                                                             # STEP 94
result = os0.readlink(path4)                                            # STEP 95
stat2 = os0.lstat(path4)                                                # STEP 96
os0.removedirs(path1)                                                   # STEP 97
file0.flush()                                                           # STEP 98
path4 += "/" + component4                                               # STEP 99
bytes2 = 0                                                             # STEP 100
path4 += "/" + component0                                              # STEP 101
component0 = "epsilon"                                                 # STEP 102
str0 += " "                                                            # STEP 103
result = os0.read(fd0,bytes1)                                          # STEP 104
result = os0.path.isfile(path1)                                        # STEP 105
str4 += 'o'                                                            # STEP 106
stat1 = os0.fstat(fd0)                                                 # STEP 107
str0 += 'a'                                                            # STEP 108
path2 += "/" + component2                                              # STEP 109
component2 = "alpha"                                                   # STEP 110
file0.write(str0)                                                      # STEP 111
result = os0.read(fd0,bytes3)                                          # STEP 112
bytes0 = 0                                                             # STEP 113
component4 = "h"                                                       # STEP 114
file0.write(str4)                                                      # STEP 115
str0 += 'y'                                                            # STEP 116
path3 = "/Volumes/ramdisk/test"                                        # STEP 117
result = os0.path.isabs(path4)                                         # STEP 118
stat2 = os0.lstat(path2)                                               # STEP 119
path3 += "/" + component2                                              # STEP 120
path2 += "/" + component0                                              # STEP 121
os0.write(fd0,str4)                                                    # STEP 122
result = stat4.st_nlink                                                # STEP 123
result = os0.path.exists(path1)                                        # STEP 124
os0.symlink(path2,path1)                                               # STEP 125
stat4 = os0.stat(path4)                                                # STEP 126
stat0 = os0.lstat(path4)                                               # STEP 127
os0.symlink(path2,path1)                                               # STEP 128
path3 += "/" + component0                                              # STEP 129
stat2 = os0.stat(path3)                                                # STEP 130
os0.makedirs(path3)                                                    # STEP 131
result = stat3.st_size                                                 # STEP 132
stat2 = os0.lstat(path3)                                               # STEP 133
str4 += 'x'                                                            # STEP 134
str0 += 'e'                                                            # STEP 135
component0 = "b"                                                       # STEP 136
os0.rename(path4,path1)                                                # STEP 137
os0.link(path2,path4)                                                  # STEP 138
os0.link(path1,path1)                                                  # STEP 139
str4 += 'i'                                                            # STEP 140
os0.write(fd0,str4)                                                    # STEP 141
result = sorted(os0.listdir(path2))                                    # STEP 142
str4 += " "                                                            # STEP 143
str4 += 'h'                                                            # STEP 144
result = os0.path.exists(path4)                                        # STEP 145
str0 += 'j'                                                            # STEP 146
result = os0.readlink(path1)                                           # STEP 147
result = os0.path.abspath(path2)                                       # STEP 148
result = sorted(os0.listdir(path3))                                    # STEP 149
os0.symlink(path2,path3)                                               # STEP 150
str0 += 'g'                                                            # STEP 151
path1 += "/" + component4                                              # STEP 152
str4 += 'k'                                                            # STEP 153
path3 = "/Volumes/ramdisk/test"                                        # STEP 154
component4 = "delta"                                                   # STEP 155
os0.write(fd0,str0)                                                    # STEP 156
result = file0.read(bytes2)                                            # STEP 157
result = os0.path.isfile(path2)                                        # STEP 158
str4 += 'i'                                                            # STEP 159
result = os0.path.isfile(path1)                                        # STEP 160
str0 += 'd'                                                            # STEP 161
path4 += "/" + component0                                              # STEP 162
result = os0.path.abspath(path2)                                       # STEP 163
result = file0.readline(bytes3)                                        # STEP 164
result = stat1.st_size                                                 # STEP 165
ERROR: (<type 'exceptions.AssertionError'>, AssertionError(' (0) == (16) ',), <traceback object at 0x10488ddd0>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 21826, in act458
    try: assert result == result_REF, " (%s) == (%s) " % (result, result_REF)
FAILURE IS NEW, STORING; NOW 2 DISTINCT FAILURES
TEST #113 STEP #0 (0:00:30.055975) Sat Jul 22 03:33:18 2017 [ 902 stmts 1174 branches ] 11110 TOTAL ACTIONS (369.643640396/s)
UNCAUGHT EXCEPTION
ERROR: (<type 'exceptions.AssertionError'>, AssertionError(' (0) == (16) ',), <traceback object at 0x10aad94d0>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 21826, in act458
    try: assert result == result_REF, " (%s) == (%s) " % (result, result_REF)
Original test has 148 steps

SAVING TEST AS failure.5030.test.2
FINAL VERSION OF TEST, WITH LOGGED REPLAY:
component4 = "g"                                                         # STEP 0
component0 = "alpha"                                                     # STEP 1
component2 = "f"                                                         # STEP 2
component1 = "beta"                                                      # STEP 3
component3 = "gamma"                                                     # STEP 4
bytes1 = 0                                                               # STEP 5
str4 = ""                                                                # STEP 6
str4 += 'r'                                                              # STEP 7
str4 += 'u'                                                              # STEP 8
str4 += 'p'                                                              # STEP 9
str4 += " "                                                             # STEP 10
str4 += 's'                                                             # STEP 11
path2 = "/Volumes/ramdisk/test"                                         # STEP 12
str4 += 'w'                                                             # STEP 13
str4 += 'q'                                                             # STEP 14
str4 += 'd'                                                             # STEP 15
str4 += 'y'                                                             # STEP 16
str4 += 'l'                                                             # STEP 17
os0 = newFakeOS()                                                       # STEP 18
str4 += 'x'                                                             # STEP 19
str4 += 'w'                                                             # STEP 20
result = os0.path.dirname(path2)                                        # STEP 21
bytes3 = 0                                                              # STEP 22
str4 += " "                                                             # STEP 23
opener0 = newFakeOpener(os0)                                            # STEP 24
path2 += "/" + component1                                               # STEP 25
path4 = "/Volumes/ramdisk/test"                                         # STEP 26
component1 = "alpha"                                                    # STEP 27
file0 = opener0(path2,'w')                                              # STEP 28
stat1 = os0.lstat(path2)                                                # STEP 29
os0.symlink(path2,path2)                                                # STEP 30
fd0 = os0.open(path2, os.O_CREAT | os.O_EXCL)                           # STEP 31
str4 += 'z'                                                             # STEP 32
result = os0.path.abspath(path4)                                        # STEP 33
path1 = "/Volumes/ramdisk/test"                                         # STEP 34
result = os0.path.abspath(path2)                                        # STEP 35
path4 += "/" + component1                                               # STEP 36
path4 += "/" + component3                                               # STEP 37
path1 += "/" + component3                                               # STEP 38
fd0 = os0.open(path4, os.O_CREAT | os.O_WRONLY | os.O_TRUNC)            # STEP 39
component3 = "b"                                                        # STEP 40
os0.remove(path1)                                                       # STEP 41
str4 += 'y'                                                             # STEP 42
fd0 = os0.open(path2, os.O_CREAT | os.O_WRONLY | os.O_TRUNC)            # STEP 43
str4 += 'e'                                                             # STEP 44
result = os0.path.dirname(path1)                                        # STEP 45
os0.rename(path1,path2)                                                 # STEP 46
os0.rmdir(path1)                                                        # STEP 47
os0.write(fd0,str4)                                                     # STEP 48
os0.makedirs(path2)                                                     # STEP 49
os0.symlink(path2,path1)                                                # STEP 50
result = os0.read(fd0,bytes1)                                           # STEP 51
bytes1 += 1                                                             # STEP 52
component1 = "a"                                                        # STEP 53
os0.symlink(path1,path1)                                                # STEP 54
os0.link(path1,path1)                                                   # STEP 55
file0.seek(bytes3)                                                      # STEP 56
path1 += "/" + component2                                               # STEP 57
path2 += "/" + component0                                               # STEP 58
str4 += 'o'                                                             # STEP 59
str4 += 'l'                                                             # STEP 60
os0.link(path1,path1)                                                   # STEP 61
stat3 = os0.fstat(fd0)                                                  # STEP 62
result = os0.path.isabs(path4)                                          # STEP 63
os0.symlink(path1,path1)                                                # STEP 64
result = os0.path.isabs(path1)                                          # STEP 65
path4 = "/Volumes/ramdisk/test"                                         # STEP 66
component0 = "alpha"                                                    # STEP 67
str4 += 'l'                                                             # STEP 68
component2 = "omega"                                                    # STEP 69
path1 += "/" + component0                                               # STEP 70
str0 = ""                                                               # STEP 71
os0.link(path1,path4)                                                   # STEP 72
os0.remove(path2)                                                       # STEP 73
result = sorted(os0.listdir(path4))                                     # STEP 74
str4 += 'z'                                                             # STEP 75
component0 = "g"                                                        # STEP 76
str4 += 'b'                                                             # STEP 77
os0.symlink(path1,path1)                                                # STEP 78
str4 += 'm'                                                             # STEP 79
str0 += 'i'                                                             # STEP 80
result = os0.path.exists(path1)                                         # STEP 81
result = file0.readlines()                                              # STEP 82
os0.rename(path1,path2)                                                 # STEP 83
result = stat1.st_size                                                  # STEP 84
result = os0.path.isabs(path2)                                          # STEP 85
path4 += "/" + component0                                               # STEP 86
path1 = "/Volumes/ramdisk/test"                                         # STEP 87
stat0 = os0.lstat(path2)                                                # STEP 88
str0 += 't'                                                             # STEP 89
str0 += 'x'                                                             # STEP 90
result = os0.path.exists(path1)                                         # STEP 91
os0.removedirs(path4)                                                   # STEP 92
str4 += 'x'                                                             # STEP 93
result = os0.readlink(path4)                                            # STEP 94
stat2 = os0.lstat(path4)                                                # STEP 95
os0.removedirs(path1)                                                   # STEP 96
file0.flush()                                                           # STEP 97
path4 += "/" + component4                                               # STEP 98
bytes2 = 0                                                              # STEP 99
path4 += "/" + component0                                              # STEP 100
component0 = "epsilon"                                                 # STEP 101
str0 += " "                                                            # STEP 102
result = os0.read(fd0,bytes1)                                          # STEP 103
result = os0.path.isfile(path1)                                        # STEP 104
str4 += 'o'                                                            # STEP 105
stat1 = os0.fstat(fd0)                                                 # STEP 106
str0 += 'a'                                                            # STEP 107
path2 += "/" + component2                                              # STEP 108
component2 = "alpha"                                                   # STEP 109
stat4 = os0.lstat(path4)                                               # STEP 110
file0.write(str0)                                                      # STEP 111
result = os0.read(fd0,bytes3)                                          # STEP 112
bytes0 = 0                                                             # STEP 113
component4 = "h"                                                       # STEP 114
file0.write(str4)                                                      # STEP 115
str0 += 'y'                                                            # STEP 116
path3 = "/Volumes/ramdisk/test"                                        # STEP 117
result = os0.path.isabs(path4)                                         # STEP 118
stat2 = os0.lstat(path2)                                               # STEP 119
path3 += "/" + component2                                              # STEP 120
path2 += "/" + component0                                              # STEP 121
os0.write(fd0,str4)                                                    # STEP 122
os0.rename(path4,path3)                                                # STEP 123
path1 += "/" + component3                                              # STEP 124
result = os0.path.islink(path4)                                        # STEP 125
result = os0.path.abspath(path4)                                       # STEP 126
result = os0.readlink(path4)                                           # STEP 127
str1 = ""                                                              # STEP 128
result = os0.path.lexists(path1)                                       # STEP 129
str0 += 'j'                                                            # STEP 130
result = os0.path.abspath(path3)                                       # STEP 131
stat0 = os0.stat(path2)                                                # STEP 132
component0 = "a"                                                       # STEP 133
result = os0.path.exists(path1)                                        # STEP 134
os0.rename(path3,path1)                                                # STEP 135
result = os0.path.lexists(path2)                                       # STEP 136
str1 += 'k'                                                            # STEP 137
path2 += "/" + component2                                              # STEP 138
os0.path.getsize(path4)                                                # STEP 139
os0.symlink(path2,path3)                                               # STEP 140
result = os0.path.isfile(path1)                                        # STEP 141
str4 += 'v'                                                            # STEP 142
result = os0.path.isdir(path3)                                         # STEP 143
path1 += "/" + component3                                              # STEP 144
str4 += 'p'                                                            # STEP 145
str1 += 'l'                                                            # STEP 146
result = stat1.st_size                                                 # STEP 147
ERROR: (<type 'exceptions.AssertionError'>, AssertionError(' (0) == (16) ',), <traceback object at 0x1048b97e8>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 21826, in act458
    try: assert result == result_REF, " (%s) == (%s) " % (result, result_REF)
FAILURE IS NEW, STORING; NOW 3 DISTINCT FAILURES
STOPPING TEST DUE TO TIMEOUT, TERMINATED AT LENGTH 224
STOPPING TESTING DUE TO TIMEOUT
42.8836863619 PERCENT COVERED
60.6461350918 TOTAL RUNTIME
201 EXECUTED
19835 TOTAL TEST OPERATIONS
29.6750006676 TIME SPENT EXECUTING TEST OPERATIONS
0.720045089722 TIME SPENT EVALUATING GUARDS AND CHOOSING ACTIONS
0.0138072967529 TIME SPENT CHECKING PROPERTIES
29.6888079643 TOTAL TIME SPENT RUNNING SUT
0.615129709244 TIME SPENT RESTARTING
0.0 TIME SPENT REDUCING TEST CASES
3 FAILED
0 REPEATS OF FAILURES
3 ACTUAL DISTINCT FAILURES

FAILURE 0
component1 = "alpha"                                                     # STEP 0
component2 = "f"                                                         # STEP 1
component0 = "beta"                                                      # STEP 2
component3 = "g"                                                         # STEP 3
component4 = "gamma"                                                     # STEP 4
bytes3 = 0                                                               # STEP 5
bytes3 += 1                                                              # STEP 6
str0 = ""                                                                # STEP 7
str0 += 'o'                                                              # STEP 8
str0 += 'k'                                                              # STEP 9
str1 = ""                                                               # STEP 10
str0 += 'v'                                                             # STEP 11
str1 += 'o'                                                             # STEP 12
str1 += 't'                                                             # STEP 13
str1 += 'z'                                                             # STEP 14
str1 += 'n'                                                             # STEP 15
str0 = ""                                                               # STEP 16
str0 += 'a'                                                             # STEP 17
bytes0 = 0                                                              # STEP 18
str1 += 't'                                                             # STEP 19
str1 += 'w'                                                             # STEP 20
str1 += 'p'                                                             # STEP 21
str1 += 'g'                                                             # STEP 22
str0 += 'k'                                                             # STEP 23
str1 += 'u'                                                             # STEP 24
str1 += 'n'                                                             # STEP 25
str1 += 'y'                                                             # STEP 26
str0 += 'o'                                                             # STEP 27
str0 += 'i'                                                             # STEP 28
str0 += 'a'                                                             # STEP 29
str1 += 'r'                                                             # STEP 30
path3 = "/Volumes/ramdisk/test"                                         # STEP 31
str1 += 'o'                                                             # STEP 32
str1 += 'n'                                                             # STEP 33
str0 += 'r'                                                             # STEP 34
str0 += 'd'                                                             # STEP 35
str0 += 'g'                                                             # STEP 36
str1 += 'f'                                                             # STEP 37
str0 += 'u'                                                             # STEP 38
str0 = ""                                                               # STEP 39
os0 = newFakeOS()                                                       # STEP 40
str3 = ""                                                               # STEP 41
str0 += 'd'                                                             # STEP 42
str1 += 'm'                                                             # STEP 43
str3 += 'b'                                                             # STEP 44
str2 = ""                                                               # STEP 45
str2 += 'f'                                                             # STEP 46
str1 += 'a'                                                             # STEP 47
str3 += 'o'                                                             # STEP 48
os0.remove(path3)                                                       # STEP 49
str2 += 't'                                                             # STEP 50
str1 += 'r'                                                             # STEP 51
str2 += 'p'                                                             # STEP 52
str1 += 'w'                                                             # STEP 53
str1 = ""                                                               # STEP 54
str2 += 'k'                                                             # STEP 55
str2 += 'b'                                                             # STEP 56
str3 += 'k'                                                             # STEP 57
str2 += 'r'                                                             # STEP 58
opener0 = newFakeOpener(os0)                                            # STEP 59
bytes3 = 0                                                              # STEP 60
str1 += 'w'                                                             # STEP 61
str0 += 'j'                                                             # STEP 62
str0 += 'c'                                                             # STEP 63
result = os0.path.isfile(path3)                                         # STEP 64
str3 += 'u'                                                             # STEP 65
str3 += 'b'                                                             # STEP 66
bytes1 = 0                                                              # STEP 67
str2 += 'o'                                                             # STEP 68
result = os0.path.isabs(path3)                                          # STEP 69
str0 += 'a'                                                             # STEP 70
str3 += 'k'                                                             # STEP 71
str0 += 'i'                                                             # STEP 72
path1 = "/Volumes/ramdisk/test"                                         # STEP 73
file0 = opener0(path1,'r')                                              # STEP 74
str2 += 'e'                                                             # STEP 75
str0 += 'h'                                                             # STEP 76
os0.remove(path1)                                                       # STEP 77
str3 += 'j'                                                             # STEP 78
str1 += 'f'                                                             # STEP 79
str2 += 'g'                                                             # STEP 80
result = os0.path.isfile(path3)                                         # STEP 81
str2 += 's'                                                             # STEP 82
str1 += 'f'                                                             # STEP 83
str3 += 'r'                                                             # STEP 84
str1 += 'n'                                                             # STEP 85
path3 += "/" + component0                                               # STEP 86
fd0 = os0.open(path3, os.O_CREAT)                                       # STEP 87
str0 += 'v'                                                             # STEP 88
bytes3 += 1                                                             # STEP 89
stat1 = os0.fstat(fd0)                                                  # STEP 90
str2 += 'n'                                                             # STEP 91
result = os0.path.abspath(path1)                                        # STEP 92
str3 += 'r'                                                             # STEP 93
os0.symlink(path1,path1)                                                # STEP 94
str2 += 'x'                                                             # STEP 95
result = os0.path.lexists(path3)                                        # STEP 96
result = os0.path.lexists(path3)                                        # STEP 97
result = os0.path.exists(path1)                                         # STEP 98
str3 += " "                                                             # STEP 99
str3 += 'n'                                                            # STEP 100
str0 += 'k'                                                            # STEP 101
stat3 = os0.stat(path3)                                                # STEP 102
path4 = "/Volumes/ramdisk/test"                                        # STEP 103
str2 += 'c'                                                            # STEP 104
file0 = opener0(path4,'r')                                             # STEP 105
str1 += 'd'                                                            # STEP 106
path4 += "/" + component3                                              # STEP 107
result = os0.read(fd0,bytes0)                                          # STEP 108
str1 += 'n'                                                            # STEP 109
stat2 = os0.stat(path3)                                                # STEP 110
stat4 = os0.fstat(fd0)                                                 # STEP 111
str1 += 'p'                                                            # STEP 112
component0 = "c"                                                       # STEP 113
result = sorted(os0.listdir(path3))                                    # STEP 114
component3 = "d"                                                       # STEP 115
os0.mkdir(path1)                                                       # STEP 116
str0 += 'f'                                                            # STEP 117
str1 += 'i'                                                            # STEP 118
result = os0.path.abspath(path4)                                       # STEP 119
str3 += 'x'                                                            # STEP 120
str3 += 'k'                                                            # STEP 121
str1 += 's'                                                            # STEP 122
os0.close(fd0)                                                         # STEP 123
str0 += 'x'                                                            # STEP 124
os0.rmdir(path3)                                                       # STEP 125
result = os0.path.abspath(path4)                                       # STEP 126
str1 += 'd'                                                            # STEP 127
str1 += 'c'                                                            # STEP 128
result = os0.path.lexists(path1)                                       # STEP 129
path0 = "/Volumes/ramdisk/test"                                        # STEP 130
result = os0.path.lexists(path3)                                       # STEP 131
file0 = opener0(path1)                                                 # STEP 132
str2 += 'm'                                                            # STEP 133
str1 += 'j'                                                            # STEP 134
file0 = opener0(path0)                                                 # STEP 135
path4 += "/" + component0                                              # STEP 136
str2 += 'c'                                                            # STEP 137
str3 += 'v'                                                            # STEP 138
stat0 = os0.lstat(path3)                                               # STEP 139
component0 = "g"                                                       # STEP 140
file0 = opener0(path0,'r')                                             # STEP 141
str1 += 'f'                                                            # STEP 142
os0.symlink(path1,path3)                                               # STEP 143
os0.makedirs(path4)                                                    # STEP 144
result = stat3.st_size                                                 # STEP 145
str2 += 'v'                                                            # STEP 146
os0.close(fd0)                                                         # STEP 147
path1 += "/" + component4                                              # STEP 148
str1 += 'o'                                                            # STEP 149
path2 = "/Volumes/ramdisk/test"                                        # STEP 150
str3 += 'a'                                                            # STEP 151
path3 += "/" + component1                                              # STEP 152
os0.remove(path2)                                                      # STEP 153
str2 += 'j'                                                            # STEP 154
str2 += 'c'                                                            # STEP 155
fd0 = os0.open(path3, os.O_CREAT | os.O_WRONLY | os.O_EXCL)            # STEP 156
bytes1 += 1                                                            # STEP 157
os0.symlink(path1,path1)                                               # STEP 158
os0.rmdir(path3)                                                       # STEP 159
os0.link(path3,path4)                                                  # STEP 160
file0 = opener0(path3,'r')                                             # STEP 161
str1 += 'b'                                                            # STEP 162
path1 += "/" + component3                                              # STEP 163
os0.mkdir(path0)                                                       # STEP 164
component1 = "beta"                                                    # STEP 165
result = os0.path.dirname(path2)                                       # STEP 166
component4 = "e"                                                       # STEP 167
str0 += 'w'                                                            # STEP 168
os0.removedirs(path4)                                                  # STEP 169
path0 += "/" + component2                                              # STEP 170
str2 += 'k'                                                            # STEP 171
os0.remove(path2)                                                      # STEP 172
path2 += "/" + component4                                              # STEP 173
str3 += 'i'                                                            # STEP 174
result = stat4.st_size                                                 # STEP 175
file0 = opener0(path2,'a')                                             # STEP 176
str1 += 'e'                                                            # STEP 177
component4 = "f"                                                       # STEP 178
path2 += "/" + component1                                              # STEP 179
str0 += 's'                                                            # STEP 180
os0.link(path4,path4)                                                  # STEP 181
bytes2 = 0                                                             # STEP 182
str2 += 'a'                                                            # STEP 183
component2 = "g"                                                       # STEP 184
os0.path.getsize(path2)                                                # STEP 185
path2 += "/" + component2                                              # STEP 186
str0 += 's'                                                            # STEP 187
path3 = "/Volumes/ramdisk/test"                                        # STEP 188
str3 += 's'                                                            # STEP 189
os0.link(path1,path4)                                                  # STEP 190
file0.flush()                                                          # STEP 191
component3 = "omega"                                                   # STEP 192
result = stat2.st_nlink                                                # STEP 193
component1 = "g"                                                       # STEP 194
path4 += "/" + component4                                              # STEP 195
str3 += 'u'                                                            # STEP 196
file0.truncate()                                                       # STEP 197
result = stat2.st_nlink                                                # STEP 198
str2 += 't'                                                            # STEP 199
str0 += 's'                                                            # STEP 200
str3 = ""                                                              # STEP 201
result = os0.path.abspath(path2)                                       # STEP 202
component2 = "phi"                                                     # STEP 203
os0.mkdir(path3)                                                       # STEP 204
path4 += "/" + component1                                              # STEP 205
result = os0.readlink(path4)                                           # STEP 206
os0.rename(path2,path1)                                                # STEP 207
result = stat2.st_nlink                                                # STEP 208
path1 += "/" + component1                                              # STEP 209
path0 += "/" + component0                                              # STEP 210
result = os0.path.islink(path2)                                        # STEP 211
str2 += 'w'                                                            # STEP 212
component1 = "b"                                                       # STEP 213
str2 += 't'                                                            # STEP 214
result = os0.path.dirname(path0)                                       # STEP 215
str3 += 'q'                                                            # STEP 216
stat3 = os0.lstat(path2)                                               # STEP 217
result = os0.readlink(path4)                                           # STEP 218
result = stat3.st_size                                                 # STEP 219
os0.rename(path2,path4)                                                # STEP 220
os0.symlink(path0,path2)                                               # STEP 221
os0.symlink(path3,path0)                                               # STEP 222
str3 += 'z'                                                            # STEP 223
str2 += 'x'                                                            # STEP 224
str0 += 'm'                                                            # STEP 225
component4 = "h"                                                       # STEP 226
os0.rename(path4,path0)                                                # STEP 227
os0.write(fd0,str2)                                                    # STEP 228
result = os0.path.lexists(path0)                                       # STEP 229
component0 = "phi"                                                     # STEP 230
bytes1 += 1                                                            # STEP 231
path0 += "/" + component2                                              # STEP 232
os0.remove(path3)                                                      # STEP 233
os0.symlink(path4,path4)                                               # STEP 234
os0.rename(path4,path0)                                                # STEP 235
result = file0.read(bytes0)                                            # STEP 236
ERROR: (<type 'exceptions.OSError'>, OSError(9, 'File is not open for reading.'), <traceback object at 0x10876f9e0>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 28348, in act564
    result = self.p_file[0].read(self.p_bytes[0])
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4284, in read_error
    self._raise('File is not open for reading.')
  File "/Users/alex/tstl/examples/pyfakefs/pyfakefs/fake_filesystem.py", line 4112, in _raise
    raise OSError(errno.EBADF, message)
FAILURE 1
component4 = "g"                                                         # STEP 0
component0 = "alpha"                                                     # STEP 1
component2 = "f"                                                         # STEP 2
component1 = "beta"                                                      # STEP 3
component3 = "gamma"                                                     # STEP 4
bytes1 = 0                                                               # STEP 5
str4 = ""                                                                # STEP 6
str4 += 'r'                                                              # STEP 7
str4 += 'u'                                                              # STEP 8
str4 += 'p'                                                              # STEP 9
str4 += " "                                                             # STEP 10
str4 += 's'                                                             # STEP 11
path2 = "/Volumes/ramdisk/test"                                         # STEP 12
str4 += 'w'                                                             # STEP 13
str4 += 'q'                                                             # STEP 14
str4 += 'd'                                                             # STEP 15
str4 += 'y'                                                             # STEP 16
str4 += 'l'                                                             # STEP 17
os0 = newFakeOS()                                                       # STEP 18
str4 += 'x'                                                             # STEP 19
str4 += 'w'                                                             # STEP 20
result = os0.path.dirname(path2)                                        # STEP 21
bytes3 = 0                                                              # STEP 22
str4 += " "                                                             # STEP 23
opener0 = newFakeOpener(os0)                                            # STEP 24
path2 += "/" + component1                                               # STEP 25
path4 = "/Volumes/ramdisk/test"                                         # STEP 26
component1 = "alpha"                                                    # STEP 27
file0 = opener0(path2,'w')                                              # STEP 28
stat1 = os0.lstat(path2)                                                # STEP 29
os0.symlink(path2,path2)                                                # STEP 30
fd0 = os0.open(path2, os.O_CREAT | os.O_EXCL)                           # STEP 31
str4 += 'z'                                                             # STEP 32
result = os0.path.abspath(path4)                                        # STEP 33
path1 = "/Volumes/ramdisk/test"                                         # STEP 34
result = os0.path.abspath(path2)                                        # STEP 35
path4 += "/" + component1                                               # STEP 36
path4 += "/" + component3                                               # STEP 37
path1 += "/" + component3                                               # STEP 38
fd0 = os0.open(path4, os.O_CREAT | os.O_WRONLY | os.O_TRUNC)            # STEP 39
component3 = "b"                                                        # STEP 40
os0.remove(path1)                                                       # STEP 41
str4 += 'y'                                                             # STEP 42
fd0 = os0.open(path2, os.O_CREAT | os.O_WRONLY | os.O_TRUNC)            # STEP 43
str4 += 'e'                                                             # STEP 44
result = os0.path.dirname(path1)                                        # STEP 45
os0.rename(path1,path2)                                                 # STEP 46
os0.rmdir(path1)                                                        # STEP 47
os0.write(fd0,str4)                                                     # STEP 48
os0.makedirs(path2)                                                     # STEP 49
os0.symlink(path2,path1)                                                # STEP 50
result = os0.read(fd0,bytes1)                                           # STEP 51
bytes1 += 1                                                             # STEP 52
component1 = "a"                                                        # STEP 53
os0.symlink(path1,path1)                                                # STEP 54
os0.link(path1,path1)                                                   # STEP 55
file0.seek(bytes3)                                                      # STEP 56
path1 += "/" + component2                                               # STEP 57
path2 += "/" + component0                                               # STEP 58
str4 += 'o'                                                             # STEP 59
stat4 = os0.fstat(fd0)                                                  # STEP 60
os0.link(path1,path1)                                                   # STEP 61
stat3 = os0.fstat(fd0)                                                  # STEP 62
result = os0.path.isabs(path4)                                          # STEP 63
os0.symlink(path1,path1)                                                # STEP 64
result = os0.path.isabs(path1)                                          # STEP 65
path4 = "/Volumes/ramdisk/test"                                         # STEP 66
stat0 = os0.stat(path1)                                                 # STEP 67
component0 = "alpha"                                                    # STEP 68
str4 += 'l'                                                             # STEP 69
component2 = "omega"                                                    # STEP 70
path1 += "/" + component0                                               # STEP 71
str0 = ""                                                               # STEP 72
os0.link(path1,path4)                                                   # STEP 73
os0.remove(path2)                                                       # STEP 74
result = sorted(os0.listdir(path4))                                     # STEP 75
str4 += 'z'                                                             # STEP 76
component0 = "g"                                                        # STEP 77
str4 += 'b'                                                             # STEP 78
os0.symlink(path1,path1)                                                # STEP 79
str4 += 'm'                                                             # STEP 80
str0 += 'i'                                                             # STEP 81
result = os0.path.exists(path1)                                         # STEP 82
result = file0.readlines()                                              # STEP 83
os0.rename(path1,path2)                                                 # STEP 84
result = stat1.st_size                                                  # STEP 85
result = os0.path.isabs(path2)                                          # STEP 86
path4 += "/" + component0                                               # STEP 87
path1 = "/Volumes/ramdisk/test"                                         # STEP 88
stat0 = os0.lstat(path2)                                                # STEP 89
str0 += 't'                                                             # STEP 90
str0 += 'x'                                                             # STEP 91
result = os0.path.exists(path1)                                         # STEP 92
os0.removedirs(path4)                                                   # STEP 93
str4 += 'x'                                                             # STEP 94
result = os0.readlink(path4)                                            # STEP 95
stat2 = os0.lstat(path4)                                                # STEP 96
os0.removedirs(path1)                                                   # STEP 97
file0.flush()                                                           # STEP 98
path4 += "/" + component4                                               # STEP 99
bytes2 = 0                                                             # STEP 100
path4 += "/" + component0                                              # STEP 101
component0 = "epsilon"                                                 # STEP 102
str0 += " "                                                            # STEP 103
result = os0.read(fd0,bytes1)                                          # STEP 104
result = os0.path.isfile(path1)                                        # STEP 105
str4 += 'o'                                                            # STEP 106
stat1 = os0.fstat(fd0)                                                 # STEP 107
str0 += 'a'                                                            # STEP 108
path2 += "/" + component2                                              # STEP 109
component2 = "alpha"                                                   # STEP 110
file0.write(str0)                                                      # STEP 111
result = os0.read(fd0,bytes3)                                          # STEP 112
bytes0 = 0                                                             # STEP 113
component4 = "h"                                                       # STEP 114
file0.write(str4)                                                      # STEP 115
str0 += 'y'                                                            # STEP 116
path3 = "/Volumes/ramdisk/test"                                        # STEP 117
result = os0.path.isabs(path4)                                         # STEP 118
stat2 = os0.lstat(path2)                                               # STEP 119
path3 += "/" + component2                                              # STEP 120
path2 += "/" + component0                                              # STEP 121
os0.write(fd0,str4)                                                    # STEP 122
result = stat4.st_nlink                                                # STEP 123
result = os0.path.exists(path1)                                        # STEP 124
os0.symlink(path2,path1)                                               # STEP 125
stat4 = os0.stat(path4)                                                # STEP 126
stat0 = os0.lstat(path4)                                               # STEP 127
os0.symlink(path2,path1)                                               # STEP 128
path3 += "/" + component0                                              # STEP 129
stat2 = os0.stat(path3)                                                # STEP 130
os0.makedirs(path3)                                                    # STEP 131
result = stat3.st_size                                                 # STEP 132
stat2 = os0.lstat(path3)                                               # STEP 133
str4 += 'x'                                                            # STEP 134
str0 += 'e'                                                            # STEP 135
component0 = "b"                                                       # STEP 136
os0.rename(path4,path1)                                                # STEP 137
os0.link(path2,path4)                                                  # STEP 138
os0.link(path1,path1)                                                  # STEP 139
str4 += 'i'                                                            # STEP 140
os0.write(fd0,str4)                                                    # STEP 141
result = sorted(os0.listdir(path2))                                    # STEP 142
str4 += " "                                                            # STEP 143
str4 += 'h'                                                            # STEP 144
result = os0.path.exists(path4)                                        # STEP 145
str0 += 'j'                                                            # STEP 146
result = os0.readlink(path1)                                           # STEP 147
result = os0.path.abspath(path2)                                       # STEP 148
result = sorted(os0.listdir(path3))                                    # STEP 149
os0.symlink(path2,path3)                                               # STEP 150
str0 += 'g'                                                            # STEP 151
path1 += "/" + component4                                              # STEP 152
str4 += 'k'                                                            # STEP 153
path3 = "/Volumes/ramdisk/test"                                        # STEP 154
component4 = "delta"                                                   # STEP 155
os0.write(fd0,str0)                                                    # STEP 156
result = file0.read(bytes2)                                            # STEP 157
result = os0.path.isfile(path2)                                        # STEP 158
str4 += 'i'                                                            # STEP 159
result = os0.path.isfile(path1)                                        # STEP 160
str0 += 'd'                                                            # STEP 161
path4 += "/" + component0                                              # STEP 162
result = os0.path.abspath(path2)                                       # STEP 163
result = file0.readline(bytes3)                                        # STEP 164
result = stat1.st_size                                                 # STEP 165
ERROR: (<type 'exceptions.AssertionError'>, AssertionError(' (0) == (16) ',), <traceback object at 0x10488ddd0>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 21826, in act458
    try: assert result == result_REF, " (%s) == (%s) " % (result, result_REF)
FAILURE 2
component4 = "g"                                                         # STEP 0
component0 = "alpha"                                                     # STEP 1
component2 = "f"                                                         # STEP 2
component1 = "beta"                                                      # STEP 3
component3 = "gamma"                                                     # STEP 4
bytes1 = 0                                                               # STEP 5
str4 = ""                                                                # STEP 6
str4 += 'r'                                                              # STEP 7
str4 += 'u'                                                              # STEP 8
str4 += 'p'                                                              # STEP 9
str4 += " "                                                             # STEP 10
str4 += 's'                                                             # STEP 11
path2 = "/Volumes/ramdisk/test"                                         # STEP 12
str4 += 'w'                                                             # STEP 13
str4 += 'q'                                                             # STEP 14
str4 += 'd'                                                             # STEP 15
str4 += 'y'                                                             # STEP 16
str4 += 'l'                                                             # STEP 17
os0 = newFakeOS()                                                       # STEP 18
str4 += 'x'                                                             # STEP 19
str4 += 'w'                                                             # STEP 20
result = os0.path.dirname(path2)                                        # STEP 21
bytes3 = 0                                                              # STEP 22
str4 += " "                                                             # STEP 23
opener0 = newFakeOpener(os0)                                            # STEP 24
path2 += "/" + component1                                               # STEP 25
path4 = "/Volumes/ramdisk/test"                                         # STEP 26
component1 = "alpha"                                                    # STEP 27
file0 = opener0(path2,'w')                                              # STEP 28
stat1 = os0.lstat(path2)                                                # STEP 29
os0.symlink(path2,path2)                                                # STEP 30
fd0 = os0.open(path2, os.O_CREAT | os.O_EXCL)                           # STEP 31
str4 += 'z'                                                             # STEP 32
result = os0.path.abspath(path4)                                        # STEP 33
path1 = "/Volumes/ramdisk/test"                                         # STEP 34
result = os0.path.abspath(path2)                                        # STEP 35
path4 += "/" + component1                                               # STEP 36
path4 += "/" + component3                                               # STEP 37
path1 += "/" + component3                                               # STEP 38
fd0 = os0.open(path4, os.O_CREAT | os.O_WRONLY | os.O_TRUNC)            # STEP 39
component3 = "b"                                                        # STEP 40
os0.remove(path1)                                                       # STEP 41
str4 += 'y'                                                             # STEP 42
fd0 = os0.open(path2, os.O_CREAT | os.O_WRONLY | os.O_TRUNC)            # STEP 43
str4 += 'e'                                                             # STEP 44
result = os0.path.dirname(path1)                                        # STEP 45
os0.rename(path1,path2)                                                 # STEP 46
os0.rmdir(path1)                                                        # STEP 47
os0.write(fd0,str4)                                                     # STEP 48
os0.makedirs(path2)                                                     # STEP 49
os0.symlink(path2,path1)                                                # STEP 50
result = os0.read(fd0,bytes1)                                           # STEP 51
bytes1 += 1                                                             # STEP 52
component1 = "a"                                                        # STEP 53
os0.symlink(path1,path1)                                                # STEP 54
os0.link(path1,path1)                                                   # STEP 55
file0.seek(bytes3)                                                      # STEP 56
path1 += "/" + component2                                               # STEP 57
path2 += "/" + component0                                               # STEP 58
str4 += 'o'                                                             # STEP 59
str4 += 'l'                                                             # STEP 60
os0.link(path1,path1)                                                   # STEP 61
stat3 = os0.fstat(fd0)                                                  # STEP 62
result = os0.path.isabs(path4)                                          # STEP 63
os0.symlink(path1,path1)                                                # STEP 64
result = os0.path.isabs(path1)                                          # STEP 65
path4 = "/Volumes/ramdisk/test"                                         # STEP 66
component0 = "alpha"                                                    # STEP 67
str4 += 'l'                                                             # STEP 68
component2 = "omega"                                                    # STEP 69
path1 += "/" + component0                                               # STEP 70
str0 = ""                                                               # STEP 71
os0.link(path1,path4)                                                   # STEP 72
os0.remove(path2)                                                       # STEP 73
result = sorted(os0.listdir(path4))                                     # STEP 74
str4 += 'z'                                                             # STEP 75
component0 = "g"                                                        # STEP 76
str4 += 'b'                                                             # STEP 77
os0.symlink(path1,path1)                                                # STEP 78
str4 += 'm'                                                             # STEP 79
str0 += 'i'                                                             # STEP 80
result = os0.path.exists(path1)                                         # STEP 81
result = file0.readlines()                                              # STEP 82
os0.rename(path1,path2)                                                 # STEP 83
result = stat1.st_size                                                  # STEP 84
result = os0.path.isabs(path2)                                          # STEP 85
path4 += "/" + component0                                               # STEP 86
path1 = "/Volumes/ramdisk/test"                                         # STEP 87
stat0 = os0.lstat(path2)                                                # STEP 88
str0 += 't'                                                             # STEP 89
str0 += 'x'                                                             # STEP 90
result = os0.path.exists(path1)                                         # STEP 91
os0.removedirs(path4)                                                   # STEP 92
str4 += 'x'                                                             # STEP 93
result = os0.readlink(path4)                                            # STEP 94
stat2 = os0.lstat(path4)                                                # STEP 95
os0.removedirs(path1)                                                   # STEP 96
file0.flush()                                                           # STEP 97
path4 += "/" + component4                                               # STEP 98
bytes2 = 0                                                              # STEP 99
path4 += "/" + component0                                              # STEP 100
component0 = "epsilon"                                                 # STEP 101
str0 += " "                                                            # STEP 102
result = os0.read(fd0,bytes1)                                          # STEP 103
result = os0.path.isfile(path1)                                        # STEP 104
str4 += 'o'                                                            # STEP 105
stat1 = os0.fstat(fd0)                                                 # STEP 106
str0 += 'a'                                                            # STEP 107
path2 += "/" + component2                                              # STEP 108
component2 = "alpha"                                                   # STEP 109
stat4 = os0.lstat(path4)                                               # STEP 110
file0.write(str0)                                                      # STEP 111
result = os0.read(fd0,bytes3)                                          # STEP 112
bytes0 = 0                                                             # STEP 113
component4 = "h"                                                       # STEP 114
file0.write(str4)                                                      # STEP 115
str0 += 'y'                                                            # STEP 116
path3 = "/Volumes/ramdisk/test"                                        # STEP 117
result = os0.path.isabs(path4)                                         # STEP 118
stat2 = os0.lstat(path2)                                               # STEP 119
path3 += "/" + component2                                              # STEP 120
path2 += "/" + component0                                              # STEP 121
os0.write(fd0,str4)                                                    # STEP 122
os0.rename(path4,path3)                                                # STEP 123
path1 += "/" + component3                                              # STEP 124
result = os0.path.islink(path4)                                        # STEP 125
result = os0.path.abspath(path4)                                       # STEP 126
result = os0.readlink(path4)                                           # STEP 127
str1 = ""                                                              # STEP 128
result = os0.path.lexists(path1)                                       # STEP 129
str0 += 'j'                                                            # STEP 130
result = os0.path.abspath(path3)                                       # STEP 131
stat0 = os0.stat(path2)                                                # STEP 132
component0 = "a"                                                       # STEP 133
result = os0.path.exists(path1)                                        # STEP 134
os0.rename(path3,path1)                                                # STEP 135
result = os0.path.lexists(path2)                                       # STEP 136
str1 += 'k'                                                            # STEP 137
path2 += "/" + component2                                              # STEP 138
os0.path.getsize(path4)                                                # STEP 139
os0.symlink(path2,path3)                                               # STEP 140
result = os0.path.isfile(path1)                                        # STEP 141
str4 += 'v'                                                            # STEP 142
result = os0.path.isdir(path3)                                         # STEP 143
path1 += "/" + component3                                              # STEP 144
str4 += 'p'                                                            # STEP 145
str1 += 'l'                                                            # STEP 146
result = stat1.st_size                                                 # STEP 147
ERROR: (<type 'exceptions.AssertionError'>, AssertionError(' (0) == (16) ',), <traceback object at 0x1048b97e8>)
TRACEBACK:
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 38007, in safely
    act[2]()
  File "/Users/alex/tstl/examples/pyfakefs/sut.py", line 21826, in act458
    try: assert result == result_REF, " (%s) == (%s) " % (result, result_REF)
1188 BRANCHES COVERED
911 STATEMENTS COVERED
